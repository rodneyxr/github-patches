[
  {
    "name": "NPE in QuestController",
    "url": "https://github.com/westnordost/StreetComplete/issues/282",
    "description": "Error report with stack trace that was sent to me.\r\n\r\nDevice: htc m7, Android 6.0.1\r\nThread: QuestControllerThread\r\nStack trace:\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027de.westnordost.osmapi.map.data.Element$Type de.westnordost.streetcomplete.data.osm.OsmQuest.getElementType()\u0027 on a null object reference\r\nat de.westnordost.streetcomplete.data.QuestController$3.run(QuestController.java:160)\r\nat android.os.Handler.handleCallback(Handler.java:739)\r\nat android.os.Handler.dispatchMessage(Handler.java:95)\r\nat android.os.Looper.loop(Looper.java:148)\r\nat android.os.HandlerThread.run(HandlerThread.java:61)",
    "keywords": [
      "handler",
      "os",
      "data",
      "westnordost",
      "android"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/15ba00b6fd83b4b793a6eeef7f24d1e93786e687",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java",
          "patch": "@@ -156,8 +156,13 @@ public void solveQuest(final long questId, final QuestGroup group, final Bundle\n \t\t{\n \t\t\tif (group \u003d\u003d QuestGroup.OSM)\n \t\t\t{\n+\t\t\t\t// race condition: another thread (i.e. quest download thread) may have removed the\n+\t\t\t\t// element already (#282). So in this case, just ignore\n \t\t\t\tOsmQuest q \u003d osmQuestDB.get(questId);\n+\t\t\t\tif(q \u003d\u003d null) return;\n \t\t\t\tElement e \u003d osmElementDB.get(q.getElementType(), q.getElementId());\n+\t\t\t\tif(e \u003d\u003d null) return;\n+\n \t\t\t\tStringMapChangesBuilder changesBuilder \u003d new StringMapChangesBuilder(e.getTags());\n \t\t\t\tq.getOsmElementQuestType().applyAnswerTo(answer, changesBuilder);\n \t\t\t\tStringMapChanges changes \u003d changesBuilder.create();"
        }
      ]
    }
  },
  {
    "name": "Crash when visualising results with tests in progress",
    "url": "https://github.com/TheTorProject/ooniprobe-android/issues/76",
    "description": "On Android emulator, architecture i386, API 24, with 124f32c570 as the tip, you can sometimes provoke a crash by following this procedure (it occurred to me twice, once with another emulator and I am trying to understand how to make this more easily reproducible):\r\n\r\n- run all tests concurrently\r\n- as soon as http-invalid-request-line terminates, go to results view\r\n\r\nWhen you\u0027re lucky (well, or unlucky, I guess that depends on your objective function), the app will crash like this:\r\n\r\n\r\n```\r\n03-20 16:00:49.860 2252-2252/org.openobservatory.ooniprobe E/AndroidRuntime: FATAL EXCEPTION: main\r\n Process: org.openobservatory.ooniprobe, PID: 2252\r\n java.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.lang.Boolean.booleanValue()\u0027 on a null object reference\r\n     at org.openobservatory.ooniprobe.data.TestStorage.loadTestsReverse(TestStorage.java:69)\r\n     at org.openobservatory.ooniprobe.fragment.PastTestsFragment.updateList(PastTestsFragment.java:94)\r\n     at org.openobservatory.ooniprobe.fragment.PastTestsFragment.onResume(PastTestsFragment.java:51)\r\n     at android.support.v4.app.Fragment.performResume(Fragment.java:2235)\r\n     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1346)\r\n     at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)\r\n     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)\r\n     at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:757)\r\n     at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2355)\r\n     at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2146)\r\n     at android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(FragmentManager.java:2098)\r\n     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2008)\r\n     at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:710)\r\n     at android.os.Handler.handleCallback(Handler.java:751)\r\n     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n     at android.os.Looper.loop(Looper.java:154)\r\n     at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```\r\n\r\nAlso, interestingly, this *does not* cause the measurement to be stopped with API 24.",
    "keywords": [
      "pasttestsfragment",
      "app",
      "handler",
      "method",
      "os",
      "org",
      "android",
      "support v4",
      "android support",
      "main",
      "run",
      "openobservatory",
      "app fragmentmanagerimpl",
      "crash",
      "fragment",
      "java",
      "v4 app",
      "lang",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "support",
      "ooniprobe",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/TheTorProject/ooniprobe-android/commit/9924ac6ef6426fc8047c463c9a4d5d5b48cd7035",
      "files": [
        {
          "file_name": "app/src/main/java/org/openobservatory/ooniprobe/model/NetworkMeasurement.java",
          "patch": "@@ -7,18 +7,18 @@\n import org.openobservatory.ooniprobe.R;\n \n public class NetworkMeasurement {\n-    public final String testName;\n+    public String testName \u003d \"\";\n     public boolean entry \u003d false;\n-    public final long test_id;\n+    public long test_id \u003d 0;\n     public int progress \u003d 0;\n \n     public final String json_file;\n     public final String log_file;\n-    public Boolean running;\n-    public Boolean viewed;\n-    public int anomaly;\n+    public boolean running \u003d false;\n+    public boolean viewed \u003d false;\n+    public int anomaly \u003d 0;\n \n-    public NetworkMeasurement(String name){\n+    public NetworkMeasurement(String name) {\n         this.testName \u003d name;\n         this.test_id \u003d System.currentTimeMillis();\n         this.log_file \u003d \"/test-\"+ test_id +\".log\";"
        }
      ]
    }
  },
  {
    "name": "App crashing when killed from tabs",
    "url": "https://github.com/tanguyantoine/react-native-music-control/issues/62",
    "description": "# Description\r\nWhen an app is killed from the from the background tabs, I get this issue.\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.tanguyantoine.react.MusicControlNotification.hide()\u0027 on a null object reference\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:3343)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat android.app.ActivityThread.-wrap21(ActivityThread.java)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1582)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:154)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6119)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n04-20 19:21:59.103  3394  3394 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n\r\n2. Platform ?\r\n   - [ ] iOS\r\n   - [x ] Android\r\n   \r\n   \r\n3. Device\r\n  - [x ] Simulator\r\n",
    "keywords": [
      "19:21:59",
      "app",
      "os",
      "method",
      "e",
      "app activitythread",
      "android",
      "androidruntime",
      "3394",
      "activitythread",
      "java",
      "103",
      "19:21:59 103",
      "3394 3394",
      "e androidruntime",
      "04-20",
      "]"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/tanguyantoine/react-native-music-control/commit/f7ed0195ca006aa2e81adadfd6c151e5de026f98",
      "files": [
        {
          "file_name": "android/src/main/java/com/tanguyantoine/react/MusicControlModule.java",
          "patch": "@@ -126,6 +126,8 @@ public void init() {\n     }\n \n     public void destroy() {\n+        if(!init) return;\n+        \n         notification.hide();\n         session.release();\n "
        }
      ]
    }
  },
  {
    "name": "OutOfMemoryError when choosing gallery photo in issue report",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/730",
    "description": "**Summary:** \r\n\r\nReported by HART, and via Android Developer Console:\r\n\r\n~~~\r\njava.lang.OutOfMemoryError: Failed to allocate a 63489036 byte allocation with 16777216 free bytes and 33MB until OOM\r\n\tat dalvik.system.VMRuntime.newNonMovableArray(Native Method)\r\n\tat android.graphics.BitmapFactory.nativeDecodeStream(Native Method)\r\n\tat android.graphics.BitmapFactory.decodeStreamInternal(BitmapFactory.java:882)\r\n\tat android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:858)\r\n\tat android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:478)\r\n\tat android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:516)\r\n\tat org.onebusaway.android.report.ui.Open311ProblemFragment.onActivityResult(Open311ProblemFragment.java:447)\r\n\tat android.support.v4.app.FragmentActivity.onActivityResult(FragmentActivity.java:175)\r\n\tat org.onebusaway.android.report.ui.BaseReportActivity.onActivityResult(BaseReportActivity.java:52)\r\n\tat android.app.Activity.dispatchActivityResult(Activity.java:7137)\r\n\tat android.app.ActivityThread.deliverResults(ActivityThread.java:4916)\r\n\tat android.app.ActivityThread.handleSendResult(ActivityThread.java:4963)\r\n\tat android.app.ActivityThread.access$1600(ActivityThread.java:221)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1848)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:158)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7224)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n~~~\r\n\r\n\u003eWhen I report trash at a stop from OBA and try to submit a photo via the gallery, the app crashes. However it responds will by taking a picture.\r\n\r\nDevice was a Samsung Galaxy S5.\r\n\r\nI can\u0027t reproduce this on a LG G5 w/ Android 7.0, LG G3 w/ Android 5.0.1, an Amazon Fire Phone (I believe Android 4.4.4), or a Nexus S 4G w/ Android 4.1.2.\r\n\r\n**Steps to reproduce:** \r\n\r\nOn an affected device:\r\n\r\n1. Tap on \"Send feedback-\u003eReport stop problem\"\r\n1. Tap on stop\r\n1. Choose any issue category\r\n1. Scroll down and tap on \"Add Image\" button, and then \"Gallery\"\r\n1. Choose photo\r\n\r\n**Expected behavior:** \r\n\r\nAdd the photo to the issue report\r\n\r\n**Observed behavior:** \r\n\r\nApp crashes with OutOfMemoryError \r\n\r\n**Device and Android version:** \r\n\r\n~~~\r\nGalaxy S5 (kltevzw)\r\nManufacturer Samsung \r\nAndroid version Android 4.4 \r\nRAM (MB) 2048 \r\nScreen size 1080 × 1920 \r\nScreen density (dpi) 480 \r\nOpenGL ES version 3.0 \r\nNative platform armeabi-v7a \r\nCPU make Qualcomm \r\nCPU model MSM8974\r\n~~~\r\n\r\n**Screenshots:** \r\n\r\nN/A",
    "keywords": [
      "outofmemoryerror",
      "app",
      "tap",
      "method",
      "issue",
      "os",
      "app activitythread",
      "android graphics",
      "android",
      "photo",
      "graphics",
      "0",
      "onactivityresult",
      "activitythread",
      "1",
      "bitmapfactory",
      "4",
      "stop",
      "native",
      "report",
      "w/",
      "android app",
      "gallery",
      "~~~",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/d5e728bcb3d81bc5014560791a25cc324cc5e62f",
      "files": [
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/report/ui/BaseReportActivity.java",
          "patch": "@@ -50,7 +50,7 @@\n     @Override\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n         super.onActivityResult(requestCode, resultCode, data);\n-        if (resultCode \u003d\u003d RESULT_OK \u0026\u0026 data.getBooleanExtra(CLOSE_REQUEST, false)){\n+        if (resultCode \u003d\u003d RESULT_OK \u0026\u0026 data !\u003d null \u0026\u0026 data.getBooleanExtra(CLOSE_REQUEST, false)) {\n             finish();\n         }\n     }"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/report/ui/Open311ProblemFragment.java",
          "patch": "@@ -33,13 +33,11 @@\n \n import android.app.Activity;\n import android.app.ProgressDialog;\n-import android.content.ContentValues;\n import android.content.Context;\n import android.content.DialogInterface;\n import android.content.Intent;\n import android.database.Cursor;\n import android.graphics.Bitmap;\n-import android.graphics.BitmapFactory;\n import android.graphics.Color;\n import android.graphics.Typeface;\n import android.graphics.drawable.BitmapDrawable;\n@@ -81,7 +79,6 @@\n import java.io.File;\n import java.io.FileOutputStream;\n import java.io.IOException;\n-import java.io.OutputStream;\n import java.text.DateFormat;\n import java.text.DecimalFormat;\n import java.text.SimpleDateFormat;\n@@ -107,7 +104,9 @@\n public class Open311ProblemFragment extends BaseReportFragment implements\n         ServiceDescriptionTask.Callback, ServiceRequestTask.Callback {\n \n-    private ImageView mIssueImage;\n+    private ImageView mIssueImageView;\n+\n+    private String mImagePath;\n \n     private Open311 mOpen311;\n \n@@ -159,10 +158,12 @@\n \n     private static final String ATTRIBUTES \u003d \".attributes\";\n \n-    private static final String IMAGE \u003d \".image\";\n+    private static final String IMAGE_PATH \u003d \".image\";\n \n     private static final String IMAGE_URI \u003d \".imageUri\";\n \n+    private static final String IMAGE_THUMBNAIL \u003d \".imageThumbnail\";\n+\n     private static final String TRIP_INFO \u003d \".tripInfo\";\n \n     private static final String SHOW_PROGRESS_DIALOG \u003d \".showProgressDialog\";\n@@ -229,10 +230,11 @@ public void onSaveInstanceState(Bundle outState) {\n             outState.putParcelableArrayList(ATTRIBUTES, (ArrayList\u003c? extends Parcelable\u003e) attributeValues);\n         }\n \n-        if (mCapturedImageURI !\u003d null) {\n-            Bitmap bitmap \u003d ((BitmapDrawable) mIssueImage.getDrawable()).getBitmap();\n-            outState.putParcelable(IMAGE, bitmap);\n+        if (mImagePath !\u003d null) {\n             outState.putParcelable(IMAGE_URI, mCapturedImageURI);\n+            outState.putString(IMAGE_PATH, mImagePath);\n+            Bitmap bitmap \u003d ((BitmapDrawable) mIssueImageView.getDrawable()).getBitmap();\n+            outState.putParcelable(IMAGE_THUMBNAIL, bitmap);\n         }\n \n         if (mArrivalInfo !\u003d null) {\n@@ -251,6 +253,7 @@ public void onViewStateRestored(@Nullable Bundle savedInstanceState) {\n         super.onViewStateRestored(savedInstanceState);\n         if (savedInstanceState !\u003d null) {\n             mCapturedImageURI \u003d savedInstanceState.getParcelable(IMAGE_URI);\n+            mImagePath \u003d savedInstanceState.getString(IMAGE_PATH);\n \n             mArrivalInfo \u003d (ObaArrivalInfo) savedInstanceState.getSerializable(TRIP_INFO);\n             mAgencyName \u003d savedInstanceState.getString(AGENCY_NAME);\n@@ -297,9 +300,9 @@ public void onAttach(Context context) {\n      * Initialize UI components\n      */\n     private void setupViews(Bundle bundle) {\n-        mIssueImage \u003d (ImageView) findViewById(R.id.ri_imageView);\n-        if (bundle !\u003d null \u0026\u0026 bundle.getParcelable(IMAGE) !\u003d null) {\n-            mIssueImage.setImageBitmap((Bitmap) bundle.getParcelable(IMAGE));\n+        mIssueImageView \u003d (ImageView) findViewById(R.id.ri_imageView);\n+        if (bundle !\u003d null \u0026\u0026 bundle.getParcelable(IMAGE_THUMBNAIL) !\u003d null) {\n+            mIssueImageView.setImageBitmap((Bitmap) bundle.getParcelable(IMAGE_THUMBNAIL));\n         }\n \n         mInfoLayout \u003d (LinearLayout) findViewById(R.id.ri_info_layout);\n@@ -435,21 +438,31 @@ public void onActivityResult(int requestCode, int resultCode, Intent data) {\n \n         if (requestCode \u003d\u003d ReportConstants.GALLERY_INTENT \u0026\u0026 resultCode \u003d\u003d Activity.RESULT_OK \u0026\u0026\n                 data !\u003d null) {\n+            // Get the gallery image info\n             mCapturedImageURI \u003d data.getData();\n             String[] filePathColumn \u003d {MediaStore.Images.Media.DATA};\n             Cursor cursor \u003d getActivity().getContentResolver().query(mCapturedImageURI,\n                     filePathColumn, null, null, null);\n             if (cursor \u003d\u003d null) return;\n             cursor.moveToFirst();\n             int columnIndex \u003d cursor.getColumnIndex(filePathColumn[0]);\n-            String picturePath \u003d cursor.getString(columnIndex);\n+            mImagePath \u003d cursor.getString(columnIndex);\n             cursor.close();\n-            mIssueImage.setImageBitmap(BitmapFactory.decodeFile(picturePath));\n-        } else if (requestCode \u003d\u003d ReportConstants.CAPTURE_PICTURE_INTENT \u0026\u0026\n-                resultCode \u003d\u003d Activity.RESULT_OK \u0026\u0026 data !\u003d null) {\n-            Bundle extras \u003d data.getExtras();\n-            Bitmap imageBitmap \u003d (Bitmap) extras.get(\"data\");\n-            mIssueImage.setImageBitmap(imageBitmap);\n+        }\n+\n+        // Whether image was from gallery or captured via camera, we need to downscale it for ImageView\n+        if ((requestCode \u003d\u003d ReportConstants.GALLERY_INTENT\n+                || requestCode \u003d\u003d ReportConstants.CAPTURE_PICTURE_INTENT)\n+                \u0026\u0026 resultCode \u003d\u003d Activity.RESULT_OK) {\n+            // Load thumbnail to avoid OutOfMemory issue on Galaxy S5 - see #730\n+            Bitmap thumbnail \u003d null;\n+            try {\n+                thumbnail \u003d UIUtils.decodeSampledBitmapFromFile(mImagePath,\n+                        mIssueImageView.getWidth(), mIssueImageView.getHeight());\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+            }\n+            mIssueImageView.setImageBitmap(thumbnail);\n         }\n     }\n \n@@ -485,12 +498,8 @@ private void submitReport() {\n                 setPhone(open311User.getPhone()).setAddress_string(getCurrentAddress()).\n                 setDevice_id(tm.getDeviceId());\n \n-        if (mCapturedImageURI !\u003d null) {\n-            try {\n-                builder.setMedia(createImageFile());\n-            } catch (IOException e) {\n-                e.printStackTrace();\n-            }\n+        if (mImagePath !\u003d null) {\n+            attachImage(builder);\n         }\n \n         ServiceRequest serviceRequest \u003d builder.createServiceRequest();\n@@ -508,7 +517,7 @@ private void submitReport() {\n                 serviceRequest.setDescription(description);\n             }\n \n-            //Start progress\n+            // Start progress\n             showProgressDialog(true);\n \n             mRequestTask \u003d new ServiceRequestTask(mOpen311, serviceRequest, this);\n@@ -522,6 +531,54 @@ private void submitReport() {\n     }\n \n     /**\n+     * Attaches the captured image saved in this fragment to the provided builder\n+     *\n+     * @param builder the builder to attach the image to\n+     */\n+    private void attachImage(ServiceRequest.Builder builder) {\n+        // Downsample the image file to avoid uploading huge images\n+        File smallImageFile \u003d null;\n+        try {\n+            smallImageFile \u003d UIUtils.createImageFile(getContext(), \"-small\");\n+        } catch (IOException ex) {\n+            // Error occurred while creating the File\n+            createToastMessage(getString(R.string.ri_resize_image_problem));\n+            Log.e(TAG, \"Couldn\u0027t resize image - \" + ex);\n+        }\n+\n+        // Continue only if the File was successfully created\n+        if (smallImageFile !\u003d null) {\n+            // Max SeeClickFix resolution image is \"800x600 image center cropped\"\n+            final int WIDTH \u003d 800, HEIGHT \u003d 800;\n+            Bitmap smallImage;\n+            FileOutputStream out \u003d null;\n+            try {\n+                smallImage \u003d UIUtils.decodeSampledBitmapFromFile(mImagePath, WIDTH, HEIGHT);\n+                out \u003d new FileOutputStream(smallImageFile);\n+                smallImage.compress(Bitmap.CompressFormat.JPEG, 100, out);\n+                out.flush();\n+            } catch (IOException e) {\n+                e.printStackTrace();\n+                // Just use the full size image\n+                smallImageFile \u003d new File(mImagePath);\n+            } finally {\n+                if (out !\u003d null) {\n+                    try {\n+                        out.close();\n+                    } catch (IOException e) {\n+                        e.printStackTrace();\n+                    }\n+                }\n+            }\n+        } else {\n+            // Just use the full size image\n+            smallImageFile \u003d new File(mImagePath);\n+        }\n+\n+        builder.setMedia(smallImageFile);\n+    }\n+\n+    /**\n      * Generates stop and trip problem parameters for given open311 service\n      *\n      * @param service open311 service\n@@ -727,32 +784,32 @@ private String getTransitIssueParameters(Service service) {\n     }\n \n     /**\n-     * Creates a byte array which contains the image data\n-     *\n-     * @return image in bytes\n+     * From https://developer.android.com/training/camera/photobasics.html#TaskPath\n      */\n-    private File createImageFile() throws IOException {\n-        //Convert bitmap to file\n-        Bitmap bitmap \u003d ((BitmapDrawable) mIssueImage.getDrawable()).getBitmap();\n-        File filesDir \u003d getActivity().getFilesDir();\n-        File imageFile \u003d new File(filesDir, \"upload.jpg\");\n-\n-        OutputStream os;\n-        os \u003d new FileOutputStream(imageFile);\n-        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, os);\n-        os.flush();\n-        os.close();\n-        return imageFile;\n-    }\n-\n     private void openCamera() {\n-        String fileName \u003d \"temp.jpg\";\n-        ContentValues values \u003d new ContentValues();\n-        values.put(MediaStore.Images.Media.TITLE, fileName);\n-        mCapturedImageURI \u003d getActivity().getContentResolver().insert(\n-                MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n-        Intent intent \u003d new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n-        startActivityForResult(intent, ReportConstants.CAPTURE_PICTURE_INTENT);\n+        Intent takePictureIntent \u003d new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n+\n+        // Ensure that there\u0027s a camera activity to handle the intent\n+        if (takePictureIntent.resolveActivity(getActivity().getPackageManager()) !\u003d null) {\n+            // Create the File where the photo should go\n+            File photoFile \u003d null;\n+            try {\n+                photoFile \u003d UIUtils.createImageFile(getContext(), null);\n+            } catch (IOException ex) {\n+                // Error occurred while creating the File\n+                createToastMessage(getString(R.string.ri_open_camera_problem));\n+                Log.e(TAG, \"Couldn\u0027t open camera - \" + ex);\n+            }\n+\n+            // Continue only if the File was successfully created\n+            if (photoFile !\u003d null) {\n+                // Save a file: path for use with ACTION_VIEW intents\n+                mImagePath \u003d photoFile.getAbsolutePath();\n+                mCapturedImageURI \u003d Uri.fromFile(photoFile);\n+                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mCapturedImageURI);\n+                startActivityForResult(takePictureIntent, ReportConstants.CAPTURE_PICTURE_INTENT);\n+            }\n+        }\n     }\n \n     private void openGallery() {"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/util/UIUtils.java",
          "patch": "@@ -51,14 +51,18 @@\n import android.content.res.Resources;\n import android.database.Cursor;\n import android.graphics.Bitmap;\n+import android.graphics.BitmapFactory;\n import android.graphics.Color;\n+import android.graphics.Matrix;\n import android.graphics.Rect;\n import android.location.Location;\n+import android.media.ExifInterface;\n import android.net.ConnectivityManager;\n import android.net.NetworkInfo;\n import android.net.Uri;\n import android.os.Build;\n import android.os.Bundle;\n+import android.os.Environment;\n import android.os.Parcelable;\n import android.os.SystemClock;\n import android.provider.Settings;\n@@ -84,9 +88,13 @@\n import android.widget.TextView;\n import android.widget.Toast;\n \n+import java.io.File;\n+import java.io.IOException;\n+import java.text.SimpleDateFormat;\n import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.Collections;\n+import java.util.Date;\n import java.util.HashMap;\n import java.util.HashSet;\n import java.util.List;\n@@ -1468,4 +1476,147 @@ public static Location getMapCenter(Bundle b) {\n         }\n         return center;\n     }\n+\n+    /**\n+     * Creates a JPEG image file with the current date/time as the name\n+     *\n+     * @param nameSuffix A string that will be added to the end of the file name, or null if\n+     *                   nothing\n+     *                   should be added\n+     * @return a JPEG image file with the current date/time as the name\n+     */\n+    public static File createImageFile(Context context, String nameSuffix) throws IOException {\n+        // Create an image file name\n+        String timeStamp \u003d new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n+        StringBuilder imageFileName \u003d new StringBuilder();\n+        imageFileName.append(\"JPEG_\");\n+        imageFileName.append(timeStamp);\n+        imageFileName.append(\"_\");\n+        if (nameSuffix !\u003d null) {\n+            imageFileName.append(nameSuffix);\n+        }\n+        File storageDir \u003d context.getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n+        return File.createTempFile(\n+                imageFileName.toString(),  /* prefix */\n+                \".jpg\",         /* suffix */\n+                storageDir      /* directory */\n+        );\n+    }\n+\n+    /**\n+     * Decode a smaller sampled bitmap given a large bitmap.\n+     * Adapted from https://developer.android.com/training/displaying-bitmaps/load-bitmap.html and\n+     * http://stackoverflow.com/a/31720143/937715.\n+     *\n+     * @param pathName  path to the full size image file\n+     * @param reqWidth  desired width\n+     * @param reqHeight desired height\n+     * @return a smaller version of the image at pathName, given the desired width and height\n+     */\n+    public static Bitmap decodeSampledBitmapFromFile(String pathName, int reqWidth, int reqHeight)\n+            throws IOException {\n+        // First decode with inJustDecodeBounds\u003dtrue to check dimensions\n+        final BitmapFactory.Options options \u003d new BitmapFactory.Options();\n+        options.inJustDecodeBounds \u003d true;\n+        BitmapFactory.decodeFile(pathName, options);\n+\n+        // Calculate inSampleSize\n+        options.inSampleSize \u003d calculateInSampleSize(options, reqWidth, reqHeight);\n+\n+        // Decode bitmap with inSampleSize set\n+        options.inJustDecodeBounds \u003d false;\n+\n+        Bitmap b \u003d BitmapFactory.decodeFile(pathName, options);\n+        return rotateImageIfRequired(b, pathName);\n+    }\n+\n+    /**\n+     * Calculate an inSampleSize for use in a {@link BitmapFactory.Options} object when decoding\n+     * bitmaps using the decode* methods from {@link BitmapFactory}. This implementation calculates\n+     * the closest inSampleSize that will result in the final decoded bitmap having a width and\n+     * height equal to or larger than the requested width and height. This implementation does not\n+     * ensure a power of 2 is returned for inSampleSize which can be faster when decoding but\n+     * results in a larger bitmap which isn\u0027t as useful for caching purposes.\n+     *\n+     * From http://stackoverflow.com/a/31720143/937715.\n+     *\n+     * @param options   An options object with out* params already populated (run through a decode*\n+     *                  method with inJustDecodeBounds\u003d\u003dtrue\n+     * @param reqWidth  The requested width of the resulting bitmap\n+     * @param reqHeight The requested height of the resulting bitmap\n+     * @return The value to be used for inSampleSize\n+     */\n+    private static int calculateInSampleSize(BitmapFactory.Options options,\n+            int reqWidth, int reqHeight) {\n+        // Raw height and width of image\n+        final int height \u003d options.outHeight;\n+        final int width \u003d options.outWidth;\n+        int inSampleSize \u003d 1;\n+\n+        if (height \u003e reqHeight || width \u003e reqWidth) {\n+            // Calculate ratios of height and width to requested height and width\n+            final int heightRatio \u003d Math.round((float) height / (float) reqHeight);\n+            final int widthRatio \u003d Math.round((float) width / (float) reqWidth);\n+\n+            // Choose the smallest ratio as inSampleSize value, this will guarantee a final image\n+            // with both dimensions larger than or equal to the requested height and width.\n+            inSampleSize \u003d heightRatio \u003c widthRatio ? heightRatio : widthRatio;\n+\n+            // This offers some additional logic in case the image has a strange\n+            // aspect ratio. For example, a panorama may have a much larger\n+            // width than height. In these cases the total pixels might still\n+            // end up being too large to fit comfortably in memory, so we should\n+            // be more aggressive with sample down the image (\u003dlarger inSampleSize).\n+\n+            final float totalPixels \u003d width * height;\n+\n+            // Anything more than 2x the requested pixels we\u0027ll sample down further\n+            final float totalReqPixelsCap \u003d reqWidth * reqHeight * 2;\n+\n+            while (totalPixels / (inSampleSize * inSampleSize) \u003e totalReqPixelsCap) {\n+                inSampleSize++;\n+            }\n+        }\n+        return inSampleSize;\n+    }\n+\n+    /**\n+     * Rotate an image if required.\n+     *\n+     * @param img       The image bitmap\n+     * @param imagePath Path to image\n+     * @return The resulted Bitmap after manipulation\n+     */\n+    private static Bitmap rotateImageIfRequired(Bitmap img, String imagePath) throws IOException {\n+        ExifInterface ei \u003d new ExifInterface(imagePath);\n+        int orientation \u003d ei\n+                .getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);\n+\n+        switch (orientation) {\n+            case ExifInterface.ORIENTATION_ROTATE_90:\n+                return rotateImage(img, 90);\n+            case ExifInterface.ORIENTATION_ROTATE_180:\n+                return rotateImage(img, 180);\n+            case ExifInterface.ORIENTATION_ROTATE_270:\n+                return rotateImage(img, 270);\n+            default:\n+                return img;\n+        }\n+    }\n+\n+    /**\n+     * Rotate the given bitmap\n+     *\n+     * @param img    image to rotate\n+     * @param degree number of degrees to rotate, from 0-360\n+     * @return the provided bitmap rotated by the given number of degrees\n+     */\n+    private static Bitmap rotateImage(Bitmap img, int degree) {\n+        Matrix matrix \u003d new Matrix();\n+        matrix.postRotate(degree);\n+        Bitmap rotatedImg \u003d Bitmap\n+                .createBitmap(img, 0, 0, img.getWidth(), img.getHeight(), matrix, true);\n+        img.recycle();\n+        return rotatedImg;\n+    }\n }"
        },
        {
          "file_name": "onebusaway-android/src/main/res/values/strings.xml",
          "patch": "@@ -633,6 +633,8 @@\n     \u003cstring name\u003d\"ri_button_gallery\"\u003eGallery\u003c/string\u003e\n     \u003cstring name\u003d\"ri_address_not_found\"\u003eAddress not found. Please check your address.\u003c/string\u003e\n     \u003cstring name\u003d\"ri_service_description_problem\"\u003eService description could not be found.\u003c/string\u003e\n+    \u003cstring name\u003d\"ri_open_camera_problem\"\u003eCamera couldn\\\u0027t be opened.\u003c/string\u003e\n+    \u003cstring name\u003d\"ri_resize_image_problem\"\u003eImage couldn\\\u0027t be resized - using full size.\u003c/string\u003e\n     \u003cstring name\u003d\"ri_service_default\"\u003eChoose a Problem\u003c/string\u003e\n     \u003cstring name\u003d\"ri_service_stop\"\u003eStop Problem\u003c/string\u003e\n     \u003cstring name\u003d\"ri_service_trip\"\u003eArrival Time Problem\u003c/string\u003e\n@@ -642,7 +644,7 @@\n     \u003cstring name\u003d\"ri_user_phone_hint\"\u003ePhone number\u003c/string\u003e\n     \u003cstring name\u003d\"ri_no_trip\"\u003eNo arrival times, please check back later.\u003c/string\u003e\n     \u003cstring name\u003d\"ri_anonymous_checkbox\"\u003eKeep it anonymous\u003c/string\u003e\n-    \u003cstring name\u003d\"ri_submitting_message\"\u003eSubmitting your report\u003c/string\u003e\n+    \u003cstring name\u003d\"ri_submitting_message\"\u003eSubmitting your report…\u003c/string\u003e\n     \u003cstring name\u003d\"ri_unsuccessful_submit\"\u003eAn error occurred during submission, please try again later.\u003c/string\u003e\n \n     \u003c!-- report issue types screen--\u003e"
        }
      ]
    }
  },
  {
    "name": "Null threadUri causing crash",
    "url": "https://github.com/kontalk/androidclient/issues/996",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String android.net.Uri.getLastPathSegment()\u0027 on a null object reference\r\n       at org.kontalk.ui.ComposeMessage.getComposeFragment(ComposeMessage.java:225)\r\n       at org.kontalk.ui.ComposeMessage.onCreate(ComposeMessage.java:110)\r\n       at android.app.Activity.performCreate(Activity.java:6285)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2414)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2521)\r\n       at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4164)\r\n       at android.app.ActivityThread.access$1000(ActivityThread.java:150)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1389)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5517)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "app",
      "activitythread",
      "java",
      "os",
      "method",
      "android",
      "android app",
      "composemessage",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/1ff5205650d27bbffc85136be4bb6584b3b0f654",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessage.java",
          "patch": "@@ -246,6 +246,11 @@ private Bundle processIntent(Bundle savedInstanceState) {\n             mLostFocus \u003d savedInstanceState.getBoolean(\"lostFocus\");\n \n             Uri uri \u003d savedInstanceState.getParcelable(Uri.class.getName());\n+            if (uri \u003d\u003d null) {\n+                Log.d(TAG, \"restoring non-loaded conversation, aborting\");\n+                finish();\n+                return null;\n+            }\n             intent \u003d new Intent(ACTION_VIEW_USERID, uri);\n         }\n         else {"
        }
      ]
    }
  },
  {
    "name": "Android N crash - ArrayIndexOutOfBoundsException, CalledFromWrongThreadException",
    "url": "https://github.com/barbeau/gpstest/issues/64",
    "description": "**Summary:** \n\nWhen the app starts receiving GnssStatus updates on Android N, the app crashes with:\n\n```\n10-14 11:11:34.122 21959-21959/? E/AndroidRuntime: FATAL EXCEPTION: main\n           Process: com.android.gpstest, PID: 21959\n           java.lang.ArrayIndexOutOfBoundsException: length\u003d5; index\u003d5\n               at com.android.gpstest.GpsStatusFragment.updateGnssStatus(GpsStatusFragment.java:349)\n               at com.android.gpstest.GpsStatusFragment.onSatelliteStatusChanged(GpsStatusFragment.java:270)\n               at com.android.gpstest.GpsTestActivity$1.onSatelliteStatusChanged(GpsTestActivity.java:352)\n               at android.location.LocationManager$GnssStatusListenerTransport$GnssHandler.handleMessage(LocationManager.java:1434)\n               at android.os.Handler.dispatchMessage(Handler.java:102)\n               at android.os.Looper.loop(Looper.java:154)\n               at android.app.ActivityThread.main(ActivityThread.java:6077)\n               at java.lang.reflect.Method.invoke(Native Method)\n               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n10-14 11:11:34.131 21959-21971/? W/Binder: Binder call failed.\n   android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n       at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6855)\n       at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:1075)\n       at android.view.ViewGroup.invalidateChild(ViewGroup.java:5242)\n       at android.view.View.invalidateInternal(View.java:13573)\n       at android.view.View.invalidate(View.java:13537)\n       at android.view.View.invalidate(View.java:13521)\n       at com.android.gpstest.GpsSkyFragment$GpsSkyView.setGnssMeasurementEvent(GpsSkyFragment.java:344)\n       at com.android.gpstest.GpsSkyFragment.onGnssMeasurementsReceived(GpsSkyFragment.java:137)\n       at com.android.gpstest.GpsTestActivity$2.onGnssMeasurementsReceived(GpsTestActivity.java:368)\n       at android.location.GnssMeasurementCallbackTransport$ListenerTransport$1.execute(GnssMeasurementCallbackTransport.java:58)\n       at android.location.GnssMeasurementCallbackTransport$ListenerTransport$1.execute(GnssMeasurementCallbackTransport.java:56)\n       at android.location.LocalListenerHelper.executeOperation(LocalListenerHelper.java:104)\n       at android.location.LocalListenerHelper.foreach(LocalListenerHelper.java:118)\n       at android.location.GnssMeasurementCallbackTransport$ListenerTransport.onGnssMeasurementsReceived(GnssMeasurementCallbackTransport.java:61)\n       at android.location.IGnssMeasurementsListener$Stub.onTransact(IGnssMeasurementsListener.java:58)\n       at android.os.Binder.execTransact(Binder.java:565)\n```\n\n**Steps to reproduce:** \n\nStart app and wait for sat status update\n\n**Expected behavior:** \n\nNot crash and show sat status\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\nNexus 5X with Android 7.0\n",
    "keywords": [
      "com",
      "app",
      "gpsskyfragment",
      "os",
      "android",
      "main",
      "com android",
      "android location",
      "crash",
      "gpsstatusfragment",
      "view",
      "locallistenerhelper",
      "gnssmeasurementcallbacktransport",
      "viewrootimpl",
      "gpstest",
      "location",
      "android view",
      "binder",
      "ongnssmeasurementsreceived",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/barbeau/gpstest/commit/a2d28fe39d7292873aa11038f35d947c8633afef",
      "files": [
        {
          "file_name": "GPSTest/src/main/java/com/android/gpstest/GpsSkyFragment.java",
          "patch": "@@ -280,16 +280,22 @@ public void setStopped() {\n \n         @RequiresApi(api \u003d Build.VERSION_CODES.N)\n         public void setGnssStatus(GnssStatus status) {\n-            int length \u003d status.getSatelliteCount();\n \n             if (mPrns \u003d\u003d null) {\n-                mSnrs \u003d new float[length];\n-                mElevs \u003d new float[length];\n-                mAzims \u003d new float[length];\n-                mPrns \u003d new int[length];\n-                mConstellationType \u003d new int[length];\n+                /**\n+                 * We need to allocate arrays big enough so we don\u0027t overflow them.  Per\n+                 * https://developer.android.com/reference/android/location/GnssStatus.html#getSvid(int)\n+                 * 255 should be enough to contain all known satellites world-wide.\n+                 */\n+                final int MAX_LENGTH \u003d 255;\n+                mPrns \u003d new int[MAX_LENGTH];\n+                mSnrs \u003d new float[MAX_LENGTH];\n+                mElevs \u003d new float[MAX_LENGTH];\n+                mAzims \u003d new float[MAX_LENGTH];\n+                mConstellationType \u003d new int[MAX_LENGTH];\n             }\n \n+            int length \u003d status.getSatelliteCount();\n             mSvCount \u003d 0;\n             while (mSvCount \u003c length) {\n                 mSnrs[mSvCount] \u003d 0.0f;  // This is replaced later by GnssMeasurement.getSnrInDb()"
        }
      ]
    }
  },
  {
    "name": "NPE when retrying WtMessage",
    "url": "https://github.com/medic/medic-gateway/issues/81",
    "description": "```\r\nE/AndroidRuntime( 5765): java.lang.NullPointerException\r\nE/AndroidRuntime( 5765):        at medic.gateway.alert.Utils.setText(Utils.java:192)\r\nE/AndroidRuntime( 5765):        at medic.gateway.alert.WtListFragment.retry(WtListFragment.java:124)\r\nE/AndroidRuntime( 5765):        at medic.gateway.alert.WtListFragment$1.onClick(WtListFragment.java:101)\r\nE/AndroidRuntime( 5765):        at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:180)\r\nE/AndroidRuntime( 5765):        at android.os.Handler.dispatchMessage(Handler.java:110)\r\nE/AndroidRuntime( 5765):        at android.os.Looper.loop(Looper.java:193)\r\nE/AndroidRuntime( 5765):        at android.app.ActivityThread.main(ActivityThread.java:5299)\r\nE/AndroidRuntime( 5765):        at java.lang.reflect.Method.invokeNative(Native Method)\r\nE/AndroidRuntime( 5765):        at java.lang.reflect.Method.invoke(Method.java:515)\r\nE/AndroidRuntime( 5765):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:829)\r\nE/AndroidRuntime( 5765):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:645)\r\nE/AndroidRuntime( 5765):        at dalvik.system.NativeStart.main(Native Method)\r\n```\r\n\r\nThis was post-merge of #76 ",
    "keywords": [
      "com",
      "internal",
      "os",
      "method",
      "android",
      "medic",
      "com android",
      "main",
      "e/androidruntime",
      "wtlistfragment",
      "java",
      "alert",
      "5765",
      "5765 ",
      "lang",
      "e/androidruntime 5765",
      "gateway",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/medic/medic-gateway/commit/5e0b0d548040937e6084f8d490edc0fe3439d3d1",
      "files": [
        {
          "file_name": "src/main/java/medic/gateway/alert/WoListActivity.java",
          "patch": "@@ -1,25 +1,39 @@\n package medic.gateway.alert;\n \n+import android.app.AlertDialog;\n+import android.app.ProgressDialog;\n+import android.content.DialogInterface;\n+import android.os.AsyncTask;\n import android.os.Bundle;\n-import android.util.SparseArray;\n+import android.support.v4.app.FragmentActivity;\n import android.view.View;\n import android.widget.Button;\n-import android.widget.CheckBox;\n-import android.widget.ListView;\n \n-import android.support.v4.app.FragmentActivity;\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.LinkedList;\n+import java.util.Set;\n \n-import static medic.gateway.alert.GatewayLog.*;\n-import static medic.gateway.alert.Utils.*;\n-import static medic.gateway.alert.WoMessage.Status.*;\n+import static medic.gateway.alert.GatewayLog.logException;\n+import static medic.gateway.alert.GatewayLog.trace;\n+import static medic.gateway.alert.Utils.showSpinner;\n+import static medic.gateway.alert.Utils.absoluteTimestamp;\n+import static medic.gateway.alert.WoMessage.Status.UNSENT;\n+import static medic.gateway.alert.WoMessage.Status.FAILED;\n \n public class WoListActivity extends FragmentActivity {\n-\tprivate SparseArray\u003cString\u003e checklist;\n+\tprivate static final DialogInterface.OnClickListener NO_CLICK_LISTENER \u003d null;\n+\n+\tprivate Db db;\n+\tprivate Set\u003cString\u003e checkedMessageIds;\n \n \tpublic void onCreate(Bundle savedInstanceState) {\n \t\tsuper.onCreate(savedInstanceState);\n \t\tsetContentView(R.layout.message_list_wo);\n \n+\t\tthis.db \u003d Db.getInstance(this);\n+\n \t\t((Button) findViewById(R.id.btnRefreshWoMessageList))\n \t\t\t\t.setOnClickListener(new View.OnClickListener() {\n \t\t\tpublic void onClick(View v) { refreshList(); }\n@@ -30,50 +44,113 @@ public void onCreate(Bundle savedInstanceState) {\n \t\t\tpublic void onClick(View v) { retrySelected(); }\n \t\t});\n \n-\t\t((Button) findViewById(R.id.btnSelectNewer))\n-\t\t\t\t.setOnClickListener(new View.OnClickListener() {\n-\t\t\tpublic void onClick(View v) { selectNewer(); }\n+\t\trefreshList();\n+\t}\n+\n+//\u003e API FOR WoListFragment\n+\tboolean isChecked(WoMessage m) {\n+\t\treturn checkedMessageIds.contains(m.id);\n+\t}\n+\n+\tvoid updateChecked(WoMessage m, boolean isChecked) {\n+\t\tif(isChecked) checkedMessageIds.add(m.id);\n+\t\telse checkedMessageIds.remove(m.id);\n+\n+\t\tfindViewById(R.id.btnRetrySelected).setEnabled(!checkedMessageIds.isEmpty());\n+\t}\n+\n+\tvoid showMessageDetailDialog(final WoMessage m) {\n+\t\tfinal ProgressDialog spinner \u003d showSpinner(this);\n+\t\tAsyncTask.execute(new Runnable() {\n+\t\t\tpublic void run() {\n+\t\t\t\ttry {\n+\t\t\t\t\tLinkedList\u003cString\u003e content \u003d new LinkedList\u003c\u003e();\n+\n+\t\t\t\t\tcontent.add(string(R.string.lblTo, m.to));\n+\t\t\t\t\tcontent.add(string(R.string.lblContent, m.content));\n+\t\t\t\t\tcontent.add(string(R.string.lblStatusUpdates));\n+\n+\t\t\t\t\tList\u003cWoMessage.StatusUpdate\u003e updates \u003d db.getStatusUpdates(m);\n+\t\t\t\t\tCollections.reverse(updates);\n+\t\t\t\t\tfor(WoMessage.StatusUpdate u : updates) {\n+\t\t\t\t\t\tString status;\n+\t\t\t\t\t\tif(u.newStatus \u003d\u003d FAILED) {\n+\t\t\t\t\t\t\tstatus \u003d String.format(\"%s (%s)\", u.newStatus, u.failureReason);\n+\t\t\t\t\t\t} else {\n+\t\t\t\t\t\t\tstatus \u003d u.newStatus.toString();\n+\t\t\t\t\t\t}\n+\t\t\t\t\t\tcontent.add(String.format(\"%s: %s\", absoluteTimestamp(u.timestamp), status));\n+\t\t\t\t\t}\n+\n+\t\t\t\t\tfinal AlertDialog.Builder dialog \u003d new AlertDialog.Builder(WoListActivity.this);\n+\t\t\t\t\tif(m.status.canBeRetried()) {\n+\t\t\t\t\t\tdialog.setPositiveButton(R.string.btnRetry, new DialogInterface.OnClickListener() {\n+\t\t\t\t\t\t\t@Override\n+\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\n+\t\t\t\t\t\t\t\tretry(m.id);\n+\t\t\t\t\t\t\t\tresetScroll();\n+\t\t\t\t\t\t\t\trefreshList();\n+\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t});\n+\t\t\t\t\t}\n+\n+\t\t\t\t\tdialog.setItems(content.toArray(new String[content.size()]), NO_CLICK_LISTENER);\n+\n+\t\t\t\t\trunOnUiThread(new Runnable() {\n+\t\t\t\t\t\tpublic void run() { dialog.create().show(); }\n+\t\t\t\t\t});\n+\t\t\t\t} catch(Exception ex) {\n+\t\t\t\t\tlogException(WoListActivity.this, ex, \"Failed to load WO message details.\");\n+\t\t\t\t} finally {\n+\t\t\t\t\tspinner.dismiss();\n+\t\t\t\t}\n+\t\t\t}\n \t\t});\n+\t}\n \n-\t\trefreshList();\n+//\u003e PRIVATE HELPERS\n+\tprivate void retry(String id) {\n+\t\ttrace(this, \"Retrying message with id %s...\", id);\n+\n+\t\tWoMessage m \u003d db.getWoMessage(id);\n+\n+\t\tif(!m.status.canBeRetried()) return;\n+\n+\t\tdb.updateStatus(m, UNSENT);\n \t}\n \n-\tvoid updateChecked(String id, int position, boolean isChecked) {\n-\t\tif(isChecked) checklist.put(position, id);\n-\t\telse checklist.delete(position);\n+\tprivate final String string(int stringId, Object...args) {\n+\t\treturn getString(stringId, args);\n+\t}\n \n-\t\tfindViewById(R.id.btnRetrySelected).setEnabled(checklist.size() \u003e 0);\n-\t\tfindViewById(R.id.btnSelectNewer).setEnabled(checklist.size() \u003e 0);\n+\tprivate void resetScroll() {\n+\t\t// This implementation is far from ideal, but at least it works.\n+\t\t// Which is more than can be said for more logical options like:\n+\t\t// - getFragment().setSelection(0);\n+\t\t// - getFragment().getListView().setSelection(0);\n+\t\t// - getFragment().getListView().setSelectionAfterHeaderView();\n+\t\t// ...and doing all of the above inside an AsyncTask.\n+\t\tgetFragment().getListView().smoothScrollToPosition(0);\n \t}\n \n \tprivate void refreshList() {\n-\t\tchecklist \u003d new SparseArray\u003cString\u003e();\n+\t\tcheckedMessageIds \u003d new HashSet\u003cString\u003e();\n \n \t\tgetSupportLoaderManager().restartLoader(WoListFragment.LOADER_ID, null, getFragment());\n \n \t\tfindViewById(R.id.btnRetrySelected).setEnabled(false);\n-\t\tfindViewById(R.id.btnSelectNewer).setEnabled(false);\n \t}\n \n \tprivate void retrySelected() {\n-\t\tfor(int i\u003dchecklist.size()-1; i\u003e\u003d0; --i) {\n-\t\t\tgetFragment().retry(checklist.valueAt(i), checklist.keyAt(i));\n-\t\t}\n-\t}\n+\t\tresetScroll();\n+\n+\t\tfor(String id : checkedMessageIds) retry(id);\n \n-\tprivate void selectNewer() {\n-\t\tint lastSelectedIndex \u003d checklist.keyAt(checklist.size() - 1);\n-\t\tfor(int i\u003dlastSelectedIndex-1; i\u003e\u003d0; --i) {\n-\t\t\t((CheckBox) getList().getChildAt(i).findViewById(R.id.cbxMessage)).setChecked(true);\n-\t\t}\n+\t\trefreshList();\n \t}\n \n \tprivate WoListFragment getFragment() {\n \t\treturn (WoListFragment) getSupportFragmentManager()\n \t\t\t\t.findFragmentById(R.id.lstWoMessages);\n \t}\n-\n-\tprivate ListView getList() {\n-\t\treturn getFragment().getListView();\n-\t}\n }"
        },
        {
          "file_name": "src/main/java/medic/gateway/alert/WoListFragment.java",
          "patch": "@@ -1,14 +1,9 @@\n package medic.gateway.alert;\n \n-import android.app.AlertDialog;\n-import android.app.ProgressDialog;\n import android.content.Context;\n-import android.content.DialogInterface;\n import android.database.Cursor;\n-import android.os.AsyncTask;\n import android.os.Bundle;\n import android.view.View;\n-import android.view.ViewGroup;\n import android.widget.CheckBox;\n import android.widget.CompoundButton;\n import android.widget.ListView;\n@@ -20,31 +15,17 @@\n import android.support.v4.widget.CursorAdapter;\n import android.support.v4.widget.ResourceCursorAdapter;\n \n-import java.util.Collections;\n-import java.util.List;\n-import java.util.LinkedList;\n-\n-import static medic.gateway.alert.GatewayLog.logException;\n import static medic.gateway.alert.GatewayLog.trace;\n-import static medic.gateway.alert.Utils.absoluteTimestamp;\n import static medic.gateway.alert.Utils.relativeTimestamp;\n import static medic.gateway.alert.Utils.setText;\n-import static medic.gateway.alert.Utils.showSpinner;\n import static medic.gateway.alert.WoMessage.Status.FAILED;\n-import static medic.gateway.alert.WoMessage.Status.UNSENT;\n \n public class WoListFragment extends ListFragment implements LoaderCallbacks\u003cCursor\u003e {\n \tpublic static final int LOADER_ID \u003d 3;\n \n-\tprivate static final DialogInterface.OnClickListener NO_CLICK_LISTENER \u003d null;\n-\n-\tprivate Db db;\n-\n \t@Override public void onActivityCreated(Bundle savedInstanceState) {\n \t\tsuper.onActivityCreated(savedInstanceState);\n \n-\t\tthis.db \u003d Db.getInstance(getActivity());\n-\n \t\tWoCursorAdapter adapter \u003d new WoCursorAdapter(getCastActivity());\n \t\tsetListAdapter(adapter);\n \t\tgetLoaderManager().initLoader(LOADER_ID, null, this);\n@@ -78,75 +59,7 @@ public void onListItemClick(ListView list, View view, int position, long id) {\n \t\t// more recently than the list\n \t\tWoMessage m \u003d Db.getInstance(getActivity()).getWoMessage(c.getString(0));\n \n-\t\tshowMessageDetailDialog(m, position);\n-\t}\n-\n-\tprivate void showMessageDetailDialog(final WoMessage m, final int position) {\n-\t\tfinal ProgressDialog spinner \u003d showSpinner(getContext());\n-\t\tAsyncTask.execute(new Runnable() {\n-\t\t\tpublic void run() {\n-\t\t\t\ttry {\n-\t\t\t\t\tLinkedList\u003cString\u003e content \u003d new LinkedList\u003c\u003e();\n-\n-\t\t\t\t\tcontent.add(string(R.string.lblTo, m.to));\n-\t\t\t\t\tcontent.add(string(R.string.lblContent, m.content));\n-\t\t\t\t\tcontent.add(string(R.string.lblStatusUpdates));\n-\n-\t\t\t\t\tList\u003cWoMessage.StatusUpdate\u003e updates \u003d db.getStatusUpdates(m);\n-\t\t\t\t\tCollections.reverse(updates);\n-\t\t\t\t\tfor(WoMessage.StatusUpdate u : updates) {\n-\t\t\t\t\t\tString status;\n-\t\t\t\t\t\tif(u.newStatus \u003d\u003d FAILED) {\n-\t\t\t\t\t\t\tstatus \u003d String.format(\"%s (%s)\", u.newStatus, u.failureReason);\n-\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\tstatus \u003d u.newStatus.toString();\n-\t\t\t\t\t\t}\n-\t\t\t\t\t\tcontent.add(String.format(\"%s: %s\", absoluteTimestamp(u.timestamp), status));\n-\t\t\t\t\t}\n-\n-\t\t\t\t\tfinal AlertDialog.Builder dialog \u003d new AlertDialog.Builder(getActivity());\n-\n-\t\t\t\t\tif(m.status.canBeRetried()) {\n-\t\t\t\t\t\tdialog.setPositiveButton(R.string.btnRetry, new DialogInterface.OnClickListener() {\n-\t\t\t\t\t\t\t@Override\n-\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\n-\t\t\t\t\t\t\t\tretry(m.id, position);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t});\n-\t\t\t\t\t}\n-\n-\t\t\t\t\tdialog.setItems(content.toArray(new String[content.size()]), NO_CLICK_LISTENER);\n-\n-\t\t\t\t\tgetActivity().runOnUiThread(new Runnable() {\n-\t\t\t\t\t\tpublic void run() { dialog.create().show(); }\n-\t\t\t\t\t});\n-\t\t\t\t} catch(Exception ex) {\n-\t\t\t\t\tlogException(getContext(), ex, \"Failed to load WO message details.\");\n-\t\t\t\t} finally {\n-\t\t\t\t\tspinner.dismiss();\n-\t\t\t\t}\n-\t\t\t}\n-\t\t});\n-\t}\n-\n-\tvoid retry(String id, int position) {\n-\t\ttrace(this, \"Retrying message at %d with id %s...\", position, id);\n-\n-\t\tWoMessage m \u003d db.getWoMessage(id);\n-\n-\t\tif(m.status.canBeRetried()) {\n-\t\t\tdb.updateStatus(m, UNSENT);\n-\n-\t\t\tWoMessage updated \u003d db.getWoMessage(id);\n-\n-\t\t\tView v \u003d getListView().getChildAt(position);\n-\t\t\tsetText(v, R.id.txtWoStatus, updated.status.toString());\n-\t\t\tsetText(v, R.id.txtWoLastAction, relativeTimestamp(updated.lastAction));\n-\t\t}\n-\t}\n-\n-\tprivate final String string(int stringId, Object...args) {\n-\t\treturn String.format(getActivity().getString(stringId), args);\n+\t\tgetCastActivity().showMessageDetailDialog(m);\n \t}\n }\n \n@@ -177,20 +90,12 @@ public void bindView(View v, final Context ctx, Cursor c) {\n \t\tCheckBox cbx \u003d (CheckBox) v.findViewById(R.id.cbxMessage);\n \t\t// Old list items get re-used, so we need to make sure that the\n \t\t// checkbox is de-checked.\n-\t\tcbx.setChecked(false);\n+\t\tcbx.setChecked(activity.isChecked(m));\n \t\tcbx.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n \t\t\t@Override\n \t\t\tpublic void onCheckedChanged(CompoundButton btn, boolean isChecked) {\n-\t\t\t\tView listItem \u003d (View) btn.getParent();\n-\t\t\t\tViewGroup parent \u003d (ViewGroup) listItem.getParent();\n-\n-\t\t\t\tif(parent \u003d\u003d null) return;\n-\n-\t\t\t\tint listIndex \u003d parent.indexOfChild(listItem);\n-\n-\t\t\t\ttrace(this, \"Changed checkbox at %d to %s\", listIndex, isChecked);\n-\n-\t\t\t\tactivity.updateChecked(m.id, listIndex, isChecked);\n+\t\t\t\ttrace(this, \"Changed checkbox to %s\", isChecked);\n+\t\t\t\tactivity.updateChecked(m, isChecked);\n \t\t\t}\n \t\t});\n \t}"
        },
        {
          "file_name": "src/main/java/medic/gateway/alert/WtListActivity.java",
          "patch": "@@ -1,25 +1,41 @@\n package medic.gateway.alert;\n \n+import android.app.AlertDialog;\n+import android.app.ProgressDialog;\n+import android.content.DialogInterface;\n+import android.os.AsyncTask;\n import android.os.Bundle;\n-import android.util.SparseArray;\n import android.view.View;\n import android.widget.Button;\n-import android.widget.CheckBox;\n-import android.widget.ListView;\n+\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Set;\n \n import android.support.v4.app.FragmentActivity;\n \n-import static medic.gateway.alert.GatewayLog.*;\n-import static medic.gateway.alert.Utils.*;\n-import static medic.gateway.alert.WtMessage.Status.*;\n+import medic.gateway.alert.WtMessage.Status;\n+\n+import static medic.gateway.alert.GatewayLog.logException;\n+import static medic.gateway.alert.GatewayLog.trace;\n+import static medic.gateway.alert.Utils.absoluteTimestamp;\n+import static medic.gateway.alert.Utils.showSpinner;\n+import static medic.gateway.alert.WtMessage.Status.WAITING;\n \n public class WtListActivity extends FragmentActivity {\n-\tprivate SparseArray\u003cString\u003e checklist;\n+\tprivate static final DialogInterface.OnClickListener NO_CLICK_LISTENER \u003d null;\n+\n+\tprivate Db db;\n+\tprivate Set\u003cString\u003e checkedMessageIds;\n \n \tpublic void onCreate(Bundle savedInstanceState) {\n \t\tsuper.onCreate(savedInstanceState);\n \t\tsetContentView(R.layout.message_list_wt);\n \n+\t\tthis.db \u003d Db.getInstance(this);\n+\n \t\t((Button) findViewById(R.id.btnRefreshWtMessageList))\n \t\t\t\t.setOnClickListener(new View.OnClickListener() {\n \t\t\tpublic void onClick(View v) { refreshList(); }\n@@ -30,50 +46,109 @@ public void onCreate(Bundle savedInstanceState) {\n \t\t\tpublic void onClick(View v) { retrySelected(); }\n \t\t});\n \n-\t\t((Button) findViewById(R.id.btnSelectNewer))\n-\t\t\t\t.setOnClickListener(new View.OnClickListener() {\n-\t\t\tpublic void onClick(View v) { selectNewer(); }\n+\t\trefreshList();\n+\t}\n+\n+//\u003e API FOR WtListFragment\n+\tboolean isChecked(WtMessage m) {\n+\t\treturn checkedMessageIds.contains(m.id);\n+\t}\n+\n+\tvoid updateChecked(WtMessage m, boolean isChecked) {\n+\t\tif(isChecked) checkedMessageIds.add(m.id);\n+\t\telse checkedMessageIds.remove(m.id);\n+\n+\t\tfindViewById(R.id.btnRetrySelected).setEnabled(!checkedMessageIds.isEmpty());\n+\t}\n+\n+\tvoid showMessageDetailDialog(final WtMessage m, final int position) {\n+\t\tfinal ProgressDialog spinner \u003d showSpinner(this);\n+\t\tAsyncTask.execute(new Runnable() {\n+\t\t\tpublic void run() {\n+\t\t\t\ttry {\n+\t\t\t\t\tLinkedList\u003cString\u003e content \u003d new LinkedList\u003c\u003e();\n+\n+\t\t\t\t\tcontent.add(string(R.string.lblFrom, m.from));\n+\t\t\t\t\tcontent.add(string(R.string.lblContent, m.content));\n+\t\t\t\t\tcontent.add(string(R.string.lblStatusUpdates));\n+\n+\t\t\t\t\tList\u003cWtMessage.StatusUpdate\u003e updates \u003d db.getStatusUpdates(m);\n+\t\t\t\t\tCollections.reverse(updates);\n+\t\t\t\t\tfor(WtMessage.StatusUpdate u : updates) {\n+\t\t\t\t\t\tcontent.add(String.format(\"%s: %s\", absoluteTimestamp(u.timestamp), u.newStatus));\n+\t\t\t\t\t}\n+\n+\t\t\t\t\tfinal AlertDialog.Builder dialog \u003d new AlertDialog.Builder(WtListActivity.this);\n+\t\t\t\t\tif(m.getStatus().canBeRetried()) {\n+\t\t\t\t\t\tdialog.setPositiveButton(R.string.btnRetry, new DialogInterface.OnClickListener() {\n+\t\t\t\t\t\t\t@Override\n+\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\n+\t\t\t\t\t\t\t\tretry(m.id);\n+\t\t\t\t\t\t\t\tresetScroll();\n+\t\t\t\t\t\t\t\trefreshList();\n+\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t});\n+\t\t\t\t\t}\n+\n+\t\t\t\t\tdialog.setItems(content.toArray(new String[content.size()]), NO_CLICK_LISTENER);\n+\n+\t\t\t\t\trunOnUiThread(new Runnable() {\n+\t\t\t\t\t\tpublic void run() { dialog.create().show(); }\n+\t\t\t\t\t});\n+\t\t\t\t} catch(Exception ex) {\n+\t\t\t\t\tlogException(WtListActivity.this, ex, \"Failed to load WT message details.\");\n+\t\t\t\t} finally {\n+\t\t\t\t\tspinner.dismiss();\n+\t\t\t\t}\n+\t\t\t}\n \t\t});\n+\t}\n \n-\t\trefreshList();\n+//\u003e PRIVATE HELPERS\n+\tprivate void retry(String id) {\n+\t\ttrace(this, \"Retrying message with id %s...\", id);\n+\n+\t\tWtMessage m \u003d db.getWtMessage(id);\n+\n+\t\tif(!m.getStatus().canBeRetried()) return;\n+\n+\t\tStatus oldStatus \u003d m.getStatus();\n+\t\tm.setStatus(WAITING);\n+\t\tdb.updateStatusFrom(oldStatus, m);\n \t}\n \n-\tvoid updateChecked(String id, int position, boolean isChecked) {\n-\t\tif(isChecked) checklist.put(position, id);\n-\t\telse checklist.delete(position);\n+\tprivate final String string(int stringId, Object...args) {\n+\t\treturn getString(stringId, args);\n+\t}\n \n-\t\tfindViewById(R.id.btnRetrySelected).setEnabled(checklist.size() \u003e 0);\n-\t\tfindViewById(R.id.btnSelectNewer).setEnabled(checklist.size() \u003e 0);\n+\tprivate void resetScroll() {\n+\t\t// This implementation is far from ideal, but at least it works.\n+\t\t// Which is more than can be said for more logical options like:\n+\t\t// - getFragment().setSelection(0);\n+\t\t// - getFragment().getListView().setSelection(0);\n+\t\t// - getFragment().getListView().setSelectionAfterHeaderView();\n+\t\t// ...and doing all of the above inside an AsyncTask.\n+\t\tgetFragment().getListView().smoothScrollToPosition(0);\n \t}\n \n \tprivate void refreshList() {\n-\t\tchecklist \u003d new SparseArray\u003cString\u003e();\n+\t\tcheckedMessageIds \u003d new HashSet\u003cString\u003e();\n \n \t\tgetSupportLoaderManager().restartLoader(WtListFragment.LOADER_ID, null, getFragment());\n \n \t\tfindViewById(R.id.btnRetrySelected).setEnabled(false);\n-\t\tfindViewById(R.id.btnSelectNewer).setEnabled(false);\n \t}\n \n \tprivate void retrySelected() {\n-\t\tfor(int i\u003dchecklist.size()-1; i\u003e\u003d0; --i) {\n-\t\t\tgetFragment().retry(checklist.valueAt(i), checklist.keyAt(i));\n-\t\t}\n-\t}\n+\t\tresetScroll();\n+\n+\t\tfor(String id : checkedMessageIds) retry(id);\n \n-\tprivate void selectNewer() {\n-\t\tint lastSelectedIndex \u003d checklist.keyAt(checklist.size() - 1);\n-\t\tfor(int i\u003dlastSelectedIndex-1; i\u003e\u003d0; --i) {\n-\t\t\t((CheckBox) getList().getChildAt(i).findViewById(R.id.cbxMessage)).setChecked(true);\n-\t\t}\n+\t\trefreshList();\n \t}\n \n \tprivate WtListFragment getFragment() {\n \t\treturn (WtListFragment) getSupportFragmentManager()\n \t\t\t\t.findFragmentById(R.id.lstWtMessages);\n \t}\n-\n-\tprivate ListView getList() {\n-\t\treturn getFragment().getListView();\n-\t}\n }"
        },
        {
          "file_name": "src/main/java/medic/gateway/alert/WtListFragment.java",
          "patch": "@@ -1,14 +1,9 @@\n package medic.gateway.alert;\n \n-import android.app.AlertDialog;\n-import android.app.ProgressDialog;\n import android.content.Context;\n-import android.content.DialogInterface;\n import android.database.Cursor;\n-import android.os.AsyncTask;\n import android.os.Bundle;\n import android.view.View;\n-import android.view.ViewGroup;\n import android.widget.CheckBox;\n import android.widget.CompoundButton;\n import android.widget.ListView;\n@@ -20,32 +15,16 @@\n import android.support.v4.widget.CursorAdapter;\n import android.support.v4.widget.ResourceCursorAdapter;\n \n-import java.util.Collections;\n-import java.util.LinkedList;\n-import java.util.List;\n-\n-import medic.gateway.alert.WtMessage.Status;\n-\n-import static medic.gateway.alert.GatewayLog.logException;\n import static medic.gateway.alert.GatewayLog.trace;\n-import static medic.gateway.alert.Utils.absoluteTimestamp;\n import static medic.gateway.alert.Utils.relativeTimestamp;\n import static medic.gateway.alert.Utils.setText;\n-import static medic.gateway.alert.Utils.showSpinner;\n-import static medic.gateway.alert.WtMessage.Status.WAITING;\n \n public class WtListFragment extends ListFragment implements LoaderCallbacks\u003cCursor\u003e {\n \tpublic static final int LOADER_ID \u003d 2;\n \n-\tprivate static final DialogInterface.OnClickListener NO_CLICK_LISTENER \u003d null;\n-\n-\tprivate Db db;\n-\n \t@Override public void onActivityCreated(Bundle savedInstanceState) {\n \t\tsuper.onActivityCreated(savedInstanceState);\n \n-\t\tthis.db \u003d Db.getInstance(getActivity());\n-\n \t\tWtCursorAdapter adapter \u003d new WtCursorAdapter(getCastActivity());\n \t\tsetListAdapter(adapter);\n \t\tgetLoaderManager().initLoader(LOADER_ID, null, this);\n@@ -79,79 +58,18 @@ public void onListItemClick(ListView list, View view, int position, long id) {\n \t\t// more recently than the list\n \t\tWtMessage m \u003d Db.getInstance(getActivity()).getWtMessage(c.getString(0));\n \n-\t\tshowMessageDetailDialog(m, position);\n-\t}\n-\n-\tprivate void showMessageDetailDialog(final WtMessage m, final int position) {\n-\t\tfinal ProgressDialog spinner \u003d showSpinner(getContext());\n-\t\tAsyncTask.execute(new Runnable() {\n-\t\t\tpublic void run() {\n-\t\t\t\ttry {\n-\t\t\t\t\tLinkedList\u003cString\u003e content \u003d new LinkedList\u003c\u003e();\n-\n-\t\t\t\t\tcontent.add(string(R.string.lblFrom, m.from));\n-\t\t\t\t\tcontent.add(string(R.string.lblContent, m.content));\n-\t\t\t\t\tcontent.add(string(R.string.lblStatusUpdates));\n-\n-\t\t\t\t\tList\u003cWtMessage.StatusUpdate\u003e updates \u003d db.getStatusUpdates(m);\n-\t\t\t\t\tCollections.reverse(updates);\n-\t\t\t\t\tfor(WtMessage.StatusUpdate u : updates) {\n-\t\t\t\t\t\tcontent.add(String.format(\"%s: %s\", absoluteTimestamp(u.timestamp), u.newStatus));\n-\t\t\t\t\t}\n-\n-\t\t\t\t\tfinal AlertDialog.Builder dialog \u003d new AlertDialog.Builder(getActivity());\n-\n-\t\t\t\t\tif(m.getStatus().canBeRetried()) {\n-\t\t\t\t\t\tdialog.setPositiveButton(R.string.btnRetry, new DialogInterface.OnClickListener() {\n-\t\t\t\t\t\t\t@Override\n-\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\n-\t\t\t\t\t\t\t\tretry(m.id, position);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t});\n-\t\t\t\t\t}\n-\n-\t\t\t\t\tdialog.setItems(content.toArray(new String[content.size()]), NO_CLICK_LISTENER);\n-\n-\t\t\t\t\tgetActivity().runOnUiThread(new Runnable() {\n-\t\t\t\t\t\tpublic void run() { dialog.create().show(); }\n-\t\t\t\t\t});\n-\t\t\t\t} catch(Exception ex) {\n-\t\t\t\t\tlogException(getContext(), ex, \"Failed to load WO message details.\");\n-\t\t\t\t} finally {\n-\t\t\t\t\tspinner.dismiss();\n-\t\t\t\t}\n-\t\t\t}\n-\t\t});\n-\t}\n-\n-\tvoid retry(String id, int position) {\n-\t\ttrace(this, \"Retrying message at %d with id %s...\", position, id);\n-\n-\t\tWtMessage m \u003d db.getWtMessage(id);\n-\n-\t\tif(m.getStatus().canBeRetried()) {\n-\t\t\tStatus oldStatus \u003d m.getStatus();\n-\t\t\tm.setStatus(WAITING);\n-\t\t\tdb.updateStatusFrom(oldStatus, m);\n-\n-\t\t\tWtMessage updated \u003d db.getWtMessage(id);\n-\n-\t\t\tView v \u003d getListView().getChildAt(position);\n-\t\t\tsetText(v, R.id.txtWtStatus, updated.getStatus().toString());\n-\t\t\tsetText(v, R.id.txtWtLastAction, relativeTimestamp(updated.getLastAction()));\n-\t\t}\n-\t}\n-\n-\tprivate final String string(int stringId, Object...args) {\n-\t\treturn String.format(getActivity().getString(stringId), args);\n+\t\tgetCastActivity().showMessageDetailDialog(m, position);\n \t}\n }\n \n class WtCursorAdapter extends ResourceCursorAdapter {\n \tprivate static final int NO_FLAGS \u003d 0;\n \n-\tpublic WtCursorAdapter(Context ctx) {\n-\t\tsuper(ctx, R.layout.wt_list_item, null, NO_FLAGS);\n+\tprivate final WtListActivity activity;\n+\n+\tpublic WtCursorAdapter(WtListActivity activity) {\n+\t\tsuper(activity, R.layout.wt_list_item, null, NO_FLAGS);\n+\t\tthis.activity \u003d activity;\n \t}\n \n \tpublic void bindView(View v, final Context ctx, Cursor c) {\n@@ -165,20 +83,12 @@ public void bindView(View v, final Context ctx, Cursor c) {\n \t\tCheckBox cbx \u003d (CheckBox) v.findViewById(R.id.cbxMessage);\n \t\t// Old list items get re-used, so we need to make sure that the\n \t\t// checkbox is de-checked.\n-\t\tcbx.setChecked(false);\n+\t\tcbx.setChecked(activity.isChecked(m));\n \t\tcbx.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n \t\t\t@Override\n \t\t\tpublic void onCheckedChanged(CompoundButton btn, boolean isChecked) {\n-\t\t\t\tView listItem \u003d (View) btn.getParent();\n-\t\t\t\tViewGroup parent \u003d (ViewGroup) listItem.getParent();\n-\n-\t\t\t\tif(parent \u003d\u003d null) return;\n-\n-\t\t\t\tint listIndex \u003d parent.indexOfChild(listItem);\n-\n-\t\t\t\ttrace(this, \"Changed checkbox at %d to %s\", listIndex, isChecked);\n-\n-\t\t\t\t((WtListActivity) ctx).updateChecked(m.id, listIndex, isChecked);\n+\t\t\t\ttrace(this, \"Changed checkbox to %s\", isChecked);\n+\t\t\t\tactivity.updateChecked(m, isChecked);\n \t\t\t}\n \t\t});\n \t}"
        },
        {
          "file_name": "src/main/res/layout/message_list_wo.xml",
          "patch": "@@ -23,11 +23,6 @@\n \t\t\t\tandroid:layout_width\u003d\"wrap_content\"\n \t\t\t\tandroid:layout_height\u003d\"wrap_content\"\n \t\t\t\t/\u003e\n-\t\t\u003cButton android:id\u003d\"@+id/btnSelectNewer\"\n-\t\t\t\tandroid:text\u003d\"@string/btnSelectNewer\"\n-\t\t\t\tandroid:layout_width\u003d\"wrap_content\"\n-\t\t\t\tandroid:layout_height\u003d\"wrap_content\"\n-\t\t\t\t/\u003e\n \t\t\u003cButton android:id\u003d\"@+id/btnRetrySelected\"\n \t\t\t\tandroid:text\u003d\"@string/btnRetrySelected\"\n \t\t\t\tandroid:layout_width\u003d\"wrap_content\""
        },
        {
          "file_name": "src/main/res/layout/message_list_wt.xml",
          "patch": "@@ -23,11 +23,6 @@\n \t\t\t\tandroid:layout_width\u003d\"wrap_content\"\n \t\t\t\tandroid:layout_height\u003d\"wrap_content\"\n \t\t\t\t/\u003e\n-\t\t\u003cButton android:id\u003d\"@+id/btnSelectNewer\"\n-\t\t\t\tandroid:text\u003d\"@string/btnSelectNewer\"\n-\t\t\t\tandroid:layout_width\u003d\"wrap_content\"\n-\t\t\t\tandroid:layout_height\u003d\"wrap_content\"\n-\t\t\t\t/\u003e\n \t\t\u003cButton android:id\u003d\"@+id/btnRetrySelected\"\n \t\t\t\tandroid:text\u003d\"@string/btnRetrySelected\"\n \t\t\t\tandroid:layout_width\u003d\"wrap_content\""
        }
      ]
    }
  },
  {
    "name": "Clear fixture before wiping wiping user db on \u0027clear user data\u0027",
    "url": "https://github.com/dimagi/commcare-android/pull/1524",
    "description": "Without this change, \u0027clear user data\u0027 crashes.\n\nAs [described here](https://github.com/dimagi/commcare-android/pull/1500/files/75a837dabef56b15267c4e7266519c5274d93c7e#r83646913):\n\n\u003e Since the user db was being cleared before this was called I don\u0027t think it was doing anything, because the file paths were cleared before this code could remove the files. Hence leaving dangling fixture data (for fixtures over 1mb). Moving it here ensures that files are deleted before the db is cleared.\n\nHere is the stacktrace of the crash:\n\n```\nFATAL EXCEPTION: main\nProcess: org.commcare.dalvik, PID: 14445\nnet.sqlcipher.database.SQLiteException: error code 8: attempt to write a readonly database\n   at net.sqlcipher.database.SQLiteStatement.native_execute(Native Method)\n   at net.sqlcipher.database.SQLiteStatement.execute(SQLiteStatement.java:58)\n   at net.sqlcipher.database.SQLiteDatabase.delete(SQLiteDatabase.java:2047)\n   at org.commcare.models.database.HybridFileBackedSqlStorage.removeAll(HybridFileBackedSqlStorage.java:474)\n   at org.commcare.CommCareApplication.clearUserData(CommCareApplication.java:845)\n   at org.commcare.activities.AdvancedActionsActivity$10.onClick(AdvancedActionsActivity.java:239)\n   at org.commcare.views.dialogs.StandardAlertDialog$3.onClick(StandardAlertDialog.java:94)\n   at android.view.View.performClick(View.java:5609)\n   at android.view.View$PerformClick.run(View.java:22262)\n   at android.os.Handler.handleCallback(Handler.java:751)\n   at android.os.Handler.dispatchMessage(Handler.java:95)\n   at android.os.Looper.loop(Looper.java:154)\n   at android.app.ActivityThread.main(ActivityThread.java:6077)\n   at java.lang.reflect.Method.invoke(Native Method)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n```\n",
    "keywords": [
      "handler",
      "os",
      "method",
      "org",
      "android",
      "main",
      "commcare",
      "sqlitestatement",
      "view",
      "database",
      "org commcare",
      "sqlcipher",
      "net sqlcipher",
      "net",
      "cleared",
      "user",
      "db",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/dimagi/commcare-android/commit/9b2c2cdb89a631c6474d5338c8a39987b8ac1a90",
      "files": [
        {
          "file_name": "app/src/org/commcare/CommCareApplication.java",
          "patch": "@@ -814,13 +814,13 @@ public void clearUserData() {\n         CommCareApplication._().getCurrentApp().getAppPreferences().edit()\r\n                 .putString(CommCarePreferences.LAST_LOGGED_IN_USER, null).commit();\r\n \r\n-        // manually clear file-backed fixture storage to ensure files are removed\r\n-        CommCareApplication._().getFileBackedUserStorage(\"fixture\", FormInstance.class).removeAll();\r\n-\r\n         CommCareApplication._().closeUserSession();\r\n     }\r\n \r\n     public void wipeSandboxForUser(final String username) {\r\n+        // manually clear file-backed fixture storage to ensure files are removed\r\n+        CommCareApplication._().getFileBackedUserStorage(\"fixture\", FormInstance.class).removeAll();\r\n+\r\n         final Set\u003cString\u003e dbIdsToRemove \u003d new HashSet\u003c\u003e();\r\n         CommCareApplication._().getAppStorage(UserKeyRecord.class).removeAll(new EntityFilter\u003cUserKeyRecord\u003e() {\r\n             @Override\r"
        }
      ]
    }
  },
  {
    "name": "Testing Center NullPointerException",
    "url": "https://github.com/byu-oit/android-byu-suite-v2/issues/339",
    "description": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.Object android.content.Context.getSystemService(java.lang.String)\u0027 on a null object reference\r\n\tat android.view.LayoutInflater.from(LayoutInflater.java:228)\r\n\tat android.widget.ArrayAdapter.\u003cinit\u003e(ArrayAdapter.java:178)\r\n\tat android.widget.ArrayAdapter.\u003cinit\u003e(ArrayAdapter.java:163)\r\n\tat edu.byu.support.utils.SpinnerUtils.setUpAdapter(Unknown Source)\r\n\tat edu.byu.suite.features.testingcenter.controller.ScoresFragment.updateSpinnerAdapter(Unknown Source)\r\n\tat edu.byu.suite.features.testingcenter.controller.ScoresFragment.-wrap2(Unknown Source)\r\n\tat edu.byu.suite.features.testingcenter.controller.ScoresFragment$3.onSuccess(Unknown Source)\r\n\tat edu.byu.support.retrofit.ByuCallback.onResponse(Unknown Source)\r\n\tat retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(Unknown Source)\r\n\tat android.os.Handler.handleCallback(Handler.java:746)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:148)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5443)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n",
    "keywords": [
      "handler",
      "controller",
      "os",
      "method",
      "testingcenter",
      "android",
      "source",
      "edu byu",
      "unknown",
      "features",
      "arrayadapter",
      "suite",
      "java",
      "edu",
      "lang",
      "unknown source",
      "byu",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/byu-oit/android-byu-suite-v2/commit/c930048669333f8e6c65d4b6ecf6fff074165661",
      "files": [
        {
          "file_name": "app/src/main/java/edu/byu/suite/features/testingcenter/controller/ScoresFragment.java",
          "patch": "@@ -1,5 +1,7 @@\n package edu.byu.suite.features.testingcenter.controller;\n \n+import android.app.Activity;\n+import android.content.Context;\n import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.widget.SwipeRefreshLayout;\n@@ -41,6 +43,7 @@\n \tprivate static final int RECYCLER_VIEW \u003d 0;\n \tprivate static final int TEXT_VIEW \u003d 1;\n \tprivate boolean makeCall \u003d false;\n+\tprivate boolean updateOnAttach \u003d false;\n \tprivate final ByuCallback\u003cScoresResponseWrapper\u003e scoresCallback \u003d new ByuCallback\u003cScoresResponseWrapper\u003e(this) {\n \t\t@Override\n \t\tpublic void onSuccess(Call\u003cScoresResponseWrapper\u003e call, Response\u003cScoresResponseWrapper\u003e response) {\n@@ -100,7 +103,7 @@ public void onNothingSelected(AdapterView\u003c?\u003e parent) {\n \t\tif (result \u003d\u003d null) { // When the activity is first created\n \t\t\tloadInitialData();\n \t\t} else { // When you return to the ScoresFragment from a different fragment in the activity\n-\t\t\tupdateSpinnerAdapter(spinnerItemSelected);\n+\t\t\tupdateSpinnerAdapter();\n \t\t}\n \t}\n \n@@ -113,7 +116,7 @@ public void onSuccess(Call\u003cScoresResponseWrapper\u003e call, Response\u003cScoresResponseW\n \t\t\t\tresult \u003d response.body();\n \t\t\t\t// YearTerm.equals() doesn\u0027t include description, so indexOf(...) will find the index of the YearTerm that matches the current year term\n \t\t\t\tspinnerItemSelected \u003d result.getContent().getYearTermsWithDescriptions().indexOf(new YearTerm(result.getContent().getCurrentYearTerm(), null));\n-\t\t\t\tupdateSpinnerAdapter(spinnerItemSelected);\n+\t\t\t\tupdateSpinnerAdapter();\n \t\t\t\tswipeRefreshLayout.setEnabled(true);\n \t\t\t\tshowScores();\n \t\t\t}\n@@ -143,9 +146,29 @@ private void showScores() {\n \t\tviewSwitcher.setDisplayedChild(studentTests.isEmpty() ? TEXT_VIEW : RECYCLER_VIEW);\n \t}\n \n-\tprivate void updateSpinnerAdapter(int yearTermSelected) {\n-\t\tSpinnerUtils.setUpAdapter(getActivity(), spinner, result.getContent().getYearTermsWithDescriptions(), null);\n+\t@Override\n+\tpublic void onAttach(Context context) {\n+\t\tsuper.onAttach(context);\n+\n+\t\tif (updateOnAttach) {\n+\t\t\tupdateOnAttach \u003d false;\n+\t\t\tupdateSpinnerAdapter(context);\n+\t\t}\n+\t}\n+\n+\tprivate void updateSpinnerAdapter() {\n+\t\tActivity activity \u003d getActivity();\n+\t\t// We got at least one crash report where this was called and getActivity() returned null. This, along with onAttach, should hopefully prevent that, while preserving the desired functionality\n+\t\tif (activity \u003d\u003d null) {\n+\t\t\tupdateOnAttach \u003d true;\n+\t\t} else {\n+\t\t\tupdateSpinnerAdapter(activity);\n+\t\t}\n+\t}\n+\n+\tprivate void updateSpinnerAdapter(Context context) {\n+\t\tSpinnerUtils.setUpAdapter(context, spinner, result.getContent().getYearTermsWithDescriptions(), null);\n \t\t// This triggers the onItemSelectedListener, and calls loadScores()\n-\t\tspinner.setSelection(yearTermSelected);\n+\t\tspinner.setSelection(spinnerItemSelected);\n \t}\n }"
        }
      ]
    }
  },
  {
    "name": "java.lang.IllegalStateException: GoogleApiClient is not connected yet.",
    "url": "https://github.com/abhishek-tm/general-utilities-android/issues/10",
    "description": "Application crashed on launch because Google Play Services were not updated. Details are as following...\r\n\r\n###  StackTrace\r\n\r\n```java\r\nProcess: in.teramatrix.flint.driver, PID: 13901\r\n    java.lang.IllegalStateException: GoogleApiClient is not connected yet.\r\n    at com.google.android.gms.internal.zzaak.zzb(Unknown Source)\r\n    at com.google.android.gms.internal.zzaan.zzb(Unknown Source)\r\n    at com.google.android.gms.internal.zzaal.zzb(Unknown Source)\r\n    at com.google.android.gms.internal.zzarl.removeLocationUpdates(Unknown Source)\r\n    at in.teramatrix.utilities.service.LocationHandler.stop(LocationHandler.java:190)\r\n    at in.teramatrix.utilities.service.LocationHandler.onConnectionFailed(LocationHandler.java:210)\r\n    at com.google.android.gms.common.internal.zzm.zzo(Unknown Source)\r\n    at com.google.android.gms.internal.zzaal.zzc(Unknown Source)\r\n    at com.google.android.gms.internal.zzaaj.zzf(Unknown Source)\r\n    at com.google.android.gms.internal.zzaaj.zza(Unknown Source)\r\n    at com.google.android.gms.internal.zzaaj$zzb$1.zzvA(Unknown Source)\r\n    at com.google.android.gms.internal.zzaan$zza.zzc(Unknown Source)\r\n    at com.google.android.gms.internal.zzaan$zzb.handleMessage(Unknown Source)\r\n    at android.os.Handler.dispatchMessage(Handler.java:110)\r\n    at android.os.Looper.loop(Looper.java:193)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5292)\r\n    at java.lang.reflect.Method.invokeNative(Native Method)\r\n    at java.lang.reflect.Method.invoke(Method.java:515)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:824)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:640)\r\n    at dalvik.system.NativeStart.main(Native Method)\r\n```\r\n\r\n### Error Code \r\nIt\u0027s called before the **GoogleApiClient** was able to connect correctly.\r\n\r\n```java\r\npublic LocationHandler stop() {\r\n    if (mGoogleApiClient !\u003d null) {\r\n        LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this);\r\n        mGoogleApiClient.disconnect();\r\n    }\r\n    return this;\r\n}\r\n```\r\n\r\n### Called Here\r\n```java\r\n@Override\r\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n    stop();\r\n}\r\n```",
    "keywords": [
      "com",
      "mgoogleapiclient",
      "internal",
      "###",
      "android",
      "main",
      "source",
      "gms",
      "unknown",
      "not",
      "java",
      "android gms",
      "gms internal",
      "zzb unknown",
      "google android",
      "locationhandler",
      "lang",
      "unknown source",
      "zygoteinit",
      "```java",
      "zzb",
      "os",
      "method",
      "google",
      "java lang",
      "stop",
      "com google",
      "teramatrix",
      ";"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/abhishek-tm/general-utilities-android/commit/dda960e0989fd54ba7009705fc5d8e4b69d3ca8b",
      "files": [
        {
          "file_name": "utilities/src/main/java/in/teramatrix/utilities/service/LocationHandler.java",
          "patch": "@@ -327,7 +327,8 @@ public LocationHandler start() {\n     public LocationHandler stop() {\n         if (mGoogleApiClient !\u003d null) {\n             LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this);\n-            mGoogleApiClient.disconnect();\n+            if (mGoogleApiClient.isConnecting() || mGoogleApiClient.isConnected())\n+                mGoogleApiClient.disconnect();\n         }\n         return this;\n     }"
        }
      ]
    }
  },
  {
    "name": "Fix attachments panel animation concurrency",
    "url": "https://github.com/kontalk/androidclient/issues/699",
    "description": "```\njava.lang.IllegalStateException: Animator has already started, cannot change it now!\n       at android.view.RenderNodeAnimator.checkMutable(RenderNodeAnimator.java:149)\n       at android.view.RenderNodeAnimator.setInterpolator(RenderNodeAnimator.java:351)\n       at io.codetail.animation.SupportAnimatorLollipop.setInterpolator(SupportAnimatorLollipop.java:51)\n       at org.kontalk.ui.ComposeMessageFragment.startAttachmentViewAnimation(ComposeMessageFragment.java:1126)\n       at org.kontalk.ui.ComposeMessageFragment.toggleAttachmentView(ComposeMessageFragment.java:1146)\n       at org.kontalk.ui.ComposeMessageFragment$4.onClick(ComposeMessageFragment.java:638)\n       at android.view.View.performClick(View.java:4785)\n       at android.view.View$PerformClick.run(View.java:19884)\n       at android.os.Handler.handleCallback(Handler.java:739)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:135)\n       at android.app.ActivityThread.main(ActivityThread.java:5343)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:372)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700)\n```\n",
    "keywords": [
      "composemessagefragment",
      "handler",
      "os",
      "method",
      "kontalk ui",
      "org",
      "android",
      "view",
      "java",
      "ui",
      "lang",
      "kontalk",
      "zygoteinit",
      "rendernodeanimator"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/294193afa99ecca4c66f4f0a9086cae49b41cf5c",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -82,15 +82,11 @@\n import android.view.MenuItem;\n import android.view.View;\n import android.view.ViewGroup;\n-import android.view.animation.AccelerateDecelerateInterpolator;\n import android.widget.ImageView;\n import android.widget.ListView;\n import android.widget.TextView;\n import android.widget.Toast;\n \n-import io.codetail.animation.SupportAnimator;\n-import io.codetail.animation.ViewAnimationUtils;\n-\n import org.kontalk.Kontalk;\n import org.kontalk.R;\n import org.kontalk.authenticator.Authenticator;\n@@ -113,6 +109,7 @@\n import org.kontalk.service.DownloadService;\n import org.kontalk.service.msgcenter.MessageCenterService;\n import org.kontalk.ui.adapter.MessageListAdapter;\n+import org.kontalk.ui.view.AttachmentRevealFrameLayout;\n import org.kontalk.ui.view.AudioContentView;\n import org.kontalk.ui.view.AudioContentViewControl;\n import org.kontalk.ui.view.AudioPlayerControl;\n@@ -169,9 +166,7 @@ public int getValue() {\n     }\n \n     /* Attachment chooser stuff. */\n-    private SupportAnimator mAttachAnimator;\n-    private View mAttachmentCard;\n-    private View mAttachmentContainer;\n+    private AttachmentRevealFrameLayout mAttachmentContainer;\n \n     protected ComposerBar mComposer;\n \n@@ -579,13 +574,12 @@ private void initAttachmentView()\n     {\n         View view \u003d getView();\n \n-        mAttachmentContainer \u003d view.findViewById(R.id.attachment_container);\n-        mAttachmentCard \u003d view.findViewById(R.id.circular_card);\n+        mAttachmentContainer \u003d (AttachmentRevealFrameLayout) view.findViewById(R.id.attachment_container);\n \n         View.OnClickListener hideAttachmentListener \u003d new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n-                toggleAttachmentView();\n+                hideAttachmentView();\n             }\n         };\n         view.findViewById(R.id.attachment_overlay).setOnClickListener(hideAttachmentListener);\n@@ -595,15 +589,15 @@ public void onClick(View v) {\n             @Override\n             public void onClick(View v) {\n                 selectPhotoAttachment();\n-                toggleAttachmentView();\n+                hideAttachmentView();\n             }\n         });\n \n         view.findViewById(R.id.attach_gallery).setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n                 selectGalleryAttachment();\n-                toggleAttachmentView();\n+                hideAttachmentView();\n             }\n         });\n \n@@ -618,7 +612,7 @@ public void onClick(View v) {\n             @Override\n             public void onClick(View v) {\n                 selectAudioAttachment();\n-                toggleAttachmentView();\n+                hideAttachmentView();\n             }\n         });\n \n@@ -633,7 +627,7 @@ public void onClick(View v) {\n             @Override\n             public void onClick(View v) {\n                 selectContactAttachment();\n-                toggleAttachmentView();\n+                hideAttachmentView();\n             }\n         });\n \n@@ -906,65 +900,29 @@ private void chooseContact() {\n \n     boolean tryHideAttachmentView() {\n         if (isAttachmentViewVisible()) {\n-            setupAttachmentViewCloseAnimation();\n-            startAttachmentViewAnimation();\n+            mAttachmentContainer.hide();\n             return true;\n         }\n         return false;\n     }\n \n-    private void setupAttachmentViewCloseAnimation() {\n-        if (mAttachAnimator !\u003d null \u0026\u0026 !mAttachAnimator.isRunning()) {\n-            // reverse the animation\n-            mAttachAnimator \u003d mAttachAnimator.reverse();\n-            mAttachAnimator.addListener(new SupportAnimator.AnimatorListener() {\n-                public void onAnimationCancel() {\n-                }\n-\n-                public void onAnimationEnd() {\n-                    mAttachmentContainer.setVisibility(View.INVISIBLE);\n-                    mAttachAnimator \u003d null;\n-                }\n-\n-                public void onAnimationRepeat() {\n-                }\n-\n-                public void onAnimationStart() {\n-                }\n-            });\n-        }\n-    }\n-\n     private boolean isAttachmentViewVisible() {\n-        return mAttachmentContainer.getVisibility() !\u003d View.INVISIBLE || mAttachAnimator !\u003d null;\n+        return mAttachmentContainer.getVisibility() \u003d\u003d View.VISIBLE \u0026\u0026\n+            !mAttachmentContainer.isClosing();\n     }\n \n-    private void startAttachmentViewAnimation() {\n-        mAttachAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\n-        mAttachAnimator.setDuration(250);\n-        mAttachAnimator.start();\n+    void hideAttachmentView() {\n+        mAttachmentContainer.hide();\n     }\n \n     /** Show or hide the attachment selector. */\n-    public void toggleAttachmentView() {\n-        if (isAttachmentViewVisible()) {\n-            setupAttachmentViewCloseAnimation();\n-        }\n-        else {\n-            mComposer.forceHideKeyboard();\n-            mAttachmentContainer.setVisibility(View.VISIBLE);\n-\n-            int right \u003d mAttachmentCard.getRight();\n-            int top \u003d mAttachmentCard.getTop();\n-            float f \u003d (float) Math.sqrt(Math.pow(mAttachmentCard.getWidth(), 2D) + Math.pow(mAttachmentCard.getHeight(), 2D));\n-            mAttachAnimator \u003d ViewAnimationUtils.createCircularReveal(mAttachmentCard, right, top, 0, f);\n-        }\n-\n-        startAttachmentViewAnimation();\n+    private void toggleAttachmentView() {\n+        mComposer.forceHideKeyboard();\n+        mAttachmentContainer.toggle();\n     }\n \n     /** Starts an activity for shooting a picture. */\n-    private void selectPhotoAttachment() {\n+    void selectPhotoAttachment() {\n         try {\n             // check if camera is available\n             final PackageManager packageManager \u003d getActivity().getPackageManager();\n@@ -997,7 +955,7 @@ private void selectPhotoAttachment() {\n \n     /** Starts an activity for picture attachment selection. */\n     @TargetApi(Build.VERSION_CODES.KITKAT)\n-    private void selectGalleryAttachment() {\n+    void selectGalleryAttachment() {\n         boolean useSAF \u003d MediaStorage.isStorageAccessFrameworkAvailable();\n         Intent pictureIntent \u003d createGalleryIntent(useSAF);\n \n@@ -1042,7 +1000,7 @@ private Intent createGalleryIntent(boolean useSAF) {\n     }\n \n     /** Starts activity for a vCard attachment from a contact. */\n-    private void selectContactAttachment() {\n+    void selectContactAttachment() {\n         try {\n             Intent i \u003d new Intent(Intent.ACTION_PICK, Contacts.CONTENT_URI);\n             startActivityForResult(i, SELECT_ATTACHMENT_CONTACT);\n@@ -1055,7 +1013,7 @@ private void selectContactAttachment() {\n         }\n     }\n \n-    private void selectAudioAttachment() {\n+    void selectAudioAttachment() {\n         // create audio fragment if needed\n         AudioFragment audio \u003d getAudioFragment();\n         // stop everything"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessageFragment.java",
          "patch": "@@ -131,10 +131,6 @@ public boolean onOptionsItemSelected(MenuItem item) {\n                 viewContact();\n                 return true;\n \n-            case R.id.menu_attachment:\n-                toggleAttachmentView();\n-                return true;\n-\n             case R.id.block_user:\n                 blockUser();\n                 return true;"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/view/AttachmentRevealFrameLayout.java",
          "patch": "@@ -0,0 +1,165 @@\n+/*\n+ * Kontalk Android client\n+ * Copyright (C) 2016 Kontalk Devteam \u003cdevteam@kontalk.org\u003e\n+\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+\n+ * You should have received a copy of the GNU General Public License\n+ * along with this program.  If not, see \u003chttp://www.gnu.org/licenses/\u003e.\n+ */\n+\n+package org.kontalk.ui.view;\n+\n+import android.annotation.TargetApi;\n+import android.content.Context;\n+import android.os.Build;\n+import android.util.AttributeSet;\n+import android.view.View;\n+import android.view.animation.AccelerateDecelerateInterpolator;\n+\n+import io.codetail.animation.SupportAnimator;\n+import io.codetail.animation.ViewAnimationUtils;\n+import io.codetail.widget.RevealFrameLayout;\n+\n+import org.kontalk.R;\n+\n+\n+/**\n+ * Composite view for the attachment reveal frame layout.\n+ * Created mainly for handling animators concurrency. It seems like an overkill,\n+ * but I was getting crazy with race conditions. If someone has a better idea,\n+ * please propose a patch.\n+ * @author Daniele Ricci\n+ */\n+public class AttachmentRevealFrameLayout extends RevealFrameLayout {\n+\n+    private View mContent;\n+\n+    private SupportAnimator mShowAnimator;\n+    boolean mFullyVisible;\n+    SupportAnimator mHideAnimator;\n+\n+    public AttachmentRevealFrameLayout(Context context) {\n+        super(context);\n+    }\n+\n+    public AttachmentRevealFrameLayout(Context context, AttributeSet attrs) {\n+        super(context, attrs);\n+    }\n+\n+    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n+    public AttachmentRevealFrameLayout(Context context, AttributeSet attrs, int defStyle) {\n+        super(context, attrs, defStyle);\n+    }\n+\n+    @Override\n+    protected void onFinishInflate() {\n+        super.onFinishInflate();\n+        // mAttachmentContainer \u003d this\n+        mContent \u003d findViewById(R.id.circular_card);\n+    }\n+\n+    public void show() {\n+        if (mHideAnimator !\u003d null \u0026\u0026 mHideAnimator.isRunning()) {\n+            mHideAnimator.cancel();\n+            mHideAnimator \u003d null;\n+        }\n+\n+        // if show animation ended (meaning content is fully visible) this is a no-op\n+        if (mFullyVisible) {\n+            return;\n+        }\n+\n+        setVisibility(VISIBLE);\n+        int right \u003d mContent.getRight();\n+        int top \u003d mContent.getTop();\n+        float f \u003d (float) Math.sqrt(Math.pow(mContent.getWidth(), 2D) + Math.pow(mContent.getHeight(), 2D));\n+        mShowAnimator \u003d ViewAnimationUtils.createCircularReveal(mContent, right, top, 0, f);\n+        setAnimatorParams(mShowAnimator);\n+        mShowAnimator.addListener(new SupportAnimator.AnimatorListener() {\n+            @Override\n+            public void onAnimationStart() {\n+            }\n+\n+            @Override\n+            public void onAnimationEnd() {\n+                mFullyVisible \u003d true;\n+            }\n+\n+            @Override\n+            public void onAnimationCancel() {\n+            }\n+\n+            @Override\n+            public void onAnimationRepeat() {\n+            }\n+        });\n+\n+        // create hide animation now\n+        mHideAnimator \u003d mShowAnimator.reverse();\n+        setAnimatorParams(mHideAnimator);\n+        mHideAnimator.addListener(new SupportAnimator.AnimatorListener() {\n+            @Override\n+            public void onAnimationStart() {\n+            }\n+\n+            @Override\n+            public void onAnimationEnd() {\n+                setVisibility(INVISIBLE);\n+                mFullyVisible \u003d false;\n+                mHideAnimator \u003d null;\n+            }\n+\n+            @Override\n+            public void onAnimationCancel() {\n+            }\n+\n+            @Override\n+            public void onAnimationRepeat() {\n+            }\n+        });\n+\n+        mShowAnimator.start();\n+    }\n+\n+    public void hide() {\n+        mFullyVisible \u003d false;\n+\n+        // cancel show animation (if any)\n+        if (mShowAnimator !\u003d null \u0026\u0026 mShowAnimator.isRunning()) {\n+            mShowAnimator.cancel();\n+            mShowAnimator \u003d null;\n+        }\n+\n+        if (mHideAnimator !\u003d null \u0026\u0026 !mHideAnimator.isRunning()) {\n+            mHideAnimator.start();\n+        }\n+    }\n+\n+    public void toggle() {\n+        if (getVisibility() \u003d\u003d VISIBLE) {\n+            hide();\n+        }\n+        else {\n+            show();\n+        }\n+    }\n+\n+    public boolean isClosing() {\n+        return mHideAnimator !\u003d null \u0026\u0026 mHideAnimator.isRunning();\n+    }\n+\n+    private void setAnimatorParams(SupportAnimator anim) {\n+        anim.setInterpolator(new AccelerateDecelerateInterpolator());\n+        anim.setDuration(250);\n+    }\n+\n+}"
        },
        {
          "file_name": "app/src/main/res/layout/circular_attach_view.xml",
          "patch": "@@ -16,7 +16,8 @@\n      along with this program.  If not, see \u003chttp://www.gnu.org/licenses/\u003e.\n  --\u003e\n \n-\u003cio.codetail.widget.RevealFrameLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+\u003corg.kontalk.ui.view.AttachmentRevealFrameLayout\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n     xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\n     android:id\u003d\"@+id/attachment_container\"\n     android:layout_width\u003d\"match_parent\"\n@@ -111,4 +112,4 @@\n \n     \u003c/FrameLayout\u003e\n \n-\u003c/io.codetail.widget.RevealFrameLayout\u003e\n+\u003c/org.kontalk.ui.view.AttachmentRevealFrameLayout\u003e"
        }
      ]
    }
  },
  {
    "name": "Падение при изменении стиля",
    "url": "https://github.com/nextgis/android_gisapp/issues/449",
    "description": "```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.widget.LinearLayout.removeAllViews()\u0027 on a null object reference\n    at com.nextgis.maplibui.dialog.StyledDialogFragment.onDestroyView(StyledDialogFragment.java:300)\n    at android.support.v4.app.Fragment.performDestroyView(Fragment.java:2170)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1152)\n    at android.support.v4.app.FragmentManagerImpl.removeFragment(FragmentManager.java:1356)\n    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:695)\n    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1624)\n    at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:517)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:234)\n    at android.app.ActivityThread.main(ActivityThread.java:5526)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "os",
      "method",
      "android",
      "android support",
      "support v4",
      "run",
      "v4 app",
      "fragmentmanager",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/b826194a07a65341f2920e3c7d164d188a8ea0e0",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 5c114bfe592f3c23e16f283c3ff2ac2864d17025\n+Subproject commit 88ea3ae738bfd9e0e2b81018848d96b91b43872f"
        }
      ]
    }
  },
  {
    "name": "Crash on editing",
    "url": "https://github.com/nextgis/android_gisapp/issues/531",
    "description": "```\njava.lang.IndexOutOfBoundsException\n    at java.util.LinkedList.get(LinkedList.java:519)\n    at com.nextgis.maplibui.overlay.UndoRedoOverlay.restoreFromHistory(UndoRedoOverlay.java:139)\n    at com.nextgis.maplibui.overlay.UndoRedoOverlay.onOptionsItemSelected(UndoRedoOverlay.java:109)\n    at com.nextgis.mobile.fragment.MapFragment.onOptionsItemSelected(MapFragment.java:245)\n    at com.nextgis.mobile.activity.MainActivity.onOptionsItemSelected(MainActivity.java:284)\n    at android.app.Activity.onMenuItemSelected(Activity.java:2537)\n    at android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:421)\n    at android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:188)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:69)\n    at android.support.v7.widget.Toolbar$1.onMenuItemClick(Toolbar.java:202)\n    at android.support.v7.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:761)\n    at android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:810)\n    at android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)\n    at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:957)\n    at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:947)\n    at android.support.v7.widget.ActionMenuView.invokeItem(ActionMenuView.java:618)\n    at android.support.v7.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:155)\n    at android.view.View.performClick(View.java:4084)\n    at android.view.View$PerformClick.run(View.java:16966)\n    at android.os.Handler.handleCallback(Handler.java:615)\n    at android.os.Handler.dispatchMessage(Handler.java:92)\n    at android.os.Looper.loop(Looper.java:137)\n    at android.app.ActivityThread.main(ActivityThread.java:4812)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:511)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:126)\n    at dalvik.system.NativeStart.main(Native Method)\n\n```\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "undoredooverlay",
      "widget",
      "activity",
      "onoptionsitemselected",
      "android",
      "android support",
      "main",
      "v7 view",
      "view",
      "java",
      "support v7",
      "onmenuitemselected",
      "lang",
      "zygoteinit",
      "app",
      "os",
      "method",
      "menu menubuilder",
      "nextgis",
      "actionmenuview",
      "menu",
      "menubuilder",
      "windowcallbackwrapper",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/dd2267d8210043f7512f2313f5856b17b902fc5c",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/fragment/MapFragment.java",
          "patch": "@@ -49,6 +49,7 @@\n import android.util.Log;\n import android.util.TypedValue;\n import android.view.LayoutInflater;\n+import android.view.Menu;\n import android.view.MenuItem;\n import android.view.MotionEvent;\n import android.view.View;\n@@ -190,6 +191,7 @@ public void setOnModeChangeListener(onModeChange listener) {\n     public void onCreate(Bundle savedInstanceState)\n     {\n         super.onCreate(savedInstanceState);\n+        setHasOptionsMenu(true);\n         mActivity \u003d (MainActivity) getActivity();\n         mTolerancePX \u003d mActivity.getResources().getDisplayMetrics().density * ConstantsUI.TOLERANCE_DP;\n \n@@ -203,6 +205,17 @@ public void onCreate(Bundle savedInstanceState)\n         mEditLayerOverlay \u003d new EditLayerOverlay(mActivity, mMap);\n     }\n \n+    @Override\n+    public void onPrepareOptionsMenu(Menu menu) {\n+        super.onPrepareOptionsMenu(menu);\n+\n+        if (mUndoRedoOverlay !\u003d null)\n+            mUndoRedoOverlay.defineUndoRedo();\n+\n+        if (mEditLayerOverlay !\u003d null)\n+            mEditLayerOverlay.setHasEdits(mEditLayerOverlay.hasEdits());\n+    }\n+\n     public void restartGpsListener() {\n         mGpsEventSource.removeListener(this);\n         mGpsEventSource.addListener(this);"
        }
      ]
    }
  },
  {
    "name": "NPE Attempt to get length of null array storage.LocalStorage",
    "url": "https://github.com/cgeo/cgeo/issues/6554",
    "description": "Taken from Google Play for version 2017.05.09:\r\n\r\n```\r\nio.reactivex.exceptions.OnErrorNotImplementedException: Attempt to get length of null array\r\n\tat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\r\n\tat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\r\n\tat io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:74)\r\n\tat io.reactivex.internal.operators.observable.ObservableTakeWhile$TakeWhileObserver.onError(ObservableTakeWhile.java:100)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.checkTerminated(ObservableObserveOn.java:276)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:172)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\r\n\tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)\r\n\tat android.os.Handler.handleCallback(Handler.java:739)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:168)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5845)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)\r\n\tat de.robv.android.xposed.XposedBridge.main(XposedBridge.java:102)\r\nCaused by: java.lang.NullPointerException: Attempt to get length of null array\r\n\tat cgeo.geocaching.storage.LocalStorage$2.call(LocalStorage.java:338)\r\n\tat cgeo.geocaching.storage.LocalStorage$2.call(LocalStorage.java:331)\r\n\tat io.reactivex.internal.operators.observable.ObservableDefer.subscribeActual(ObservableDefer.java:32)\r\n\tat io.reactivex.Observable.subscribe(Observable.java:10841)\r\n\tat io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\r\n\tat io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:451)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:154)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n\tat java.lang.Thread.run(Thread.java:818)\r\n```\r\n\r\n```\r\nio.reactivex.exceptions.OnErrorNotImplementedException: Attempt to get length of null array\r\n\tat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\r\n\tat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\r\n\tat io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:74)\r\n\tat io.reactivex.internal.operators.observable.ObservableTakeWhile$TakeWhileObserver.onError(ObservableTakeWhile.java:100)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.checkTerminated(ObservableObserveOn.java:276)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:172)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\r\n\tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)\r\n\tat android.os.Handler.handleCallback(Handler.java:739)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:158)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7229)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\nCaused by: java.lang.NullPointerException: Attempt to get length of null array\r\n\tat cgeo.geocaching.storage.LocalStorage$2.call(LocalStorage.java:338)\r\n\tat cgeo.geocaching.storage.LocalStorage$2.call(LocalStorage.java:331)\r\n\tat io.reactivex.internal.operators.observable.ObservableDefer.subscribeActual(ObservableDefer.java:32)\r\n\tat io.reactivex.Observable.subscribe(Observable.java:10841)\r\n\tat io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\r\n\tat io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:451)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:154)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n\tat java.lang.Thread.run(Thread.java:818)\r\n```\r\n\r\n2 of these reports, both Android 6.0:\r\n- HTC One M8\r\n- Samsung S7 \r\n\r\nNo user message.",
    "keywords": [
      "com",
      "handler",
      "functions",
      "operators observable",
      "main",
      "run",
      "attempt",
      "internal operators",
      "reactivex",
      "scheduledrunnable",
      "observableobserveon$observeonobserver",
      "java",
      "schedulers",
      "util concurrent",
      "null array",
      "cgeo",
      "android os",
      "method",
      "io",
      "observable observableobserveon$observeonobserver",
      "localstorage",
      "accept",
      "geocaching",
      "scheduledthreadpoolexecutor$scheduledfuturetask",
      "functions$onerrormissingconsumer",
      "null",
      "util",
      "scheduledthreadpoolexecutor",
      "threadpoolexecutor",
      "internal",
      "geocaching storage",
      "onerror",
      "android",
      "concurrent",
      "looper",
      "storage",
      "futuretask",
      "operators",
      "array",
      "lambdaobserver",
      "get",
      "observableobserveon",
      "lang",
      "localstorage$2",
      "localstorage$2 call",
      "zygoteinit",
      "io reactivex",
      "os",
      "length",
      "thread",
      "java lang",
      "call",
      "reactivex internal",
      "activitythread",
      "observabledefer",
      "observable"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/3084a47270b2d2e6edcb45f495a44a3902b82199",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/storage/LocalStorage.java",
          "patch": "@@ -27,6 +27,7 @@\n import io.reactivex.Observable;\n import io.reactivex.functions.Consumer;\n import io.reactivex.schedulers.Schedulers;\n+import org.apache.commons.lang3.ArrayUtils;\n import org.apache.commons.lang3.CharEncoding;\n import org.apache.commons.lang3.StringUtils;\n \n@@ -335,12 +336,14 @@ public static void changeExternalPrivateCgeoDir(final SettingsActivity fromActiv\n                 final File currentDataDir \u003d new File(getExternalPrivateCgeoDirectory(), GEOCACHE_DATA_DIR_NAME);\n                 Log.i(\"Moving geocache data to \" + newDataDir.getAbsolutePath());\n                 final File[] files \u003d currentDataDir.listFiles();\n-                progress.setMaxProgressAndReset(files.length);\n-                progress.setProgress(0);\n                 boolean success \u003d true;\n-                for (final File geocacheDataDir : files) {\n-                    success \u0026\u003d FileUtils.moveTo(geocacheDataDir, newDataDir);\n-                    progress.incrementProgressBy(1);\n+                if (ArrayUtils.isNotEmpty(files)) {\n+                    progress.setMaxProgressAndReset(files.length);\n+                    progress.setProgress(0);\n+                    for (final File geocacheDataDir : files) {\n+                        success \u0026\u003d FileUtils.moveTo(geocacheDataDir, newDataDir);\n+                        progress.incrementProgressBy(1);\n+                    }\n                 }\n \n                 Settings.setExternalPrivateCgeoDirectory(newExtDir);"
        },
        {
          "file_name": "main/src/cgeo/geocaching/utils/FileUtils.java",
          "patch": "@@ -458,8 +458,10 @@ public static long getSize(final File file) {\n         if (file.isDirectory()) {\n             long result \u003d 0;\n             final File[] fileList \u003d file.listFiles();\n-            for (final File aFileList : fileList) {\n-                result +\u003d getSize(aFileList);\n+            if (ArrayUtils.isNotEmpty(fileList)) {\n+                for (final File aFileList : fileList) {\n+                    result +\u003d getSize(aFileList);\n+                }\n             }\n             return result; // return the file size\n         }"
        }
      ]
    }
  },
  {
    "name": "com.kyanogen.signatureview.SignatureView.newBitmapCanvas(",
    "url": "https://github.com/zahid-ali-shah/SignatureView/issues/7",
    "description": "E/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.excellonsoft.serviceapp, PID: 3939\r\n                  java.lang.IllegalArgumentException: width and height must be \u003e 0\r\n                      at android.graphics.Bitmap.createBitmap(Bitmap.java:829)\r\n                      at android.graphics.Bitmap.createBitmap(Bitmap.java:808)\r\n                      at android.graphics.Bitmap.createBitmap(Bitmap.java:775)\r\n                      at com.kyanogen.signatureview.SignatureView.newBitmapCanvas(SignatureView.java:186)\r\n                      at com.kyanogen.signatureview.SignatureView.onLayout(SignatureView.java:179)\r\n                      at android.view.View.layout(View.java:16630)\r\n                      at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1743)\r\n                      at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1586)\r\n                      at android.widget.LinearLayout.onLayout(LinearLayout.java:1495)\r\n                      at android.view.View.layout(View.java:16630)\r\n                      at android.view.ViewGroup.layout(ViewGroup.java:5437)\r\n                      at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1743)\r\n                      at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1586)\r\n                      at android.widget.LinearLayout.onLayout(LinearLayout.java:1495)\r\n                      at android.view.View.layout(View.java:16630)\r\n                      at android.view.ViewGroup.layout(ViewGroup.java:5437)\r\n                      at android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)\r\n                      at android.widget.FrameLayout.onLayout(FrameLayout.java:273)\r\n                      at android.view.View.layout(View.java:16630)\r\n                      at android.view.ViewGroup.layout(ViewGroup.java:5437)\r\n                      at android.support.v7.widget.RecyclerView$LayoutManager.layoutDecoratedWithMargins(RecyclerView.java:8074)\r\n                      at android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1472)\r\n                      at android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1377)\r\n                      at android.support.v7.widget.LinearLayoutManager.scrollBy(LinearLayoutManager.java:1193)\r\n                      at android.support.v7.widget.LinearLayoutManager.scrollVerticallyBy(LinearLayoutManager.java:1043)\r\n                      at android.support.v7.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:4413)\r\n                      at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\r\n                      at android.view.Choreographer.doCallbacks(Choreographer.java:670)\r\n                      at android.view.Choreographer.doFrame(Choreographer.java:603)\r\n                      at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\r\n                      at android.os.Handler.handleCallback(Handler.java:739)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                      at android.os.Looper.loop(Looper.java:148)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)",
    "keywords": [
      "com",
      "v7",
      "handler",
      "widget",
      "framelayout",
      "choreographer",
      "android",
      "android support",
      "run",
      "main",
      "graphics",
      "java:5437",
      "linearlayout",
      "view",
      "signatureview",
      "java:16630",
      "android widget",
      "support v7",
      "viewgroup",
      "bitmap",
      "android view",
      "zygoteinit",
      "onlayout",
      "createbitmap",
      "os",
      "kyanogen",
      "widget linearlayout",
      "signatureview signatureview",
      "layout",
      "linearlayoutmanager",
      "v7 widget",
      "com kyanogen",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/zahid-ali-shah/SignatureView/commit/5c5148679fcababa551615de572abc8b01df7b39",
      "files": [
        {
          "file_name": "signature-view/src/main/java/com/kyanogen/signatureview/SignatureView.java",
          "patch": "@@ -172,8 +172,7 @@ public void clearCanvas(){\n     }\n \n     @Override\n-    protected void onLayout(boolean changed, int left, int top, int right,\n-                            int bottom) {\n+    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n         super.onLayout(changed, left, top, right, bottom);\n         layoutLeft \u003d left;\n         layoutTop \u003d top;\n@@ -187,9 +186,11 @@ protected void onLayout(boolean changed, int left, int top, int right,\n     private void newBitmapCanvas(int left, int top, int right, int bottom) {\n         bmp \u003d null;\n         canvasBmp \u003d null;\n-        bmp \u003d Bitmap.createBitmap(right - left, bottom - top, Bitmap.Config.ARGB_8888);\n-        canvasBmp \u003d new Canvas(bmp);\n-        canvasBmp.drawColor(backgroundColor);\n+        if ((right - left)\u003e0 \u0026\u0026 (bottom - top)\u003e0) {\n+            bmp \u003d Bitmap.createBitmap(right - left, bottom - top, Bitmap.Config.ARGB_8888);\n+            canvasBmp \u003d new Canvas(bmp);\n+            canvasBmp.drawColor(backgroundColor);\n+        }\n     }\n \n     @Override\n@@ -305,16 +306,16 @@ private float getPt( float n1 , float n2 , float perc){\n \n     private void draw(Point p0, Point p1, Point p2, float lastWidth,\n                       float currentWidth, float velocity){\n+        if(canvasBmp!\u003dnull){\n+            float xa, xb, ya, yb, x, y;\n+            float increment;\n+            if(velocity\u003eMIN_VELOCITY_BOUND \u0026\u0026 velocity\u003c MAX_VELOCITY_BOUND){\n+                increment \u003d DRAWING_CONSTANT - (velocity * INCREMENT_CONSTANT);\n+            }else{\n+                increment \u003d MIN_INCREMENT;\n+            }\n \n-        float xa, xb, ya, yb, x, y;\n-        float increment;\n-        if(velocity\u003eMIN_VELOCITY_BOUND \u0026\u0026 velocity\u003c MAX_VELOCITY_BOUND){\n-            increment \u003d DRAWING_CONSTANT - (velocity * INCREMENT_CONSTANT);\n-        }else{\n-            increment \u003d MIN_INCREMENT;\n-        }\n-\n-        for(float i \u003d 0f; i \u003c 1f; i +\u003d increment){\n+            for(float i \u003d 0f; i \u003c 1f; i +\u003d increment){\n                 xa \u003d getPt( p0.x , p1.x , i );\n                 ya \u003d getPt( p0.y , p1.y , i );\n                 xb \u003d getPt( p1.x , p2.x , i );\n@@ -323,9 +324,10 @@ private void draw(Point p0, Point p1, Point p2, float lastWidth,\n                 x \u003d getPt( xa , xb , i );\n                 y \u003d getPt( ya , yb , i );\n \n-            float strokeVal \u003d lastWidth + (currentWidth - lastWidth) * (i);\n-            paint.setStrokeWidth(strokeVal \u003c MIN_PEN_SIZE ? MIN_PEN_SIZE : strokeVal);\n-            canvasBmp.drawPoint(x, y, paint);\n+                float strokeVal \u003d lastWidth + (currentWidth - lastWidth) * (i);\n+                paint.setStrokeWidth(strokeVal \u003c MIN_PEN_SIZE ? MIN_PEN_SIZE : strokeVal);\n+                canvasBmp.drawPoint(x, y, paint);\n+            }\n         }\n     }\n \n@@ -339,7 +341,11 @@ private Point midPoint(Point p1, Point p2){\n      * @return Bitmap\n      */\n     public Bitmap getSignatureBitmap(){\n-        return Bitmap.createScaledBitmap(bmp, bmp.getWidth(), bmp.getHeight(), true);\n+        if (bmp!\u003dnull) {\n+            return Bitmap.createScaledBitmap(bmp, bmp.getWidth(), bmp.getHeight(), true);\n+        }else {\n+            return null;\n+        }\n     }\n \n     private Bitmap getSignatureBitmap(Bitmap bitmap){\n@@ -351,13 +357,14 @@ private Bitmap getSignatureBitmap(Bitmap bitmap){\n      *\n      * @param   bitmap Bitmap\n      */\n-    public void setBitmap(Bitmap bitmap)\n-    {\n-        bmp\u003dbitmap;\n-        canvasBmp \u003d new Canvas(bitmap);\n-        postInvalidate();\n+    public void setBitmap(Bitmap bitmap) {\n+        if (bmp!\u003dnull) {\n+            bmp\u003dbitmap;\n+            canvasBmp \u003d new Canvas(bitmap);\n+            postInvalidate();\n+        }\n     }\n-    \n+\n     /**\n      * Check is signature bitmap empty\n      *"
        }
      ]
    }
  },
  {
    "name": "NullPointerException in Aesthetic#subscribeBackgroundListeners",
    "url": "https://github.com/afollestad/aesthetic/issues/18",
    "description": "Device: any\r\nAndroid version: same result on 7.0+\r\n\r\n```gradle\r\njava.lang.RuntimeException: Unable to resume activity {com.mnml.music.test/com.mnml.music.ui.activity.AboutActivity}: java.lang.NullPointerException: Attempt to invoke interface method \u0027java.util.Iterator java.util.List.iterator()\u0027 on a null object reference\r\n                                                                       at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3644)\r\n                                                                       at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3684)\r\n                                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2896)\r\n                                                                       at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1591)\r\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:105)\r\n                                                                       at android.os.Looper.loop(Looper.java:164)\r\n                                                                       at android.app.ActivityThread.main(ActivityThread.java:6535)\r\n                                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke interface method \u0027java.util.Iterator java.util.List.iterator()\u0027 on a null object reference\r\n                                                                       at com.afollestad.aesthetic.Aesthetic.subscribeBackgroundListeners(Aesthetic.java:258)\r\n                                                                       at com.afollestad.aesthetic.Aesthetic.resume(Aesthetic.java:169)\r\n                                                                       at com.afollestad.aesthetic.AestheticActivity.onResume(AestheticActivity.java:19)\r\n                                                                       at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1354)\r\n                                                                       at android.app.Activity.performResume(Activity.java:7058)\r\n                                                                       at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3619)\r\n```\r\n\r\nSource code at https://github.com/MnmlOS/Music\r\n\r\nAppears to be an issue relating to AboutLibraries",
    "keywords": [
      "com",
      "app",
      "aesthetic",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "invoke",
      "nullpointerexception",
      "java lang",
      "afollestad aesthetic",
      "activitythread",
      "iterator",
      "afollestad",
      "java",
      "util",
      "android app",
      "lang"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/afollestad/aesthetic/commit/d97b643edabc5d16687d9452235d5920ac6d57fd",
      "files": [
        {
          "file_name": "library/src/main/java/com/afollestad/aesthetic/Aesthetic.java",
          "patch": "@@ -39,7 +39,9 @@\n import static com.afollestad.aesthetic.Util.setLightStatusBarCompat;\n import static com.afollestad.aesthetic.Util.setNavBarColorCompat;\n \n-/** @author Aidan Follestad (afollestad) */\n+/**\n+ * @author Aidan Follestad (afollestad)\n+ */\n @SuppressWarnings({\"WeakerAccess\", \"unused\"})\n public class Aesthetic {\n \n@@ -104,7 +106,9 @@ private static String key(@Nullable AppCompatActivity activity) {\n     return key;\n   }\n \n-  /** Should be called before super.onCreate() in each Activity. */\n+  /**\n+   * Should be called before super.onCreate() in each Activity.\n+   */\n   @NonNull\n   public static Aesthetic attach(@NonNull AppCompatActivity activity) {\n     if (instance \u003d\u003d null) {\n@@ -133,7 +137,9 @@ public static Aesthetic get() {\n     return instance;\n   }\n \n-  /** Should be called in onPause() of each Activity. */\n+  /**\n+   * Should be called in onPause() of each Activity.\n+   */\n   public static void pause(@NonNull AppCompatActivity activity) {\n     if (instance \u003d\u003d null) {\n       return;\n@@ -154,7 +160,9 @@ public static void pause(@NonNull AppCompatActivity activity) {\n     }\n   }\n \n-  /** Should be called in onResume() of each Activity. */\n+  /**\n+   * Should be called in onResume() of each Activity.\n+   */\n   public static void resume(@NonNull AppCompatActivity activity) {\n     if (instance \u003d\u003d null) {\n       return;\n@@ -198,14 +206,14 @@ public void accept(@io.reactivex.annotations.NonNull Integer themeId) {\n                 onErrorLogAndRethrow()));\n     instance.subs.add(\n         Observable.combineLatest(\n-                instance.colorStatusBar(),\n-                instance.lightStatusBarMode(),\n-                new BiFunction\u003cInteger, Integer, Pair\u003cInteger, Integer\u003e\u003e() {\n-                  @Override\n-                  public Pair\u003cInteger, Integer\u003e apply(Integer integer, Integer integer2) {\n-                    return Pair.create(integer, integer2);\n-                  }\n-                })\n+            instance.colorStatusBar(),\n+            instance.lightStatusBarMode(),\n+            new BiFunction\u003cInteger, Integer, Pair\u003cInteger, Integer\u003e\u003e() {\n+              @Override\n+              public Pair\u003cInteger, Integer\u003e apply(Integer integer, Integer integer2) {\n+                return Pair.create(integer, integer2);\n+              }\n+            })\n             .compose(Rx.\u003cPair\u003cInteger, Integer\u003e\u003edistinctToMainThread())\n             .subscribe(\n                 new Consumer\u003cPair\u003cInteger, Integer\u003e\u003e() {\n@@ -255,11 +263,13 @@ private static void subscribeBackgroundListeners() {\n     instance.backgroundSubscriptions \u003d new CompositeDisposable();\n     if (instance.backgroundSubscriberViews.size() \u003e 0) {\n       List\u003cViewObservablePair\u003e pairs \u003d instance.backgroundSubscriberViews.get(instance.context);\n-      for (ViewObservablePair pair : pairs) {\n-        instance.backgroundSubscriptions.add(\n-            pair.observable()\n-                .compose(Rx.\u003cInteger\u003edistinctToMainThread())\n-                .subscribeWith(ViewBackgroundSubscriber.create(pair.view())));\n+      if (pairs !\u003d null) {\n+        for (ViewObservablePair pair : pairs) {\n+          instance.backgroundSubscriptions.add(\n+              pair.observable()\n+                  .compose(Rx.\u003cInteger\u003edistinctToMainThread())\n+                  .subscribeWith(ViewBackgroundSubscriber.create(pair.view())));\n+        }\n       }\n     }\n   }"
        }
      ]
    }
  },
  {
    "name": "Падение при повороте экрана при просмотре атрибутов",
    "url": "https://github.com/nextgis/android_gisapp/issues/477",
    "description": "Стэктрейс\n\n```\njava.lang.NullPointerException\n    at com.nextgis.maplibui.activity.AttributesActivity.onSaveInstanceState(AttributesActivity.java:194)\n    at android.app.Activity.performSaveInstanceState(Activity.java:1137)\n    at android.app.Instrumentation.callActivityOnSaveInstanceState(Instrumentation.java:1215)\n    at android.app.ActivityThread.performStopActivityInner(ActivityThread.java:2955)\n    at android.app.ActivityThread.handleStopActivity(ActivityThread.java:3014)\n    at android.app.ActivityThread.access$900(ActivityThread.java:134)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1221)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:137)\n    at android.app.ActivityThread.main(ActivityThread.java:4744)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:511)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n",
    "keywords": [
      "com",
      "app",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "main",
      "java lang",
      "activitythread",
      "java",
      "android app",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/61f3e20988e84908f277d9eea85d1402b625a565",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 95a31c526bac7df8e898e0729afb54254fffca4d\n+Subproject commit b1e7a733ea16c5a26a1b7fcd224f17c207884144"
        }
      ]
    }
  },
  {
    "name": "Error in inflating layout due to adview in main.layout",
    "url": "https://github.com/fossasia/phimpme-android/issues/102",
    "description": "The app is crashing in tablet due to incorrect xmls:ads in main.xml(layout) \r\n\r\n**Expected Behaviour**\r\n  xmlns:ads\u003d\"http://schemas.android.com/apk/lib/com.google.ads\" \r\nshould be replaced with    \r\n xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\".\r\n  **or**\r\nComment adviews in main layout (large,small,x-large).\r\n\r\n\r\n**Steps to reproduce it**\r\n\r\nTry to run this app in the tablet (large- screen devices). Open mail.xm(layout-large,small,land,x-large).\r\n\r\n**LogCat for the issue**\r\n\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{vn.mbm.phimp.me/vn.mbm.phimp.me.PhimpMe}: android.view.InflateException: Binary **XML file line #47: Error inflating class com.google.ads.AdView\r\n  at** android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2260)\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2325)\r\n  at android.app.ActivityThread.access$800(ActivityThread.java:145)\r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1216)\r\n  at android.os.Handler.dispatchMessage(Handler.java:102)\r\n  at android.os.Looper.loop(Looper.java:145)\r\n  at android.app.ActivityThread.main(ActivityThread.java:5266)\r\n  at java.lang.reflect.Method.invokeNative(Native Method)\r\n  at java.lang.reflect.Method.invoke(Method.java:515)\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:826)\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:642)\r\n  at dalvik.system.NativeStart.main(Native Method)\r\n  Caused by: android.view.InflateException: Binary XML file line #47: Error inflating class com.google.ads.AdView\r\n  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:711)\r\n  at android.view.LayoutInflater.rInflate(LayoutInflater.java:759)\r\n  at android.view.LayoutInflater.inflate(LayoutInflater.java:496)\r\n  at android.view.LayoutInflater.inflate(LayoutInflater.java:398)\r\n  at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\r\n  at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:284)\r\n  at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:143)\r\n  at vn.mbm.phimp.me.PhimpMe.onCreate(PhimpMe.java:216)\r\n  at android.app.Activity.performCreate(Activity.java:5277)\r\n  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\r\n  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2213)\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2325) \r\n  at android.app.ActivityThread.access$800(ActivityThread.java:145) \r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1216) \r\n  at android.os.Handler.dispatchMessage(Handler.java:102) \r\n  at android.os.Looper.loop(Looper.java:145) \r\n  at android.app.ActivityThread.main(ActivityThread.java:5266) \r\n  at java.lang.reflect.Method.invokeNative(Native Method) \r\n  at java.lang.reflect.Method.invoke(Method.java:515) \r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:826) \r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:642) \r\n  at dalvik.system.NativeStart.main(Native Method) \r\n  Caused by: java.lang.ClassNotFoundException: Didn\u0027t find class \"com.google.ads.AdView\" on path: DexPathList[[zip file \"/data/app/vn.mbm.phimp.me-2.apk\", zip file \"/system/priv-app/AmazonPlatform-release.apk\", zip file \"/system/priv-app/DeviceClientPlatformContractsFramework.apk\", zip file \"/system/priv-app/DeviceSoftwareOTAContracts.apk\", zip file \"/system/priv-app/MetricsApi-2066310.apk\", zip file \"/system/priv-app/RemoteSettingsInternalSDK.apk\", zip file \"/system/priv-app/amazon.jackson-19.apk\", zip file \"/system/priv-app/com.amazon.communication.apk\", zip file \"/system/priv-app/com.amazon.dp.logger.apk\"],nativeLibraryDirectories\u003d[/data/app-lib/vn.mbm.phimp.me-2, /vendor/lib, /system/lib]]\r\n  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\r\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\r\n  at android.view.LayoutInflater.createView(LayoutInflater.java:563)\r\n  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:700)\r\n  at android.view.LayoutInflater.rInflate(LayoutInflater.java:759) \r\n  at android.view.LayoutInflater.inflate(LayoutInflater.java:496) \r\n  at android.view.LayoutInflater.inflate(LayoutInflater.java:398) \r\n  at android.view.LayoutInflater.inflate(LayoutInflater.java:353) \r\n  at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:284) \r\n  at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:143) \r\n  at vn.mbm.phimp.me.PhimpMe.onCreate(PhimpMe.java:216) \r\n  at android.app.Activity.performCreate(Activity.java:5277) \r\n\r\n\r\n\r\n**Would you like to work on the issue?**\r\n\r\nYes.\r\n\r\n",
    "keywords": [
      "phimpme",
      "com",
      "v7",
      "handler",
      "internal",
      "appcompatdelegateimplv9",
      "activity",
      "app activitythread",
      "android",
      "dalvik",
      "classloader",
      "main",
      "run",
      "looper",
      "error",
      "phimp",
      "apk zip",
      "view",
      "reflect",
      "file",
      "setcontentview",
      "java",
      "layoutinflater",
      "native",
      "android view",
      "lang",
      "java:145",
      "class",
      "apk",
      "zygoteinit",
      "zip",
      "app",
      "inflating",
      "method",
      "os",
      "appcompatactivity",
      "inflate layoutinflater",
      "google",
      "java lang",
      "view layoutinflater",
      "layout",
      "activitythread",
      "ads",
      "system",
      "inflate",
      "adview",
      "android app",
      "mbm",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/phimpme-android/commit/bfca61fc9fa5a68ba4af5799eaeb8f00dc947212",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -75,7 +75,6 @@ dependencies {\n     compile \u0027com.vistrav:ask:2.4\u0027\n     compile \u0027com.android.support:support-v4:25.0.1\u0027\n     compile \u0027com.google.android.gms:play-services-maps:9.0.2\u0027\n-    compile \u0027com.google.android.gms:play-services-ads:9.0.2\u0027\n     compile \u0027com.facebook.android:facebook-android-sdk:4.+\u0027\n     compile \u0027com.android.support:design:25.0.1\u0027\n     compile \u0027com.android.support:appcompat-v7:25.0.1\u0027"
        },
        {
          "file_name": "app/src/main/java/vn/mbm/phimp/me/PhimpMe.java",
          "patch": "@@ -32,7 +32,6 @@\n import android.widget.TabHost.TabSpec;\n import android.widget.Toast;\n \n-import com.google.android.gms.ads.AdView;\n import com.paypal.android.MEP.PayPal;\n import com.vistrav.ask.Ask;\n \n@@ -180,7 +179,6 @@\n     public static BottomNavigationView mBottomNav;\n     public static boolean check_donwload \u003d false;\n     public static boolean check_donwload_local_gallery \u003d false;\n-    public static AdView ad;\n     public static int flashStatus \u003d 2;\n \n     //Gallery\n@@ -237,42 +235,6 @@ public void run() {\n         Display display \u003d getWindowManager().getDefaultDisplay();\n         width \u003d display.getWidth() / 3;\n         height \u003d width;\n-        /*\n-         * Google admod\n-         */\n-        //ad \u003d (AdView) findViewById(R.id.adView);\n-        SharedPreferences setting \u003d getSharedPreferences(PREFS_NAME, 0);\n-        FEEDS_GOOGLE_ADMOB \u003d setting.getBoolean(\"Google Admob\", true);\n-        File file \u003d getBaseContext().getFileStreamPath(\"google_admob.txt\");\n-        if (file.exists()) {\n-            try {\n-                FileInputStream Rfile \u003d openFileInput(\"google_admob.txt\");\n-\n-                InputStreamReader einputreader \u003d new InputStreamReader(Rfile);\n-                BufferedReader ebuffreader \u003d new BufferedReader(einputreader);\n-                Boolean tmp \u003d Boolean.valueOf(ebuffreader.readLine());\n-                PhimpMe.FEEDS_GOOGLE_ADMOB \u003d tmp;\n-            } catch (FileNotFoundException e) {\n-                e.printStackTrace();\n-            } catch (IOException e) {\n-                e.printStackTrace();\n-            }\n-        }\n-        Log.i(\"PhimpMe\", \"feed_google_admob : \" + FEEDS_GOOGLE_ADMOB);\n-//        AdView adView \u003d (AdView) this.findViewById(R.id.adView);\n-//\n-//        AdRequest request \u003d new AdRequest.Builder()       // All emulators\n-//                .addTestDevice(\"AC98C820A50B4AD8A2106EDE96FB87D4\")  // An example device ID\n-//                .build();\n-//        adView.loadAd(request);\n-//        if (FEEDS_GOOGLE_ADMOB \u003d\u003d false) {\n-//            adView.setVisibility(ViewGroup.GONE);\n-//            //adView.destroy();\n-//        }\n-\n-    \t        /*\n-    \t         * user config\n-    \t         */\n \n         File file0 \u003d getBaseContext().getFileStreamPath(\"local_gallery.txt\");\n         if (file0.exists()) {\n@@ -744,13 +706,7 @@ public static void hideTabs() {\n //        mBottomNav.setVisibility(ViewGroup.GONE);\n     }\n \n-//    public static void ShowAd() {\n-//        ad.setVisibility(ViewGroup.VISIBLE);\n-//    }\n \n-    public static void hideAd() {\n-        ad.setVisibility(ViewGroup.GONE);\n-    }\n \n     @Override\n     protected void onPause() {"
        },
        {
          "file_name": "app/src/main/java/vn/mbm/phimp/me/Upload.java",
          "patch": "@@ -741,9 +741,7 @@ public void onResume() {\n         super.onResume();\n         PhimpMe.showTabs();\n \n-        if (PhimpMe.FEEDS_GOOGLE_ADMOB \u003d\u003d true) {\n-            //PhimpMe.ShowAd();\n-        }\n+\n         if (PhimpMe.add_account_upload) {\n             reloadAccountsList();\n             PhimpMe.add_account_upload \u003d false;"
        },
        {
          "file_name": "app/src/main/java/vn/mbm/phimp/me/newGallery.java",
          "patch": "@@ -3283,10 +3283,7 @@ public void onResume()\n         }\n         else {\n           PhimpMe.showTabs();\t\n-\t\t\n-          if (PhimpMe.FEEDS_GOOGLE_ADMOB \u003d\u003d true){\n-            //PhimpMe.ShowAd();\n-          }\n+\n \t\t\n           if (PhimpMe.IdList.size() \u003d\u003d 5) {\n             PhimpMe.IdList.clear();"
        },
        {
          "file_name": "app/src/main/res/layout-land/main.xml",
          "patch": "@@ -1,11 +1,9 @@\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    xmlns:ads\u003d\"http://schemas.android.com/apk/lib/com.google.ads\"\n     android:orientation\u003d\"vertical\"\n     android:layout_width\u003d\"fill_parent\"\n     android:layout_height\u003d\"fill_parent\"\u003e\n     \u003cTabHost xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n         android:id\u003d\"@android:id/tabhost\"\n-        android:layout_above\u003d\"@+id/adView\"\n         android:layout_width\u003d\"fill_parent\"\n         android:layout_height\u003d\"fill_parent\"\u003e\n         \u003cLinearLayout android:orientation\u003d\"vertical\"\n@@ -32,15 +30,4 @@\n         \u003c/LinearLayout\u003e\n     \u003c/TabHost\u003e\n \n-    \u003ccom.google.ads.AdView\n-        android:id\u003d\"@+id/adView\"\n-        android:layout_width\u003d\"wrap_content\"\n-        android:layout_height\u003d\"wrap_content\"\n-        android:layout_alignParentBottom\u003d\"true\"\n-        android:layout_centerHorizontal\u003d\"true\"\n-        ads:adSize\u003d\"SMART_BANNER\"\n-        ads:adUnitId\u003d\"@string/admob_id\"\n-        ads:loadAdOnCreate\u003d\"true\"\n-        ads:testDevices\u003d\"TEST_EMULATOR\" /\u003e\n-\n \u003c/RelativeLayout\u003e"
        },
        {
          "file_name": "app/src/main/res/layout-large/main.xml",
          "patch": "@@ -1,11 +1,9 @@\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    xmlns:ads\u003d\"http://schemas.android.com/apk/lib/com.google.ads\"\n     android:orientation\u003d\"vertical\"\n     android:layout_width\u003d\"fill_parent\"\n     android:layout_height\u003d\"fill_parent\"\u003e\n     \u003cTabHost xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n         android:id\u003d\"@android:id/tabhost\"\n-        android:layout_above\u003d\"@+id/adView\"\n         android:layout_width\u003d\"fill_parent\"\n         android:layout_height\u003d\"fill_parent\"\u003e\n \n@@ -44,15 +42,6 @@\n         \u003c/LinearLayout\u003e\n \n     \u003c/TabHost\u003e\n-    \u003ccom.google.ads.AdView\n-        android:id\u003d\"@+id/adView\"\n-        android:layout_width\u003d\"wrap_content\"\n-        android:layout_height\u003d\"wrap_content\"\n-        android:layout_alignParentBottom\u003d\"true\"\n-        android:layout_centerHorizontal\u003d\"true\"\n-        ads:adSize\u003d\"SMART_BANNER\"\n-        ads:adUnitId\u003d\"@string/admob_id\"\n-        ads:loadAdOnCreate\u003d\"true\"\n-        ads:testDevices\u003d\"TEST_EMULATOR\" /\u003e\n+\n \n \u003c/RelativeLayout\u003e"
        },
        {
          "file_name": "app/src/main/res/layout-small/main.xml",
          "patch": "@@ -1,11 +1,9 @@\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    xmlns:ads\u003d\"http://schemas.android.com/apk/lib/com.google.ads\"\n     android:orientation\u003d\"vertical\"\n     android:layout_width\u003d\"fill_parent\"\n     android:layout_height\u003d\"fill_parent\"\u003e\n     \u003cTabHost xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n         android:id\u003d\"@android:id/tabhost\"\n-        android:layout_above\u003d\"@+id/adView\"\n         android:layout_width\u003d\"fill_parent\"\n         android:layout_height\u003d\"fill_parent\"\u003e\n \n@@ -44,15 +42,6 @@\n         \u003c/LinearLayout\u003e\n \n     \u003c/TabHost\u003e\n-    \u003ccom.google.ads.AdView\n-        android:id\u003d\"@+id/adView\"\n-        android:layout_width\u003d\"wrap_content\"\n-        android:layout_height\u003d\"wrap_content\"\n-        android:layout_alignParentBottom\u003d\"true\"\n-        android:layout_centerHorizontal\u003d\"true\"\n-        ads:adSize\u003d\"SMART_BANNER\"\n-        ads:adUnitId\u003d\"@string/admob_id\"\n-        ads:loadAdOnCreate\u003d\"true\"\n-        ads:testDevices\u003d\"TEST_EMULATOR\" /\u003e\n+\n \n \u003c/RelativeLayout\u003e"
        },
        {
          "file_name": "app/src/main/res/layout-xlarge/main.xml",
          "patch": "@@ -1,11 +1,9 @@\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    xmlns:ads\u003d\"http://schemas.android.com/apk/lib/com.google.ads\"\n     android:orientation\u003d\"vertical\"\n     android:layout_width\u003d\"fill_parent\"\n     android:layout_height\u003d\"fill_parent\"\u003e\n     \u003cTabHost xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n         android:id\u003d\"@android:id/tabhost\"\n-        android:layout_above\u003d\"@+id/adView\"\n         android:layout_width\u003d\"fill_parent\"\n         android:layout_height\u003d\"fill_parent\"\u003e\n \n@@ -44,15 +42,6 @@\n         \u003c/LinearLayout\u003e\n \n     \u003c/TabHost\u003e\n-    \u003ccom.google.ads.AdView\n-        android:id\u003d\"@+id/adView\"\n-        android:layout_width\u003d\"wrap_content\"\n-        android:layout_height\u003d\"wrap_content\"\n-        android:layout_alignParentBottom\u003d\"true\"\n-        android:layout_centerHorizontal\u003d\"true\"\n-        ads:adSize\u003d\"SMART_BANNER\"\n-        ads:adUnitId\u003d\"@string/admob_id\"\n-        ads:loadAdOnCreate\u003d\"true\"\n-        ads:testDevices\u003d\"TEST_EMULATOR\" /\u003e\n+\n \n \u003c/RelativeLayout\u003e"
        },
        {
          "file_name": "app/src/main/res/layout/main.xml",
          "patch": "@@ -1,5 +1,5 @@\n+\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    xmlns:ads\u003d\"http://schemas.android.com/apk/lib/com.google.ads\"\n     xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\n     android:orientation\u003d\"vertical\"\n     android:layout_width\u003d\"fill_parent\"\n@@ -34,14 +34,3 @@\n \n \u003c/RelativeLayout\u003e\n \n-\n-    \u003c!--\u003ccom.google.ads.AdView--\u003e\n-    \u003c!--android:id\u003d\"@+id/adView\"--\u003e\n-    \u003c!--android:layout_width\u003d\"wrap_content\"--\u003e\n-    \u003c!--android:layout_height\u003d\"wrap_content\"--\u003e\n-    \u003c!--android:layout_alignParentBottom\u003d\"true\"--\u003e\n-    \u003c!--android:layout_centerHorizontal\u003d\"true\"--\u003e\n-    \u003c!--ads:adSize\u003d\"SMART_BANNER\"--\u003e\n-    \u003c!--ads:adUnitId\u003d\"@string/admob_id\"--\u003e\n-    \u003c!--ads:loadAdOnCreate\u003d\"true\"--\u003e\n-    \u003c!--ads:testDevices\u003d\"TEST_EMULATOR\" /\u003e--\u003e\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "Call timer not canceled if call is canceled before call setup is complete",
    "url": "https://github.com/RestComm/restcomm-android-sdk/issues/621",
    "description": "Here\u0027s an analysis of the issue:\r\n- Android Olympus receives a call (I think from another Android Olympus)\r\n- While candidates are still gathering the call is hung up from the other side (not sure why we get BYE instead of CANCEL we need to check that)\r\n- Call is disconnected\r\n- After a while we get a timeout to our handler (\"onCallTimeout\")\r\n- After a while Android Olympus makes a call and while the webrtc processing starts to generated SDP the App crashes\r\n\r\nEven though it\u0027s not clear what the root cause is, one issue we have is that the timer is not cancelled when the first call is disconnected. This could cause an exception due to disconnect logic being called again (due to the time out). Still, the exception seems to happen later. So we need to try to reproduce.\r\n\r\nFor sure we need to cancel timeoutHandler in such events to avoid the exception.\r\n\r\nWith this opportunity let\u0027s also revisit the whole time logic because I have the impression there is room for improvement there (I see to recall some issues with it in the past)\r\n\r\nHere\u0027s Test Fairy [session](https://telestax.testfairy.com/projects/3369662-restcommolympus/builds/5916479/sessions/59?source\u003demail-crash)\r\n\r\nAnd here\u0027s the reported stack trace:\r\n```\r\njava.lang.RuntimeException: No RCConnection exists to handle message with jobid: 1498095728050\r\n\tat org.restcomm.android.sdk.RCDevice.getConnectionByJobId(RCDevice.java:915)\r\n\tat org.restcomm.android.sdk.SignalingClient.SignalingClient.handleMessage(SignalingClient.java:351)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6247)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:872)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:762)\r\n```",
    "keywords": [
      "call",
      "exception",
      "handler",
      "not",
      "os",
      "need",
      "signalingclient",
      "olympus",
      "android",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/RestComm/restcomm-android-sdk/commit/30bcf73acaf9d6e61625c18af64d0bea7af88f0c",
      "files": [
        {
          "file_name": "Examples/restcomm-olympus/app/app.iml",
          "patch": "@@ -62,20 +62,20 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/java\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/rs\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/shaders\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/assets\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/aidl\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/java\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/assets\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/blame\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/classes\" /\u003e\n@@ -126,5 +126,10 @@\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"support-vector-drawable-25.1.1\" level\u003d\"project\" /\u003e\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"animated-vector-drawable-25.1.1\" level\u003d\"project\" /\u003e\n     \u003corderEntry type\u003d\"module\" module-name\u003d\"restcomm.android.sdk\" exported\u003d\"\" /\u003e\n+    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"android-jain-sip-ri-1.2.293\" level\u003d\"project\" /\u003e\n+    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"core-1.54.0.0\" level\u003d\"project\" /\u003e\n+    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"prov-1.54.0.0\" level\u003d\"project\" /\u003e\n+    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"log4j-1.2.17\" level\u003d\"project\" /\u003e\n+    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"pkix-1.54.0.0\" level\u003d\"project\" /\u003e\n   \u003c/component\u003e\n \u003c/module\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "restcomm.android.sdk/src/main/java/org/restcomm/android/sdk/RCConnection.java",
          "patch": "@@ -924,6 +924,8 @@ public void onCallErrorEvent(String jobId, RCClient.ErrorCodes errorCode, String\n    // don\u0027t need to disconnect media\n    private void handleDisconnected(String jobId, boolean haveDisconnectedLocally)\n    {\n+      timeoutHandler.removeCallbacksAndMessages(null);\n+\n       // Device was already busy with another Connection, skip all handling here\n       if (deviceAlreadyBusy) {\n          return;\n@@ -970,6 +972,7 @@ private void handleDisconnected(String jobId, boolean haveDisconnectedLocally)\n    private void handleDisconnect(String reason)\n    {\n       RCLogger.i(TAG, \"handleDisconnect(): reason: \" + reason);\n+      timeoutHandler.removeCallbacksAndMessages(null);\n \n       audioManager.stop();\n "
        }
      ]
    }
  },
  {
    "name": "crash while setting place guess",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/366",
    "description": "Build 222. Error:\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: org.inaturalist.android, PID: 15833\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.lang.String.equals(java.lang.Object)\u0027 on a null object reference\r\n    at org.inaturalist.android.ObservationEditor.setPlaceGuess(ObservationEditor.java:1679)\r\n    at org.inaturalist.android.ObservationEditor.access$3300(ObservationEditor.java:118)\r\n    at org.inaturalist.android.ObservationEditor$20$1.run(ObservationEditor.java:1660)\r\n    at android.os.Handler.handleCallback(Handler.java:751)\r\n    at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6121)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n```\r\n\r\nTo replicate, just start a new observation while connected to the Internet, let the GPS kick in and let the it look up a place guess. Definitely blocking release.",
    "keywords": [
      "handler",
      "java",
      "os",
      "method",
      "org",
      "android",
      "inaturalist",
      "main",
      "lang",
      "observationeditor",
      "org inaturalist",
      "java lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/217bacabf1b0b0c1ffc529fc4455371ce09f22e0",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationEditor.java",
          "patch": "@@ -1676,7 +1676,7 @@ private void setPlaceGuess(String placeGuess) {\n         if ((placeGuess !\u003d null) \u0026\u0026 (placeGuess.length() \u003e 0)) {\n             mLocationGuess.setText(placeGuess);\n             mLocationGuess.setTextColor(Color.parseColor(\"#000000\"));\n-            if (mObservation.geoprivacy.equals(\"private\") || mObservation.geoprivacy.equals(\"obscured\")) {\n+            if (mObservation.geoprivacy !\u003d null \u0026\u0026 (mObservation.geoprivacy.equals(\"private\") || mObservation.geoprivacy.equals(\"obscured\"))) {\n                 mObservation.private_place_guess \u003d placeGuess;\n                 mObservation.place_guess \u003d null;\n             } else {"
        }
      ]
    }
  },
  {
    "name": "Error when trying to close FloatingView by dragging it to bottom",
    "url": "https://github.com/recruit-lifestyle/FloatingView/issues/42",
    "description": "Hi! First of all thanks for this great library, it\u0027s really awesome to use. However, when I try to drag chatHead(Floating view) to bottom(to close it) and after Floating View closes I get the following error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: View\u003djp.co.recruit_lifestyle.android.floatingview.FloatingView{79038e7 G.E...... ......ID 0,0-78,78} not attached to window manager\r\n                                                                         at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:473)\r\n                                                                         at android.view.WindowManagerGlobal.updateViewLayout(WindowManagerGlobal.java:368)\r\n                                                                         at android.view.WindowManagerImpl.updateViewLayout(WindowManagerImpl.java:101)\r\n                                                                         at jp.co.recruit_lifestyle.android.floatingview.FloatingView.updateViewLayout(FloatingView.java:507)\r\n                                                                         at jp.co.recruit_lifestyle.android.floatingview.FloatingView.onUpdateSystemLayout(FloatingView.java:418)\r\n                                                                         at jp.co.recruit_lifestyle.android.floatingview.FloatingViewManager.onScreenChanged(FloatingViewManager.java:234)\r\n                                                                         at jp.co.recruit_lifestyle.android.floatingview.FullscreenObserverView.onSystemUiVisibilityChange(FullscreenObserverView.java:129)\r\n                                                                         at android.view.View.dispatchSystemUiVisibilityChanged(View.java:20483)\r\n                                                                         at android.view.ViewRootImpl.handleDispatchSystemUiVisibilityChanged(ViewRootImpl.java:5622)\r\n                                                                         at android.view.ViewRootImpl$ViewRootHandler.handleMessage(ViewRootImpl.java:3674)\r\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                         at android.os.Looper.loop(Looper.java:154)\r\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:6128)\r\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n\r\n```",
    "keywords": [
      "os",
      "jp",
      "android",
      "co",
      "view",
      "updateviewlayout",
      "viewrootimpl",
      "android view",
      "floatingview",
      "windowmanagerglobal",
      "co recruit_lifestyle",
      "recruit_lifestyle",
      "android floatingview",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/recruit-lifestyle/FloatingView/commit/b83229096bd8f699549e54b848acb54713313bbb",
      "files": [
        {
          "file_name": "library/src/main/java/jp/co/recruit_lifestyle/android/floatingview/FloatingView.java",
          "patch": "@@ -72,7 +72,7 @@\n     /**\n      * 画面端移動アニメーションの時間\n      */\n-    private static final long MOVE_TO_EDGE_DURATION \u003d 450L;\n+    private static final long MOVE_TO_EDGE_DURATION \u003d 4500L;\n \n     /**\n      * 画面端移動アニメーションの係数\n@@ -400,7 +400,7 @@ public boolean onPreDraw() {\n             moveToEdge(mInitX, mInitY, mAnimateInitialMove);\n         }\n         mIsDraggable \u003d true;\n-        mWindowManager.updateViewLayout(this, mParams);\n+        updateViewLayout();\n         return true;\n     }\n \n@@ -505,7 +505,7 @@ else if (mMoveDirection \u003d\u003d FloatingViewManager.MOVE_DIRECTION_RIGHT) {\n             // スクリーン位置の比率からY座標を設定(四捨五入)\n             final int newY \u003d (int) (mParams.y * mPositionLimitRect.height() / (float) oldPositionLimitHeight + 0.5f);\n             mParams.y \u003d Math.min(Math.max(mPositionLimitRect.top, newY), mPositionLimitRect.bottom);\n-            mWindowManager.updateViewLayout(this, mParams);\n+            updateViewLayout();\n         }\n \n     }\n@@ -741,7 +741,7 @@ private void moveTo(int currentX, int currentY, int goalPositionX, int goalPosit\n                     @Override\n                     public void onAnimationUpdate(ValueAnimator animation) {\n                         mParams.y \u003d (Integer) animation.getAnimatedValue();\n-                        mWindowManager.updateViewLayout(FloatingView.this, mParams);\n+                        updateViewLayout();\n                     }\n                 });\n             } else {\n@@ -752,7 +752,7 @@ public void onAnimationUpdate(ValueAnimator animation) {\n                     @Override\n                     public void onAnimationUpdate(ValueAnimator animation) {\n                         mParams.x \u003d (Integer) animation.getAnimatedValue();\n-                        mWindowManager.updateViewLayout(FloatingView.this, mParams);\n+                        updateViewLayout();\n                     }\n                 });\n             }\n@@ -765,7 +765,7 @@ public void onAnimationUpdate(ValueAnimator animation) {\n             if (mParams.x !\u003d goalPositionX || mParams.y !\u003d goalPositionY) {\n                 mParams.x \u003d goalPositionX;\n                 mParams.y \u003d goalPositionY;\n-                mWindowManager.updateViewLayout(FloatingView.this, mParams);\n+                updateViewLayout();\n             }\n         }\n         // タッチ座標を初期化\n@@ -777,6 +777,16 @@ public void onAnimationUpdate(ValueAnimator animation) {\n     }\n \n     /**\n+     * Check if it is attached to the Window and call WindowManager.updateLayout()\n+     */\n+    private void updateViewLayout() {\n+        if (!ViewCompat.isAttachedToWindow(this)) {\n+            return;\n+        }\n+        mWindowManager.updateViewLayout(this, mParams);\n+    }\n+\n+    /**\n      * アニメーションをキャンセルします。\n      */\n     private void cancelAnimation() {"
        }
      ]
    }
  },
  {
    "name": "Camera2 always crashes after Permission Dialog",
    "url": "https://github.com/google/cameraview/issues/1",
    "description": "1) Build and run the Demo app\n2) When the Permission dialog pops up, just accept it\n3) Demo app crashes immediately\n--- or ---\n1) Revoke the Permission from Setting and re-enter the app, \n2) after the Permission Rationale dialog is shown, just accept the Permission Dialog\n3) watch it crash again.\n\nDevice: Nexus 5x running on Nougat (NRD90M)\n\nhttps://github.com/google/cameraview/blob/master/library/src/main/camera2/com/google/android/cameraview/Camera2.java#L132\n\n``` java\n09-11 07:05:44.562 23963-23963/com.google.android.cameraview.demo E/AndroidRuntime: FATAL EXCEPTION: main\n     Process: com.google.android.cameraview.demo, PID: 23963\n     java.lang.IllegalStateException: Session has been closed; further changes are illegal.\n         at android.hardware.camera2.impl.CameraCaptureSessionImpl.checkNotClosed(CameraCaptureSessionImpl.java:606)\n         at android.hardware.camera2.impl.CameraCaptureSessionImpl.setRepeatingRequest(CameraCaptureSessionImpl.java:227)\n         at com.google.android.cameraview.Camera2$3.onConfigured(Camera2.java:132)\n         at java.lang.reflect.Method.invoke(Native Method)\n         at android.hardware.camera2.dispatch.InvokeDispatcher.dispatch(InvokeDispatcher.java:39)\n         at android.hardware.camera2.dispatch.HandlerDispatcher$1.run(HandlerDispatcher.java:65)\n         at android.os.Handler.handleCallback(Handler.java:751)\n         at android.os.Handler.dispatchMessage(Handler.java:95)\n         at android.os.Looper.loop(Looper.java:154)\n         at android.app.ActivityThread.main(ActivityThread.java:6077)\n         at java.lang.reflect.Method.invoke(Native Method)\n         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n```\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "dispatch",
      "os",
      "method",
      "android",
      "cameracapturesessionimpl",
      "main",
      "run",
      "permission",
      "cameraview",
      "google",
      "demo",
      "permission dialog",
      "dialog",
      "camera2",
      "java",
      "lang",
      "zygoteinit",
      "hardware"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/google/cameraview/commit/ebc177251d5980a7351c7aa8371902cace5c63b3",
      "files": [
        {
          "file_name": "library/src/main/api21/com/google/android/cameraview/Camera2.java",
          "patch": "@@ -98,6 +98,8 @@ public void onConfigured(@NonNull CameraCaptureSession session) {\n                 mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),\n                         mCaptureCallback, null);\n             } catch (CameraAccessException e) {\n+                Log.e(TAG, \"Failed to start camera preview because it couldn\u0027t access camera\", e);\n+            } catch (IllegalStateException e) {\n                 Log.e(TAG, \"Failed to start camera preview.\", e);\n             }\n         }\n@@ -109,7 +111,9 @@ public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n \n         @Override\n         public void onClosed(@NonNull CameraCaptureSession session) {\n-            mCaptureSession \u003d null;\n+            if (mCaptureSession !\u003d null \u0026\u0026 mCaptureSession.equals(session)) {\n+                mCaptureSession \u003d null;\n+            }\n         }\n \n     };"
        }
      ]
    }
  },
  {
    "name": "Падение при первом запуске",
    "url": "https://github.com/nextgis/mobile.forestviolate.user/issues/86",
    "description": "```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.nextgis.safeforest/com.nextgis.safeforest.activity.MainActivity}: java.lang.IllegalArgumentException: No view found for id 0x7f0e009f (com.nextgis.safeforest:id/login_frame) for fragment LoginFragment{41db7498 #0 id\u003d0x7f0e009f NGWLogin}\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2215)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2264)\n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3755)\n    at android.app.ActivityThread.access$900(ActivityThread.java:144)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1211)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:136)\n    at android.app.ActivityThread.main(ActivityThread.java:5139)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:796)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:612)\n    at dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalArgumentException: No view found for id 0x7f0e009f (com.nextgis.safeforest:id/login_frame) for fragment LoginFragment{41db7498 #0 id\u003d0x7f0e009f NGWLogin}\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1070)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1259)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1241)\n    at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2053)\n    at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:165)\n    at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:543)\n    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1171)\n    at android.app.Activity.performStart(Activity.java:5241)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2178)\n    ... 12 more\n```\n",
    "keywords": [
      "com",
      "app",
      "os",
      "movetostate",
      "activity",
      "method",
      "nextgis",
      "app activitythread",
      "android",
      "android support",
      "support v4",
      "main",
      "java lang",
      "activitythread",
      "java",
      "v4 app",
      "android app",
      "fragmentmanager",
      "lang",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/mobile.forestviolate.user/commit/0a88333f36c15f4195b316500af38025e70ea819",
      "files": [
        {
          "file_name": "app/src/main/AndroidManifest.xml",
          "patch": "@@ -22,10 +22,8 @@\n   ~ along with this program.  If not, see \u003chttp://www.gnu.org/licenses/\u003e.\n   --\u003e\n \n-\u003cmanifest\n-    package\u003d\"com.nextgis.safeforest\"\n-    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    \u003e\n+\u003cmanifest package\u003d\"com.nextgis.safeforest\"\n+          xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\u003e\n \n     \u003cuses-permission android:name\u003d\"android.permission.ACCESS_COARSE_LOCATION\"/\u003e\n     \u003cuses-permission android:name\u003d\"android.permission.ACCESS_FINE_LOCATION\"/\u003e\n@@ -45,46 +43,39 @@\n \n     \u003cuses-feature\n         android:name\u003d\"android.hardware.location\"\n-        android:required\u003d\"true\"\n-        /\u003e\n+        android:required\u003d\"true\"/\u003e\n     \u003cuses-feature\n         android:name\u003d\"android.hardware.telephony\"\n-        android:required\u003d\"false\"\n-        /\u003e\n+        android:required\u003d\"false\"/\u003e\n     \u003cuses-feature\n         android:name\u003d\"android.hardware.wifi\"\n-        android:required\u003d\"false\"\n-        /\u003e\n+        android:required\u003d\"false\"/\u003e\n     \u003cuses-feature\n         android:name\u003d\"android.hardware.camera\"\n-        android:required\u003d\"false\"\n-        /\u003e\n+        android:required\u003d\"false\"/\u003e\n     \u003cuses-feature\n         android:name\u003d\"android.hardware.compass\"\n-        android:required\u003d\"false\"\n-        /\u003e\n+        android:required\u003d\"false\"/\u003e\n \n     \u003csupports-screens\n         android:anyDensity\u003d\"true\"\n         android:largeScreens\u003d\"true\"\n         android:normalScreens\u003d\"true\"\n         android:resizeable\u003d\"true\"\n         android:smallScreens\u003d\"true\"\n-        android:xlargeScreens\u003d\"true\"\n-        /\u003e\n+        android:xlargeScreens\u003d\"true\"/\u003e\n \n     \u003capplication\n         android:name\u003d\".MainApplication\"\n         android:allowBackup\u003d\"true\"\n         android:icon\u003d\"@mipmap/ic_launcher\"\n         android:label\u003d\"@string/app_name\"\n-        android:theme\u003d\"@style/AppTheme\"\n-        \u003e\n+        android:theme\u003d\"@style/AppTheme\"\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.MainActivity\"\n             android:label\u003d\"@string/app_name\"\n-            \u003e\n+            android:windowSoftInputMode\u003d\"stateHidden\"\u003e\n             \u003cintent-filter\u003e\n                 \u003caction android:name\u003d\"android.intent.action.MAIN\"/\u003e\n \n@@ -94,67 +85,53 @@\n \n         \u003cactivity\n             android:name\u003d\".activity.AboutActivity\"\n-            android:label\u003d\"@string/action_about\"\n-            /\u003e\n+            android:label\u003d\"@string/action_about\"/\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.IntroActivity\"\n-            android:label\u003d\"@string/intro\"\n-            /\u003e\n+            android:label\u003d\"@string/intro\"/\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.PreferencesActivity\"\n-            android:label\u003d\"@string/action_settings\"\n-            /\u003e\n+            android:label\u003d\"@string/action_settings\"/\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.AccountActivity\"\n-            android:label\u003d\"@string/sf_login_title\"\n-            /\u003e\n+            android:label\u003d\"@string/sf_login_title\"/\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.CreateMessageActivity\"\n-            android:windowSoftInputMode\u003d\"stateHidden|adjustPan\"\n             android:label\u003d\"@string/action_felling\"\n-            /\u003e\n+            android:windowSoftInputMode\u003d\"stateHidden|adjustPan\"/\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.MessageCompassActivity\"\n-            android:windowSoftInputMode\u003d\"stateHidden|adjustResize\"\n             android:label\u003d\"@string/location_from_compass\"\n-            /\u003e\n+            android:windowSoftInputMode\u003d\"stateHidden|adjustResize\"/\u003e\n \n         \u003cactivity\n             android:name\u003d\".activity.ViewMessageActivity\"\n-            android:label\u003d\"@string/action_view_message\"\n-            /\u003e\n+            android:label\u003d\"@string/action_view_message\"/\u003e\n \n         \u003cservice\n             android:name\u003d\"com.nextgis.safeforest.datasource.FVSyncService\"\n             android:exported\u003d\"true\"\n-            android:process\u003d\":sync\"\n-            \u003e\n+            android:process\u003d\":sync\"\u003e\n             \u003cintent-filter\u003e\n-                \u003caction\n-                    android:name\u003d\"android.content.SyncAdapter\"\n-                    /\u003e\n+                \u003caction android:name\u003d\"android.content.SyncAdapter\"/\u003e\n             \u003c/intent-filter\u003e\n             \u003cmeta-data\n                 android:name\u003d\"android.content.SyncAdapter\"\n-                android:resource\u003d\"@xml/syncadapter\"\n-                /\u003e\n+                android:resource\u003d\"@xml/syncadapter\"/\u003e\n         \u003c/service\u003e\n \n-        \u003cservice\n-            android:name\u003d\".util.RegionSyncService\"\u003e\n-        \u003c/service\u003e\n+        \u003cservice android:name\u003d\".util.RegionSyncService\"/\u003e\n \n         \u003cprovider\n             android:name\u003d\"com.nextgis.maplib.datasource.LayerContentProvider\"\n             android:authorities\u003d\"com.nextgis.safeforest.provider\"\n             android:exported\u003d\"false\"\n-            android:syncable\u003d\"true\"\n-            /\u003e\n+            android:syncable\u003d\"true\"/\u003e\n \n     \u003c/application\u003e\n "
        },
        {
          "file_name": "app/src/main/java/com/nextgis/safeforest/activity/MainActivity.java",
          "patch": "@@ -49,8 +49,10 @@\n import android.view.Menu;\n import android.view.MenuItem;\n import android.view.View;\n+import android.widget.Button;\n import android.widget.LinearLayout;\n import android.widget.RelativeLayout;\n+import android.widget.TextView;\n import android.widget.Toast;\n \n import com.espian.showcaseview.ShowcaseView;\n@@ -83,7 +85,7 @@\n import java.util.Locale;\n \n public class MainActivity extends SFActivity implements NGWLoginFragment.OnAddAccountListener, View.OnClickListener {\n-    enum CURRENT_VIEW {ACCOUNT, INITIAL, NORMAL}\n+    enum CURRENT_VIEW {ACCOUNT, REGION, INITIAL, NORMAL}\n     protected static final int PERMISSIONS_REQUEST \u003d 1;\n     protected static final String KEY_CURRENT_VIEW \u003d \"current_view\";\n \n@@ -103,7 +105,6 @@\n     protected ViewPager mViewPager;\n     protected TabLayout mTabLayout;\n     protected boolean mFirstRun \u003d true;\n-    protected int mCurrentView;\n     protected int mCurrentViewState;\n     protected TabLayout.ViewPagerOnTabSelectedListener mTabListener;\n \n@@ -131,6 +132,7 @@ protected void onCreate(Bundle savedInstanceState) {\n     }\n \n     protected void requestPermissions() {\n+        mCurrentViewState \u003d -1;\n         String[] permissions \u003d new String[] {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION,\n                 Manifest.permission.GET_ACCOUNTS, Manifest.permission.WRITE_EXTERNAL_STORAGE};\n         requestPermissions(R.string.permissions, R.string.requested_permissions, PERMISSIONS_REQUEST, permissions);\n@@ -158,25 +160,24 @@ public void onRequestPermissionsResult(int requestCode, @NonNull String[] permis\n     }\n \n     private void start() {\n-        // check if first run\n-        // get from properties if first time\n-        // and registered or guest user\n         final MainApplication app \u003d (MainApplication) getApplication();\n         final Account account \u003d app.getAccount(getString(R.string.account_name));\n+        // check if has safe forest account\n         if (account \u003d\u003d null || mCurrentViewState \u003d\u003d CURRENT_VIEW.ACCOUNT.ordinal()) {\n-            RegionSyncFragment.createChooseRegionDialog(this, new RegionSyncFragment.onRegionReceive() {\n-                @Override\n-                public void onRegionChosen(String regionName) {\n-                    Log.d(Constants.SFTAG, \"No account. \" + getString(R.string.account_name) + \" created. Run first step.\");\n-                    VectorLayer regions \u003d (VectorLayer) MapBase.getInstance().getLayerByName(Constants.KEY_FV_REGIONS);\n-                    Feature feature \u003d regions.getFeature(mPreferences.getLong(SettingsConstants.KEY_PREF_REGION, 0));\n-                    createFirstStartView(feature.getFieldValueAsString(\"url\"));\n-                }\n-            });\n+            long regionId \u003d mPreferences.getLong(SettingsConstants.KEY_PREF_REGION, -1);\n+            // check if region is selected already\n+            if (regionId \u003d\u003d -1) {\n+                ((TextView) findViewById(R.id.main_info)).setText(R.string.no_region_selected);\n+                ((Button) findViewById(R.id.grant_permissions)).setText(R.string.select);\n+                showChooseRegionDialog();\n+            } else {\n+                createAccountView();\n+            }\n         } else {\n+            // check basic layers\n             if (!hasBasicLayers(app.getMap()) || mCurrentViewState \u003d\u003d CURRENT_VIEW.INITIAL.ordinal()) {\n                 Log.d(Constants.SFTAG, \"Account \" + getString(R.string.account_name) + \" created. Run second step.\");\n-                createSecondStartView();\n+                createSetupView();\n             } else {\n                 Log.d(Constants.SFTAG, \"Account \" + getString(R.string.account_name) + \" created. Layers created. Run normal view.\");\n                 mFirstRun \u003d false;\n@@ -193,37 +194,43 @@ private boolean isGrantedResult(int[] grantResults) {\n     }\n \n     protected boolean hasBasicLayers(MapBase map) {\n-        return MapUtil.hasLayer(map, Constants.KEY_FV_REGIONS) \u0026\u0026 MapUtil.hasLayer(map, Constants.KEY_CITIZEN_MESSAGES);\n+        return MapUtil.hasLayer(map, Constants.KEY_FV_REGIONS) \u0026\u0026\n+                MapUtil.hasLayer(map, Constants.KEY_FV_DOCS) \u0026\u0026\n+                MapUtil.hasLayer(map, Constants.KEY_CITIZEN_MESSAGES);\n     }\n \n     @Override\n     protected void onSaveInstanceState(Bundle outState) {\n         super.onSaveInstanceState(outState);\n-        outState.putInt(KEY_CURRENT_VIEW, mCurrentView);\n+        outState.putInt(KEY_CURRENT_VIEW, mCurrentViewState);\n     }\n \n-    protected void createFirstStartView(String server){\n-        mCurrentView \u003d CURRENT_VIEW.ACCOUNT.ordinal();\n+    protected void createAccountView() {\n+        VectorLayer regions \u003d (VectorLayer) MapBase.getInstance().getLayerByName(Constants.KEY_FV_REGIONS);\n+        long regionId \u003d mPreferences.getLong(SettingsConstants.KEY_PREF_REGION, 0);\n+        Feature feature \u003d regions.getFeature(regionId);\n+\n+        mCurrentViewState \u003d CURRENT_VIEW.ACCOUNT.ordinal();\n         setContentView(R.layout.activity_main_first);\n         setToolbar(R.id.main_toolbar);\n         setTitle(getText(R.string.first_run));\n \n         FragmentManager fm \u003d getSupportFragmentManager();\n         NGWLoginFragment ngwLoginFragment \u003d (NGWLoginFragment) fm.findFragmentByTag(Constants.FRAGMENT_LOGIN);\n \n-        if (ngwLoginFragment \u003d\u003d null) {\n+        if (ngwLoginFragment \u003d\u003d null)\n             ngwLoginFragment \u003d new LoginFragment();\n-            FragmentTransaction ft \u003d fm.beginTransaction();\n-            ft.add(com.nextgis.maplibui.R.id.login_frame, ngwLoginFragment, Constants.FRAGMENT_LOGIN);\n-            ft.commitAllowingStateLoss();\n-        }\n+\n+        FragmentTransaction ft \u003d fm.beginTransaction();\n+        ft.replace(com.nextgis.maplibui.R.id.login_frame, ngwLoginFragment, Constants.FRAGMENT_LOGIN);\n+        ft.commit();\n         ngwLoginFragment.setForNewAccount(true);\n         ngwLoginFragment.setOnAddAccountListener(this);\n-        ngwLoginFragment.setUrlText(server);\n+        ngwLoginFragment.setUrlText(feature.getFieldValueAsString(\"url\"));\n     }\n \n-    protected void createSecondStartView(){\n-        mCurrentView \u003d CURRENT_VIEW.INITIAL.ordinal();\n+    protected void createSetupView() {\n+        mCurrentViewState \u003d CURRENT_VIEW.INITIAL.ordinal();\n         setContentView(R.layout.activity_main_first);\n         setToolbar(R.id.main_toolbar);\n         setTitle(getText(R.string.initialization));\n@@ -241,7 +248,7 @@ protected void createSecondStartView(){\n \n \n     protected void createNormalView() {\n-        mCurrentView \u003d CURRENT_VIEW.NORMAL.ordinal();\n+        mCurrentViewState \u003d CURRENT_VIEW.NORMAL.ordinal();\n         PreferenceManager.setDefaultValues(this, R.xml.preferences, false);\n \n         setContentView(R.layout.activity_main);\n@@ -416,7 +423,10 @@ public void onClick(View v) {\n \n         switch (v.getId()) {\n             case R.id.grant_permissions:\n-                requestPermissions();\n+                if (mCurrentViewState \u003d\u003d CURRENT_VIEW.REGION.ordinal())\n+                    showChooseRegionDialog();\n+                else\n+                    requestPermissions();\n                 break;\n             case R.id.showcase_button:\n                 showLabels();\n@@ -449,6 +459,16 @@ public void onClick(View v) {\n         }\n     }\n \n+    private void showChooseRegionDialog() {\n+        mCurrentViewState \u003d CURRENT_VIEW.REGION.ordinal();\n+        RegionSyncFragment.createChooseRegionDialog(this, new RegionSyncFragment.onRegionReceive() {\n+            @Override\n+            public void onRegionChosen(String regionName) {\n+                createAccountView();\n+            }\n+        });\n+    }\n+\n     private void showLabels() {\n         ShowcaseView sv \u003d (ShowcaseView) findViewById(R.id.showcase);\n         sv.onClick(sv);\n@@ -496,6 +516,8 @@ private void call() {\n \n     @Override\n     public void onAddAccount(Account account, String token, boolean accountAdded) {\n+        Log.d(Constants.SFTAG, \"No account. \" + getString(R.string.account_name) + \" created. Run first step.\");\n+\n         if(accountAdded) {\n             final SharedPreferences prefs \u003d PreferenceManager.getDefaultSharedPreferences(this);\n             float minX \u003d prefs.getFloat(SettingsConstants.KEY_PREF_USERMINX, -2000.0f);"
        },
        {
          "file_name": "app/src/main/res/layout/activity_main_no_permissions.xml",
          "patch": "@@ -25,8 +25,7 @@\n              android:layout_height\u003d\"match_parent\"\n              tools:context\u003d\".activity.MainActivity\"\u003e\n \n-    \u003cinclude\n-        layout\u003d\"@layout/actionbar\"/\u003e\n+    \u003cinclude layout\u003d\"@layout/actionbar\"/\u003e\n \n     \u003cLinearLayout\n         android:layout_width\u003d\"match_parent\"\n@@ -36,6 +35,7 @@\n         android:padding\u003d\"8dp\"\u003e\n \n         \u003cTextView\n+            android:id\u003d\"@+id/main_info\"\n             style\u003d\"@style/TextAppearance.AppCompat.Large\"\n             android:layout_width\u003d\"wrap_content\"\n             android:layout_height\u003d\"wrap_content\""
        }
      ]
    }
  },
  {
    "name": "NPE on disconnect",
    "url": "https://github.com/saltyrtc/saltyrtc-client-java/issues/41",
    "description": "```java\r\n11-02 16:22:22.246 31806-31806/org.saltyrtc.demo.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                       Process: org.saltyrtc.demo.app, PID: 31806\r\n                                                                       java.lang.NullPointerException: Attempt to invoke virtual method \u0027com.neovisionaries.ws.client.WebSocket com.neovisionaries.ws.client.WebSocket.disconnect(int)\u0027 on a null object reference\r\n                                                                           at org.saltyrtc.client.signaling.Signaling.disconnect(Signaling.java:215)\r\n                                                                           at org.saltyrtc.client.signaling.Signaling.disconnect(Signaling.java:232)\r\n                                                                           at org.saltyrtc.client.SaltyRTC.disconnect(SaltyRTC.java:135)\r\n                                                                           at org.saltyrtc.demo.app.MainActivity.stop(MainActivity.java:253)\r\n                                                                           at org.saltyrtc.demo.app.MainActivity$3$1.run(MainActivity.java:171)\r\n                                                                           at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                           at android.os.Looper.loop(Looper.java:168)\r\n                                                                           at android.app.ActivityThread.main(ActivityThread.java:5845)\r\n                                                                           at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\n                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)\r\n```",
    "keywords": [
      "com",
      "app",
      "handler",
      "disconnect",
      "signaling",
      "os",
      "method",
      "org",
      "android",
      "main",
      "demo",
      "saltyrtc",
      "mainactivity",
      "client",
      "org saltyrtc",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/saltyrtc/saltyrtc-client-java/commit/38ca4650622d771c020340055ed7b5f933f33391",
      "files": [
        {
          "file_name": "src/main/java/org/saltyrtc/client/signaling/Signaling.java",
          "patch": "@@ -203,7 +203,7 @@ public void connect() throws ConnectionException {\n      * This operation is asynchronous, once the connection is closed, the\n      * `SignalingStateChangedEvent` will be emitted.\n      */\n-    void disconnect(Integer reason) {\n+    synchronized void disconnect(Integer reason) {\n         this.setState(SignalingState.CLOSING);\n \n         // Close WebSocket instance"
        }
      ]
    }
  },
  {
    "name": "missing observation photo file name",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/346",
    "description": "https://fabric.io/inaturalist/android/apps/org.inaturalist.android/issues/5905ed8cbe077a4dcc1ea404?time\u003dlast-seven-days\r\n\r\n```\r\nFatal Exception: java.lang.NullPointerException\r\n       at java.io.File.\u003cinit\u003e(File.java:262)\r\n       at org.inaturalist.android.INaturalistService.postPhotos(INaturalistService.java:1820)\r\n       at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:970)\r\n       at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:899)\r\n       at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:67)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:173)\r\n       at android.os.HandlerThread.run(HandlerThread.java:61)\r\n```\r\nhttps://github.com/inaturalist/iNaturalistAndroid/blob/master/iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java#L1820\r\n\r\nThis is hitting at least one user pretty hard. No idea how the data got in this state, but can we watch for it and remove obs photos without any known file?",
    "keywords": [
      "file",
      "os",
      "org",
      "inaturalistservice",
      "android",
      "inaturalist",
      "inaturalist android"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/e390296ad3d56cdd994bf135b78b6f6c821dea56",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java",
          "patch": "@@ -1845,7 +1845,7 @@ private boolean postPhotos() throws AuthenticationException, CancelSyncException\n                     }\n                 }\n             }\n-            if (!(new File(imgFilePath)).exists()) {\n+            if ((imgFilePath \u003d\u003d null) || !(new File(imgFilePath)).exists()) {\n                 // Local (cached) photo was deleted - probably because the user deleted the app\u0027s cache\n \n                 // First, delete this photo record"
        }
      ]
    }
  },
  {
    "name": "Null pointer on my local adapter fields from the SectionedRecyclerViewAdapter constructor?",
    "url": "https://github.com/afollestad/sectioned-recyclerview/issues/46",
    "description": "- [X] I have verified there are no duplicate active or recent bugs, questions, or requests\r\n- [X] I have verified that I am using the latest version of this library.\r\n- [X] I have given my issue a non-generic title.\r\n\r\n###### Include the following:\r\n - Library version: `0.4.4`\r\n - Device OS version: `7.1.1`\r\n - Device Manufacturer: `Android Emulator`\r\n - Device Name: `Nexus 5X base device`\r\n\r\nHello,\r\nso I updated from v0.4.1 to v0.4.4 today, and now the app crashes with a Nullpointer from `getItemCount(int section)` where I call `entries.getSize()` on my adapter list. The list shouldn\u0027t be null though, as this is the constructor:\r\n\r\n```java\r\nCacheEntriesAdapter(CompositeUnmodifiableList\u003cCacheEntry\u003e entries) {\r\n        Log.d(getClass().getSimpleName(), \"DUDUDU\");\r\n        this.entries \u003d entries;\r\n}\r\n```\r\n\r\nI already checked several times, and the input list is definitely not null, it just doesn\u0027t seem to execute the constructor before calling `entries.getSize()`, as my Log.d\u0027s in the first line don\u0027t get printed before it crashes. This problem doesn\u0027t appear in v0.4.1, v0.4.2 or v0.4.3.\r\n\r\n```java\r\n06-07 13:42:48.478 19590-19590/io.github.madeinspengergasse.wischmopp D/AndroidRuntime: Shutting down VM\r\n06-07 13:42:48.478 19590-19590/io.github.madeinspengergasse.wischmopp E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                                        Process: io.github.madeinspengergasse.wischmopp, PID: 19590\r\n                                                                                        java.lang.NullPointerException: Attempt to invoke virtual method \u0027int io.github.madeinspengergasse.wischmopp.util.CompositeUnmodifiableList.sizeOfList1()\u0027 on a null object reference\r\n                                                                                            at io.github.madeinspengergasse.wischmopp.scan.view.CacheEntriesAdapter.getItemCount(CacheEntriesAdapter.java:43)\r\n                                                                                            at com.afollestad.sectionedrecyclerview.PositionManager.invalidate(PositionManager.java:23)\r\n                                                                                            at com.afollestad.sectionedrecyclerview.SectionedRecyclerViewAdapter.\u003cinit\u003e(SectionedRecyclerViewAdapter.java:32)\r\n                                                                                            at io.github.madeinspengergasse.wischmopp.scan.view.CacheEntriesAdapter.\u003cinit\u003e(CacheEntriesAdapter.java:28)\r\n                                                                                            at io.github.madeinspengergasse.wischmopp.scan.view.ScanFragment.showData(ScanFragment.java:142)\r\n                                                                                            at io.github.madeinspengergasse.wischmopp.scan.presenter.ScanPresenter$1.lambda$onGetStatsCompleted$0$ScanPresenter$1(ScanPresenter.java:120)\r\n                                                                                            at io.github.madeinspengergasse.wischmopp.scan.presenter.ScanPresenter$1$$Lambda$0.run(Unknown Source)\r\n                                                                                            at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                                                            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                                            at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n                                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n                                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n```\r\n \r\n###### Reproduction Steps\r\n\r\n1. Create an args constructor in SectionedRecyclerViewAdapter in which you pass your entries list\r\n2. Run\r\n\r\nYou can find the current, non-working state of our app with this problem here: https://github.com/Xorok/Wischmopp/tree/testing/adrian\r\nThe important classes are CacheEntriesAdapter, ScanPresenter \u0026 ScanFragment in the scan package. You just have to press the big red button on the first screen to see the problem in action. If you decide to take a look at the project, any comments or possible improvements are welcome 😁\r\n\r\n###### Expected Result\r\nIt doesn\u0027t call `entries.getSize()` before executing the constructor, the list gets initialized and the Nullpointer doesn\u0027t happen.\r\n\r\n###### Actual Result\r\nThe app crashes with a Nullpointer.",
    "keywords": [
      "com",
      "madeinspengergasse",
      "sectionedrecyclerviewadapter",
      "[x]",
      "handler",
      "nullpointer",
      "getsize",
      "cacheentriesadapter",
      "android",
      "scan",
      "main",
      "run",
      "crashes",
      "scanfragment",
      "view",
      "problem",
      "######",
      "wischmopp",
      "zygoteinit",
      "`",
      "app",
      "io github",
      "github",
      "`entries",
      "method",
      "os",
      "io",
      "getsize `",
      "constructor",
      "github madeinspengergasse",
      "list",
      "version",
      "madeinspengergasse wischmopp",
      "1",
      "entries",
      "null",
      "4",
      "v0",
      "device"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/afollestad/sectioned-recyclerview/commit/b7aad621c040f00cd802a53f38036a4a2e3e8084",
      "files": [
        {
          "file_name": ".travis.yml",
          "patch": "@@ -4,8 +4,8 @@ android:\n   components:\n     - tools\n     - platform-tools\n-    - build-tools-25.0.3\n-    - android-25\n+    - build-tools-26.0.0\n+    - android-26\n     - extra-android-support\n     - extra-android-m2repository\n     - extra-google-m2repository"
        },
        {
          "file_name": "README.md",
          "patch": "@@ -22,7 +22,7 @@ Add this to your module\u0027s `build.gradle` file:\n ```gradle\n dependencies {\n     // ... other dependencies\n-    compile \u0027com.afollestad:sectioned-recyclerview:0.4.4\u0027\n+    compile \u0027com.afollestad:sectioned-recyclerview:0.5.0\u0027\n }\n ```\n "
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -5,6 +5,11 @@ buildscript {\n \n     repositories {\n         jcenter()\n+        repositories {\n+            maven {\n+                url \u0027https://maven.google.com\u0027\n+            }\n+        }\n     }\n     dependencies {\n         classpath \u0027com.android.tools.build:gradle:\u0027 + versions.gradlePlugin\n@@ -14,6 +19,11 @@ buildscript {\n allprojects {\n     repositories {\n         jcenter()\n+        repositories {\n+            maven {\n+                url \u0027https://maven.google.com\u0027\n+            }\n+        }\n     }\n }\n "
        },
        {
          "file_name": "dependencies.gradle",
          "patch": "@@ -1,9 +1,9 @@\n ext.versions \u003d [\n         minSdk: 14,\n-        compileSdk: 25,\n-        buildTools: \u002725.0.3\u0027,\n-        publishVersion: \u00270.4.4\u0027,\n-        publishVersionCode: 14,\n+        compileSdk: 26,\n+        buildTools: \u002726.0.0\u0027,\n+        publishVersion: \u00270.5.0\u0027,\n+        publishVersionCode: 16,\n         gradlePlugin: \u00272.3.2\u0027,\n         supportLib: \u002725.3.1\u0027,\n         truth: \u00270.31\u0027,"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/sectionedrecyclerview/ItemCoord.java",
          "patch": "@@ -3,8 +3,8 @@\n @SuppressWarnings(\"WeakerAccess\")\n public class ItemCoord {\n \n-  private int section;\n-  private int relativePos;\n+  private final int section;\n+  private final int relativePos;\n \n   ItemCoord(int section, int relativePos) {\n     this.section \u003d section;"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/sectionedrecyclerview/PositionManager.java",
          "patch": "@@ -9,13 +9,19 @@\n   private final ArrayMap\u003cInteger, Integer\u003e headerLocationMap;\n   private final ArrayMap\u003cInteger, Boolean\u003e collapsedSectionMap;\n   private ItemProvider itemProvider;\n+  private boolean hasInvalidated;\n \n   PositionManager() {\n     this.headerLocationMap \u003d new ArrayMap\u003c\u003e(0);\n     this.collapsedSectionMap \u003d new ArrayMap\u003c\u003e(0);\n   }\n \n+  boolean hasInvalidated() {\n+    return hasInvalidated;\n+  }\n+\n   int invalidate(ItemProvider itemProvider) {\n+    this.hasInvalidated \u003d true;\n     this.itemProvider \u003d itemProvider;\n     int count \u003d 0;\n     headerLocationMap.clear();\n@@ -120,6 +126,18 @@ void toggleSectionExpanded(int section) {\n     }\n   }\n \n+  void expandAllSections() {\n+    for (int i \u003d 0; i \u003c itemProvider.getSectionCount(); i++) {\n+      expandSection(i);\n+    }\n+  }\n+\n+  void collapseAllSections() {\n+    for (int i \u003d 0; i \u003c itemProvider.getSectionCount(); i++) {\n+      collapseSection(i);\n+    }\n+  }\n+\n   boolean isSectionExpanded(int section) {\n     if (section \u003c 0 || section \u003e itemProvider.getSectionCount() - 1) {\n       throw new IllegalArgumentException(\"Section \" + section + \" is out of bounds.\");"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/sectionedrecyclerview/SectionedRecyclerViewAdapter.java",
          "patch": "@@ -11,25 +11,20 @@\n \n import java.util.List;\n \n-/**\n- * @author Aidan Follestad (afollestad)\n- */\n+/** @author Aidan Follestad (afollestad) */\n @SuppressWarnings({\"WeakerAccess\", \"unused\"})\n public abstract class SectionedRecyclerViewAdapter\u003cVH extends SectionedViewHolder\u003e\n     extends RecyclerView.Adapter\u003cVH\u003e implements ItemProvider {\n \n-  private static final String TAG \u003d \"SectionedRVAdapter\";\n-\n   protected static final int VIEW_TYPE_HEADER \u003d -2;\n   protected static final int VIEW_TYPE_ITEM \u003d -1;\n-\n+  private static final String TAG \u003d \"SectionedRVAdapter\";\n   private PositionManager positionManager;\n   private GridLayoutManager layoutManager;\n   private boolean showHeadersForEmptySections;\n \n   public SectionedRecyclerViewAdapter() {\n     positionManager \u003d new PositionManager();\n-    positionManager.invalidate(this);\n   }\n \n   public void notifySectionChanged(@IntRange(from \u003d 0, to \u003d Integer.MAX_VALUE) int section) {\n@@ -46,7 +41,8 @@ public void notifySectionChanged(@IntRange(from \u003d 0, to \u003d Integer.MAX_VALUE) int\n       Log.d(TAG, \"There are no items in section \" + section + \" to notify.\");\n       return;\n     }\n-    Log.d(TAG, \"Invalidating \" + sectionItemCount + \" items starting at index \" + sectionHeaderIndex);\n+    Log.d(\n+        TAG, \"Invalidating \" + sectionItemCount + \" items starting at index \" + sectionHeaderIndex);\n     notifyItemRangeChanged(sectionHeaderIndex, sectionItemCount);\n   }\n \n@@ -61,16 +57,18 @@ public void collapseSection(int section) {\n   }\n \n   public void expandAllSections() {\n-    for (int i \u003d 0; i \u003c getSectionCount(); i++) {\n-      positionManager.expandSection(i);\n+    if (!positionManager.hasInvalidated()) {\n+      positionManager.invalidate(this);\n     }\n+    positionManager.expandAllSections();\n     notifyDataSetChanged();\n   }\n \n   public void collapseAllSections() {\n-    for (int i \u003d 0; i \u003c getSectionCount(); i++) {\n-      positionManager.collapseSection(i);\n+    if (!positionManager.hasInvalidated()) {\n+      positionManager.invalidate(this);\n     }\n+    positionManager.collapseAllSections();\n     notifyDataSetChanged();\n   }\n \n@@ -79,7 +77,6 @@ public void toggleSectionExpanded(int section) {\n     notifyDataSetChanged();\n   }\n \n-\n   public abstract int getSectionCount();\n \n   public abstract int getItemCount(int section);\n@@ -134,9 +131,7 @@ protected int getRowSpan(\n     return 1;\n   }\n \n-  /**\n-   * Converts an absolute position to a relative position and section.\n-   */\n+  /** Converts an absolute position to a relative position and section. */\n   public ItemCoord getRelativePosition(int absolutePosition) {\n     return positionManager.relativePosition(absolutePosition);\n   }"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/sectionedrecyclerview/SectionedViewHolder.java",
          "patch": "@@ -3,14 +3,9 @@\n import android.support.v7.widget.RecyclerView;\n import android.view.View;\n \n+/** @author Aidan Follestad */\n public abstract class SectionedViewHolder extends RecyclerView.ViewHolder {\n \n-  interface PositionDelegate {\n-    ItemCoord relativePosition(int absolutePosition);\n-\n-    boolean isHeader(int absolutePosition);\n-  }\n-\n   private PositionDelegate positionDelegate;\n \n   public SectionedViewHolder(View itemView) {\n@@ -28,4 +23,10 @@ protected ItemCoord getRelativePosition() {\n   protected boolean isHeader() {\n     return positionDelegate.isHeader(getAdapterPosition());\n   }\n+\n+  interface PositionDelegate {\n+    ItemCoord relativePosition(int absolutePosition);\n+\n+    boolean isHeader(int absolutePosition);\n+  }\n }"
        },
        {
          "file_name": "library/src/test/java/com/afollestad/sectionedrecyclerview/PositionManagerTest.java",
          "patch": "@@ -14,6 +14,7 @@\n   @Before\n   public void before() {\n     positionManager \u003d new PositionManager();\n+    assertThat(positionManager.hasInvalidated()).isFalse();\n     invalidate();\n   }\n \n@@ -162,6 +163,13 @@ public void test_collapse_section() {\n   }\n \n   @Test\n+  public void test_collapse_all_sections() {\n+    assertThat(invalidate()).isEqualTo(12);\n+    positionManager.collapseAllSections();\n+    assertThat(invalidate()).isEqualTo(2);\n+  }\n+\n+  @Test\n   public void test_expand_section() {\n     positionManager.collapseSection(1);\n     assertThat(invalidate()).isEqualTo(7);\n@@ -170,6 +178,14 @@ public void test_expand_section() {\n   }\n \n   @Test\n+  public void test_expand_all_sections() {\n+    positionManager.collapseAllSections();\n+    assertThat(invalidate()).isEqualTo(2);\n+    positionManager.expandAllSections();\n+    assertThat(invalidate()).isEqualTo(12);\n+  }\n+\n+  @Test\n   public void test_toggle_expanded() {\n     positionManager.collapseSection(1);\n     assertThat(invalidate()).isEqualTo(7);\n@@ -180,6 +196,11 @@ public void test_toggle_expanded() {\n   }\n \n   @Test\n+  public void test_has_invalidated() {\n+    assertThat(positionManager.hasInvalidated()).isTrue();\n+  }\n+\n+  @Test\n   public void test_item_coord_toString() {\n     assertThat(new ItemCoord(8, 16).toString()).isEqualTo(\"8:16\");\n   }"
        },
        {
          "file_name": "sample/src/main/java/com/afollestad/sectionedrecyclerviewsample/MainActivity.java",
          "patch": "@@ -25,14 +25,14 @@ protected void onCreate(@Nullable Bundle savedInstanceState) {\n         new GridLayoutManager(this, getResources().getInteger(R.integer.grid_span));\n     list.setLayoutManager(manager);\n     adapter.setLayoutManager(manager);\n-    adapter.shouldShowHeadersForEmptySections(false);\n-    adapter.collapseAllSections();\n+    adapter.shouldShowHeadersForEmptySections(hideEmpty);\n     list.setAdapter(adapter);\n   }\n \n   @Override\n   public boolean onCreateOptionsMenu(Menu menu) {\n     getMenuInflater().inflate(R.menu.main, menu);\n+    menu.findItem(R.id.hide_empty_sections).setChecked(!hideEmpty);\n     return super.onCreateOptionsMenu(menu);\n   }\n \n@@ -42,7 +42,7 @@ public boolean onOptionsItemSelected(MenuItem item) {\n       hideEmpty \u003d !hideEmpty;\n       adapter.shouldShowHeadersForEmptySections(hideEmpty);\n       adapter.notifyDataSetChanged();\n-      item.setChecked(hideEmpty);\n+      item.setChecked(!hideEmpty);\n       return true;\n     }\n     return super.onOptionsItemSelected(item);"
        },
        {
          "file_name": "sample/src/main/java/com/afollestad/sectionedrecyclerviewsample/MainAdapter.java",
          "patch": "@@ -81,8 +81,8 @@ public MainVH onCreateViewHolder(ViewGroup parent, int viewType) {\n \n     MainVH(View itemView, MainAdapter adapter) {\n       super(itemView);\n-      this.title \u003d (TextView) itemView.findViewById(R.id.title);\n-      this.caret \u003d (ImageView) itemView.findViewById(R.id.caret);\n+      this.title \u003d itemView.findViewById(R.id.title);\n+      this.caret \u003d itemView.findViewById(R.id.caret);\n       this.adapter \u003d adapter;\n       itemView.setOnClickListener(this);\n     }"
        }
      ]
    }
  },
  {
    "name": "Crash when I scroll down my list of artists. This always happens when I get to the same point in the list (around the S section). ",
    "url": "https://github.com/Bezirk-Bosch/party/issues/15",
    "description": "I\u0027m guessing something about one of the artists in my list is unexpected. \r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.bosch.party, PID: 8356\r\n                  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n                      at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\r\n                      at java.util.ArrayList.get(ArrayList.java:308)\r\n                      at com.bosch.party.adapter.SpotifyArtistsListAdapter.onBindViewHolder(SpotifyArtistsListAdapter.java:65)\r\n                      at com.bosch.party.adapter.SpotifyArtistsListAdapter.onBindViewHolder(SpotifyArtistsListAdapter.java:38)\r\n                      at android.support.v7.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:5471)\r\n                      at android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:5504)\r\n                      at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:4741)\r\n                      at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:4617)\r\n                      at android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:1994)\r\n                      at android.support.v7.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:528)\r\n                      at android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1353)\r\n                      at android.support.v7.widget.LinearLayoutManager.scrollBy(LinearLayoutManager.java:1180)\r\n                      at android.support.v7.widget.LinearLayoutManager.scrollVerticallyBy(LinearLayoutManager.java:1031)\r\n                      at android.support.v7.widget.GridLayoutManager.scrollVerticallyBy(GridLayoutManager.java:369)\r\n                      at android.support.v7.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:4061)\r\n                      at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767)\r\n                      at android.view.Choreographer.doCallbacks(Choreographer.java:580)\r\n                      at android.view.Choreographer.doFrame(Choreographer.java:549)\r\n                      at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753)\r\n                      at android.os.Handler.handleCallback(Handler.java:739)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                      at android.os.Looper.loop(Looper.java:135)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5286)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at java.lang.reflect.Method.invoke(Method.java:372)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1384)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1179)\r\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "widget",
      "choreographer",
      "recyclerview",
      "spotifyartistslistadapter",
      "android",
      "android support",
      "onbindviewholder",
      "run",
      "main",
      "view",
      "java",
      "support v7",
      "lang",
      "zygoteinit",
      "os",
      "method",
      "arraylist",
      "list",
      "gridlayoutmanager",
      "bosch",
      "linearlayoutmanager",
      "v7 widget",
      "support",
      "party"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/Bezirk-Bosch/party/commit/2bc41f5728df9536677895e6db36a0fb25047df4",
      "files": [
        {
          "file_name": "app/src/main/java/com/bosch/party/adapter/SpotifyArtistsListAdapter.java",
          "patch": "@@ -61,7 +61,9 @@ public void onBindViewHolder(SpotifyArtistsListAdapter.ViewHolder holder, int po\n             final List\u003cArtists\u003e artistsList \u003d spotifyMusicFactory.getArtists();\n \n             if (artistsList !\u003d null \u0026\u0026 !artistsList.isEmpty()) {\n-                if (artistsList.get(position).getArtistCatalogData().getImages() !\u003d null) {\n+                if (artistsList.get(position).getArtistCatalogData() !\u003d null \u0026\u0026\n+                        artistsList.get(position).getArtistCatalogData().getImages() !\u003d null \u0026\u0026\n+                       !artistsList.get(position).getArtistCatalogData().getImages().isEmpty()) {\n                     String imageUrl \u003d artistsList.get(position).getArtistCatalogData().getImages().get(0).getUrl();\n                     holder.transparentView.setBackgroundResource(R.color.transparent_black_bg);\n                     setArtistBgThumb(imageUrl, holder.albumBackground);"
        },
        {
          "file_name": "app/src/main/java/com/bosch/party/fragment/SpotifyFragment.java",
          "patch": "@@ -263,7 +263,7 @@ private void prepareArtistsList(SpotifyServiceProvider client) {\n                         artists.setArtistCatalogData(artistCatalogData);\n                     }\n                 } catch (IOException e) {\n-                    e.printStackTrace();\n+                    Log.e(TAG, \"Failed to fetch artist catalog from Spotify\", e);\n                 }\n \n             }"
        }
      ]
    }
  },
  {
    "name": "IllegalStateException when scrolling in the example app",
    "url": "https://github.com/lisawray/groupie/issues/21",
    "description": "```\nW/RecyclerView: Cannot call this method in a scroll callback. Scroll callbacks might be run during a measure \u0026 layout pass where you cannot change the RecyclerView data. Any method call that might change the structure of the RecyclerView or the adapter contents should be postponed to the next frame.\n                java.lang.IllegalStateException: \n                    at android.support.v7.widget.RecyclerView.assertNotInLayoutOrScroll(RecyclerView.java:2403)\n                    at android.support.v7.widget.RecyclerView$RecyclerViewDataObserver.onItemRangeInserted(RecyclerView.java:4634)\n                    at android.support.v7.widget.RecyclerView$AdapterDataObservable.notifyItemRangeInserted(RecyclerView.java:10472)\n                    at android.support.v7.widget.RecyclerView$Adapter.notifyItemInserted(RecyclerView.java:6214)\n                    at com.genius.groupie.GroupAdapter.onItemInserted(GroupAdapter.java:204)\n                    at com.genius.groupie.NestedGroup.notifyItemInserted(NestedGroup.java:195)\n                    at com.genius.groupie.Section.notifyItemInserted(Section.java:205)\n                    at com.genius.groupie.Section.add(Section.java:53)\n                    at com.genius.groupie.example.MainActivity$1.onLoadMore(MainActivity.java:88)\n                    at com.genius.groupie.example.InfiniteScrollListener.onScrolled(InfiniteScrollListener.java:41)\n                    at android.support.v7.widget.RecyclerView.dispatchOnScrolled(RecyclerView.java:4305)\n                    at android.support.v7.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:4463)\n                    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\n                    at android.view.Choreographer.doCallbacks(Choreographer.java:670)\n                    at android.view.Choreographer.doFrame(Choreographer.java:603)\n                    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\n                    at android.os.Handler.handleCallback(Handler.java:739)\n                    at android.os.Handler.dispatchMessage(Handler.java:95)\n                    at android.os.Looper.loop(Looper.java:148)\n                    at android.app.ActivityThread.main(ActivityThread.java:5417)\n                    at java.lang.reflect.Method.invoke(Native Method)\n                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "widget",
      "os",
      "method",
      "choreographer",
      "recyclerview",
      "groupie",
      "android",
      "android support",
      "section",
      "run",
      "notifyiteminserted",
      "example",
      "genius",
      "view",
      "support v7",
      "com genius",
      "v7 widget",
      "support",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/lisawray/groupie/commit/b3e8f7afd7c61efee13a2af77dc84fccb027deb8",
      "files": [
        {
          "file_name": "example/src/main/java/com/genius/groupie/example/InfiniteScrollListener.java",
          "patch": "@@ -1,5 +1,6 @@\n package com.genius.groupie.example;\n \n+import android.os.Handler;\n import android.support.v7.widget.LinearLayoutManager;\n import android.support.v7.widget.RecyclerView;\n \n@@ -11,36 +12,48 @@\n     private int firstVisibleItem, visibleItemCount, totalItemCount;\n     private int current_page \u003d 0;\n     private LinearLayoutManager linearLayoutManager;\n+    private Handler handler;\n \n     public InfiniteScrollListener(LinearLayoutManager linearLayoutManager) {\n         this.linearLayoutManager \u003d linearLayoutManager;\n+        this.handler \u003d new Handler();\n     }\n \n     public void setLinearLayoutManager(LinearLayoutManager linearLayoutManager) {\n         this.linearLayoutManager \u003d linearLayoutManager;\n     }\n \n     @Override\n-    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n+    public void onScrolled(final RecyclerView recyclerView, int dx, int dy) {\n         super.onScrolled(recyclerView, dx, dy);\n \n-        visibleItemCount \u003d recyclerView.getChildCount();\n-        totalItemCount \u003d linearLayoutManager.getItemCount();\n-        firstVisibleItem \u003d linearLayoutManager.findFirstVisibleItemPosition();\n-\n-        if (loading) {\n-            if (totalItemCount \u003e previousTotal || totalItemCount \u003d\u003d 0) {\n-                loading \u003d false;\n-                previousTotal \u003d totalItemCount;\n+        final Runnable runnable \u003d new Runnable() {\n+            @Override\n+            public void run() {\n+                visibleItemCount \u003d recyclerView.getChildCount();\n+                totalItemCount \u003d linearLayoutManager.getItemCount();\n+                firstVisibleItem \u003d linearLayoutManager.findFirstVisibleItemPosition();\n+\n+                if (loading) {\n+                    if (totalItemCount \u003e previousTotal || totalItemCount \u003d\u003d 0) {\n+                        loading \u003d false;\n+                        previousTotal \u003d totalItemCount;\n+                    }\n+                }\n+\n+                // End has been reached\n+                if (!loading \u0026\u0026 (totalItemCount - visibleItemCount) \u003c\u003d (firstVisibleItem + visibleThreshold)) {\n+                    current_page++;\n+                    onLoadMore(current_page);\n+                    loading \u003d true;\n+                }\n             }\n-        }\n-\n-        // End has been reached\n-        if (!loading \u0026\u0026 (totalItemCount - visibleItemCount) \u003c\u003d (firstVisibleItem + visibleThreshold)) {\n-            current_page++;\n-            onLoadMore(current_page);\n-            loading \u003d true;\n-        }\n+        };\n+\n+        // We shouldn\u0027t directly mutate the RecyclerView data in onScrolled\n+        // This is because it may be called during the measure \u0026 layout pass where you cannot change the data\n+        // Post-pone any adapter changes until the next frame\n+        handler.post(runnable);\n     }\n \n     public abstract void onLoadMore(int current_page);"
        }
      ]
    }
  },
  {
    "name": "Null pointer in AestheticViewPager when resolving accent color",
    "url": "https://github.com/afollestad/aesthetic/issues/19",
    "description": "- [x] I have verified there are no duplicate active or recent bugs, questions, or requests\r\n- [x] I have verified that I am using the latest version of Aesthetic (see the README)\r\n- [x] I have given my issue description title\r\n- [x] I have read over the documentation (before asking questions on how to do something).\r\n\r\n - Aesthetic version: `0.4.1`\r\n - Device OS version: `7.1.2+`\r\n - Device: Any\r\nSource code at https://github.com/MnmlOS/Music\r\n```gradle\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.res.Resources$Theme android.content.Context.getTheme()\u0027 on a null object reference\r\n                                                       at com.afollestad.aesthetic.Util.resolveColor(Util.java:85)\r\n                                                       at com.afollestad.aesthetic.Util.resolveColor(Util.java:80)\r\n                                                       at com.afollestad.aesthetic.Aesthetic.colorAccent(Aesthetic.java:383)\r\n                                                       at com.afollestad.aesthetic.AestheticViewPager.onAttachedToWindow(AestheticViewPager.java:35)\r\n                                                       at android.view.View.dispatchAttachedToWindow(View.java:15513)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2916)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:2923)\r\n                                                       at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1526)\r\n                                                       at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1254)\r\n                                                       at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6344)\r\n                                                       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:887)\r\n                                                       at android.view.Choreographer.doCallbacks(Choreographer.java:699)\r\n                                                       at android.view.Choreographer.doFrame(Choreographer.java:634)\r\n                                                       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:873)\r\n                                                       at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                       at android.os.Looper.loop(Looper.java:154)\r\n                                                       at android.app.ActivityThread.main(ActivityThread.java:6244)\r\n                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\r\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\r\n```\r\n \r\n###### Reproduction Steps\r\nRun app for the first time\r\n\r\n###### Expected Result\r\nSuccessful launch\r\n\r\n###### Actual Result\r\nCrash\r\n",
    "keywords": [
      "aesthetic",
      "com",
      "[x]",
      "handler",
      "viewgroup dispatchattachedtowindow",
      "choreographer",
      "view viewgroup",
      "android",
      "run",
      "view",
      "afollestad",
      "aestheticviewpager",
      "######",
      "viewgroup",
      "android view",
      "zygoteinit",
      "method",
      "os",
      "dispatchattachedtowindow viewgroup",
      "viewgroup java:2923",
      "version",
      "afollestad aesthetic",
      "util",
      "java:2923",
      "viewrootimpl",
      "dispatchattachedtowindow"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/afollestad/aesthetic/commit/d603c6903ea9df0675b096a7bc8ffdf1fba16da9",
      "files": [
        {
          "file_name": "README.md",
          "patch": "@@ -48,7 +48,7 @@ Add this to your module\u0027s `build.gradle` file:\n ```gradle\n dependencies {\n     // ... other dependencies\n-    compile \u0027com.afollestad:aesthetic:0.4.0\u0027\n+    compile \u0027com.afollestad:aesthetic:0.4.2\u0027\n }\n ```\n "
        },
        {
          "file_name": "dependencies.gradle",
          "patch": "@@ -2,8 +2,8 @@ ext.versions \u003d [\n         minSdk            : 16,\n         compileSdk        : 25,\n         buildTools        : \u002725.0.3\u0027,\n-        publishVersion    : \u00270.4.1\u0027,\n-        publishVersionCode: 13,\n+        publishVersion    : \u00270.4.2\u0027,\n+        publishVersionCode: 14  ,\n         gradlePlugin      : \u00272.3.2\u0027,\n \n         supportLib        : \u002725.3.1\u0027,"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/aesthetic/Aesthetic.java",
          "patch": "@@ -145,12 +145,12 @@ public static void pause(@NonNull AppCompatActivity activity) {\n     if (instance.backgroundSubscriptions !\u003d null) {\n       instance.backgroundSubscriptions.clear();\n     }\n-    if (instance.context !\u003d null\n-        \u0026\u0026 instance.context.getClass().getName().equals(activity.getClass().getName())) {\n-      instance.context \u003d null;\n-    }\n     if (activity.isFinishing()) {\n       instance.backgroundSubscriberViews.remove(activity);\n+      if (instance.context !\u003d null\n+          \u0026\u0026 instance.context.getClass().getName().equals(activity.getClass().getName())) {\n+        instance.context \u003d null;\n+      }\n     }\n   }\n "
        }
      ]
    }
  },
  {
    "name": "IllegalStateException when updating status",
    "url": "https://github.com/barbeau/gpstest/issues/85",
    "description": "**Summary:** \r\n\r\nI saw a crash today with this in the log:\r\n\r\n~~~\r\nProcess: com.android.gpstest, PID: 15575\r\n   java.lang.IllegalStateException: Fragment GpsStatusFragment{f97116d} not attached to Activity\r\n\t   at android.support.v4.app.Fragment.getResources(Fragment.java:648)\r\n\t   at android.support.v4.app.Fragment.getString(Fragment.java:683)\r\n\t   at com.android.gpstest.GpsStatusFragment.updateLegacyStatus(GpsStatusFragment.java:409)\r\n\t   at com.android.gpstest.GpsStatusFragment.onGpsStatusChanged(GpsStatusFragment.java:251)\r\n\t   at com.android.gpstest.GpsTestActivity$3.onGpsStatusChanged(GpsTestActivity.java:461)\r\n\t   at android.location.LocationManager$GnssStatusListenerTransport$1.onSatelliteStatusChanged(LocationManager.java:1515)\r\n\t   at android.location.LocationManager$GnssStatusListenerTransport$GnssHandler.handleMessage(LocationManager.java:1463)\r\n\t   at android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t   at android.os.Looper.loop(Looper.java:154)\r\n\t   at android.app.ActivityThread.main(ActivityThread.java:6247)\r\n\t   at java.lang.reflect.Method.invoke(Native Method)\r\n\t   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:872)\r\n\t   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:762)\r\n~~~\r\n\r\n**Steps to reproduce:** \r\n\r\nUnsure\r\n\r\n**Expected behavior:** \r\n\r\nNot crash\r\n\r\n**Observed behavior:** \r\n\r\nCrash\r\n\r\n**Device and Android version:** \r\n\r\nLG G5 w/ Android 7.0",
    "keywords": [
      "com",
      "gpsstatusfragment",
      "app",
      "fragment",
      "os",
      "android",
      "gpstest",
      "com android",
      "zygoteinit",
      "crash"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/barbeau/gpstest/commit/8ce015d3dbbbfdfd360c83c825104d5d50957b72",
      "files": [
        {
          "file_name": "GPSTest/src/main/java/com/android/gpstest/GpsStatusFragment.java",
          "patch": "@@ -45,6 +45,8 @@\n import java.text.SimpleDateFormat;\n import java.util.Iterator;\n \n+import static com.android.gpstest.util.GpsTestUtil.isFragmentAttached;\n+\n \n public class GpsStatusFragment extends Fragment implements GpsTestListener {\n \n@@ -93,30 +95,35 @@\n     private boolean mUseLegacyGnssApi \u003d false;\n \n     public void onLocationChanged(Location location) {\n+        if (!isFragmentAttached(this)) {\n+            // Fragment isn\u0027t visible, so return to avoid IllegalStateException (see #85)\n+            return;\n+        }\n+\n         if (!mGotFix) {\n             mTTFFView.setText(GpsTestActivity.getInstance().mTtff);\n             mGotFix \u003d true;\n         }\n-        mLatitudeView.setText(getString(R.string.gps_latitude_value, location.getLatitude()));\n-        mLongitudeView.setText(getString(R.string.gps_longitude_value, location.getLongitude()));\n+        mLatitudeView.setText(mRes.getString(R.string.gps_latitude_value, location.getLatitude()));\n+        mLongitudeView.setText(mRes.getString(R.string.gps_longitude_value, location.getLongitude()));\n         mFixTime \u003d location.getTime();\n         if (location.hasAltitude()) {\n-            mAltitudeView.setText(getString(R.string.gps_altitude_value, location.getAltitude()));\n+            mAltitudeView.setText(mRes.getString(R.string.gps_altitude_value, location.getAltitude()));\n         } else {\n             mAltitudeView.setText(\"\");\n         }\n         if (location.hasAccuracy()) {\n-            mAccuracyView.setText(getString(R.string.gps_accuracy_value, location.getAccuracy()));\n+            mAccuracyView.setText(mRes.getString(R.string.gps_accuracy_value, location.getAccuracy()));\n         } else {\n             mAccuracyView.setText(\"\");\n         }\n         if (location.hasSpeed()) {\n-            mSpeedView.setText(getString(R.string.gps_speed_value, location.getSpeed()));\n+            mSpeedView.setText(mRes.getString(R.string.gps_speed_value, location.getSpeed()));\n         } else {\n             mSpeedView.setText(\"\");\n         }\n         if (location.hasBearing()) {\n-            mBearingView.setText(getString(R.string.gps_bearing_value, location.getBearing()));\n+            mBearingView.setText(mRes.getString(R.string.gps_bearing_value, location.getBearing()));\n         } else {\n             mBearingView.setText(\"\");\n         }\n@@ -202,7 +209,7 @@ private void setStarted(boolean navigating) {\n     }\n \n     private void updateFixTime() {\n-        if (mFixTime \u003d\u003d 0 || !GpsTestActivity.getInstance().mStarted) {\n+        if (mFixTime \u003d\u003d 0 || (GpsTestActivity.getInstance() !\u003d null \u0026\u0026 !GpsTestActivity.getInstance().mStarted)) {\n             mFixTimeView.setText(\"\");\n         } else {\n             mFixTimeView.setText(mDateFormat.format(mFixTime));\n@@ -293,7 +300,7 @@ public void onNmeaMessage(String message, long timestamp) {\n         if (message.startsWith(\"$GPGGA\") || message.startsWith(\"$GNGNS\")) {\n             Double altitudeMsl \u003d GpsTestUtil.getAltitudeMeanSeaLevel(message);\n             if (altitudeMsl !\u003d null \u0026\u0026 mNavigating) {\n-                mAltitudeMslView.setText(getString(R.string.gps_altitude_msl_value, altitudeMsl));\n+                mAltitudeMslView.setText(mRes.getString(R.string.gps_altitude_msl_value, altitudeMsl));\n             }\n         }\n         if (message.startsWith(\"$GNGSA\") || message.startsWith(\"$GPGSA\")) {\n@@ -302,7 +309,7 @@ public void onNmeaMessage(String message, long timestamp) {\n                 showDopViews();\n                 mPdopView.setText(String.valueOf(dop.getPositionDop()));\n                 mHvdopView.setText(\n-                        getString(R.string.hvdop_value, dop.getHorizontalDop(),\n+                        mRes.getString(R.string.hvdop_value, dop.getHorizontalDop(),\n                                 dop.getVerticalDop()));\n             }\n         }\n@@ -321,6 +328,11 @@ private void updateGnssStatus(GnssStatus status) {\n         setStarted(true);\n         updateFixTime();\n \n+        if (!isFragmentAttached(this)) {\n+            // Fragment isn\u0027t visible, so return to avoid IllegalStateException (see #85)\n+            return;\n+        }\n+\n         mSnrCn0Title \u003d mRes.getString(R.string.gps_cn0_column_label);\n \n         if (mPrns \u003d\u003d null) {\n@@ -360,7 +372,7 @@ private void updateGnssStatus(GnssStatus status) {\n             mSvCount++;\n         }\n \n-        mNumSats.setText(getString(R.string.gps_num_sats_value, mUsedInFixCount, mSvCount));\n+        mNumSats.setText(mRes.getString(R.string.gps_num_sats_value, mUsedInFixCount, mSvCount));\n \n         mAdapter.notifyDataSetChanged();\n     }\n@@ -371,6 +383,11 @@ private void updateLegacyStatus(GpsStatus status) {\n         setStarted(true);\n         updateFixTime();\n \n+        if (!isFragmentAttached(this)) {\n+            // Fragment isn\u0027t visible, so return to avoid IllegalStateException (see #85)\n+            return;\n+        }\n+\n         mSnrCn0Title \u003d mRes.getString(R.string.gps_snr_column_label);\n \n         Iterator\u003cGpsSatellite\u003e satellites \u003d status.getSatellites().iterator();\n@@ -406,7 +423,7 @@ private void updateLegacyStatus(GpsStatus status) {\n             mSvCount++;\n         }\n \n-        mNumSats.setText(getString(R.string.gps_num_sats_value, mUsedInFixCount, mSvCount));\n+        mNumSats.setText(mRes.getString(R.string.gps_num_sats_value, mUsedInFixCount, mSvCount));\n \n         mAdapter.notifyDataSetChanged();\n     }\n@@ -523,15 +540,15 @@ public View getView(int position, View convertView, ViewGroup parent) {\n                         break;\n                     case ELEVATION_COLUMN:\n                         if (mSvElevations[row] !\u003d 0.0f) {\n-                            text \u003d getString(R.string.gps_elevation_column_value,\n+                            text \u003d mRes.getString(R.string.gps_elevation_column_value,\n                                     Float.toString(mSvElevations[row]));\n                         } else {\n                             text \u003d \"\";\n                         }\n                         break;\n                     case AZIMUTH_COLUMN:\n                         if (mSvAzimuths[row] !\u003d 0.0f) {\n-                            text \u003d getString(R.string.gps_azimuth_column_value,\n+                            text \u003d mRes.getString(R.string.gps_azimuth_column_value,\n                                     Float.toString(mSvAzimuths[row]));\n                         } else {\n                             text \u003d \"\";"
        },
        {
          "file_name": "GPSTest/src/main/java/com/android/gpstest/util/GpsTestUtil.java",
          "patch": "@@ -26,6 +26,7 @@\n import android.location.GnssStatus;\n import android.os.Build;\n import android.support.annotation.RequiresApi;\n+import android.support.v4.app.Fragment;\n import android.text.TextUtils;\n import android.util.Log;\n \n@@ -178,6 +179,16 @@ public static boolean canManageDialog(Activity activity) {\n     }\n \n     /**\n+     * Returns true if the fragment is attached to the activity, or false if it is not attached\n+     *\n+     * @param f fragment to be tested\n+     * @return true if the fragment is attached to the activity, or false if it is not attached\n+     */\n+    public static boolean isFragmentAttached(Fragment f) {\n+        return f.getActivity() !\u003d null \u0026\u0026 f.isAdded();\n+    }\n+\n+    /**\n      * Outputs the provided nmea message and timestamp to log\n      *\n      * @param timestamp timestamp to write to the log, or Long.MIN_VALUE to not write a timestamp"
        }
      ]
    }
  },
  {
    "name": "App crash when increment/decrement buttons clicked when inputbox is empty",
    "url": "https://github.com/fossasia/pslab-android/issues/231",
    "description": "**Actual Behaviour**\r\n\r\nWhen the input text boxes are empty, attempting to use increment/decrement buttons in main control panel will crash the application.\r\n\r\n**Expected Behaviour**\r\n\r\nApp should not crash when user tries to click increment/decrement buttons in control main panel\r\n\r\n**Steps to reproduce it**\r\n\r\n1. Open app\r\n2. Go to `Applications`\r\n3. Open `Control`\r\n4. Type a value or slide seek bar to set a value in any text box\r\n5. Delete the content and make the text box empty\r\n6. Try clicking increment/decrement icons and observe\r\n\r\n**LogCat for the issue**\r\n\r\n```\r\n06-25 14:43:36.002 19448-19448/org.fossasia.pslab E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                    java.lang.NumberFormatException: Invalid double: \"\"\r\n                                                                        at java.lang.StringToReal.invalidReal(StringToReal.java:63)\r\n                                                                        at java.lang.StringToReal.parseDouble(StringToReal.java:248)\r\n                                                                        at java.lang.Double.parseDouble(Double.java:295)\r\n                                                                        at java.lang.Double.valueOf(Double.java:332)\r\n                                                                        at org.fossasia.pslab.adapters.ControlMainAdapter$10.onClick(ControlMainAdapter.java:211)\r\n                                                                        at android.view.View.performClick(View.java:4439)\r\n                                                                        at android.widget.Button.performClick(Button.java:139)\r\n                                                                        at android.view.View$PerformClick.run(View.java:18395)\r\n                                                                        at android.os.Handler.handleCallback(Handler.java:725)\r\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:92)\r\n                                                                        at android.os.Looper.loop(Looper.java:176)\r\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:5317)\r\n                                                                        at java.lang.reflect.Method.invokeNative(Native Method)\r\n                                                                        at java.lang.reflect.Method.invoke(Method.java:511)\r\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n                                                                        at dalvik.system.NativeStart.main(Native Method)\r\n```\r\n\r\n**Screenshots of the issue**\r\n\r\n\u003e Not available\r\n\r\n**Would you like to work on the issue?**\r\n\r\nI would like to work on it!\r\n",
    "keywords": [
      "app",
      "handler",
      "buttons",
      "method",
      "os",
      "double",
      "android",
      "main",
      "increment/decrement",
      "empty",
      "crash",
      "stringtoreal",
      "view",
      "java",
      "text",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/pslab-android/commit/f72659db637f43a169c32c4e21f90276937f9923",
      "files": [
        {
          "file_name": "app/src/main/java/org/fossasia/pslab/adapters/ControlMainAdapter.java",
          "patch": "@@ -82,46 +82,57 @@ public void onBindViewHolder(final ViewHolder holder, int position) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataDecrement \u003d data - 0.0025;\n-                        if (dataDecrement \u003c -5.0)\n-                            dataDecrement \u003d -5.0;\n-                        else if (dataDecrement \u003e 5.0)\n-                            dataDecrement \u003d 5.0;\n-                        seekBarControlMain.setProgress((int)((dataDecrement+5)*10));\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataDecrement \u003d data - 0.0025;\n+                            if (dataDecrement \u003c -5.0)\n+                                dataDecrement \u003d -5.0;\n+                            else if (dataDecrement \u003e 5.0)\n+                                dataDecrement \u003d 5.0;\n+                            seekBarControlMain.setProgress((int)((dataDecrement+5)*10));\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataIncrement \u003d data1 + 0.0025;\n-                        if (dataIncrement \u003c -5.0)\n-                            dataIncrement \u003d -5.0;\n-                        else if (dataIncrement \u003e 5.0)\n-                            dataIncrement \u003d 5.0;\n-                        seekBarControlMain.setProgress((int)((dataIncrement+5)*10));\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataIncrement \u003d data1 + 0.0025;\n+                            if (dataIncrement \u003c -5.0)\n+                                dataIncrement \u003d -5.0;\n+                            else if (dataIncrement \u003e 5.0)\n+                                dataIncrement \u003d 5.0;\n+                            seekBarControlMain.setProgress((int) ((dataIncrement + 5) * 10));\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003e 5)\n-                            value \u003d 5f;\n-                        else if (value \u003c -5)\n-                            value \u003d -5f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        //seekBarControlMain.setProgress((int) ((value + 5) * 10));\n-\n-                        if (scienceLab.isConnected())\n-                            scienceLab.setPV1(value);\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003e 5)\n+                                value \u003d 5f;\n+                            else if (value \u003c -5)\n+                                value \u003d -5f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            //seekBarControlMain.setProgress((int) ((value + 5) * 10));\n+                            if (scienceLab.isConnected())\n+                                scienceLab.setPV1(value);\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n@@ -149,46 +160,57 @@ public void onStopTrackingTouch(SeekBar seekBar) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataDecrement \u003d data - 0.0025;\n-                        if (dataDecrement \u003c -3.3)\n-                            dataDecrement \u003d -3.3;\n-                        else if (dataDecrement \u003e 3.3)\n-                            dataDecrement \u003d 3.3;\n-                        seekBarControlMain.setProgress((int)((dataDecrement+3.3)*15.15));\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataDecrement \u003d data - 0.0025;\n+                            if (dataDecrement \u003c -3.3)\n+                                dataDecrement \u003d -3.3;\n+                            else if (dataDecrement \u003e 3.3)\n+                                dataDecrement \u003d 3.3;\n+                            seekBarControlMain.setProgress((int) ((dataDecrement + 3.3) * 15.15));\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataIncrement \u003d data1 + 0.0025;\n-                        if (dataIncrement \u003c -3.3)\n-                            dataIncrement \u003d -3.3;\n-                        else if (dataIncrement \u003e 3.3)\n-                            dataIncrement \u003d 3.3;\n-                        seekBarControlMain.setProgress((int)((dataIncrement+3.3)*15.15));\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataIncrement \u003d data1 + 0.0025;\n+                            if (dataIncrement \u003c -3.3)\n+                                dataIncrement \u003d -3.3;\n+                            else if (dataIncrement \u003e 3.3)\n+                                dataIncrement \u003d 3.3;\n+                            seekBarControlMain.setProgress((int) ((dataIncrement + 3.3) * 15.15));\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003e 3.3)\n-                            value \u003d 3.3f;\n-                        else if (value \u003c -3.3)\n-                            value \u003d -3.3f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        seekBarControlMain.setProgress((int) ((value + 3.3) * 15.15));\n-\n-                        if (scienceLab.isConnected())\n-                            scienceLab.setPV2(value);\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003e 3.3)\n+                                value \u003d 3.3f;\n+                            else if (value \u003c -3.3)\n+                                value \u003d -3.3f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            seekBarControlMain.setProgress((int) ((value + 3.3) * 15.15));\n+                            if (scienceLab.isConnected())\n+                                scienceLab.setPV2(value);\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n@@ -218,46 +240,58 @@ public void onStopTrackingTouch(SeekBar seekBar) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataDecrement \u003d data - 0.0025;\n-                        if (dataDecrement \u003c 0.0)\n-                            dataDecrement \u003d 0.0;\n-                        else if (dataDecrement \u003e 3.3)\n-                            dataDecrement \u003d 3.3;\n-                        seekBarControlMain.setProgress((int)(dataDecrement*30.30));\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataDecrement \u003d data - 0.0025;\n+                            if (dataDecrement \u003c 0.0)\n+                                dataDecrement \u003d 0.0;\n+                            else if (dataDecrement \u003e 3.3)\n+                                dataDecrement \u003d 3.3;\n+                            seekBarControlMain.setProgress((int) (dataDecrement * 30.30));\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataIncrement \u003d data1 + 0.0025;\n-                        if (dataIncrement \u003c 0.0)\n-                            dataIncrement \u003d 0.0;\n-                        else if (dataIncrement \u003e 3.3)\n-                            dataIncrement \u003d 3.3;\n-                        seekBarControlMain.setProgress((int)(dataIncrement*30.30));\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataIncrement \u003d data1 + 0.0025;\n+                            if (dataIncrement \u003c 0.0)\n+                                dataIncrement \u003d 0.0;\n+                            else if (dataIncrement \u003e 3.3)\n+                                dataIncrement \u003d 3.3;\n+                            seekBarControlMain.setProgress((int) (dataIncrement * 30.30));\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003e 3.3)\n-                            value \u003d 3.3f;\n-                        else if (value \u003c 0)\n-                            value \u003d 0f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        //seekBarControlMain.setProgress((int) (value * 30.30));\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003e 3.3)\n+                                value \u003d 3.3f;\n+                            else if (value \u003c 0)\n+                                value \u003d 0f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            //seekBarControlMain.setProgress((int) (value * 30.30));\n+                            if (scienceLab.isConnected())\n+                                scienceLab.setPV3(value);\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n \n-                        if (scienceLab.isConnected())\n-                            scienceLab.setPV3(value);\n                     }\n                 });\n \n@@ -287,45 +321,56 @@ public void onStopTrackingTouch(SeekBar seekBar) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataDecrement \u003d data - 0.0025;\n-                        if (dataDecrement \u003c 0.0)\n-                            dataDecrement \u003d 0.0;\n-                        else if (dataDecrement \u003e 3.3)\n-                            dataDecrement \u003d 3.3;\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            Double data \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataDecrement \u003d data - 0.0025;\n+                            if (dataDecrement \u003c 0.0)\n+                                dataDecrement \u003d 0.0;\n+                            else if (dataDecrement \u003e 3.3)\n+                                dataDecrement \u003d 3.3;\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n-                        Double dataIncrement \u003d data1 + 0.0025;\n-                        if (dataIncrement \u003c 0.0)\n-                            dataIncrement \u003d 0.0;\n-                        else if (dataIncrement \u003e 3.3)\n-                            dataIncrement \u003d 3.3;\n-                        DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            Double data1 \u003d Double.valueOf(editTextControlMain.getText().toString());\n+                            Double dataIncrement \u003d data1 + 0.0025;\n+                            if (dataIncrement \u003c 0.0)\n+                                dataIncrement \u003d 0.0;\n+                            else if (dataIncrement \u003e 3.3)\n+                                dataIncrement \u003d 3.3;\n+                            DecimalFormat df \u003d new DecimalFormat(\"#.####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003e 3.3)\n-                            value \u003d 3.3f;\n-                        else if (value \u003c 0)\n-                            value \u003d 0f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        //seekBarControlMain.setProgress((int) (value * 30.30));\n-\n-                        if (scienceLab.isConnected())\n-                            scienceLab.setPCS(value);\n-\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003e 3.3)\n+                                value \u003d 3.3f;\n+                            else if (value \u003c 0)\n+                                value \u003d 0f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            //seekBarControlMain.setProgress((int) (value * 30.30));\n+\n+                            if (scienceLab.isConnected())\n+                                scienceLab.setPCS(value);\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n@@ -354,46 +399,58 @@ public void onStopTrackingTouch(SeekBar seekBar) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        int data \u003d Integer.valueOf(editTextControlMain.getText().toString());\n-                        int dataDecrement \u003d data - 1;\n-                        if (dataDecrement \u003c 10)\n-                            dataDecrement \u003d 10;\n-                        else if (dataDecrement \u003e 5000)\n-                            dataDecrement \u003d 5000;\n-\n-                        seekBarControlMain.setProgress((int)((dataDecrement-10)/49.9));\n-                        DecimalFormat df \u003d new DecimalFormat(\"####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            int data \u003d Integer.valueOf(editTextControlMain.getText().toString());\n+                            int dataDecrement \u003d data - 1;\n+                            if (dataDecrement \u003c 10)\n+                                dataDecrement \u003d 10;\n+                            else if (dataDecrement \u003e 5000)\n+                                dataDecrement \u003d 5000;\n+\n+                            seekBarControlMain.setProgress((int) ((dataDecrement - 10) / 49.9));\n+                            DecimalFormat df \u003d new DecimalFormat(\"####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        int data1 \u003d Integer.valueOf(editTextControlMain.getText().toString());\n-                        int dataIncrement \u003d data1 + 1;\n-                        if (dataIncrement \u003c 10)\n-                            dataIncrement \u003d 10;\n-                        else if (dataIncrement \u003e 5000)\n-                            dataIncrement \u003d 5000;\n-                        seekBarControlMain.setProgress((int)((dataIncrement-10)/49.9));\n-                        DecimalFormat df \u003d new DecimalFormat(\"####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            int data1 \u003d Integer.valueOf(editTextControlMain.getText().toString());\n+                            int dataIncrement \u003d data1 + 1;\n+                            if (dataIncrement \u003c 10)\n+                                dataIncrement \u003d 10;\n+                            else if (dataIncrement \u003e 5000)\n+                                dataIncrement \u003d 5000;\n+                            seekBarControlMain.setProgress((int) ((dataIncrement - 10) / 49.9));\n+                            DecimalFormat df \u003d new DecimalFormat(\"####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003c 10)\n-                            value \u003d 10f;\n-                        else if (value \u003e 5000)\n-                            value \u003d 5000f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        //seekBarControlMain.setProgress((int) ((value - 10) / 49.9));\n-\n-                        // call to scienceLab for setting\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003c 10)\n+                                value \u003d 10f;\n+                            else if (value \u003e 5000)\n+                                value \u003d 5000f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            //seekBarControlMain.setProgress((int) ((value - 10) / 49.9));\n+\n+                            // call to scienceLab for setting\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n@@ -421,45 +478,57 @@ public void onStopTrackingTouch(SeekBar seekBar) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        int data \u003d Integer.valueOf(editTextControlMain.getText().toString());\n-                        int dataDecrement \u003d data - 1;\n-                        if (dataDecrement \u003c 10)\n-                            dataDecrement \u003d 10;\n-                        else if (dataDecrement \u003e 5000)\n-                            dataDecrement \u003d 5000;\n-                        seekBarControlMain.setProgress((int)((dataDecrement-10)/49.9));\n-                        DecimalFormat df \u003d new DecimalFormat(\"####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            int data \u003d Integer.valueOf(editTextControlMain.getText().toString());\n+                            int dataDecrement \u003d data - 1;\n+                            if (dataDecrement \u003c 10)\n+                                dataDecrement \u003d 10;\n+                            else if (dataDecrement \u003e 5000)\n+                                dataDecrement \u003d 5000;\n+                            seekBarControlMain.setProgress((int) ((dataDecrement - 10) / 49.9));\n+                            DecimalFormat df \u003d new DecimalFormat(\"####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        int data1 \u003d Integer.valueOf(editTextControlMain.getText().toString());\n-                        int dataIncrement \u003d data1 + 1;\n-                        if (dataIncrement \u003c 10)\n-                            dataIncrement \u003d 10;\n-                        else if (dataIncrement \u003e 5000)\n-                            dataIncrement \u003d 5000;\n-                        seekBarControlMain.setProgress((int)((dataIncrement-10)/49.9));\n-                        DecimalFormat df \u003d new DecimalFormat(\"####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            int data1 \u003d Integer.valueOf(editTextControlMain.getText().toString());\n+                            int dataIncrement \u003d data1 + 1;\n+                            if (dataIncrement \u003c 10)\n+                                dataIncrement \u003d 10;\n+                            else if (dataIncrement \u003e 5000)\n+                                dataIncrement \u003d 5000;\n+                            seekBarControlMain.setProgress((int) ((dataIncrement - 10) / 49.9));\n+                            DecimalFormat df \u003d new DecimalFormat(\"####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003c 10)\n-                            value \u003d 10f;\n-                        else if (value \u003e 5000)\n-                            value \u003d 5000f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        seekBarControlMain.setProgress((int) ((value - 10) / 49.9));\n-\n-                        // call to scienceLab for setting\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003c 10)\n+                                value \u003d 10f;\n+                            else if (value \u003e 5000)\n+                                value \u003d 5000f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            seekBarControlMain.setProgress((int) ((value - 10) / 49.9));\n+\n+                            // call to scienceLab for setting\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n                 seekBarControlMain.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n@@ -487,45 +556,57 @@ public void onStopTrackingTouch(SeekBar seekBar) {\n                 buttonControlMain1.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        int data \u003d Integer.valueOf(editTextControlMain.getText().toString());\n-                        int dataDecrement \u003d data - 1;\n-                        if (dataDecrement \u003c 10)\n-                            dataDecrement \u003d 10;\n-                        else if (dataDecrement \u003e 5000)\n-                            dataDecrement \u003d 5000;\n-                        seekBarControlMain.setProgress((int)((dataDecrement-10)/49.9));\n-                        DecimalFormat df \u003d new DecimalFormat(\"####\");\n-                        editTextControlMain.setText(df.format(dataDecrement));\n+                        try {\n+                            int data \u003d Integer.valueOf(editTextControlMain.getText().toString());\n+                            int dataDecrement \u003d data - 1;\n+                            if (dataDecrement \u003c 10)\n+                                dataDecrement \u003d 10;\n+                            else if (dataDecrement \u003e 5000)\n+                                dataDecrement \u003d 5000;\n+                            seekBarControlMain.setProgress((int) ((dataDecrement - 10) / 49.9));\n+                            DecimalFormat df \u003d new DecimalFormat(\"####\");\n+                            editTextControlMain.setText(df.format(dataDecrement));\n+                        }  catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain2.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        int data1 \u003d Integer.valueOf(editTextControlMain.getText().toString());\n-                        int dataIncrement \u003d data1 + 1;\n-                        if (dataIncrement \u003c 10)\n-                            dataIncrement \u003d 10;\n-                        else if (dataIncrement \u003e 5000)\n-                            dataIncrement \u003d 5000;\n-                        seekBarControlMain.setProgress((int)((dataIncrement-10)/49.9));\n-                        DecimalFormat df \u003d new DecimalFormat(\"####\");\n-                        editTextControlMain.setText(df.format(dataIncrement));\n+                        try {\n+                            int data1 \u003d Integer.valueOf(editTextControlMain.getText().toString());\n+                            int dataIncrement \u003d data1 + 1;\n+                            if (dataIncrement \u003c 10)\n+                                dataIncrement \u003d 10;\n+                            else if (dataIncrement \u003e 5000)\n+                                dataIncrement \u003d 5000;\n+                            seekBarControlMain.setProgress((int) ((dataIncrement - 10) / 49.9));\n+                            DecimalFormat df \u003d new DecimalFormat(\"####\");\n+                            editTextControlMain.setText(df.format(dataIncrement));\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n \n                 buttonControlMain3.setOnClickListener(new View.OnClickListener() {\n                     @Override\n                     public void onClick(View view) {\n-                        Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n-                        if (value \u003c 10)\n-                            value \u003d 10f;\n-                        else if (value \u003e 5000)\n-                            value \u003d 5000f;\n-                        editTextControlMain.setText(String.valueOf(value));\n-                        seekBarControlMain.setProgress((int) ((value - 10) / 49.9));\n-\n-                        // call to scienceLab for setting\n+                        try {\n+                            Float value \u003d Float.parseFloat(editTextControlMain.getText().toString());\n+                            if (value \u003c 10)\n+                                value \u003d 10f;\n+                            else if (value \u003e 5000)\n+                                value \u003d 5000f;\n+                            editTextControlMain.setText(String.valueOf(value));\n+                            seekBarControlMain.setProgress((int) ((value - 10) / 49.9));\n+\n+                            // call to scienceLab for setting\n+                        } catch (NumberFormatException e) {\n+                            editTextControlMain.setText(\"0\");\n+                        }\n                     }\n                 });\n                 seekBarControlMain.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {"
        }
      ]
    }
  },
  {
    "name": "Handle missing contact app gracefully",
    "url": "https://github.com/kontalk/androidclient/issues/782",
    "description": "Verify that this is also handled in the compose activity title.\n\n```\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act\u003dandroid.intent.action.PICK dat\u003dcontent://com.android.contacts/contacts }\n       at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1632)\n       at android.app.Instrumentation.execStartActivity(Instrumentation.java:1424)\n       at android.app.Activity.startActivityForResult(Activity.java:3424)\n       at android.support.v4.app.ActivityCompatJB.startActivityForResult(ActivityCompatJB.java:30)\n       at android.support.v4.app.ActivityCompat.startActivityForResult(ActivityCompat.java:162)\n       at android.support.v4.app.FragmentActivity.startActivityFromFragment(FragmentActivity.java:921)\n       at android.support.v4.app.FragmentActivity$HostCallbacks.onStartActivityFromFragment(FragmentActivity.java:1009)\n       at android.support.v4.app.Fragment.startActivityForResult(Fragment.java:940)\n       at android.support.v4.app.Fragment.startActivityForResult(Fragment.java:929)\n       at org.kontalk.ui.ComposeMessageFragment.selectContactAttachment(ComposeMessageFragment.java:1215)\n       at org.kontalk.ui.ComposeMessageFragment.access$800(ComposeMessageFragment.java:150)\n       at org.kontalk.ui.ComposeMessageFragment$10.onClick(ComposeMessageFragment.java:686)\n       at android.view.View.performClick(View.java:4443)\n       at android.view.View$PerformClick.run(View.java:18443)\n       at android.os.Handler.handleCallback(Handler.java:733)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:136)\n       at android.app.ActivityThread.main(ActivityThread.java:5001)\n       at java.lang.reflect.Method.invokeNative(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:515)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:811)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:627)\n       at dalvik.system.NativeStart.main(NativeStart.java)\n```\n",
    "keywords": [
      "composemessagefragment",
      "app",
      "handler",
      "os",
      "activity",
      "method",
      "org",
      "android",
      "android support",
      "support v4",
      "main",
      "org kontalk",
      "fragmentactivity",
      "view",
      "fragment",
      "java",
      "ui",
      "v4 app",
      "startactivityforresult",
      "instrumentation",
      "support",
      "kontalk",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/64ab73d4c65133e443148db0444f20ec0a48b81c",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -1044,8 +1044,16 @@ private Intent createGalleryIntent(boolean useSAF) {\n \n     /** Starts activity for a vCard attachment from a contact. */\n     private void selectContactAttachment() {\n-        Intent i \u003d new Intent(Intent.ACTION_PICK, Contacts.CONTENT_URI);\n-        startActivityForResult(i, SELECT_ATTACHMENT_CONTACT);\n+        try {\n+            Intent i \u003d new Intent(Intent.ACTION_PICK, Contacts.CONTENT_URI);\n+            startActivityForResult(i, SELECT_ATTACHMENT_CONTACT);\n+        }\n+        catch (ActivityNotFoundException e) {\n+            // no contacts app found (crap device eh?)\n+            Toast.makeText(getActivity(),\n+                R.string.err_no_contacts_app,\n+                Toast.LENGTH_LONG).show();\n+        }\n     }\n \n     private void selectAudioAttachment() {"
        }
      ]
    }
  },
  {
    "name": "NullPointerException - MediaItemDetailsActivity.onButtonFabPlay",
    "url": "https://github.com/MythTV-Clients/MythtvPlayerForAndroid/issues/216",
    "description": "    Exception java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String org.mythtv.android.presentation.model.MediaItemModel.getUrl()\u0027 on a null object reference\r\n    org.mythtv.android.presentation.view.activity.phone.MediaItemDetailsActivity.onButtonFabPlay ()\r\n    org.mythtv.android.presentation.view.activity.phone.MediaItemDetailsActivity_ViewBinding$1.doClick ()\r\n        butterknife.internal.DebouncingOnClickListener.onClick (DebouncingOnClickListener.java:22)\r\n        android.view.View.performClick (View.java:5204)\r\n        android.view.View$PerformClick.run (View.java:21158)\r\n        android.os.Handler.handleCallback (Handler.java:739)\r\n        android.os.Handler.dispatchMessage (Handler.java:95)\r\n        android.os.Looper.loop (Looper.java:148)\r\n        android.app.ActivityThread.main (ActivityThread.java:5461)\r\n        java.lang.reflect.Method.invoke (Method.java)\r\n        com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:726)\r\n        com.android.internal.os.ZygoteInit.main (ZygoteInit.java:616)",
    "keywords": [
      "presentation",
      "handler",
      "view",
      "internal",
      "java",
      "os",
      "method",
      "org",
      "android",
      "lang",
      "mythtv",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/MythTV-Clients/MythtvPlayerForAndroid/commit/86d9c8d0ecf47511fed1f3392c49e0b7ff235f61",
      "files": [
        {
          "file_name": "app/src/main/java/org/mythtv/android/presentation/view/activity/phone/AbstractBasePhoneActivity.java",
          "patch": "@@ -29,6 +29,7 @@\n import android.app.Fragment;\n import android.app.FragmentManager;\n import android.app.FragmentTransaction;\n+import android.support.design.widget.Snackbar;\n import android.support.v4.view.GravityCompat;\n import android.support.v4.widget.DrawerLayout;\n import android.support.v7.app.ActionBar;\n@@ -39,6 +40,7 @@\n import android.view.Menu;\n import android.view.MenuInflater;\n import android.view.MenuItem;\n+import android.view.View;\n \n import com.google.android.gms.cast.framework.CastButtonFactory;\n import com.google.android.gms.cast.framework.CastContext;\n@@ -88,6 +90,8 @@\n \n     protected FirebaseAnalytics mFirebaseAnalytics;\n \n+    private View rootView;\n+\n     public abstract int getLayoutResource();\n \n     @Override\n@@ -98,6 +102,8 @@ protected void onCreate( Bundle savedInstanceState ) {\n         setContentView( getLayoutResource() );\n         ButterKnife.bind( this );\n \n+        rootView \u003d findViewById(android.R.id.content);\n+\n         if( !FirebaseApp.getApps( this ).isEmpty() ) {\n \n             mFirebaseAnalytics \u003d FirebaseAnalytics.getInstance( this );\n@@ -353,4 +359,20 @@ protected String getMasterBackendUrl() {\n \n     }\n \n+    /**\n+     * Shows a {@link android.support.design.widget.Snackbar} message.\n+     *\n+     * @param message A string representing a message to be shown.\n+     * @param retryMessage A string representing the retry message to be shown\n+     * @param retryOnClickListener An onClickListener to handle retries\n+     */\n+    protected void showToastMessage( String message, String retryMessage, View.OnClickListener retryOnClickListener ) {\n+\n+        Snackbar\n+                .make( rootView, message, Snackbar.LENGTH_LONG )\n+                .setAction( retryMessage, retryOnClickListener )\n+                .show();\n+\n+    }\n+\n }"
        },
        {
          "file_name": "app/src/main/java/org/mythtv/android/presentation/view/activity/phone/MediaItemDetailsActivity.java",
          "patch": "@@ -338,6 +338,8 @@ void onButtonFabPlay() {\n                         Log.e( TAG, \"onButtonFabPlay : error\", e );\n                         FirebaseCrash.logcat( Log.ERROR, TAG, \"onButtonFabPlay : mediaItemModel\u003d\" + mediaItemModel.toString() );\n                         FirebaseCrash.report( e );\n+\n+                        showToastMessage( \"HLS for this video is no longer available\", null, null );\n                     }\n \n                     break;"
        },
        {
          "file_name": "app/src/main/java/org/mythtv/android/presentation/view/fragment/phone/AbstractBaseFragment.java",
          "patch": "@@ -58,7 +58,7 @@ public void onCreate( Bundle savedInstanceState ) {\n     }\n \n     /**\n-     * Shows a {@link android.widget.Toast} message.\n+     * Shows a {@link android.support.design.widget.Snackbar} message.\n      *\n      * @param message A string representing a message to be shown.\n      * @param retryMessage A string representing the retry message to be shown"
        },
        {
          "file_name": "app/src/main/java/org/mythtv/android/presentation/view/fragment/phone/MediaItemDetailsFragment.java",
          "patch": "@@ -534,10 +534,14 @@ private void updateProgress() {\n \n         } else {\n \n-            this.pb_progress.getProgressDrawable().setColorFilter( Color.RED, android.graphics.PorterDuff.Mode.SRC_IN );\n-            this.pb_progress.setVisibility( View.GONE );\n-            this.pb_progress.setIndeterminate( true );\n-            this.pb_progress.setProgress( 0 );\n+            if( null !\u003d this.pb_progress ) {\n+\n+                this.pb_progress.getProgressDrawable().setColorFilter( Color.RED, android.graphics.PorterDuff.Mode.SRC_IN );\n+                this.pb_progress.setVisibility( View.GONE );\n+                this.pb_progress.setIndeterminate( true );\n+                this.pb_progress.setProgress( 0 );\n+\n+            }\n \n         }\n "
        }
      ]
    }
  },
  {
    "name": "App crashs while trying to move a stored cache to another list",
    "url": "https://github.com/cgeo/cgeo/issues/6419",
    "description": "##### Detailed steps causing the problem:\r\n- Select one stored cache\r\n- Ask to move to another list\r\n\r\n##### Actual behavior after performing these steps:\r\nThe app crashes\r\n\r\n\r\n##### Expected behavior after performing these steps:\r\nThe cache should be moved to the other list\r\n\r\n\r\n##### Version of c:geo used:\r\n`2017.03.19`\r\n\r\n\r\n##### Is the problem reproducible for you?\r\nYes\r\n\r\n\r\n##### System information:\r\n```\r\nDevice: XT1069 (titan_retbr_dstv, motorola)\r\nAndroid version: 6.0\r\nAndroid build: MPB24.65-34-3\r\nCgeo version: 2017.03.19\r\nGoogle Play services: enabled - 10.2.98 (436-146496160)\r\nLow power mode: inactive\r\nCompass capabilities: yes\r\nRotation vector sensor: present\r\nOrientation sensor: present\r\nMagnetometer \u0026 Accelerometer sensor: present\r\nDirection sensor used: rotation vector\r\nHide own/found: false\r\nMap strategy: detailed\r\nHW acceleration: enabled (default state)\r\nSystem language: pt_BR (cgeo forced to English)\r\nSystem date format: dd/MM/yy\r\nDebug mode active: no\r\nFine location permission: granted\r\nWrite external storage permission: granted\r\nGeocaching sites enabled:\r\n   geocaching.com: Logged in (Login OK) / BASIC\r\nGeocaching.com date format: dd/MM/yyyy\r\nInstalled cgeo plugins:  none\r\n```\r\n\r\n\r\n##### Other comments and remarks:\r\nFrom logcat:\r\n\r\n```\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime: FATAL EXCEPTION: AsyncTask #3\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime: Process: cgeo.geocaching, PID: 12037\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime: java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at android.os.AsyncTask$3.done(AsyncTask.java:309)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.lang.Thread.run(Thread.java:818)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime: Caused by: java.lang.UnsupportedOperationException\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.Collections$SingletonSet$1.remove(Collections.java:260)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.AbstractCollection.remove(AbstractCollection.java:229)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at cgeo.geocaching.storage.DataStore.moveToList(DataStore.java:2939)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at cgeo.geocaching.command.MoveToListCommand.doCommand(MoveToListCommand.java:47)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at cgeo.geocaching.CacheListActivity$14.doCommand(CacheListActivity.java:965)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at cgeo.geocaching.command.AbstractCommand$ActionAsyncTask.doInBackgroundInternal(AbstractCommand.java:110)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at cgeo.geocaching.command.AbstractCommand$ActionAsyncTask.doInBackgroundInternal(AbstractCommand.java:103)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at cgeo.geocaching.utils.AsyncTaskWithProgress.doInBackground(AsyncTaskWithProgress.java:104)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at android.os.AsyncTask$2.call(AsyncTask.java:295)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n03-21 09:07:36.814 12037 17477 E AndroidRuntime:        ... 4 more\r\n03-21 09:07:36.830  1783  4144 W ActivityManager:   Force finishing activity cgeo.geocaching/.CacheListActivity\r\n```\r\n\r\n```\r\n03-21 09:07:37.350 12037 12037 E WindowManager: android.view.WindowLeaked: Activity cgeo.geocaching.CacheListActivity has leaked window com.android.internal.policy.PhoneWindow$DecorView{3dbce2b V.E...... R.....ID 0,0-684,192} that was originally added here\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.view.ViewRootImpl.\u003cinit\u003e(ViewRootImpl.java:375)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:299)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:85)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.app.Dialog.show(Dialog.java:319)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.activity.Progress.show(Progress.java:45)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.utils.AsyncTaskWithProgress.onPreExecute(AsyncTaskWithProgress.java:67)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:604)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.os.AsyncTask.execute(AsyncTask.java:551)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.command.AbstractCommand.execute(AbstractCommand.java:96)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.command.MoveToListCommand.access$101(MoveToListCommand.java:16)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.command.MoveToListCommand$1.call(MoveToListCommand.java:39)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.command.MoveToListCommand$1.call(MoveToListCommand.java:29)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.list.StoredList$UserInterface$3.call(StoredList.java:229)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.list.StoredList$UserInterface$3.call(StoredList.java:215)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.list.StoredList$UserInterface$5.call(StoredList.java:275)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.list.StoredList$UserInterface$5.call(StoredList.java:268)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at cgeo.geocaching.ui.dialog.Dialogs$2.onClick(Dialogs.java:404)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:163)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.os.Handler.dispatchMessage(Handler.java:102)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.os.Looper.loop(Looper.java:148)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at android.app.ActivityThread.main(ActivityThread.java:5443)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at java.lang.reflect.Method.invoke(Native Method)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n03-21 09:07:37.350 12037 12037 E WindowManager:         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n03-21 09:07:37.389  1783  2377 W WindowManager: Failed looking up window\r\n03-21 09:07:37.389  1783  2377 W WindowManager: java.lang.IllegalArgumentException: Requested window android.os.BinderProxy@cfad71f does not exist\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at com.android.server.wm.WindowManagerService.windowForClientLocked(WindowManagerService.java:8803)\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at com.android.server.wm.WindowManagerService.windowForClientLocked(WindowManagerService.java:8794)\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at com.android.server.wm.WindowManagerService.removeWindow(WindowManagerService.java:2740)\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at com.android.server.wm.Session.remove(Session.java:187)\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at android.view.IWindowSession$Stub.onTransact(IWindowSession.java:242)\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at com.android.server.wm.Session.onTransact(Session.java:130)\r\n03-21 09:07:37.389  1783  2377 W WindowManager:         at android.os.Binder.execTransact(Binder.java:453)\r\n```\r\n",
    "keywords": [
      "com",
      "java util",
      "cachelistactivity",
      "run",
      "12037 17477",
      "09:07:36 814",
      "350",
      "asynctaskwithprogress",
      "17477 e",
      "350 12037",
      "view",
      "java",
      "03-21 09:07:36",
      "geocaching command",
      "03-21 09:07:37",
      "util concurrent",
      "12037",
      "389 1783",
      "#####",
      "app",
      "cgeo",
      "android os",
      "cache",
      "list",
      "steps",
      "version",
      "09:07:37 350",
      "geocaching",
      "system",
      "09:07:37",
      "util",
      "1783",
      "09:07:36",
      "sensor",
      "present",
      "threadpoolexecutor",
      "server",
      "internal",
      "2377 w",
      "movetolistcommand",
      "activity",
      "asynctask",
      "session",
      "android",
      "concurrent",
      "enabled",
      "remove",
      "futuretask",
      "dialog",
      "windowmanagerservice",
      "android internal",
      "wm",
      "android view",
      "814",
      "abstractcommand",
      "lang",
      "zygoteinit",
      "17477",
      "os",
      "e",
      "cgeo geocaching",
      "e windowmanager",
      "windowmanager",
      "server wm",
      "androidruntime",
      "com android",
      "12037 12037",
      "command",
      "java lang",
      "call",
      "389",
      "814 12037",
      "03-21",
      "2377",
      "storedlist",
      "w",
      "12037 e",
      "e androidruntime",
      "window"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/53222ab8b0998b067ffff366749af2623b596226",
      "files": [
        {
          "file_name": "main/res/values/changelog_release.xml",
          "patch": "@@ -5,6 +5,7 @@\n     \u003cb\u003eNext bugfix release (Beta version):\u003c/b\u003e\\n\n     · Fix: Avoid possible crashes during file operation on Android devices below 4.1\\n\n     · Fix: Avoid possible crashes on Android devices below 4.4\\n\n+    · Fix: Prevent crash when moving a cache freshly loaded through send2cgeo to another list\\n\n     \\n\n     \\n\n     \u003cb\u003e2017.03.19:\u003c/b\u003e\\n"
        },
        {
          "file_name": "main/src/cgeo/geocaching/models/Geocache.java",
          "patch": "@@ -895,7 +895,10 @@ public void setVisitedDate(final long visitedDate) {\n     }\n \n     public void setLists(final Set\u003cInteger\u003e lists) {\n-        this.lists \u003d lists;\n+        // Create a new set to allow immutable structures such as SingletonSet to be\n+        // given by the caller. We want the value returned by getLists() to be mutable\n+        // since remove or add operations may be done on it.\n+        this.lists \u003d new HashSet\u003c\u003e(lists);\n     }\n \n     public boolean isDetailed() {"
        }
      ]
    }
  },
  {
    "name": "Edit attributes produce crash",
    "url": "https://github.com/nextgis/android_gisapp/issues/488",
    "description": "```\njava.lang.NullPointerException\n    at com.nextgis.maplibui.activity.ModifyAttributesActivity.saveFeature(ModifyAttributesActivity.java:536)\n    at com.nextgis.maplibui.activity.ModifyAttributesActivity.onOptionsItemSelected(ModifyAttributesActivity.java:485)\n    at android.app.Activity.onMenuItemSelected(Activity.java:2606)\n    at android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:421)\n    at android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:188)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:69)\n    at android.support.v7.widget.Toolbar$1.onMenuItemClick(Toolbar.java:202)\n    at android.support.v7.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:761)\n    at android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:810)\n    at android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)\n    at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:957)\n    at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:947)\n    at android.support.v7.widget.ActionMenuView.invokeItem(ActionMenuView.java:618)\n    at android.support.v7.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:155)\n    at android.view.View.performClick(View.java:4492)\n    at android.view.View$PerformClick.run(View.java:18568)\n    at android.os.Handler.handleCallback(Handler.java:733)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:136)\n    at android.app.ActivityThread.main(ActivityThread.java:5021)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n",
    "keywords": [
      "com",
      "app",
      "v7",
      "handler",
      "widget",
      "os",
      "activity",
      "method",
      "android",
      "android support",
      "actionmenuview",
      "main",
      "modifyattributesactivity",
      "menu",
      "view",
      "menubuilder",
      "windowcallbackwrapper",
      "java",
      "support v7",
      "onmenuitemselected",
      "view menu",
      "lang",
      "support",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/12d1e547a63e0fdc0d2bc3c1469180d6dd9baf55",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit f1f3f8e4dd70e8ecb4db155c04cde27df980ce6f\n+Subproject commit 8c2be8b55e5eee6dd7e1c98af004e821367ec54a"
        }
      ]
    }
  },
  {
    "name": "Падение при создании сообщения",
    "url": "https://github.com/nextgis/mobile.forestviolate.user/issues/90",
    "description": "```\r\njava.lang.RuntimeException: Unable to resume activity {com.nextgis.safeforest/com.nextgis.safeforest.activity.CreateMessageActivity}: android.view.InflateException: Binary XML file line #33: Error inflating class \u003cunknown\u003e\r\n\tat android.app.ActivityThread.performResumeActivity(ActivityThread.java:2975)\r\n\tat android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3004)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2397)\r\n\tat android.app.ActivityThread.access$900(ActivityThread.java:169)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1280)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:146)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5487)\r\n\tat java.lang.reflect.Method.invokeNative(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:515)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\r\n\tat dalvik.system.NativeStart.main(Native Method)\r\nCaused by: android.view.InflateException: Binary XML file line #33: Error inflating class \u003cunknown\u003e\r\n\tat android.view.LayoutInflater.createView(LayoutInflater.java:626)\r\n\tat com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:675)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:700)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:761)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:498)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:398)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:354)\r\n\tat com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:366)\r\n\tat android.app.Dialog.setContentView(Dialog.java:480)\r\n\tat com.nextgis.safeforest.dialog.YesNoDialog.onCreateDialog(YesNoDialog.java:111)\r\n\tat com.nextgis.safeforest.dialog.UserDataDialog.onCreateDialog(UserDataDialog.java:69)\r\n\tat android.support.v4.app.DialogFragment.getLayoutInflater(DialogFragment.java:307)\r\n\tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\r\n\tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1286)\r\n\tat android.support.v4.app.BackStackRecord.run(BackStackRecord.java:758)\r\n\tat android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1671)\r\n\tat android.support.v4.app.FragmentController.execPendingActions(FragmentController.java:388)\r\n\tat android.support.v4.app.FragmentActivity.onResume(FragmentActivity.java:501)\r\n\tat com.nextgis.maplibui.activity.NGActivity.onResume(NGActivity.java:155)\r\n\tat com.nextgis.safeforest.activity.CreateMessageActivity.onResume(CreateMessageActivity.java:185)\r\n\tat android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1198)\r\n\tat android.app.Activity.performResume(Activity.java:5530)\r\n\tat android.app.ActivityThread.performResumeActivity(ActivityThread.java:2965)\r\n\t... 12 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.lang.reflect.Constructor.constructNative(Native Method)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat android.view.LayoutInflater.createView(LayoutInflater.java:600)\r\n\t... 35 more\r\nCaused by: android.content.res.Resources$NotFoundException: File res/drawable/dialog_yes_no_background.xml from drawable resource ID #0x7f020066\r\n\tat android.content.res.Resources.loadDrawable(Resources.java:3066)\r\n\tat android.content.res.TypedArray.getDrawable(TypedArray.java:602)\r\n\tat android.view.View.\u003cinit\u003e(View.java:3694)\r\n\tat android.view.ViewGroup.\u003cinit\u003e(ViewGroup.java:480)\r\n\tat android.widget.LinearLayout.\u003cinit\u003e(LinearLayout.java:176)\r\n\tat android.widget.LinearLayout.\u003cinit\u003e(LinearLayout.java:172)\r\n\t... 38 more\r\nCaused by: java.lang.UnsupportedOperationException: Can\u0027t convert to color: type\u003d0x2\r\n\tat android.content.res.TypedArray.getColor(TypedArray.java:327)\r\n\tat android.graphics.drawable.GradientDrawable.inflate(GradientDrawable.java:970)\r\n\tat android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:990)\r\n\tat android.graphics.drawable.Drawable.createFromXml(Drawable.java:930)\r\n\tat android.content.res.Resources.loadDrawable(Resources.java:3062)\r\n\t... 43 more\r\n```",
    "keywords": [
      "com",
      "internal",
      "activity",
      "typedarray",
      "app activitythread",
      "android graphics",
      "android",
      "support v4",
      "android support",
      "main",
      "graphics",
      "content",
      "linearlayout",
      "onresume",
      "dialog",
      "view",
      "reflect",
      "file",
      "android content",
      "java",
      "layoutinflater",
      "native",
      "xml",
      "android view",
      "lang",
      "zygoteinit",
      "app",
      "res",
      "drawable",
      "method",
      "os",
      "caused",
      "nextgis",
      "constructor",
      "resources",
      "com android",
      "\u003cinit\u003e",
      "java lang",
      "view layoutinflater",
      "activitythread",
      "safeforest",
      "inflate",
      "v4 app",
      "android app",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "support",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/mobile.forestviolate.user/commit/8c0731d8030e90d5c911437de497826e35ae6a24",
      "files": [
        {
          "file_name": "app/src/main/res/drawable/dialog_yes_no_background.xml",
          "patch": "@@ -1,40 +0,0 @@\n-\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\n-\u003c!--\n-  ~ Project: Forest violations\n-  ~ Purpose: Mobile application for registering facts of the forest violations.\n-  ~ Author:  Dmitry Baryshnikov (aka Bishop), bishop.dev@gmail.com\n-  ~ Author:  NikitaFeodonit, nfeodonit@yandex.com\n-  ~ Author:  Stanislav Petriakov, becomeglory@gmail.com\n-  ~ ******************************************************************************\n-  ~ Copyright (c) 2015-2016 NextGIS, info@nextgis.com\n-  ~\n-  ~ This program is free software: you can redistribute it and/or modify\n-  ~ it under the terms of the GNU General Public License as published by\n-  ~ the Free Software Foundation, either version 3 of the License, or\n-  ~ (at your option) any later version.\n-  ~\n-  ~ This program is distributed in the hope that it will be useful,\n-  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  ~ GNU General Public License for more details.\n-  ~\n-  ~ You should have received a copy of the GNU General Public License\n-  ~ along with this program.  If not, see \u003chttp://www.gnu.org/licenses/\u003e.\n-  --\u003e\n-\n-\u003cshape xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\u003e\n-\n-    \u003ccorners\n-        android:radius\u003d\"4dp\"/\u003e\n-\n-    \u003csolid\n-        android:color\u003d\"?attr/layer_list_background\"/\u003e\n-\n-    \u003c!--\n-        \u003cstroke\n-            android:width\u003d\"2dp\"\n-            android:color\u003d\"@color/color_white\"\n-            /\u003e\n-    --\u003e\n-\n-\u003c/shape\u003e"
        },
        {
          "file_name": "app/src/main/res/drawable/dialog_yes_no_title_background.xml",
          "patch": "@@ -1,42 +0,0 @@\n-\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\n-\u003c!--\n-  ~ Project: Forest violations\n-  ~ Purpose: Mobile application for registering facts of the forest violations.\n-  ~ Author:  Dmitry Baryshnikov (aka Bishop), bishop.dev@gmail.com\n-  ~ Author:  NikitaFeodonit, nfeodonit@yandex.com\n-  ~ ******************************************************************************\n-  ~ Copyright (c) 2015-2015. NextGIS, info@nextgis.com\n-  ~\n-  ~ This program is free software: you can redistribute it and/or modify\n-  ~ it under the terms of the GNU General Public License as published by\n-  ~ the Free Software Foundation, either version 3 of the License, or\n-  ~ (at your option) any later version.\n-  ~\n-  ~ This program is distributed in the hope that it will be useful,\n-  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of\n-  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-  ~ GNU General Public License for more details.\n-  ~\n-  ~ You should have received a copy of the GNU General Public License\n-  ~ along with this program.  If not, see \u003chttp://www.gnu.org/licenses/\u003e.\n-  --\u003e\n-\n-\u003cshape xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\u003e\n-\n-    \u003ccorners\n-        android:topLeftRadius\u003d\"4dp\"\n-        android:topRightRadius\u003d\"4dp\"\n-        /\u003e\n-\n-    \u003csolid\n-        android:color\u003d\"@color/primary\"\n-        /\u003e\n-\n-\u003c!--\n-    \u003cstroke\n-        android:width\u003d\"2dp\"\n-        android:color\u003d\"@color/color_black\"\n-        /\u003e\n---\u003e\n-\n-\u003c/shape\u003e"
        },
        {
          "file_name": "app/src/main/res/layout/dialog_yes_no.xml",
          "patch": "@@ -4,8 +4,9 @@\n   ~ Purpose: Mobile application for registering facts of the forest violations.\n   ~ Author:  Dmitry Baryshnikov (aka Bishop), bishop.dev@gmail.com\n   ~ Author:  NikitaFeodonit, nfeodonit@yandex.com\n+  ~ Author:  Stanislav Petriakov, becomeglory@gmail.com\n   ~ ******************************************************************************\n-  ~ Copyright (c) 2015-2015. NextGIS, info@nextgis.com\n+  ~ Copyright (c) 2015-2016 NextGIS, info@nextgis.com\n   ~\n   ~ This program is free software: you can redistribute it and/or modify\n   ~ it under the terms of the GNU General Public License as published by\n@@ -23,133 +24,111 @@\n \n \u003cLinearLayout\n     xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-    android:layout_height\u003d\"wrap_content\"\n     android:layout_width\u003d\"wrap_content\"\n-    android:orientation\u003d\"vertical\"\n-    \u003e\n-\n-    \u003c!-- TODO: correct styles for dark theme --\u003e\n+    android:layout_height\u003d\"wrap_content\"\n+    android:orientation\u003d\"vertical\"\u003e\n \n     \u003cLinearLayout\n-        android:layout_height\u003d\"wrap_content\"\n         android:layout_width\u003d\"match_parent\"\n+        android:layout_height\u003d\"wrap_content\"\n         android:layout_gravity\u003d\"center_horizontal\"\n-        android:background\u003d\"@drawable/dialog_yes_no_background\"\n-        android:orientation\u003d\"vertical\"\n-        \u003e\n-\n+        android:background\u003d\"?attr/layer_list_background\"\n+        android:orientation\u003d\"vertical\"\u003e\n \n         \u003cLinearLayout\n-            android:layout_height\u003d\"wrap_content\"\n             android:layout_width\u003d\"match_parent\"\n-            android:padding\u003d\"12dp\"\n-            android:background\u003d\"@drawable/dialog_yes_no_title_background\"\n+            android:layout_height\u003d\"wrap_content\"\n+            android:background\u003d\"@color/primary\"\n             android:orientation\u003d\"horizontal\"\n-            \u003e\n+            android:padding\u003d\"12dp\"\u003e\n \n             \u003cImageView\n                 android:id\u003d\"@+id/dialog_icon_yn\"\n-                android:layout_height\u003d\"wrap_content\"\n                 android:layout_width\u003d\"wrap_content\"\n-                android:layout_marginRight\u003d\"12dp\"\n+                android:layout_height\u003d\"wrap_content\"\n                 android:layout_gravity\u003d\"center_vertical\"\n-                android:visibility\u003d\"gone\"\n-                /\u003e\n+                android:layout_marginEnd\u003d\"12dp\"\n+                android:layout_marginRight\u003d\"12dp\"\n+                android:visibility\u003d\"gone\"/\u003e\n \n             \u003cTextView\n                 android:id\u003d\"@+id/dialog_title_yn\"\n-                android:layout_height\u003d\"wrap_content\"\n                 android:layout_width\u003d\"match_parent\"\n+                android:layout_height\u003d\"wrap_content\"\n                 android:layout_gravity\u003d\"center_vertical\"\n-                android:textColor\u003d\"@color/color_white\"\n                 android:textAppearance\u003d\"?android:attr/textAppearanceLarge\"\n-                /\u003e\n-\n+                android:textColor\u003d\"@color/color_white\"/\u003e\n         \u003c/LinearLayout\u003e\n \n         \u003cView\n-            android:layout_height\u003d\"2dp\"\n             android:layout_width\u003d\"match_parent\"\n+            android:layout_height\u003d\"2dp\"\n             android:background\u003d\"@color/color_black\"\n-            android:visibility\u003d\"gone\"\n-            /\u003e\n+            android:visibility\u003d\"gone\"/\u003e\n \n         \u003cScrollView\n-            android:layout_height\u003d\"wrap_content\"\n             android:layout_width\u003d\"match_parent\"\n-            android:layout_marginTop\u003d\"24dp\"\n+            android:layout_height\u003d\"wrap_content\"\n+            android:layout_marginBottom\u003d\"24dp\"\n             android:layout_marginLeft\u003d\"24dp\"\n             android:layout_marginRight\u003d\"24dp\"\n-            android:layout_marginBottom\u003d\"24dp\"\n-            \u003e\n+            android:layout_marginTop\u003d\"24dp\"\u003e\n \n             \u003cLinearLayout\n-                android:layout_height\u003d\"wrap_content\"\n                 android:layout_width\u003d\"match_parent\"\n-                android:orientation\u003d\"vertical\"\n-                \u003e\n+                android:layout_height\u003d\"wrap_content\"\n+                android:orientation\u003d\"vertical\"\u003e\n \n                 \u003cLinearLayout\n                     android:id\u003d\"@+id/dialog_layout_yn\"\n-                    android:layout_height\u003d\"wrap_content\"\n                     android:layout_width\u003d\"match_parent\"\n+                    android:layout_height\u003d\"wrap_content\"\n                     android:orientation\u003d\"vertical\"\n-                    android:visibility\u003d\"gone\"\n-                    \u003e\n-\n+                    android:visibility\u003d\"gone\"\u003e\n                 \u003c/LinearLayout\u003e\n \n-\n                 \u003cTableLayout\n                     android:id\u003d\"@+id/dialog_buttons_yn\"\n-                    android:layout_height\u003d\"wrap_content\"\n                     android:layout_width\u003d\"match_parent\"\n-                    android:stretchColumns\u003d\"0,1\"\n+                    android:layout_height\u003d\"wrap_content\"\n                     android:orientation\u003d\"horizontal\"\n-                    android:visibility\u003d\"gone\"\n-                    \u003e\n+                    android:stretchColumns\u003d\"0,1\"\n+                    android:visibility\u003d\"gone\"\u003e\n \n                     \u003cTableRow\n-                        android:layout_height\u003d\"wrap_content\"\n                         android:layout_width\u003d\"match_parent\"\n-                        \u003e\n+                        android:layout_height\u003d\"wrap_content\"\u003e\n \n                         \u003cButton\n                             android:id\u003d\"@+id/dialog_btn_negative_yn\"\n-                            android:layout_height\u003d\"wrap_content\"\n                             android:layout_width\u003d\"1dp\"\n-                            android:layout_weight\u003d\"1\"\n+                            android:layout_height\u003d\"wrap_content\"\n+                            android:layout_marginEnd\u003d\"12dp\"\n                             android:layout_marginRight\u003d\"12dp\"\n-                            android:paddingTop\u003d\"5dp\"\n+                            android:layout_weight\u003d\"1\"\n                             android:paddingBottom\u003d\"5dp\"\n                             android:paddingLeft\u003d\"5dp\"\n                             android:paddingRight\u003d\"5dp\"\n+                            android:paddingTop\u003d\"5dp\"\n                             android:textAppearance\u003d\"?android:attr/textAppearanceMedium\"\n-                            android:visibility\u003d\"invisible\"\n-                            /\u003e\n+                            android:visibility\u003d\"invisible\"/\u003e\n \n                         \u003cButton\n                             android:id\u003d\"@+id/dialog_btn_positive_yn\"\n-                            android:layout_height\u003d\"wrap_content\"\n                             android:layout_width\u003d\"1dp\"\n-                            android:layout_weight\u003d\"1\"\n+                            android:layout_height\u003d\"wrap_content\"\n                             android:layout_marginLeft\u003d\"12dp\"\n-                            android:paddingTop\u003d\"5dp\"\n+                            android:layout_marginStart\u003d\"12dp\"\n+                            android:layout_weight\u003d\"1\"\n                             android:paddingBottom\u003d\"5dp\"\n                             android:paddingLeft\u003d\"5dp\"\n                             android:paddingRight\u003d\"5dp\"\n+                            android:paddingTop\u003d\"5dp\"\n                             android:textAppearance\u003d\"?android:attr/textAppearanceMedium\"\n-                            android:visibility\u003d\"invisible\"\n-                            /\u003e\n-\n+                            android:visibility\u003d\"invisible\"/\u003e\n                     \u003c/TableRow\u003e\n-\n                 \u003c/TableLayout\u003e\n-\n             \u003c/LinearLayout\u003e\n-\n         \u003c/ScrollView\u003e\n-\n     \u003c/LinearLayout\u003e\n-\n \u003c/LinearLayout\u003e"
        }
      ]
    }
  },
  {
    "name": "Crash ao abrir o aplicativo sem ter nenhum projeto",
    "url": "https://github.com/KanbanEng2/kanban/issues/17",
    "description": "Stack trace:\r\n```\r\nFATAL EXCEPTION: main\r\n           Process: br.ufrr.eng2.kanban, PID: 2872\r\n           java.lang.NullPointerException: Attempt to invoke interface method \u0027java.util.Iterator java.util.List.iterator()\u0027 on a null object reference\r\n                 at br.ufrr.eng2.kanban.MainActivity$6.onDataChange(MainActivity.java:460)\r\n                 at com.google.android.gms.internal.zzajp.zza(Unknown Source)\r\n                 at com.google.android.gms.internal.zzakp.zzcxi(Unknown Source)\r\n                 at com.google.android.gms.internal.zzaks$1.run(Unknown Source)\r\n                 at android.os.Handler.handleCallback(Handler.java:751)\r\n                 at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                 at android.os.Looper.loop(Looper.java:154)\r\n                 at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n                 at java.lang.reflect.Method.invoke(Native Method)\r\n                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n```",
    "keywords": [
      "com",
      "handler",
      "internal",
      "os",
      "method",
      "android",
      "main",
      "google",
      "source",
      "gms",
      "unknown",
      "java",
      "android gms",
      "com google",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/KanbanEng2/kanban/commit/702fe1cf050a8ba04efa02e3adb53cc9a094ffed",
      "files": [
        {
          "file_name": "app/src/main/java/br/ufrr/eng2/kanban/MainActivity.java",
          "patch": "@@ -457,28 +457,29 @@ private void onCreateNavigationView() {\n             public void onDataChange(DataSnapshot dataSnapshot) {\n                 Usuario user \u003d dataSnapshot.getValue(Usuario.class);\n \n-                for (String pId : user.getProjetos()) {\n-                    FirebaseDatabase database \u003d FirebaseDatabase.getInstance();\n-                    DatabaseReference myRef \u003d database.getReference(\"projects/\" + pId );\n-                    final String projectId \u003d pId;\n-                    myRef.addListenerForSingleValueEvent(\n-                            new ValueEventListener() {\n-                                @Override\n-                                public void onDataChange(DataSnapshot dataSnapshot) {\n-                                    // Get user value\n-                                    Projeto projeto \u003d dataSnapshot.getValue(Projeto.class);\n-                                    addProjectMenu(projeto.getNomeProjeto(), projectId);\n-\n-                                }\n-\n-                                @Override\n-                                public void onCancelled(DatabaseError databaseError) {\n-                                    Log.w(\"Firebase\", \"getUser:onCancelled\", databaseError.toException());\n-                                    // ...\n-                                }\n-                            });\n+                if (user.getProjetos() !\u003d null)\n+                    for (String pId : user.getProjetos()) {\n+                        FirebaseDatabase database \u003d FirebaseDatabase.getInstance();\n+                        DatabaseReference myRef \u003d database.getReference(\"projects/\" + pId );\n+                        final String projectId \u003d pId;\n+                        myRef.addListenerForSingleValueEvent(\n+                                new ValueEventListener() {\n+                                    @Override\n+                                    public void onDataChange(DataSnapshot dataSnapshot) {\n+                                        // Get user value\n+                                        Projeto projeto \u003d dataSnapshot.getValue(Projeto.class);\n+                                        addProjectMenu(projeto.getNomeProjeto(), projectId);\n \n-                }\n+                                    }\n+\n+                                    @Override\n+                                    public void onCancelled(DatabaseError databaseError) {\n+                                        Log.w(\"Firebase\", \"getUser:onCancelled\", databaseError.toException());\n+                                        // ...\n+                                    }\n+                                });\n+\n+                    }\n             }\n \n             @Override"
        }
      ]
    }
  },
  {
    "name": "Crashes at wakeup",
    "url": "https://github.com/vishesh/sealnote/issues/25",
    "description": "Bunch of reports with this stacktrace. Might be happening because we don\u0027t persist password, and during wakeup its gone from memory.\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.twistedplane.sealnote/com.twistedplane.sealnote.NoteActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String[] java.lang.String.split(java.lang.String)\u0027 on a null object reference\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3319)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3415)\r\n\tat android.app.ActivityThread.access$1100(ActivityThread.java:229)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1821)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:148)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7325)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String[] java.lang.String.split(java.lang.String)\u0027 on a null object reference\r\n\tat com.twistedplane.sealnote.data.Note.convertToTagSet(Note.java:118)\r\n\tat com.twistedplane.sealnote.data.Note.readFromParcel(Note.java:97)\r\n\tat com.twistedplane.sealnote.data.Note.\u003cinit\u003e(Note.java:76)\r\n\tat com.twistedplane.sealnote.data.Note$1.createFromParcel(Note.java:250)\r\n\tat com.twistedplane.sealnote.data.Note$1.createFromParcel(Note.java:248)\r\n\tat android.os.Parcel.readParcelable(Parcel.java:2367)\r\n\tat android.os.Parcel.readValue(Parcel.java:2264)\r\n\tat android.os.Parcel.readArrayMapInternal(Parcel.java:2614)\r\n\tat android.os.BaseBundle.unparcel(BaseBundle.java:221)\r\n\tat android.os.BaseBundle.getBoolean(BaseBundle.java:659)\r\n\tat android.app.Activity.restoreHasCurrentPermissionRequest(Activity.java:7153)\r\n\tat android.app.Activity.performCreate(Activity.java:6903)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3266)\r\n\t... 9 more\r\n```\r\n\r\n\r\n```\r\njava.lang.RuntimeException: An error occured while executing doInBackground()\r\n\tat android.os.AsyncTask$3.done(AsyncTask.java:304)\r\n\tat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\r\n\tat java.util.concurrent.FutureTask.setException(FutureTask.java:222)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n\tat java.lang.Thread.run(Thread.java:818)\r\nCaused by: java.lang.IllegalArgumentException: Password null or not acceptable\r\n\tat com.twistedplane.sealnote.data.DatabaseHandler.update(DatabaseHandler.java:84)\r\n\tat com.twistedplane.sealnote.data.DatabaseHandler.getWritableDatabase(DatabaseHandler.java:110)\r\n\tat com.twistedplane.sealnote.data.DatabaseHandler.getReadableDatabase(DatabaseHandler.java:115)\r\n\tat com.twistedplane.sealnote.data.DatabaseHandler.getNotesCursor(DatabaseHandler.java:558)\r\n\tat com.twistedplane.sealnote.data.AdapterLoader.loadInBackground(AdapterLoader.java:30)\r\n\tat com.twistedplane.sealnote.data.AdapterLoader.loadInBackground(AdapterLoader.java:13)\r\n\tat android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\r\n\tat android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\r\n\tat android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:57)\r\n\tat android.os.AsyncTask$2.call(AsyncTask.java:292)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n\t... 3 more\r\n```",
    "keywords": [
      "com",
      "threadpoolexecutor",
      "note",
      "databasehandler",
      "data",
      "string",
      "activity",
      "sealnote data",
      "sealnote",
      "android",
      "concurrent",
      "invoke",
      "run",
      "content",
      "futuretask",
      "java",
      "util concurrent",
      "lang",
      "twistedplane",
      "zygoteinit",
      "app",
      "parcel",
      "android os",
      "method",
      "os",
      "adapterloader",
      "java lang",
      "activitythread",
      "asynctaskloader",
      "doinbackground",
      "com twistedplane",
      "null",
      "basebundle",
      "util",
      "android app",
      "twistedplane sealnote"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/vishesh/sealnote/commit/b0cea222b98961db7ea1b3ce7cce7537d596ff44",
      "files": [
        {
          "file_name": "Sealnote/src/main/java/com/twistedplane/sealnote/NoteActivity.java",
          "patch": "@@ -107,6 +107,12 @@ public void afterTextChanged(Editable editable) {\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_note);\n+\n+        if (!Misc.isPasswordLoaded()){\n+            Misc.startPasswordActivity(this);\n+            return;\n+        }\n+\n         // Even though we change content view later, we secure window as soon as possible\n         Misc.secureWindow(NoteActivity.this);\n "
        },
        {
          "file_name": "Sealnote/src/main/java/com/twistedplane/sealnote/data/Note.java",
          "patch": "@@ -83,7 +83,8 @@ private void readFromParcel(Parcel inParcel) {\n         mId \u003d inParcel.readInt();\n         mPosition \u003d inParcel.readInt();\n         mNoteTitle \u003d inParcel.readString();\n-        String note \u003d inParcel.readString();\n+        mType \u003d Type.valueOf(inParcel.readString());\n+        mNote \u003d NoteContent.fromString(mType, inParcel.readString());\n         try {\n             mEditedDate \u003d EasyDate.fromIsoString(inParcel.readString());\n         } catch (ParseException e) {\n@@ -92,8 +93,6 @@ private void readFromParcel(Parcel inParcel) {\n         mColor \u003d inParcel.readInt();\n         mArchived \u003d inParcel.readInt() \u003e 0;\n         mDeleted \u003d inParcel.readInt() \u003e 0;\n-        mType \u003d Type.valueOf(inParcel.readString());\n-        mNote \u003d NoteContent.fromString(mType, inParcel.readString());\n         mTags \u003d convertToTagSet(inParcel.readString());\n     }\n \n@@ -102,12 +101,12 @@ public void writeToParcel(Parcel outParcel, int flags) {\n         outParcel.writeInt(mId);\n         outParcel.writeInt(mPosition);\n         outParcel.writeString(mNoteTitle);\n+        outParcel.writeString(mType.name());\n         outParcel.writeString(mNote.toString());\n         outParcel.writeString(mEditedDate.toString());\n         outParcel.writeInt(mColor);\n         outParcel.writeInt(mArchived ?1 :0);\n         outParcel.writeInt(mDeleted ?1 :0);\n-        outParcel.writeString(mType.name());\n         outParcel.writeString(convertTagSetToString(mTags));\n     }\n "
        },
        {
          "file_name": "Sealnote/src/main/java/com/twistedplane/sealnote/fragment/SealnoteFragment.java",
          "patch": "@@ -18,6 +18,7 @@\n import com.twistedplane.sealnote.data.AdapterLoader;\n import com.twistedplane.sealnote.data.Note;\n import com.twistedplane.sealnote.data.SealnoteAdapter;\n+import com.twistedplane.sealnote.utils.Misc;\n \n /**\n  * Main fragment where all cards are listed in a staggered grid\n@@ -79,6 +80,11 @@ public void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         Log.d(TAG, \"Creating SealNote fragment...\");\n \n+        if (!Misc.isPasswordLoaded()){\n+            Misc.startPasswordActivity(getActivity());\n+            return;\n+        }\n+\n         // Get folder active in activity\n         String folder \u003d getArguments().getString(\"SN_FOLDER\", Note.Folder.FOLDER_LIVE.name());\n         int tagid \u003d getArguments().getInt(\"SN_TAGID\", -1);"
        },
        {
          "file_name": "Sealnote/src/main/java/com/twistedplane/sealnote/utils/Misc.java",
          "patch": "@@ -2,10 +2,13 @@\n \n import android.app.Activity;\n import android.content.Context;\n+import android.content.Intent;\n import android.content.res.Resources;\n import android.view.Window;\n import android.view.WindowManager;\n+import com.twistedplane.sealnote.PasswordActivity;\n import com.twistedplane.sealnote.R;\n+import com.twistedplane.sealnote.SealnoteApplication;\n \n /**\n  * Miscellaneous helper functions\n@@ -66,4 +69,14 @@ public static void secureWindow(Activity activity) {\n             window.setFlags(0, WindowManager.LayoutParams.FLAG_SECURE);\n         }\n     }\n+\n+    public static boolean isPasswordLoaded() {\n+        return SealnoteApplication.getDatabase().getPassword() !\u003d null;\n+    }\n+\n+    public static void startPasswordActivity(Activity activity) {\n+        Intent passwordIntent \u003d new Intent(activity, PasswordActivity.class);\n+        activity.startActivity(passwordIntent);\n+        activity.finish();\n+    }\n }"
        }
      ]
    }
  },
  {
    "name": "Crash in CustomHtmlToSpannedConverter",
    "url": "https://github.com/zulip/zulip-android/issues/476",
    "description": "This is a crash from crashlytics; it happens on app open reliably for one user against chat.zulip.org (not sure what\u0027s special about his data).\r\n\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method \u0027int java.lang.String.length()\u0027 on a null object reference\r\n       at java.io.StringReader.\u003cinit\u003e(StringReader.java:47)\r\n       at com.zulip.android.util.CustomHtmlToSpannedConverter.convert(CustomHtmlToSpannedConverter.java:485)\r\n       at com.zulip.android.models.Message.formatContent(Message.java:367)\r\n       at com.zulip.android.models.Message.getFormattedContent(Message.java:553)\r\n       at com.zulip.android.activities.RecyclerMessageAdapter.onBindViewHolder(RecyclerMessageAdapter.java:377)\r\n       at android.support.v7.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:5768)\r\n       at android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:5801)\r\n       at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5037)\r\n       at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:4913)\r\n       at android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2029)\r\n       at android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1414)\r\n       at android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1377)\r\n       at android.support.v7.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:563)\r\n       at android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3260)\r\n       at android.support.v7.widget.RecyclerView.dispatchLayout(RecyclerView.java:3069)\r\n       at android.support.v7.widget.RecyclerView.onLayout(RecyclerView.java:3518)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1742)\r\n       at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)\r\n       at android.widget.LinearLayout.onLayout(LinearLayout.java:1494)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\r\n       at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.support.design.widget.CoordinatorLayout.layoutChild(CoordinatorLayout.java:1100)\r\n       at android.support.design.widget.CoordinatorLayout.onLayoutChild(CoordinatorLayout.java:804)\r\n       at android.support.design.widget.CoordinatorLayout.onLayout(CoordinatorLayout.java:818)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.support.v4.widget.DrawerLayout.onLayout(DrawerLayout.java:1191)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\r\n       at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1742)\r\n       at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)\r\n       at android.widget.LinearLayout.onLayout(LinearLayout.java:1494)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\r\n       at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1742)\r\n       at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)\r\n       at android.widget.LinearLayout.onLayout(LinearLayout.java:1494)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\r\n       at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\r\n       at com.android.internal.policy.PhoneWindow$DecorView.onLayout(PhoneWindow.java:3178)\r\n       at android.view.View.layout(View.java:17945)\r\n       at android.view.ViewGroup.layout(ViewGroup.java:5812)\r\n       at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2716)\r\n       at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2417)\r\n       at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1487)\r\n       at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7450)\r\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:920)\r\n       at android.view.Choreographer.doCallbacks(Choreographer.java:695)\r\n       at android.view.Choreographer.doFrame(Choreographer.java:631)\r\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:906)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:158)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7237)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)",
    "keywords": [
      "com",
      "v7",
      "handler",
      "choreographer",
      "framelayout",
      "layoutvertical",
      "view view",
      "view viewgroup",
      "setchildframe",
      "run",
      "view java:17945",
      "linearlayout",
      "view",
      "java",
      "support v7",
      "java:281",
      "zulip",
      "layoutchildren framelayout",
      "java:17945",
      "onlayout",
      "framelayout onlayout",
      "method",
      "viewgroup java:5812",
      "viewgroup layout",
      "layout view",
      "customhtmltospannedconverter",
      "viewrootimpl",
      "support",
      "internal",
      "java:1494",
      "widget",
      "recyclerview",
      "android",
      "android support",
      "java:5812",
      "framelayout java:281",
      "view layout",
      "android widget",
      "design",
      "viewgroup",
      "android view",
      "coordinatorlayout",
      "lang",
      "java:344",
      "widget framelayout",
      "zygoteinit",
      "os",
      "java:1742",
      "java:1585",
      "message",
      "widget linearlayout",
      "layout",
      "linearlayoutmanager",
      "v7 widget",
      "layout viewgroup",
      "layoutchildren"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/zulip/zulip-android/commit/bd72a2d853c8a38e4be301cc647332bb9f84a54e",
      "files": [
        {
          "file_name": "app/src/main/java/com/zulip/android/activities/RecyclerMessageAdapter.java",
          "patch": "@@ -313,20 +313,39 @@ public void addNewMessage(Message message) {\n             }\n         }\n         if (item \u003d\u003d null) {\n-            item \u003d new MessageHeaderParent((message.getStream() \u003d\u003d null) ? null :\n-                    message.getStream().getName(), message.getSubject(), message.getIdForHolder(), message);\n-            item.setMessageType(message.getType());\n-            item.setDisplayRecipent(message.getDisplayRecipient(zulipApp));\n-            if (message.getType() \u003d\u003d MessageType.STREAM_MESSAGE)\n-                item.setMute(mMutedTopics.isTopicMute(message));\n-            item.setColor((message.getStream() \u003d\u003d null) ? mDefaultStreamHeaderColor : message.getStream().getParsedColor());\n+            item \u003d createMessageHeader(message);\n             items.add(getItemCount(true) - 1, item);\n             notifyItemInserted(getItemCount(true) - 1);\n         }\n         items.add(getItemCount(true) - 1, message);\n         notifyItemInserted(getItemCount(true) - 1);\n     }\n \n+    public void addNewHeader(int position, Message message) {\n+        MessageHeaderParent item \u003d createMessageHeader(message);\n+        items.add(position, item);\n+        notifyItemInserted(position);\n+\n+        if (getItem(position + 2) instanceof Message) {\n+            // insert header with old topic for this message\n+            Message prevMessage \u003d (Message) getItem(position + 2);\n+            MessageHeaderParent prevHeader \u003d createMessageHeader(prevMessage);\n+            items.add(position + 2, prevHeader);\n+            notifyItemInserted(position + 2);\n+        }\n+    }\n+\n+    private MessageHeaderParent createMessageHeader(Message message) {\n+        MessageHeaderParent header \u003d new MessageHeaderParent((message.getStream() \u003d\u003d null) ? null :\n+                message.getStream().getName(), message.getSubject(), message.getIdForHolder(), message);\n+        header.setMessageType(message.getType());\n+        header.setDisplayRecipent(message.getDisplayRecipient(zulipApp));\n+        if (message.getType() \u003d\u003d MessageType.STREAM_MESSAGE)\n+            header.setMute(mMutedTopics.isTopicMute(message));\n+        header.setColor((message.getStream() \u003d\u003d null) ? mDefaultStreamHeaderColor : message.getStream().getParsedColor());\n+\n+        return header;\n+    }\n \n     public RecyclerView.ViewHolder onCreateViewHolder(final ViewGroup parent, int viewType) {\n         switch (viewType) {\n@@ -365,6 +384,11 @@ public void onBindViewHolder(final RecyclerView.ViewHolder holder, final int pos\n \n                 if (messageHeaderParent.getMessageType() \u003d\u003d MessageType.STREAM_MESSAGE) {\n                     messageHeaderHolder.streamTextView.setText(messageHeaderParent.getStream());\n+\n+                    // update MessageHeaderParent subject when topic is updated\n+                    if (!messageHeaderParent.getSubject().equalsIgnoreCase(messageHeaderParent.getMessage().getSubject())) {\n+                        messageHeaderParent.setSubject(messageHeaderParent.getMessage().getSubject());\n+                    }\n                     messageHeaderHolder.topicTextView.setText(messageHeaderParent.getSubject());\n \n                     ViewCompat.setBackgroundTintList(messageHeaderHolder.arrowHead, ColorStateList.valueOf(messageHeaderParent.getColor()));"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/networking/AsyncGetEvents.java",
          "patch": "@@ -35,6 +35,7 @@\n import com.zulip.android.util.MutedTopics;\n import com.zulip.android.util.TypeSwapper;\n import com.zulip.android.util.ZLog;\n+import com.zulip.android.viewholders.MessageHeaderParent;\n import com.zulip.android.widget.ZulipWidget;\n \n import org.json.JSONException;\n@@ -43,7 +44,10 @@\n import java.net.SocketTimeoutException;\n import java.sql.SQLException;\n import java.util.ArrayList;\n+import java.util.HashMap;\n import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n import java.util.concurrent.Callable;\n \n /**\n@@ -522,21 +526,21 @@ private void processMessageEditParam(List\u003cEventsBranch\u003e messageEditLimitEvents)\n      * @param updateEvents list of events {@link EventsBranch.BranchType#UPDATE_MESSAGE}\n      */\n     private void processUpdateMessages(List\u003cEventsBranch\u003e updateEvents) {\n-        final List\u003cInteger\u003e messageIds \u003d new ArrayList\u003c\u003e();\n+        // map containing sets of message and boolean values for if topic was changed for that message\n+        final Map\u003cMessage, Boolean\u003e messages \u003d new HashMap\u003c\u003e();\n         for (EventsBranch event : updateEvents) {\n             UpdateMessageWrapper updateEvent \u003d (UpdateMessageWrapper) event;\n-            Message message \u003d updateEvent.getMessage();\n-            if (message !\u003d null) {\n-                message.setFormattedContent(updateEvent.getFormattedContent());\n-                message.setHasBeenEdited(true);\n-\n-                // update the message in database\n-                Dao\u003cMessage, Integer\u003e messageDao \u003d app.getDao(Message.class);\n-                try {\n-                    messageDao.update(message);\n-                    messageIds.add(message.getId());\n-                } catch (SQLException e) {\n-                    ZLog.logException(e);\n+            for (int id : updateEvent.getMessageIds()) {\n+                Message message \u003d updateEvent.getMessage(id);\n+                if (message !\u003d null) {\n+                    // update the message in database\n+                    Dao\u003cMessage, Integer\u003e messageDao \u003d app.getDao(Message.class);\n+                    try {\n+                        messageDao.update(message);\n+                        messages.put(message, updateEvent.containsSubject());\n+                    } catch (SQLException e) {\n+                        ZLog.logException(e);\n+                    }\n                 }\n             }\n         }\n@@ -545,9 +549,18 @@ private void processUpdateMessages(List\u003cEventsBranch\u003e updateEvents) {\n             @Override\n             public void run() {\n                 RecyclerMessageAdapter adapter \u003d mActivity.getCurrentMessageList().getAdapter();\n-                for (int id : messageIds) {\n-                    // notify adapter data item changed\n-                    adapter.notifyItemChanged(adapter.getItemIndex(id));\n+                for  (Map.Entry\u003cMessage, Boolean\u003e message : messages.entrySet()) {\n+                    // notify adapter message item changed\n+                    adapter.notifyItemChanged(adapter.getItemIndex(message.getKey().getId()));\n+                    if (message.getValue()) {\n+                        if (adapter.getItem(adapter.getItemIndex(message.getKey().getId()) - 1) instanceof MessageHeaderParent)\n+                            // update header\n+                            adapter.notifyItemChanged(adapter.getItemIndex(message.getKey().getId()) - 1);\n+                        else {\n+                            // add new header\n+                            adapter.addNewHeader(adapter.getItemIndex(message.getKey().getId()), message.getKey());\n+                        }\n+                    }\n                 }\n             }\n         });"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/networking/response/events/UpdateMessageWrapper.java",
          "patch": "@@ -46,31 +46,40 @@\n     @SerializedName(\"message_id\")\n     private int messageId;\n \n+    @SerializedName(\"subject\")\n+    private String subject;\n+\n     /**\n      * Returns old form of edited message.\n      *\n      * @return {@link Message} message\n      */\n-    public Message getMessage() {\n+    public Message getMessage(int messageId) {\n         try {\n             Dao\u003cMessage, Integer\u003e messageDao \u003d ZulipApp.get().getDao(Message.class);\n-            return messageDao.queryBuilder().where().eq(Message.ID_FIELD, this.messageId).queryForFirst();\n+            Message message \u003d messageDao.queryBuilder().where().eq(Message.ID_FIELD, messageId).queryForFirst();\n+            if (message !\u003d null) {\n+                if (this.formattedContent !\u003d null) {\n+                    message.setFormattedContent(this.formattedContent);\n+                    message.setHasBeenEdited(true);\n+                }\n+                if (containsSubject()) {\n+                    message.setSubject(this.subject);\n+                }\n+                return message;\n+            }\n         } catch (SQLException e) {\n             ZLog.logException(e);\n         }\n \n         return null;\n     }\n \n-    public String getFormattedContent() {\n-        return this.formattedContent;\n-    }\n-\n-    public void setFormattedContent(String formattedContent) {\n-        this.formattedContent \u003d formattedContent;\n+    public List\u003cInteger\u003e getMessageIds() {\n+        return this.messageIds;\n     }\n \n-    public String getOrigFormattedContent() {\n-        return this.origFormattedContent;\n+    public boolean containsSubject() {\n+        return this.subject !\u003d null;\n     }\n }"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/viewholders/MessageHeaderParent.java",
          "patch": "@@ -102,6 +102,14 @@ public String getSubject() {\n         return subject;\n     }\n \n+    public void setSubject(String subject) {\n+        this.subject \u003d subject;\n+    }\n+\n+    public Message getMessage() {\n+        return this.message;\n+    }\n+\n     public Person[] getRecipients(ZulipApp app) {\n         Person[] recipientsCache;\n         String[] ids \u003d TextUtils.split(this.getId(), \",\");"
        }
      ]
    }
  },
  {
    "name": "NPE in updateSearchResultsSummary",
    "url": "https://github.com/kenstir/hemlock/issues/4",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027int java.lang.Integer.intValue()\u0027 on a null object reference\r\n\tat org.evergreen_ils.searchCatalog.SearchActivity.updateSearchResultsSummary(SearchActivity.java:266)\r\n\tat org.evergreen_ils.searchCatalog.SearchActivity.access$1500(SearchActivity.java:58)\r\n\tat org.evergreen_ils.searchCatalog.SearchActivity$4$2.run(SearchActivity.java:256)\r\n\tat android.os.Handler.handleCallback(Handler.java:739)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:158)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7237)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n```",
    "keywords": [
      "handler",
      "java",
      "os",
      "method",
      "evergreen_ils searchcatalog",
      "org",
      "android",
      "lang",
      "searchactivity",
      "evergreen_ils",
      "zygoteinit",
      "searchcatalog"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kenstir/hemlock/commit/fdfae5bad3867f11768f1534e51ddc30d85b1a29",
      "files": [
        {
          "file_name": "core/src/main/java/org/evergreen_ils/Api.java",
          "patch": "@@ -173,7 +173,7 @@ public static Boolean parseBoolean(Object obj) {\n      * Sometimes search returns a count as a json number (\"count\":0), sometimes a string (\"count\":\"1103\").\n      * Seems to be the same for result \"ids\" list (See Issue #1).  Handle either form and return as an int.\n      */\n-    public static Integer parseInteger(Object o) {\n+    public static Integer parseInteger(Object o, Integer dflt) {\n         if (o instanceof Integer) {\n             return (Integer)o;\n         } else if (o instanceof String) {\n@@ -185,7 +185,10 @@ public static Integer parseInteger(Object o) {\n             }\n         } else {\n             Log.d(TAG, \"unexpected type: \"+o);\n-            return null;\n+            return dflt;\n         }\n     }\n+    public static Integer parseInteger(Object o) {\n+        return parseInteger(o, null);\n+    }\n }"
        },
        {
          "file_name": "core/src/main/java/org/evergreen_ils/searchCatalog/SearchCatalog.java",
          "patch": "@@ -50,7 +50,7 @@\n \n     public Integer offset;\n \n-    public Integer visible;\n+    public Integer visible \u003d 0;\n \n     public final Integer searchLimit \u003d 500;\n     \n@@ -115,7 +115,7 @@ private static HttpConnection conn() {\n             return results; // search failed or server crashed\n \n         Map\u003cString, ?\u003e response \u003d (Map\u003cString, ?\u003e) resp;\n-        visible \u003d Api.parseInteger(response.get(\"count\"));\n+        visible \u003d Api.parseInteger(response.get(\"count\"), 0);\n \n         // result_lol is a list of lists and looks like one of:\n         //   [[32673,null,\"0.0\"],[886843,null,\"0.0\"]] // integer ids+?"
        }
      ]
    }
  },
  {
    "name": "Null pointer on MediaPlayer completion listener",
    "url": "https://github.com/kontalk/androidclient/issues/975",
    "description": "Android 6.0.1, version 4.0.0.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027void org.kontalk.ui.AudioFragment.seekPlayerTo(int)\u0027 on a null object reference\r\n       at org.kontalk.ui.AbstractComposeFragment$22.onCompletion(AbstractComposeFragment.java:2206)\r\n       at android.media.MediaPlayer$EventHandler.handleMessage(MediaPlayer.java:2820)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "0",
      "java",
      "os",
      "method",
      "android",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/17d867777033972c306149c1cdab728d1b9b2dad",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -2203,7 +2203,9 @@ public void onUnbind(long messageId, AudioContentViewControl view) {\n             player.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n                 @Override\n                 public void onCompletion(MediaPlayer mp) {\n-                    getAudioFragment().seekPlayerTo(0);\n+                    AudioFragment audio \u003d getAudioFragment();\n+                    if (audio !\u003d null)\n+                        audio.seekPlayerTo(0);\n                     setAudioStatus(AudioContentView.STATUS_ENDED);\n                 }\n             });"
        }
      ]
    }
  },
  {
    "name": "Crash resuming",
    "url": "https://github.com/mWater/cordova-plugin-wezka-nativecamera/issues/4",
    "description": "```\r\n\"STACK_TRACE\": \"java.lang.RuntimeException: Unable to resume activity {co.mwater.clientapp/co.mwater.clientapp.MainActivity}: java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d1, result\u003d0, data\u003dnull} to activity {co.mwater.clientapp/co.mwater.clientapp.MainActivity}: java.lang.NullPointerException3002\r\n  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3007)3002\r\n  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3036)3002\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2438)3002\r\n  at android.app.ActivityThread.access$800(ActivityThread.java:155)3002\r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1346)3002\r\n  at android.os.Handler.dispatchMessage(Handler.java:110)3002\r\n  at android.os.Looper.loop(Looper.java:193)3002\r\n  at android.app.ActivityThread.main(ActivityThread.java:5341)3002\r\n  at java.lang.reflect.Method.invokeNative(Native Method)3002\r\n  at java.lang.reflect.Method.invoke(Method.java:515)3002\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:830)3002\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:646)3002\r\n  at dalvik.system.NativeStart.main(Native Method)3002\r\nCaused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d1, result\u003d0, data\u003dnull} to activity {co.mwater.clientapp/co.mwater.clientapp.MainActivity}: java.lang.NullPointerException3002\r\n  at android.app.ActivityThread.deliverResults(ActivityThread.java:3596)3002\r\n  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2990)3002\r\n  ... 12 more3002\r\nCaused by: java.lang.NullPointerException3002\r\n  at com.tmantman.nativecamera.NativeCameraLauncher.failPicture(NativeCameraLauncher.java:85)3002\r\n  at com.tmantman.nativecamera.NativeCameraLauncher.onActivityResult(NativeCameraLauncher.java:233)3002\r\n  at org.apache.cordova.CordovaInterfaceImpl.onActivityResult(CordovaInterfaceImpl.java:151)3002\r\n  at org.apache.cordova.CordovaActivity.onActivityResult(CordovaActivity.java:348)3002\r\n  at android.app.Activity.dispatchActivityResult(Activity.java:5535)3002\r\n  at android.app.ActivityThread.deliverResults(ActivityThread.java:3592)3002\r\n  ... 13 more3002\r\njava.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d1, result\u003d0, data\u003dnull} to activity {co.mwater.clientapp/co.mwater.clientapp.MainActivity}: java.lang.NullPointerException3002\r\n  at android.app.ActivityThread.deliverResults(ActivityThread.java:3596)3002\r\n  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2990)3002\r\n  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3036)3002\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2438)3002\r\n  at android.app.ActivityThread.access$800(ActivityThread.java:155)3002\r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1346)3002\r\n  at android.os.Handler.dispatchMessage(Handler.java:110)3002\r\n  at android.os.Looper.loop(Looper.java:193)3002\r\n  at android.app.ActivityThread.main(ActivityThread.java:5341)3002\r\n  at java.lang.reflect.Method.invokeNative(Native Method)3002\r\n  at java.lang.reflect.Method.invoke(Method.java:515)3002\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:830)3002\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:646)3002\r\n  at dalvik.system.NativeStart.main(Native Method)3002\r\nCaused by: java.lang.NullPointerException3002\r\n  at com.tmantman.nativecamera.NativeCameraLauncher.failPicture(NativeCameraLauncher.java:85)3002\r\n  at com.tmantman.nativecamera.NativeCameraLauncher.onActivityResult(NativeCameraLauncher.java:233)3002\r\n  at org.apache.cordova.CordovaInterfaceImpl.onActivityResult(CordovaInterfaceImpl.java:151)3002\r\n  at org.apache.cordova.CordovaActivity.onActivityResult(CordovaActivity.java:348)3002\r\n  at android.app.Activity.dispatchActivityResult(Activity.java:5535)3002\r\n  at android.app.ActivityThread.deliverResults(ActivityThread.java:3592)3002\r\n  ... 13 more3002\r\njava.lang.NullPointerException3002\r\n  at com.tmantman.nativecamera.NativeCameraLauncher.failPicture(NativeCameraLauncher.java:85)3002\r\n  at com.tmantman.nativecamera.NativeCameraLauncher.onActivityResult(NativeCameraLauncher.java:233)3002\r\n  at org.apache.cordova.CordovaInterfaceImpl.onActivityResult(CordovaInterfaceImpl.java:151)3002\r\n  at org.apache.cordova.CordovaActivity.onActivityResult(CordovaActivity.java:348)3002\r\n  at android.app.Activity.dispatchActivityResult(Activity.java:5535)3002\r\n  at android.app.ActivityThread.deliverResults(ActivityThread.java:3592)3002\r\n  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2990)3002\r\n  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3036)3002\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2438)3002\r\n  at android.app.ActivityThread.access$800(ActivityThread.java:155)3002\r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1346)3002\r\n  at android.os.Handler.dispatchMessage(Handler.java:110)3002\r\n  at android.os.Looper.loop(Looper.java:193)3002\r\n  at android.app.ActivityThread.main(ActivityThread.java:5341)3002\r\n  at java.lang.reflect.Method.invokeNative(Native Method)3002\r\n  at java.lang.reflect.Method.invoke(Method.java:515)3002\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:830)3002\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:646)3002\r\n  at dalvik.system.NativeStart.main(Native Method)3002\r\n\",\r\n```",
    "keywords": [
      "com",
      "handler",
      "com tmantman",
      "lang runtimeexception",
      "org apache",
      "java:515",
      "dalvik",
      "3002",
      "invoke",
      "main",
      "run",
      "result\u003d0",
      "lang reflect",
      "lang nullpointerexception3002",
      "onactivityresult",
      "mainactivity}",
      "reflect",
      "apache",
      "nativecamera",
      "java",
      "cordova",
      "performresumeactivity activitythread",
      "loop",
      "tmantman",
      "more3002",
      "tmantman nativecamera",
      "runtimeexception",
      "reflect method",
      "delivering",
      "app",
      "cordovainterfaceimpl",
      "method",
      "java:2990 3002",
      "java:646",
      "{co",
      "apache cordova",
      "nativecameralauncher",
      "access$800",
      "deliverresults",
      "handleresumeactivity",
      "system",
      "failpicture",
      "failure",
      "android app",
      "deliverresults activitythread",
      "request\u003d1",
      "handlemessage",
      "native method",
      "dispatchmessage",
      "internal",
      "activity",
      "java:3592",
      "app activitythread",
      "android",
      "nullpointerexception3002",
      "looper",
      "nativecamera nativecameralauncher",
      "java:5535",
      "java:3036",
      "result",
      "nativestart",
      "invokenative",
      "java:85",
      "android internal",
      "native",
      "method 3002",
      "resultinfo{who\u003dnull",
      "java:348",
      "activitythread$h",
      "data\u003dnull}",
      "lang",
      "zygoteinit",
      "clientapp/co",
      "java:2990",
      "os",
      "java:5341",
      "org",
      "caused",
      "zygoteinit$methodandargscaller",
      "java:1346",
      "java:2438",
      "java lang",
      "activitythread",
      "dispatchactivityresult",
      "mwater",
      "java:151",
      "handlelaunchactivity",
      "cordovaactivity",
      "java:193",
      "clientapp",
      "performresumeactivity",
      "java:830",
      "java:233",
      "java:110",
      "java:155"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/mWater/cordova-plugin-wezka-nativecamera/commit/8737e6c42fb437ce33c763830cc8b70cfc2e6339",
      "files": [
        {
          "file_name": "src/android/NativeCameraLauncher.java",
          "patch": "@@ -362,4 +362,34 @@ private String getTempDirectoryPath(Context ctx) {\n \n \t\treturn cache.getAbsolutePath();\n \t}\n+\n+\t@Override\n+\tpublic void onRestoreStateForActivityResult(Bundle state, CallbackContext callbackContext) {\n+\t\tthis.callbackContext \u003d callbackContext;\n+\n+\t\tthis.mQuality \u003d state.getInt(\"mQuality\");\n+\t\tthis.targetWidth \u003d state.getInt(\"targetWidth\");\n+\t\tthis.targetHeight \u003d state.getInt(\"targetHeight\");\n+\n+\t\tthis.imageUri \u003d state.getParcelable(\"imageUri\");\n+\t\tthis.photo \u003d (File) state.getSerializable(\"photo\");\n+\n+\t\tthis.date \u003d state.getString(\"date\");\n+\n+\t\tsuper.onRestoreStateForActivityResult(state, callbackContext);\n+\t}\n+\n+\t@Override\n+\tpublic Bundle onSaveInstanceState() {\n+\n+\t\tBundle state \u003d new Bundle();\n+\t\tstate.putInt(\"mQuality\", mQuality);\n+\t\tstate.putInt(\"targetWidth\", targetWidth);\n+\t\tstate.putInt(\"targetHeight\", targetHeight);\n+\t\tstate.putString(\"date\", date);\n+\t\tstate.putParcelable(\"imageUri\", imageUri);\n+\t\tstate.putSerializable(\"photo\", photo);\n+\n+\t\treturn state;\n+\t}\n }"
        }
      ]
    }
  },
  {
    "name": "Street name quest: ArrayIndexOutOfBounds",
    "url": "https://github.com/westnordost/StreetComplete/issues/287",
    "description": "\r\njava.lang.ArrayIndexOutOfBoundsException: \r\n  at de.westnordost.streetcomplete.quests.road_name.AutoCorrectAbbreviationsEditText.autoCorrectTextAt(AutoCorrectAbbreviationsEditText.java:86)\r\n  at de.westnordost.streetcomplete.quests.road_name.AutoCorrectAbbreviationsEditText.access$100(AutoCorrectAbbreviationsEditText.java:23)\r\n  at de.westnordost.streetcomplete.quests.road_name.AutoCorrectAbbreviationsEditText$AbbreviationAutoCorrecter.afterTextChanged(AutoCorrectAbbreviationsEditText.java:151)\r\n  at android.widget.TextView.sendAfterTextChanged(TextView.java:8009)\r\n  at android.widget.TextView$ChangeWatcher.afterTextChanged(TextView.java:10170)\r\n  at android.text.SpannableStringBuilder.sendAfterTextChanged(SpannableStringBuilder.java:1043)\r\n  at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:560)\r\n  at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:492)\r\n  at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:34)\r\n  at android.view.inputmethod.BaseInputConnection.replaceText(BaseInputConnection.java:685)\r\n  at android.view.inputmethod.BaseInputConnection.commitText(BaseInputConnection.java:197)\r\n  at com.android.internal.widget.EditableInputConnection.commitText(EditableInputConnection.java:184)\r\n  at com.android.internal.view.IInputConnectionWrapper.executeMessage(IInputConnectionWrapper.java:286)\r\n  at com.android.internal.view.IInputConnectionWrapper$MyHandler.handleMessage(IInputConnectionWrapper.java:78)\r\n  at android.os.Handler.dispatchMessage(Handler.java:102)\r\n  at android.os.Looper.loop(Looper.java:148)\r\n  at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n  at java.lang.reflect.Method.invoke(Native Method:0)\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n",
    "keywords": [
      "com",
      "de",
      "road_name",
      "internal",
      "widget",
      "os",
      "quests",
      "android",
      "replace",
      "com android",
      "streetcomplete",
      "de westnordost",
      "textview",
      "view",
      "streetcomplete quests",
      "westnordost",
      "iinputconnectionwrapper",
      "autocorrectabbreviationsedittext",
      "baseinputconnection",
      "text",
      "spannablestringbuilder",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/b41a7c13748c9d4ea7214c89f127d838b190c6b7",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/quests/road_name/AutoCorrectAbbreviationsEditText.java",
          "patch": "@@ -83,6 +83,8 @@ private void autoCorrectTextAt(Editable s, int cursor)\n \t{\n \t\tString textToCursor \u003d s.subSequence(0, cursor).toString();\n \t\tString[] words \u003d textToCursor.split(\"[ -]+\");\n+\t\t// really no idea how the result of split can ever be empty, but it apparently happens sometimes #287\n+\t\tif(words.length \u003d\u003d 0) return;\n \t\tString lastWordBeforeCursor \u003d words[words.length-1];\n \n \t\tboolean isFirstWord \u003d words.length \u003d\u003d 1;"
        }
      ]
    }
  },
  {
    "name": "Unable to start message center due to crash",
    "url": "https://github.com/kontalk/androidclient/issues/901",
    "description": "Android 6.0 from Crashlytics.\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start service org.kontalk.service.msgcenter.MessageCenterService@73b8f57 with Intent { act\u003dorg.kontalk.action.MESSAGE cmp\u003dorg.kontalk/.service.msgcenter.MessageCenterService (has extras) }: java.lang.IllegalStateException: no encryption methods specified\r\n       at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:3045)\r\n       at android.app.ActivityThread.-wrap17(ActivityThread.java)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1452)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5443)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\nCaused by java.lang.IllegalStateException: no encryption methods specified\r\n       at org.spongycastle.openpgp.PGPEncryptedDataGenerator.open(PGPEncryptedDataGenerator.java:178)\r\n       at org.spongycastle.openpgp.PGPEncryptedDataGenerator.open(PGPEncryptedDataGenerator.java:333)\r\n       at org.kontalk.crypto.PGPCoder.encryptData(PGPCoder.java:174)\r\n       at org.kontalk.crypto.PGPCoder.encryptStanza(PGPCoder.java:137)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.sendMessage(MessageCenterService.java:2454)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.handleMessage(MessageCenterService.java:1117)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.handleIntent(MessageCenterService.java:897)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.onStartCommand(MessageCenterService.java:703)\r\n       at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:3028)\r\n       at android.app.ActivityThread.-wrap17(ActivityThread.java)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1452)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5443)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n```",
    "keywords": [
      "com",
      "handlemessage",
      "handler",
      "internal",
      "messagecenterservice",
      "app activitythread",
      "pgpcoder",
      "android",
      "msgcenter",
      "main",
      "looper",
      "msgcenter messagecenterservice",
      "org kontalk",
      "java",
      "kontalk service",
      "lang",
      "kontalk",
      "zygoteinit",
      "app",
      "os",
      "method",
      "org",
      "java lang",
      "activitythread",
      "service",
      "android app",
      "pgpencrypteddatagenerator"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/f3c5664edf8071d249abf85df883d6f9e88b058a",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/GroupMessageFragment.java",
          "patch": "@@ -74,6 +74,7 @@\n \n     private MenuItem mInviteGroupMenu;\n     private MenuItem mSetGroupSubjectMenu;\n+    private MenuItem mGroupInfoMenu;\n     private MenuItem mLeaveGroupMenu;\n     private MenuItem mAttachMenu;\n \n@@ -101,8 +102,21 @@ protected void updateUI() {\n \n             // menu items requiring membership\n             visible \u003d mConversation.getGroupMembership() \u003d\u003d Groups.MEMBERSHIP_MEMBER;\n+            mGroupInfoMenu.setVisible(visible);\n+            mGroupInfoMenu.setEnabled(visible);\n             mLeaveGroupMenu.setVisible(visible);\n             mLeaveGroupMenu.setEnabled(visible);\n+\n+            if (visible) {\n+                if (mConversation !\u003d null) {\n+                    int count \u003d mConversation.getGroupPeers().length + 1;\n+                    visible \u003d count \u003e 1;\n+                }\n+                else {\n+                    visible \u003d false;\n+                }\n+            }\n+\n             mAttachMenu.setVisible(visible);\n             mAttachMenu.setEnabled(visible);\n             if (!visible)\n@@ -115,6 +129,7 @@ protected void onInflateOptionsMenu(Menu menu, MenuInflater inflater) {\n         inflater.inflate(R.menu.group_message_menu, menu);\n         mInviteGroupMenu \u003d menu.findItem(R.id.invite_group);\n         mSetGroupSubjectMenu \u003d menu.findItem(R.id.group_subject);\n+        mGroupInfoMenu \u003d menu.findItem(R.id.group_info);\n         mLeaveGroupMenu \u003d menu.findItem(R.id.leave_group);\n         mAttachMenu \u003d menu.findItem(R.id.menu_attachment);\n     }"
        }
      ]
    }
  },
  {
    "name": "[Bug] Go to a ranking -\u003e logout -\u003e login -\u003e go to the same ranking \u003d bug",
    "url": "https://github.com/herbeth1u/VNDB-Android/issues/82",
    "description": "When we logout, we have to make sure that the static variables in the RankingFragments are also reset, because Cache.vns has itself been reset.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String com.booboot.vndbandroid.bean.vndb.Item.getTitle()\u0027 on a null object reference\r\n\tat com.booboot.vndbandroid.factory.VNCardFactory.buildCard(VNCardFactory.java:27)\r\n\tat com.booboot.vndbandroid.factory.ProgressiveResultLoader.initFromExisting(ProgressiveResultLoader.java:153)\r\n\tat com.booboot.vndbandroid.activity.ranking.RankingNewlyAddedFragment.onCreateView(RankingNewlyAddedFragment.java:35)\r\n\tat android.app.Fragment.performCreateView(Fragment.java:2352)\r\n\tat android.app.FragmentManagerImpl.moveToState(FragmentManager.java:995)\r\n\tat android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1171)\r\n\tat android.app.BackStackRecord.run(BackStackRecord.java:815)\r\n\tat android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1578)\r\n\tat android.app.FragmentManagerImpl$1.run(FragmentManager.java:483)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6077)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```",
    "keywords": [
      "com",
      "app",
      "handler",
      "booboot",
      "os",
      "booboot vndbandroid",
      "method",
      "android",
      "run",
      "-\u003e",
      "vndbandroid",
      "android app",
      "ranking",
      "fragmentmanager",
      "lang",
      "fragmentmanagerimpl",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/herbeth1u/VNDB-Android/commit/f93e1e0ebb7fab2eb37b5875b72b7926bed80826",
      "files": [
        {
          "file_name": "app/app-release.apk"
        },
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -8,8 +8,8 @@ android {\n         applicationId \"com.booboot.vndbandroid\"\n         minSdkVersion 17\n         targetSdkVersion 25\n-        versionCode 26\n-        versionName \"2.0.7\"\n+        versionCode 27\n+        versionName \"2.0.8\"\n     }\n \n     buildTypes {"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/MainActivity.java",
          "patch": "@@ -276,15 +276,7 @@ public boolean goToFragment(int id) {\n         } else if (id \u003d\u003d R.id.nav_about) {\n             directSubfragment \u003d new AboutFragment();\n         } else if (id \u003d\u003d R.id.nav_logout) {\n-            VNDBServer.closeAll();\n-            Cache.clearCache(this);\n-            SettingsManager.setUserId(this, -1);\n-            RecommendationsFragment.recommendations \u003d null;\n-            startActivity(new Intent(this, LoginActivity.class));\n-            selectedItem \u003d 0;\n-            instance \u003d null;\n-            finish();\n-            return true;\n+            return logout();\n         }\n \n         directSubfragment.setArguments(args);\n@@ -295,6 +287,25 @@ public boolean goToFragment(int id) {\n         return true;\n     }\n \n+    private boolean logout() {\n+        VNDBServer.closeAll();\n+        Cache.clearCache(this);\n+        SettingsManager.setUserId(this, -1);\n+\n+        RankingMostVotedFragment.progressiveResultLoader \u003d null;\n+        RankingNewlyAddedFragment.progressiveResultLoader \u003d null;\n+        RankingNewlyReleasedFragment.progressiveResultLoader \u003d null;\n+        RankingPopularFragment.progressiveResultLoader \u003d null;\n+        RankingTopFragment.progressiveResultLoader \u003d null;\n+        RecommendationsFragment.recommendations \u003d null;\n+\n+        startActivity(new Intent(this, LoginActivity.class));\n+        selectedItem \u003d 0;\n+        instance \u003d null;\n+        finish();\n+        return true;\n+    }\n+\n     public void addActiveFragment(VNTypeFragment fragment) {\n         this.activeFragments.add(fragment);\n     }"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/ranking/RankingMostVotedFragment.java",
          "patch": "@@ -12,7 +12,7 @@\n import com.booboot.vndbandroid.util.Utils;\n \n public class RankingMostVotedFragment extends Fragment {\n-    private static ProgressiveResultLoader progressiveResultLoader;\n+    public static ProgressiveResultLoader progressiveResultLoader;\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/ranking/RankingNewlyAddedFragment.java",
          "patch": "@@ -12,7 +12,7 @@\n import com.booboot.vndbandroid.util.Utils;\n \n public class RankingNewlyAddedFragment extends Fragment {\n-    private static ProgressiveResultLoader progressiveResultLoader;\n+    public static ProgressiveResultLoader progressiveResultLoader;\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/ranking/RankingNewlyReleasedFragment.java",
          "patch": "@@ -16,7 +16,7 @@\n import java.util.Locale;\n \n public class RankingNewlyReleasedFragment extends Fragment {\n-    private static ProgressiveResultLoader progressiveResultLoader;\n+    public static ProgressiveResultLoader progressiveResultLoader;\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/ranking/RankingPopularFragment.java",
          "patch": "@@ -12,7 +12,7 @@\n import com.booboot.vndbandroid.util.Utils;\n \n public class RankingPopularFragment extends Fragment {\n-    private static ProgressiveResultLoader progressiveResultLoader;\n+    public static ProgressiveResultLoader progressiveResultLoader;\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/ranking/RankingTopFragment.java",
          "patch": "@@ -12,7 +12,7 @@\n import com.booboot.vndbandroid.util.Utils;\n \n public class RankingTopFragment extends Fragment {\n-    private static ProgressiveResultLoader progressiveResultLoader;\n+    public static ProgressiveResultLoader progressiveResultLoader;\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {"
        }
      ]
    }
  },
  {
    "name": " java.lang.NullPointerException: Attempt to read from null array ",
    "url": "https://github.com/KeepSafe/TapTargetView/issues/37",
    "description": "Hi, I\u0027m experiencing an issue on Android 6.0 Genymotion emulator.\nVersion 1.3.0\nStacktrace:\nE/AndroidRuntime: FATAL EXCEPTION: main\n                                                                         java.lang.NullPointerException: Attempt to read from null array\n                                                                             at com.getkeepsafe.taptargetview.TapTargetView.onDraw(TapTargetView.java:545)\n                                                                             at android.view.View.draw(View.java:16178)\n                                                                             at android.view.View.updateDisplayListIfDirty(View.java:15174)\n                                                                             at android.view.View.draw(View.java:15948)\n                                                                             at android.view.ViewGroup.drawChild(ViewGroup.java:3609)\n                                                                             at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3399)\n                                                                             at android.view.View.draw(View.java:16181)\n                                                                             at com.android.internal.policy.PhoneWindow$DecorView.draw(PhoneWindow.java:2690)\n                                                                             at android.view.View.updateDisplayListIfDirty(View.java:15174)\n                                                                             at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:281)\n                                                                             at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:287)\n                                                                             at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:322)\n                                                                             at android.view.ViewRootImpl.draw(ViewRootImpl.java:2615)\n                                                                             at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2434)\n                                                                             at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2067)\n                                                                             at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1107)\n                                                                             at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6013)\n                                                                             at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\n                                                                             at android.view.Choreographer.doCallbacks(Choreographer.java:670)\n                                                                             at android.view.Choreographer.doFrame(Choreographer.java:606)\n                                                                             at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\n                                                                             at android.os.Handler.handleCallback(Handler.java:739)\n                                                                             at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                             at android.os.Looper.loop(Looper.java:148)\n                                                                             at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                                             at java.lang.reflect.Method.invoke(Native Method)\n                                                                             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n",
    "keywords": [
      "com",
      "threadedrenderer",
      "handler",
      "internal",
      "os",
      "choreographer",
      "view view",
      "android",
      "run",
      "main",
      "draw",
      "java lang",
      "view",
      "java",
      "taptargetview",
      "viewgroup",
      "viewrootimpl",
      "android view",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/KeepSafe/TapTargetView/commit/4f7d6152bf71a27ae6bacc13e8615150f157bc74",
      "files": [
        {
          "file_name": "taptargetview/src/main/java/com/getkeepsafe/taptargetview/TapTargetView.java",
          "patch": "@@ -527,7 +527,7 @@ void onDismiss(boolean userInitiated) {\n \n     @Override\n     protected void onDraw(Canvas c) {\n-        if (isDismissed) return;\n+        if (isDismissed || outerCircleCenter \u003d\u003d null) return;\n \n         if (dimColor !\u003d -1) {\n             c.drawColor(dimColor);"
        }
      ]
    }
  },
  {
    "name": "NGW setting dialog crash application",
    "url": "https://github.com/nextgis/android_gisapp/issues/512",
    "description": "Android 2.3.6\n\n```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.nextgis.mobile/com.nextgis.maplibui.activity.NGWSettingsActivity}: java.lang.IllegalStateException: Dependency \"synchronization\" not found for preference \"sync_period\" (title: \"Интервал синхронизации\"\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:130)\n    at android.app.ActivityThread.main(ActivityThread.java:3687)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:507)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)\n    at dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalStateException: Dependency \"synchronization\" not found for preference \"sync_period\" (title: \"Интервал синхронизации\"\n    at android.preference.Preference.registerDependency(Preference.java:1007)\n    at android.preference.Preference.setDependency(Preference.java:1131)\n    at com.nextgis.maplibui.activity.NGWSettingsActivity.addPeriodicSyncTime(NGWSettingsActivity.java:430)\n    at com.nextgis.maplibui.activity.NGWSettingsActivity.fillAccountPreferences(NGWSettingsActivity.java:278)\n    at com.nextgis.maplibui.activity.NGWSettingsActivity.createView(NGWSettingsActivity.java:215)\n    at com.nextgis.maplibui.activity.NGWSettingsActivity.onCreate(NGWSettingsActivity.java:96)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)\n    ... 11 more\n```\n",
    "keywords": [
      "com",
      "app",
      "maplibui",
      "os",
      "activity",
      "method",
      "nextgis",
      "app activitythread",
      "android",
      "preference",
      "main",
      "java lang",
      "activitythread",
      "java",
      "maplibui activity",
      "android app",
      "ngwsettingsactivity",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/7bad88bcb124dc5aa920083bd68ff4a6d8efd601",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 8d7612d3cc7f3577294b12825b64fb3e71a44704\n+Subproject commit 6d605bbdc3078e6a5a911e33e06c6b605c50699b"
        }
      ]
    }
  },
  {
    "name": "obs detail map causing crash",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/377",
    "description": "I think I\u0027m getting this crash quite a bit on obs detail from Explore:\r\n\r\nhttps://fabric.io/inaturalist/android/apps/org.inaturalist.android/issues/57bd23a7ffcdc04250281320?time\u003dlast-seven-days\r\n```\r\nFatal Exception: java.lang.IllegalStateException: Error using newLatLngBounds(LatLngBounds, int): View size is too small after padding is applied.\r\n       at com.google.maps.api.android.lib6.common.l.a(:com.google.android.gms.DynamiteModulesB:14)\r\n       at com.google.maps.api.android.lib6.gmm6.api.a.a(:com.google.android.gms.DynamiteModulesB:172)\r\n       at com.google.maps.api.android.lib6.impl.y.a(:com.google.android.gms.DynamiteModulesB:3)\r\n       at com.google.maps.api.android.lib6.gmm6.api.a.a(:com.google.android.gms.DynamiteModulesB:42)\r\n       at com.google.maps.api.android.lib6.impl.az.a(:com.google.android.gms.DynamiteModulesB:338)\r\n       at com.google.android.gms.maps.internal.j.onTransact(:com.google.android.gms.DynamiteModulesB:35)\r\n       at android.os.Binder.transact(Binder.java:387)\r\n       at com.google.android.gms.maps.internal.IGoogleMapDelegate$zza$zza.moveCamera(Unknown Source)\r\n       at com.google.android.gms.maps.GoogleMap.moveCamera(Unknown Source)\r\n       at org.inaturalist.android.ActivityHelper$5.onMapLoaded(ActivityHelper.java:348)\r\n       at com.google.android.gms.maps.GoogleMap$4.onMapLoaded(Unknown Source)\r\n       at com.google.android.gms.maps.internal.zzk$zza.onTransact(Unknown Source)\r\n       at android.os.Binder.transact(Binder.java:387)\r\n       at com.google.android.gms.maps.internal.ao.a(:com.google.android.gms.DynamiteModulesB:8)\r\n       at com.google.maps.api.android.lib6.impl.co.run(:com.google.android.gms.DynamiteModulesB:32)\r\n       at android.os.Handler.handleCallback(Handler.java:746)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5443)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n```\r\n\r\nBuild 228. Possibly related to #272",
    "keywords": [
      "com",
      "api android",
      "handler",
      "internal",
      "android",
      "source",
      "android lib6",
      "gms",
      "maps api",
      "google maps",
      "unknown",
      "impl",
      "java",
      "maps internal",
      "android gms",
      "google android",
      "api",
      "binder",
      ":com",
      "zygoteinit",
      "lib6",
      "maps",
      "os",
      "google",
      ":com google",
      "com google"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/fcacb7cd6298e7ac4cca0916c0296fae57b12f58",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ActivityHelper.java",
          "patch": "@@ -261,7 +261,7 @@ private CameraUpdate addCircle(GoogleMap map, LatLng latlng, int radius, Observa\n                 include(SphericalUtil.computeOffset(latlng, radius, 180)).\n                 include(SphericalUtil.computeOffset(latlng, radius, 270)).build();\n \n-        return CameraUpdateFactory.newLatLngBounds(bounds, radius);\n+        return CameraUpdateFactory.newLatLngBounds(bounds, radius + 10);\n     }\n \n     public void addMapPosition(final GoogleMap map, Observation observation, BetterJSONObject observationJson) {\n@@ -345,7 +345,12 @@ public void addMapPosition(final GoogleMap map, Observation observation, BetterJ\n         map.setOnMapLoadedCallback(new GoogleMap.OnMapLoadedCallback() {\n             @Override\n             public void onMapLoaded() {\n-                if (finalCameraUpdate !\u003d null) map.moveCamera(finalCameraUpdate);\n+                try {\n+                    if (finalCameraUpdate !\u003d null) map.moveCamera(finalCameraUpdate);\n+                } catch (IllegalStateException exc) {\n+                    // Handles weird exception is raised (\"View size is too small after padding is applied\")\n+                    exc.printStackTrace();\n+                }\n             }\n         });\n "
        }
      ]
    }
  },
  {
    "name": "Null activity on dialog",
    "url": "https://github.com/kontalk/androidclient/issues/977",
    "description": "Use the context variable defined in the outer scope.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.res.Resources android.content.Context.getResources()\u0027 on a null object reference\r\n       at android.support.v4.content.ContextCompat.getColor(ContextCompat.java:434)\r\n       at com.afollestad.materialdialogs.util.DialogUtils.getColor(DialogUtils.java:125)\r\n       at com.afollestad.materialdialogs.MaterialDialog$Builder.\u003cinit\u003e(MaterialDialog.java:519)\r\n       at org.kontalk.ui.ComposeMessageFragment$9.onClick(ComposeMessageFragment.java:914)\r\n       at org.kontalk.ui.AbstractComposeFragment$19.onActionClicked(AbstractComposeFragment.java:1686)\r\n       at com.nispok.snackbar.Snackbar$4.onClick(Snackbar.java:677)\r\n       at android.view.View.performClick(View.java:4781)\r\n       at android.view.View$PerformClick.run(View.java:19874)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)\r\n```",
    "keywords": [
      "com",
      "handler",
      "view",
      "java",
      "os",
      "method",
      "android",
      "invoke",
      "lang",
      "content",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/f78c350718d84cdbf101964681bb4ddc99be7642",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessageFragment.java",
          "patch": "@@ -906,12 +906,12 @@ void trustKeyChange(String fingerprint) {\n     }\n \n     private void showKeyWarning(int textId, final int dialogTitleId, final int dialogMessageId, final Object... data) {\n-        Activity context \u003d getActivity();\n+        final Activity context \u003d getActivity();\n         if (context !\u003d null) {\n             showWarning(context.getText(textId), new View.OnClickListener() {\n                 @Override\n                 public void onClick(View v) {\n-                    new MaterialDialog.Builder(getActivity())\n+                    new MaterialDialog.Builder(context)\n                         .title(dialogTitleId)\n                         .content(dialogMessageId)\n                         .positiveText(R.string.button_accept)"
        }
      ]
    }
  },
  {
    "name": "Clear connecting flag when exception occured on connect. Fixed NPE.",
    "url": "https://github.com/eclipse/paho.mqtt.android/pull/147",
    "description": "Please make sure that the following boxes are checked before submitting your Pull Request, thank you!\r\n\r\n- [ x ] You have signed the [Eclipse CLA](http://www.eclipse.org/legal/CLA.php)\r\n- [ x ] All of your commits have been signed-off with the correct email address (The same one that you used to sign the CLA)\r\n- [ x ] If This PR fixes an issue, that you reference the issue below. OR if this is a new issue that you are fixing straight away that you add some Description about the bug and how this will fix it.\r\n- [ ] If this is new functionality, You have added the appropriate Unit tests.\r\n\r\nSigned-off-by: miketran78727 \u003cmiketran@us.ibm.com\u003e\r\n\r\nA user reported 2 issues\r\n\r\n1. NPE on reconnect \r\n2. Can\u0027t connect if exception was thrown on the first connect \r\n\r\nFor the NPE, the user provided this trace:\r\n````\r\n2016-10-12 23:12:07 [main] ERROR (CrashExceptionHandler.java:40) -  ERROR UncaughtExceptionHandler: java.lang.RuntimeException: Error receiving broadcast Intent { act\u003dandroid.net.conn.CONNECTIVITY_CHANGE flg\u003d0x4000010 (has extras) } in org.eclipse.paho.android.service.MqttService$NetworkConnectionIntentReceiver@4196e660\r\n\tat android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:769)\r\n\tat android.os.Handler.handleCallback(Handler.java:733)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:136)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5002)\r\n\tat java.lang.reflect.Method.invokeNative(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:515)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n\tat dalvik.system.NativeStart.main(Native Method)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.paho.android.service.MqttConnection.reconnect(MqttConnection.java:1087)\r\n\tat org.eclipse.paho.android.service.MqttService.reconnect(MqttService.java:343)\r\n\tat org.eclipse.paho.android.service.MqttService$NetworkConnectionIntentReceiver.onReceive(MqttService.java:826)\r\n\tat android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:759)\r\n````\r\nFor some reason myClient was null.  A fix for this particular issue is included in this patch.\r\n\r\nFor the second issue, this is the trace of consecutive connect() calls from the application:\r\n````\r\ntransaction_event_15283521401298.txt:2016-10-27 17:02:46 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, Connecting {ssl://mqtt-dia-stg.cpggpc.ca:1883} as {15283521401298}\r\ntransaction_event_15283521401298.txt:2016-10-27 17:02:46 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, Do Real connect!\r\ntransaction_event_15283521401298.txt:2016-10-27 17:03:46 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, Connecting {ssl://mqtt-dia-stg.cpggpc.ca:1883} as {15283521401298}\r\ntransaction_event_15283521401298.txt:2016-10-27 17:03:46 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, myClient !\u003d null and the client is connecting. Connect return directly.\r\ntransaction_event_15283521401298.txt:2016-10-27 17:05:47 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, Connecting {ssl://mqtt-dia-stg.cpggpc.ca:1883} as {15283521401298}\r\ntransaction_event_15283521401298.txt:2016-10-27 17:05:47 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, myClient !\u003d null and the client is connecting. Connect return directly.\r\ntransaction_event_15283521401298.txt:2016-10-27 17:07:49 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, Connecting {ssl://mqtt-dia-stg.cpggpc.ca:1883} as {15283521401298}\r\ntransaction_event_15283521401298.txt:2016-10-27 17:07:49 [main] DEBUG (MqttTraceCallback.java:20) -  TRANS MQTT-TRACE: MqttConnection, myClient !\u003d null and the client is connecting. Connect return directly.\r\n....\r\n````\r\nThe fix is to clear connecting flag when an exception is caught in ````connect()```` method.\r\n\r\n\r\n",
    "keywords": [
      "mqtttracecallback",
      "exception",
      "handler",
      "mqttservice",
      "cpggpc",
      "main",
      "run",
      "paho",
      "transaction_event_15283521401298",
      "debug mqtttracecallback",
      "mqtt-trace: mqttconnection",
      "java:20",
      "java",
      "fix",
      "directly",
      "{15283521401298}",
      "app",
      "method",
      "issue",
      "[main] debug",
      "paho android",
      "ca:1883}",
      "mqttconnection",
      "````",
      "eclipse",
      "txt:2016-10-27",
      "myclient",
      "null",
      "x ]",
      "mqtttracecallback java:20",
      "[main]",
      "trans",
      "android",
      "error",
      "{ssl://mqtt-dia-stg",
      "reconnect",
      "client",
      "[",
      "lang",
      "]",
      "connect",
      "zygoteinit",
      "npe",
      "debug",
      "os",
      "org",
      "trans mqtt-trace",
      "mqtt-trace",
      "transaction_event_15283521401298 txt:2016-10-27",
      "java lang",
      "service",
      "x",
      "connecting",
      "return",
      "org eclipse"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/eclipse/paho.mqtt.android/commit/6579bf4a8a251d277498c9e01eebd56e3259113b",
      "files": [
        {
          "file_name": "org.eclipse.paho.android.service/src/main/java/org/eclipse/paho/android/service/MqttConnection.java",
          "patch": "@@ -295,6 +295,8 @@ public void onFailure(IMqttToken asyncActionToken,\n \t\t\t\tmyClient.connect(connectOptions, invocationContext, listener);\n \t\t\t}\n \t\t} catch (Exception e) {\n+\t\t\tservice.traceError(TAG, \"Exception occurred attempting to connect: \" + e.getMessage());\n+\t\t\tsetConnectingState(false);\n \t\t\thandleException(resultBundle, e);\n \t\t}\n \t}\n@@ -1015,6 +1017,12 @@ void offline() {\n \t* multiple times \n \t*/\n \tsynchronized void reconnect() {\n+\n+\t\tif (myClient \u003d\u003d null) {\n+\t\t\tservice.traceError(TAG,\"Reconnect myClient \u003d null. Will not do reconnect\");\n+\t\t\treturn;\n+\t\t}\n+\n \t\tif (isConnecting) {\n \t\t\tservice.traceDebug(TAG, \"The client is connecting. Reconnect return directly.\");\n \t\t\treturn ;"
        }
      ]
    }
  },
  {
    "name": "CatchActivity.java:74: java.lang.NullPointerException: println needs a message",
    "url": "https://github.com/drakeet/CrashWoodpecker/issues/12",
    "description": "``` java\nE/CrashWoodpecker: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.cainiao.phoenix.sample/me.drakeet.library.ui.CatchActivity}: java.lang.NullPointerException: println needs a message\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\nat android.app.ActivityThread.access$1100(ActivityThread.java:221)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:158)\nat android.app.ActivityThread.main(ActivityThread.java:7232)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\nCaused by: java.lang.NullPointerException: println needs a message\nat android.util.Log.println_native(Native Method)\nat android.util.Log.e(Log.java:334)\nat me.drakeet.library.ui.CatchActivity.setUpRecyclerView(CatchActivity.java:74)\nat me.drakeet.library.ui.CatchActivity.onCreate(CatchActivity.java:58)\nat android.app.Activity.performCreate(Activity.java:6876)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \nat android.app.ActivityThread.access$1100(ActivityThread.java:221) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \nat android.os.Handler.dispatchMessage(Handler.java:102) \nat android.os.Looper.loop(Looper.java:158) \nat android.app.ActivityThread.main(ActivityThread.java:7232) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \n```\n",
    "keywords": [
      "com",
      "native method",
      "handler",
      "internal",
      "activity",
      "log",
      "app activitythread",
      "android",
      "main",
      "looper",
      "catchactivity",
      "println",
      "library",
      "java",
      "ui",
      "native",
      "drakeet",
      "nullpointerexception: println",
      "lang",
      "internal os",
      "zygoteinit",
      " ",
      "needs",
      "app",
      "os",
      "method",
      "com android",
      "message",
      "nullpointerexception",
      "java lang",
      "activitythread",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/drakeet/CrashWoodpecker/commit/51efdf9aaa3208fd0d6bdbce4274a42a8ea8bf76",
      "files": [
        {
          "file_name": "crashwoodpecker/src/main/java/me/drakeet/library/ui/CatchActivity.java",
          "patch": "@@ -31,6 +31,7 @@\n import android.os.Bundle;\n import android.support.v7.widget.LinearLayoutManager;\n import android.support.v7.widget.RecyclerView;\n+import android.text.TextUtils;\n import android.util.Log;\n import android.view.Menu;\n import android.view.MenuItem;\n@@ -60,6 +61,7 @@\n \n     private void parseIntent() {\n         mCrashArray \u003d getIntent().getStringArrayExtra(EXTRA_CRASH_LOGS);\n+        // TODO: 16/8/13 reload from files\n         mLog4Cat \u003d getIntent().getStringExtra(EXTRA_CRASH_4_LOGCAT);\n         mPackageName \u003d getIntent().getStringExtra(EXTRA_PACKAGE);\n     }\n@@ -71,7 +73,9 @@ private void setUpRecyclerView() {\n         mRecyclerView.setLayoutManager(layoutManager);\n         mCrashListAdapter \u003d new CrashListAdapter(mCrashArray, mPackageName);\n         mRecyclerView.setAdapter(mCrashListAdapter);\n-        Log.e(\"CrashWoodpecker\", mLog4Cat);\n+        if (!TextUtils.isEmpty(mLog4Cat)) {\n+            Log.e(\"CrashWoodpecker\", mLog4Cat);\n+        }\n     }\n \n     @Override public boolean onCreateOptionsMenu(Menu menu) {"
        }
      ]
    }
  },
  {
    "name": "Check FTS MATCH expression",
    "url": "https://github.com/kontalk/androidclient/issues/1011",
    "description": "The search string is actually a FTS MATCH expression, which is validated, crashing the app if it\u0027s not.\r\n\r\nOn a (probably) different note:\r\n\r\n```\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{org.kontalk/org.kontalk.ui.SearchActivity}: android.database.sqlite.SQLiteException: FTS expression tree is too large (maximum depth 12) (code 1)\r\n#################################################################\r\nError Code : 1 (SQLITE_ERROR)\r\nCaused By : SQL(query) error or missing database.\r\n\t(FTS expression tree is too large (maximum depth 12) (code 1))\r\n#################################################################\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3319)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3415)\r\n       at android.app.ActivityThread.access$1100(ActivityThread.java:229)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1821)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7325)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\nCaused by android.database.sqlite.SQLiteException: FTS expression tree is too large (maximum depth 12) (code 1)\r\n#################################################################\r\nError Code : 1 (SQLITE_ERROR)\r\nCaused By : SQL(query) error or missing database.\r\n\t(FTS expression tree is too large (maximum depth 12) (code 1))\r\n#################################################################\r\n       at android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(SQLiteConnection.java)\r\n       at android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:980)\r\n       at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\r\n       at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\r\n       at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:143)\r\n       at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:132)\r\n       at android.content.ContentResolver.query(ContentResolver.java:521)\r\n       at android.content.ContentResolver.query(ContentResolver.java:445)\r\n       at org.kontalk.data.SearchItem.query(SearchItem.java:85)\r\n       at org.kontalk.ui.SearchFragment.setQuery(SearchFragment.java:73)\r\n       at org.kontalk.ui.SearchActivity.onCreate(SearchActivity.java:52)\r\n       at android.app.Activity.performCreate(Activity.java:6904)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1136)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3266)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3415)\r\n       at android.app.ActivityThread.access$1100(ActivityThread.java:229)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1821)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7325)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n```",
    "keywords": [
      "com",
      "handler",
      "internal",
      "code",
      "activity",
      "app activitythread",
      "sqliteconnection",
      "android",
      "main",
      "looper",
      "error",
      "android database",
      "org kontalk",
      "database",
      "java",
      "#################################################################",
      "ui",
      "lang",
      "kontalk",
      "zygoteinit",
      "app",
      "12",
      "sqlitecursor",
      "expression",
      "method",
      "large",
      "fts",
      "os",
      "sqlite",
      "org",
      "caused",
      "query",
      "tree",
      "activitythread",
      "1",
      "depth",
      "android app",
      "maximum",
      "contentresolver"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/42afb09a754c432cae86c78d26b006b72565b9b4",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/data/SearchItem.java",
          "patch": "@@ -20,9 +20,11 @@\n \n import org.kontalk.provider.MyMessages.Messages;\n import org.kontalk.provider.MyMessages.Messages.Fulltext;\n+import org.kontalk.reporting.ReportingManager;\n \n import android.content.Context;\n import android.database.Cursor;\n+import android.database.sqlite.SQLiteException;\n \n \n /**\n@@ -81,9 +83,15 @@ public static SearchItem fromCursor(Context context, Cursor cursor) {\n     }\n \n     public static Cursor query(Context context, String query) {\n-        // TODO enhanced queries?\n-        return context.getContentResolver().query(Fulltext.CONTENT_URI\n+        try {\n+            // TODO enhanced queries?\n+            return context.getContentResolver().query(Fulltext.CONTENT_URI\n                     .buildUpon().appendQueryParameter(\"pattern\", query + \"*\").build(),\n                 SEARCH_PROJECTION, null, null, null);\n+        }\n+        catch (SQLiteException e) {\n+            ReportingManager.logException(e);\n+            return null;\n+        }\n     }\n }"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/SearchFragment.java",
          "patch": "@@ -71,7 +71,8 @@ public void setQuery(String query) {\n         Activity parent \u003d getActivity();\n         if (parent !\u003d null) {\n             mCursor \u003d SearchItem.query(parent, mQuery);\n-            getActivity().startManagingCursor(mCursor);\n+            if (mCursor !\u003d null)\n+                getActivity().startManagingCursor(mCursor);\n \n             mListAdapter \u003d new SearchListAdapter(parent, mCursor);\n             // TODO mListAdapter.setOnContentChangedListener(mContentChangedListener);"
        }
      ]
    }
  },
  {
    "name": "Crash on set new path for map(s)",
    "url": "https://github.com/nextgis/android_gisapp/issues/532",
    "description": "```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.nextgis.mobile/com.nextgis.mobile.activity.SettingsActivity}: android.os.BadParcelableException: ClassNotFoundException when unmarshalling: android.support.v7.widget.Toolbar$SavedState\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2377)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2429)\n    at android.app.ActivityThread.access$800(ActivityThread.java:151)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\n    at android.os.Handler.dispatchMessage(Handler.java:110)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:5333)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:132)\n    at dalvik.system.NativeStart.main(Native Method)\nCaused by: android.os.BadParcelableException: ClassNotFoundException when unmarshalling: android.support.v7.widget.Toolbar$SavedState\n    at android.os.Parcel.readParcelableCreator(Parcel.java:2154)\n    at android.os.Parcel.readParcelable(Parcel.java:2104)\n    at android.os.Parcel.readValue(Parcel.java:2020)\n    at android.os.Parcel.readSparseArrayInternal(Parcel.java:2382)\n    at android.os.Parcel.readSparseArray(Parcel.java:1742)\n    at android.os.Parcel.readValue(Parcel.java:2077)\n    at android.os.Parcel.readArrayMapInternal(Parcel.java:2321)\n    at android.os.Bundle.unparcel(Bundle.java:249)\n    at android.os.Bundle.getSparseParcelableArray(Bundle.java:1273)\n    at com.android.internal.policy.impl.PhoneWindow.restoreHierarchyState(PhoneWindow.java:1818)\n    at android.app.Dialog.onRestoreInstanceState(Dialog.java:439)\n    at android.preference.DialogPreference.showDialog(DialogPreference.java:302)\n    at com.nextgis.mobile.dialog.SelectMapPathDialogPreference.showDialog(SelectMapPathDialogPreference.java:136)\n    at android.preference.DialogPreference.onRestoreInstanceState(DialogPreference.java:441)\n    at com.nextgis.mobile.dialog.SelectMapPathDialogPreference.onRestoreInstanceState(SelectMapPathDialogPreference.java:117)\n    at android.preference.Preference.dispatchRestoreInstanceState(Preference.java:1806)\n    at android.preference.PreferenceGroup.dispatchRestoreInstanceState(PreferenceGroup.java:337)\n    at android.preference.Preference.restoreHierarchyState(Preference.java:1788)\n    at android.preference.PreferenceFragment.onActivityCreated(PreferenceFragment.java:194)\n    at android.app.Fragment.performActivityCreated(Fragment.java:1708)\n    at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:908)\n    at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1062)\n    at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1044)\n    at android.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:1853)\n    at android.app.Activity.performCreate(Activity.java:5346)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2331)\n    ... 12 more\n```\n",
    "keywords": [
      "com",
      "os parcel",
      "internal",
      "activity",
      "onrestoreinstancestate",
      "app activitythread",
      "selectmappathdialogpreference",
      "android",
      "main",
      "dialog",
      "java",
      "lang",
      "bundle",
      "zygoteinit",
      "app",
      "parcel",
      "android os",
      "method",
      "os",
      "movetostate",
      "nextgis",
      "preference",
      "mobile",
      "activitythread",
      "dialogpreference",
      "android app",
      "fragmentmanager",
      "fragmentmanagerimpl"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/1caffcec1c45b53c573047c3a4852dcd0abfce8b",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/dialog/SelectMapPathDialogPreference.java",
          "patch": "@@ -5,7 +5,7 @@\n  * Author:   NikitaFeodonit, nfeodonit@yandex.com\n  * Author:   Stanislav Petriakov, becomeglory@gmail.com\n  * *****************************************************************************\n- * Copyright (c) 2012-2015. NextGIS, info@nextgis.com\n+ * Copyright (c) 2012-2017 NextGIS, info@nextgis.com\n  *\n  * This program is free software: you can redistribute it and/or modify\n  * it under the terms of the GNU General Public License as published by\n@@ -36,6 +36,7 @@\n import android.view.View;\n import android.widget.LinearLayout;\n import android.widget.ListView;\n+\n import com.nextgis.maplib.util.Constants;\n import com.nextgis.maplibui.api.ISelectResourceDialog;\n import com.nextgis.maplibui.dialog.LocalResourcesListAdapter;\n@@ -206,7 +207,7 @@ protected void onDialogClosed(boolean positiveResult)\n \n \n     /**\n-     * Saves the text to the {@link SharedPreferences}.\n+     * Saves the text to the {@link android.content.SharedPreferences}.\n      *\n      * @param text\n      *         The text to save\n@@ -224,7 +225,7 @@ public void setText(String text)\n \n \n     /**\n-     * Gets the text from the {@link SharedPreferences}.\n+     * Gets the text from the {@link android.content.SharedPreferences}.\n      *\n      * @return The current preference value.\n      */"
        },
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 558f08a66cf52225d5ee381d93932796ba8ce297\n+Subproject commit 7323107adf941167977a2dd7c0867c1c5e4eb629"
        }
      ]
    }
  },
  {
    "name": "Disable focus for message list header",
    "url": "https://github.com/kontalk/androidclient/issues/750",
    "description": "Only the button should be focusable (and most importantly clickable). Otherwise, bad things happen:\n\n```\njava.lang.NullPointerException\n       at org.kontalk.ui.ComposeMessageFragment.onListItemClick(ComposeMessageFragment.java:969)\n       at android.support.v4.app.ListFragment$2.onItemClick(ListFragment.java:58)\n       at android.widget.AdapterView.performItemClick(AdapterView.java:284)\n       at android.widget.ListView.performItemClick(ListView.java:3736)\n       at android.widget.AbsListView$PerformClick.run(AbsListView.java:1974)\n       at android.os.Handler.handleCallback(Handler.java:587)\n       at android.os.Handler.dispatchMessage(Handler.java:92)\n       at android.os.Looper.loop(Looper.java:130)\n       at android.app.ActivityThread.main(ActivityThread.java:3687)\n       at java.lang.reflect.Method.invokeNative(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:507)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)\n       at dalvik.system.NativeStart.main(NativeStart.java)\n```\n\nApp crashes only when the item is manually focused (via d-pad or keyboard)\n",
    "keywords": [
      "app",
      "handler",
      "widget",
      "java",
      "os",
      "method",
      "android",
      "main",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/65c48cc34a073673459f2dc64c933e62708fdcb6",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -143,7 +143,7 @@\n     private static final int MESSAGE_PAGE_QUERY_TOKEN \u003d 8723;\n \n     /** How many messages to load per page. */\n-    private static final int MESSAGE_PAGE_SIZE \u003d 1000;\n+    private static final int MESSAGE_PAGE_SIZE \u003d 100;\n \n     private static final int SELECT_ATTACHMENT_OPENABLE \u003d Activity.RESULT_FIRST_USER + 1;\n     private static final int SELECT_ATTACHMENT_CONTACT \u003d Activity.RESULT_FIRST_USER + 2;\n@@ -174,7 +174,7 @@ public int getValue() {\n \n     protected ComposerBar mComposer;\n \n-    private MessageListQueryHandler mQueryHandler;\n+    MessageListQueryHandler mQueryHandler;\n     MessageListAdapter mListAdapter;\n     /** Header view for the list view: \"previous messages\" button. */\n     private View mHeaderView;\n@@ -268,7 +268,7 @@ public void onClick(View v) {\n                 startMessagesQuery(mQueryHandler.getLastId());\n             }\n         });\n-        list.addHeaderView(mHeaderView);\n+        list.addHeaderView(mHeaderView, null, false);\n \n         // set custom background (if any)\n         ImageView background \u003d (ImageView) getView().findViewById(R.id.background);\n@@ -1150,7 +1150,7 @@ private void startMessagesQuery() {\n             threadId, isSearching() ? 0 : MESSAGE_PAGE_SIZE, 0);\n     }\n \n-    private void startMessagesQuery(long lastId) {\n+    void startMessagesQuery(long lastId) {\n         CompositeMessage.startQuery(mQueryHandler, MESSAGE_PAGE_QUERY_TOKEN,\n             threadId, isSearching() ? 0 : MESSAGE_PAGE_SIZE, lastId);\n     }\n@@ -1940,7 +1940,7 @@ private void hideHeaderView() {\n         mHeaderView.setVisibility(View.GONE);\n     }\n \n-    private void enableHeaderView(boolean enabled) {\n+    void enableHeaderView(boolean enabled) {\n         mNextPageButton.setEnabled(enabled);\n     }\n "
        }
      ]
    }
  },
  {
    "name": "Intent sent with no phone number available in Kontalk sync data",
    "url": "https://github.com/kontalk/androidclient/issues/758",
    "description": "Code executing query from contacts here:\nhttps://github.com/kontalk/androidclient/blob/stable/app/src/main/java/org/kontalk/ui/ComposeMessageFragment.java#L1606\n\nMay result in a crash because mUserJID is never set. This is due to the given contact not having been synchronized yet. Despite the Intent should come directly from a Kontalk contact type (from Android Contacts app), it may have been deleted in the meantime or it maybe just be an odd firmware. Take the information somewhere else.\n\n```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{org.kontalk/org.kontalk.ui.ComposeMessage}: java.lang.NullPointerException: key \u003d\u003d null\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2344)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2404)\n       at android.app.ActivityThread.access$800(ActivityThread.java:145)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1323)\n       at android.os.Handler.dispatchMessage(Handler.java:102)\n       at android.os.Looper.loop(Looper.java:135)\n       at android.app.ActivityThread.main(ActivityThread.java:5319)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:372)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1016)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:811)\nCaused by java.lang.NullPointerException: key \u003d\u003d null\n       at android.support.v4.util.LruCache.get(LruCache.java:79)\n       at org.kontalk.data.Contact$ContactCache.get(Contact.java:137)\n       at org.kontalk.data.Contact.findByUserId(Contact.java:483)\n       at org.kontalk.data.Conversation.loadContact(Conversation.java:147)\n       at org.kontalk.data.Conversation.setRecipient(Conversation.java:181)\n       at org.kontalk.ui.ComposeMessageFragment.processArguments(ComposeMessageFragment.java:1631)\n       at org.kontalk.ui.ComposeMessageFragment.onActivityCreated(ComposeMessageFragment.java:313)\n       at android.support.v4.app.Fragment.performActivityCreated(Fragment.java:1983)\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1092)\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1252)\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1234)\n       at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2046)\n       at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:174)\n       at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:597)\n       at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1220)\n       at android.app.Activity.performStart(Activity.java:5992)\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2307)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2404)\n       at android.app.ActivityThread.access$800(ActivityThread.java:145)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1323)\n       at android.os.Handler.dispatchMessage(Handler.java:102)\n       at android.os.Looper.loop(Looper.java:135)\n       at android.app.ActivityThread.main(ActivityThread.java:5319)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:372)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1016)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:811)\n```\n",
    "keywords": [
      "composemessagefragment",
      "com",
      "handler",
      "internal",
      "data",
      "activity",
      "app activitythread",
      "android",
      "support v4",
      "android support",
      "invoke",
      "main",
      "looper",
      "reflect",
      "java",
      "ui",
      "contact",
      "lang",
      "conversation",
      "kontalk",
      "zygoteinit",
      "app",
      "kontalk data",
      "method",
      "os",
      "movetostate",
      "org",
      "java lang",
      "activitythread",
      "v4 app",
      "android app",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "support",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/ada20fc651e4458b761030461bdb0749472665ca",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessageFragment.java",
          "patch": "@@ -262,6 +262,11 @@ protected void handleActionView(Uri uri) {\n                 threadId);\n             setThreadId(threadId);\n         }\n+        else if (mUserJID \u003d\u003d null) {\n+            Toast.makeText(getActivity(), R.string.err_no_contact,\n+                Toast.LENGTH_LONG).show();\n+            closeConversation();\n+        }\n         else {\n             mConversation \u003d Conversation.createNew(getActivity());\n             mConversation.setRecipient(mUserJID);\n@@ -302,7 +307,7 @@ protected void handleActionViewConversation(Uri uri, Bundle args) {\n     @Override\n     protected void onArgumentsProcessed() {\n         // non existant thread - check for not synced contact\n-        if (getThreadId() \u003c\u003d 0 \u0026\u0026 mConversation !\u003d null) {\n+        if (getThreadId() \u003c\u003d 0 \u0026\u0026 mConversation !\u003d null \u0026\u0026 mUserJID !\u003d null) {\n             Contact contact \u003d mConversation.getContact();\n             if (!(mUserPhone !\u003d null \u0026\u0026 contact !\u003d null) || !contact.isRegistered()) {\n                 // ask user to send invitation"
        }
      ]
    }
  },
  {
    "name": "App wont start, Theme.AppCompat bug",
    "url": "https://github.com/oscarb/pinapple/issues/32",
    "description": "Crash reported by user.\n\nApplication version: 8\nAndroid version: Android 4.4\nDevice: Xperia™ E4g (E2003)\n\n```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{se.oscarb.pinapple/se.oscarb.pinapple.PasscodeActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2433)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2484)\n    at android.app.ActivityThread.access$800(ActivityThread.java:158)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)\n    at android.os.Handler.dispatchMessage(Handler.java:110)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:5486)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:829)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:645)\n    at dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.\n    at android.support.v7.a.l.x(Unknown Source)\n    at android.support.v7.a.l.w(Unknown Source)\n    at android.support.v7.a.l.b(Unknown Source)\n    at android.support.v7.a.d.setContentView(Unknown Source)\n    at se.oscarb.pinapple.PasscodeActivity.onCreate(Unknown Source)\n    at android.app.Activity.performCreate(Activity.java:5368)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1090)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2387)\n    ... 11 more\n```\n",
    "keywords": [
      "app",
      "v7",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "appcompat",
      "main",
      "source",
      "l",
      "java lang",
      "unknown",
      "activitythread",
      "java",
      "android app",
      "theme",
      "lang",
      "support",
      "unknown source",
      "oscarb",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/oscarb/pinapple/commit/9549feb0325a798cc00f63e1f72483ea13b19d54",
      "files": [
        {
          "file_name": "app/src/main/res/values/styles.xml",
          "patch": "@@ -25,6 +25,8 @@\n         \u003citem name\u003d\"android:singleLine\"\u003etrue\u003c/item\u003e\n     \u003c/style\u003e\n \n+    \u003cstyle name\u003d\"PasscodeTheme\" parent\u003d\"AppTheme.NoActionBar\"\u003e\u003c/style\u003e\n+\n     \u003cstyle name\u003d\"passcode_field_defaults\"\u003e\n         \u003citem name\u003d\"android:layout_height\"\u003ewrap_content\u003c/item\u003e\n         \u003citem name\u003d\"android:layout_width\"\u003ewrap_content\u003c/item\u003e"
        }
      ]
    }
  },
  {
    "name": "StringUtils.fromHtml can give an indexOutOfBoundsException",
    "url": "https://github.com/byu-oit/android-byu-suite-v2/issues/334",
    "description": "```\r\njava.lang.StringIndexOutOfBoundsException\r\n    at android.text.SpannableStringBuilder.\u003cinit\u003e(SpannableStringBuilder.java:59)\r\n    at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:964)\r\n    at edu.byu.support.utils.StringUtils.trim(Unknown Source)\r\n    at edu.byu.support.utils.StringUtils.fromHtml(Unknown Source)\r\n    at edu.byu.suite.features.learningSuite.model.Assignment.getDetailText(Unknown Source)\r\n    at edu.byu.suite.features.learningSuite.fragment.AssignmentsFragment.-edu_byu_suite_features_learningSuite_fragment_AssignmentsFragment-mthref-1(Unknown Source)\r\n    at edu.byu.suite.features.learningSuite.fragment.-$Lambda$43.$m$0(Unknown Source)\r\n    at edu.byu.suite.features.learningSuite.fragment.-$Lambda$43.getText(Unknown Source)\r\n    at edu.byu.support.defaults.DefaultViewHolder.bind(Unknown Source)\r\n    at edu.byu.support.adapter.ByuRecyclerAdapter.onBindViewHolder(Unknown Source)\r\n    at edu.byu.support.adapter.ByuRecyclerAdapter.onBindViewHolder(Unknown Source)\r\n    at android.support.v7.widget.RecyclerView$Adapter.onBindViewHolder(Unknown Source)\r\n    at android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(Unknown Source)\r\n    at android.support.v7.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(Unknown Source)\r\n    at android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(Unknown Source)\r\n    at android.support.v7.widget.GapWorker.prefetchPositionWithDeadline(Unknown Source)\r\n    at android.support.v7.widget.GapWorker.flushTaskWithDeadline(Unknown Source)\r\n    at android.support.v7.widget.GapWorker.flushTasksWithDeadline(Unknown Source)\r\n    at android.support.v7.widget.GapWorker.prefetch(Unknown Source)\r\n    at android.support.v7.widget.GapWorker.run(Unknown Source)\r\n    at android.os.Handler.handleCallback(Handler.java:739)\r\n    at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    at android.os.Looper.loop(Looper.java:148)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5525)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\r\n```",
    "keywords": [
      "v7",
      "handler",
      "learningsuite",
      "gapworker",
      "widget",
      "os",
      "android",
      "android support",
      "onbindviewholder",
      "source",
      "byu support",
      "edu byu",
      "unknown",
      "stringutils",
      "features",
      "fragment",
      "suite",
      "support v7",
      "edu",
      "v7 widget",
      "support",
      "spannablestringbuilder",
      "unknown source",
      "byu",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/byu-oit/android-byu-suite-v2/commit/68e5c636f013006e4ec06cd3ba0ff910059c1cc6",
      "files": [
        {
          "file_name": "support/src/main/java/edu/byu/support/utils/StringUtils.java",
          "patch": "@@ -149,6 +149,10 @@ public static String stringFromHtml(String source) {\n \t}\n \n \tprivate static Spanned trim(Spanned text) {\n+\t\tif (TextUtils.isEmpty(text)) {\n+\t\t\treturn null;\n+\t\t}\n+\n \t\tint end \u003d text.length();\n \t\twhile (isWhitespace(text.charAt(end - 1)) \u0026\u0026 --end \u003e 0) {}\n "
        }
      ]
    }
  },
  {
    "name": "android:theme tag is not allowed in layout file.",
    "url": "https://github.com/davideas/FlexibleAdapter/issues/161",
    "description": "-\u003e I integrated FlexibleAdapter library for Sticky List in my project. And I have to define android:theme tag on my layout. But when I added android:theme tag, my project is crash because of sticky header enabled.  I can create the header with section view. But when I will enable sticky header using  \"adapter.enableStickyHeaders();\". Then App will be crashed. \nActual behavior : App crash when call ,  \"adapter.enableStickyHeaders();\". If I have android:theme tag in layout file.\nExpected behavior: App shouldn\u0027t crash. App should support the android:theme tag in layout file.\n\n**Example design xml:** \n_**my_view.xml**_\n\u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n    android:layout_width\u003d\"match_parent\"\n    android:layout_height\u003d\"match_parent\"\n    android:theme\u003d\"@style/mytheme\"\u003e -- will crash when i will add theme tag here.\n\n```\n\u003candroid.support.v7.widget.RecyclerView\n    android:id\u003d\"@+id/myRecyclerView\"\n    android:layout_width\u003d\"match_parent\"\n    android:layout_height\u003d\"match_parent\" /\u003e\n\n\u003c!--We have to include this for sticky header--\u003e\n\u003cinclude layout\u003d\"@layout/sticky_header_layout\" /\u003e\n```\n\n\u003c/RelativeLayout\u003e\n\n**Coding:**\n \"adapter.enableStickyHeaders();\" will crash when I will call this.\n\n**Error O/P**\nFATAL EXCEPTION: main\nProcess: stickyrecyvlerviewlistexample, PID: 32355\njava.lang.ClassCastException: android.view.ContextThemeWrapper cannot be cast to android.app.Activity\nat eu.davidea.flexibleadapter.FlexibleAdapter.getStickySectionHeadersHolder(FlexibleAdapter.java:975)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.initStickyHeadersHolder(StickyHeaderHelper.java:113)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.access$000(StickyHeaderHelper.java:41)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper$1.run(StickyHeaderHelper.java:79)\nat android.os.Handler.handleCallback(Handler.java:739)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:145)\nat android.app.ActivityThread.main(ActivityThread.java:6873)\nat java.lang.reflect.Method.invoke(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:372)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)\n",
    "keywords": [
      "handler",
      "helpers",
      "android",
      "main",
      "crash",
      "file",
      "java",
      "layout file",
      "tag",
      "lang",
      "zygoteinit",
      "app",
      "adapter",
      "method",
      "os",
      "flexibleadapter",
      "will",
      "davidea flexibleadapter",
      "eu",
      "layout",
      "davidea",
      "enablestickyheaders",
      "sticky",
      "stickyheaderhelper",
      "header",
      "android:theme",
      "match_parent",
      ";"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/davideas/FlexibleAdapter/commit/e32fee9c709f8c307fca8bb1d5d841618e1701f0",
      "files": [
        {
          "file_name": "flexible-adapter-app/src/main/java/eu/davidea/samples/flexibleadapter/models/AbstractModelItem.java",
          "patch": "@@ -34,6 +34,10 @@ public boolean equals(Object inObject) {\n \t\treturn false;\n \t}\n \n+\t/**\n+\t * Override this method too, when using functionalities like Filter or CollapseAll.\n+\t * FlexibleAdapter is making use of HashSet to improve performance in big list.\n+\t */\n \t@Override\n \tpublic int hashCode() {\n \t\treturn id.hashCode();"
        },
        {
          "file_name": "flexible-adapter-app/src/main/res/layout/fragment_recycler_view.xml",
          "patch": "@@ -3,7 +3,8 @@\n \txmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n \txmlns:tools\u003d\"http://schemas.android.com/tools\"\n \tandroid:layout_width\u003d\"match_parent\"\n-\tandroid:layout_height\u003d\"match_parent\"\u003e\n+\tandroid:layout_height\u003d\"match_parent\"\n+\tandroid:theme\u003d\"@style/AppTheme.Base\"\u003e\n \n \t\u003candroid.support.v4.widget.SwipeRefreshLayout\n \t\tandroid:id\u003d\"@+id/swipeRefreshLayout\""
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/FlexibleAdapter.java",
          "patch": "@@ -16,7 +16,6 @@\n package eu.davidea.flexibleadapter;\n \n import android.annotation.SuppressLint;\n-import android.app.Activity;\n import android.os.AsyncTask;\n import android.os.Bundle;\n import android.os.Handler;\n@@ -970,9 +969,8 @@ public void run() {\n \t * @return ViewGroup layout that will hold the sticky header ItemViews\n \t * @since 5.0.0-b6\n \t */\n-\t//TODO: make it working programmatically\n \tpublic ViewGroup getStickySectionHeadersHolder() {\n-\t\treturn (ViewGroup) ((Activity) mRecyclerView.getContext()).findViewById(R.id.sticky_header_container);\n+\t\treturn (ViewGroup) Utils.scanForActivity(mRecyclerView.getContext()).findViewById(R.id.sticky_header_container);\n \t}\n \n \t/**\n@@ -1758,9 +1756,8 @@ public int getRelativePositionOf(@NonNull T child) {\n \t}\n \n \t/**\n-\t * Expands an item that is Expandable, not yet expanded, that has subItems and\n-\t * no child is selected.\n-\t * \u003cp\u003eIf configured, automatic smooth scroll will be performed.\u003c/p\u003e\n+\t * Expands an item that is IExpandable type, not yet expanded and if has subItems.\n+\t * \u003cp\u003eIf configured, automatic smooth scroll will be performed when necessary.\u003c/p\u003e\n \t *\n \t * @param position the position of the item to expand\n \t * @return the number of subItems expanded\n@@ -1832,8 +1829,7 @@ private int expand(int position, boolean expandAll, boolean init) {\n \t\tif (init || !expandable.isExpanded() \u0026\u0026\n \t\t\t\t(!parentSelected || expandable.getExpansionLevel() \u003c\u003d selectedLevel)) {\n \n-\t\t\t//Collapse others expandable if configured so\n-\t\t\t//Skip when expanding all is requested\n+\t\t\t//Collapse others expandable if configured so Skip when expanding all is requested\n \t\t\t//Fetch again the new position after collapsing all!!\n \t\t\tif (collapseOnExpand \u0026\u0026 !expandAll \u0026\u0026 collapseAll(minCollapsibleLevel) \u003e 0) {\n \t\t\t\tposition \u003d getGlobalPositionOf(item);\n@@ -1871,7 +1867,7 @@ private int expand(int position, boolean expandAll, boolean init) {\n \t}\n \n \t/**\n-\t * Expands all expandable items with minimum of level {@link #minCollapsibleLevel}.\n+\t * Expands all IExpandable items with minimum of level {@link #minCollapsibleLevel}.\n \t *\n \t * @return the number of parent successfully expanded\n \t * @see #expandAll(int)\n@@ -1883,7 +1879,7 @@ public int expandAll() {\n \t}\n \n \t/**\n-\t * Expands all expandable items with at least the specified level.\n+\t * Expands all IExpandable items with at least the specified level.\n \t *\n \t * @param level the minimum level to expand the sub expandable items\n \t * @return the number of parent successfully expanded\n@@ -1907,13 +1903,13 @@ public int expandAll(int level) {\n \t}\n \n \t/**\n-\t * Collapses an Expandable item that is already expanded, in conjunction with no subItems\n-\t * selected or item is pending removal (used in combination with removeRange).\n-\t * \u003cp\u003eAll Expandable subItem, that are expanded, are recursively collapsed.\u003c/p\u003e\n+\t * Collapses an IExpandable item that is already expanded, if no subItem is selected.\n+\t * \u003cp\u003eMultilevel behaviour: all IExpandable subItem, that are expanded, are recursively\n+\t * collapsed.\u003c/p\u003e\n \t *\n \t * @param position the position of the item to collapse\n \t * @return the number of subItems collapsed\n-\t * @see #collapse(int)\n+\t * @see #collapseAll()\n \t * @since 5.0.0-b1\n \t */\n \tpublic int collapse(@IntRange(from \u003d 0) int position) {\n@@ -1976,6 +1972,7 @@ private int recursiveCollapse(int startPosition, List\u003cT\u003e subItems, int level) {\n \t * Collapses all expandable items with the minimum level of {@link #minCollapsibleLevel}.\n \t *\n \t * @return the number of parent successfully collapsed\n+\t * @see #collapse(int)\n \t * @see #collapseAll(int)\n \t * @see #setMinCollapsibleLevel(int)\n \t * @since 5.0.0-b1"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/AbstractFlexibleItem.java",
          "patch": "@@ -54,10 +54,11 @@\n \t * public boolean equals(Object o) {\n \t *     return this \u003d\u003d o;\n \t * }\u003c/pre\u003e\u003c/p\u003e\n-\t * \u003cp\u003eWhen used with {@code HashMap}, the general contract for the {@code equals} and\n-\t * {@link #hashCode()} methods is that if {@code equals} returns {@code true} for any two\n-\t * objects, then {@code hashCode()} must return the same value for these objects. This means\n-\t * that subclasses of {@code Object} usually override either both methods or neither of them.\n+\t * \u003cp\u003e\u003cb\u003eNote:\u003c/b\u003e When used with {@code Hash[Map,Set]}, the general contract for the\n+\t * {@code equals} and {@link #hashCode()} methods is that if {@code equals} returns {@code true}\n+\t * for any two objects, then {@code hashCode()} must return the same value for these objects.\n+\t * This means that subclasses of {@code Object} usually override either both methods or neither\n+\t * of them.\u003c/p\u003e\n \t *\n \t * @param o instance to compare\n \t * @return true if items are equals, false otherwise."
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/IFilterable.java",
          "patch": "@@ -32,6 +32,8 @@\n \t/**\n \t * Checks and performs the filter on this item, you can apply the logic and the filter on\n \t * every fields your use case foreseen.\n+\t * \u003cp\u003e\u003cb\u003eNote:\u003c/b\u003e Filter method makes use of {@code HashSet}, in this case you should\n+\t * implement {@link #hashCode()} too!\u003c/p\u003e\n \t *\n \t * @param constraint the search text typed by the user\n \t * @return true if this item should be collected by the Adapter for the filtered list, false otherwise"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/utils/Utils.java",
          "patch": "@@ -16,7 +16,9 @@\n package eu.davidea.flexibleadapter.utils;\n \n import android.annotation.TargetApi;\n+import android.app.Activity;\n import android.content.Context;\n+import android.content.ContextWrapper;\n import android.content.res.TypedArray;\n import android.graphics.Typeface;\n import android.os.Build;\n@@ -183,4 +185,17 @@ public static int findLastCompletelyVisibleItemPosition(RecyclerView.LayoutManag\n \t\t}\n \t}\n \n+\t/**\n+\t * Resolves bug #161. Necessary when {@code theme} attribute is used in the layout.\n+\t * Used by {@code FlexibleAdapter.getStickySectionHeadersHolder()} method.\n+\t */\n+\tpublic static Activity scanForActivity(Context context) {\n+\t\tif (context instanceof Activity)\n+\t\t\treturn (Activity) context;\n+\t\telse if (context instanceof ContextWrapper)\n+\t\t\treturn scanForActivity(((ContextWrapper) context).getBaseContext());\n+\n+\t\treturn null;\n+\t}\n+\n }\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "IOException after updating from 3.0.0 to 3.2.0",
    "url": "https://github.com/wdullaer/MaterialDateTimePicker/issues/349",
    "description": "Hello, I encounter this exception after updating from 3.0.0 to 3.2.0. Some of my app user experienced it and I haven\u0027t able to reproduce it myself. (log taken from fabric)\r\n\r\n```\r\nFatal Exception: java.lang.RuntimeException: Parcelable encountered IOException writing serializable object (name \u003d com.wdullaer.materialdatetimepicker.date.DefaultDateRangeLimiter)\r\n       at android.os.Parcel.writeSerializable(Parcel.java:1394)\r\n       at android.os.Parcel.writeValue(Parcel.java:1341)\r\n       at android.os.Parcel.writeArrayMapInternal(Parcel.java:644)\r\n       at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1313)\r\n       at android.os.Bundle.writeToParcel(Bundle.java:1034)\r\n       at android.os.Parcel.writeBundle(Parcel.java:669)\r\n       at android.app.FragmentState.writeToParcel(Fragment.java:144)\r\n       at android.os.Parcel.writeTypedArray(Parcel.java:1197)\r\n       at android.app.FragmentManagerState.writeToParcel(FragmentManager.java:381)\r\n       at android.os.Parcel.writeParcelable(Parcel.java:1363)\r\n       at android.os.Parcel.writeValue(Parcel.java:1268)\r\n       at android.os.Parcel.writeArrayMapInternal(Parcel.java:644)\r\n       at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1313)\r\n       at android.os.Bundle.writeToParcel(Bundle.java:1034)\r\n       at android.os.Parcel.writeBundle(Parcel.java:669)\r\n       at android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3232)\r\n       at android.app.ActivityThread$StopInfo.run(ActivityThread.java:3653)\r\n       at android.os.Handler.handleCallback(Handler.java:815)\r\n       at android.os.Handler.dispatchMessage(Handler.java:104)\r\n       at android.os.Looper.loop(Looper.java:194)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5763)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\nCaused by java.io.NotSerializableException: com.wdullaer.materialdatetimepicker.date.DatePickerDialog\r\n       at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1344)\r\n       at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1651)\r\n       at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1497)\r\n       at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1461)\r\n       at java.io.ObjectOutputStream.writeFieldValues(ObjectOutputStream.java:959)\r\n       at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:360)\r\n       at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1054)\r\n       at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1384)\r\n       at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1651)\r\n       at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1497)\r\n       at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1461)\r\n       at android.os.Parcel.writeSerializable(Parcel.java:1389)\r\n       at android.os.Parcel.writeValue(Parcel.java:1341)\r\n       at android.os.Parcel.writeArrayMapInternal(Parcel.java:644)\r\n       at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1313)\r\n       at android.os.Bundle.writeToParcel(Bundle.java:1034)\r\n       at android.os.Parcel.writeBundle(Parcel.java:669)\r\n       at android.app.FragmentState.writeToParcel(Fragment.java:144)\r\n       at android.os.Parcel.writeTypedArray(Parcel.java:1197)\r\n       at android.app.FragmentManagerState.writeToParcel(FragmentManager.java:381)\r\n       at android.os.Parcel.writeParcelable(Parcel.java:1363)\r\n       at android.os.Parcel.writeValue(Parcel.java:1268)\r\n       at android.os.Parcel.writeArrayMapInternal(Parcel.java:644)\r\n       at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1313)\r\n       at android.os.Bundle.writeToParcel(Bundle.java:1034)\r\n       at android.os.Parcel.writeBundle(Parcel.java:669)\r\n       at android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3232)\r\n       at android.app.ActivityThread$StopInfo.run(ActivityThread.java:3653)\r\n       at android.os.Handler.handleCallback(Handler.java:815)\r\n       at android.os.Handler.dispatchMessage(Handler.java:104)\r\n       at android.os.Looper.loop(Looper.java:194)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5763)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```\r\n\r\nHere\u0027s my code:\r\n```\r\nfinal int year \u003d CALENDAR.get(Calendar.YEAR);\r\n                final int month \u003d CALENDAR.get(Calendar.MONTH);\r\n                final int date \u003d CALENDAR.get(Calendar.DATE);\r\n\r\n                final DatePickerDialog dialog \u003d DatePickerDialog.newInstance(new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePickerDialog view, int i, int i1, int i2) {\r\n                        CALENDAR.set(i, i1, i2);\r\n                        tanggal.setText(Helper.getReadableDate(CALENDAR));\r\n                    }\r\n                }, year, month, date);\r\n\r\n                dialog.setMinDate(Helper.getTomorrowDate());\r\n                dialog.show(getBaseActivity().getFragmentManager(), \"datepicker\");\r\n```",
    "keywords": [
      "date",
      "com",
      "os parcel",
      "handler",
      "year",
      "java:1313",
      "invoke",
      "main",
      "run",
      "lang reflect",
      "java:1034",
      "reflect",
      "java",
      "java:644",
      "app",
      "parcel",
      "android os",
      "writevalue",
      "method",
      "method invoke",
      "io",
      "writeobject",
      "0",
      "3",
      "month",
      "writetoparcelinner",
      "objectoutputstream",
      "final",
      "android app",
      ";",
      "writetoparcel",
      "internal",
      "android",
      "datepickerdialog",
      "looper",
      "dialog",
      "writearraymapinternal",
      "get",
      "io objectoutputstream",
      "lang",
      "bundle",
      "zygoteinit",
      "calendar",
      "java io",
      "os",
      "java:669",
      "int",
      "writebundle",
      "activitythread",
      "basebundle"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/wdullaer/MaterialDateTimePicker/commit/15124811ccdfbcb3a244e1b21a250c94e405b9a9",
      "files": [
        {
          "file_name": "README.md",
          "patch": "@@ -223,9 +223,14 @@ In the java `Calendar` class months use 0 based indexing: January is month 0, De\n \n ### How do I use my custom logic to enable/disable dates?\n `DatePickerDialog` exposes some utility methods to enable / disable dates for common scenario\u0027s. If your needs are not covered by these, you can supply a custom implementation of the `DateRangeLimiter` interface.\n+Because the `DateRangeLimiter` is preserved when the `Dialog` pauzes, your implementation must also implement `Parcelable`.\n \n ```java\n class MyDateRangeLimiter implements DateRangeLimiter {\n+  public MyDateRangeLimiter(Parcel in) {\n+\n+  }\n+\n   @Override\n   public int getMinYear() {\n     return 1900;\n@@ -263,6 +268,27 @@ class MyDateRangeLimiter implements DateRangeLimiter {\n   public Calendar setToNearestDate(Calendar day) {\n       return day;\n   }\n+\n+  @Override\n+  public void writeToParcel(Parcel out) {\n+\n+  }\n+\n+  @Override\n+  public int describeContents() {\n+    return 0;\n+  }\n+\n+  public static final Parcelable.Creator\u003cMyDateRangeLimiter\u003e CREATOR\n+        \u003d new Parcelable.Creator\u003cMyDateRangeLimiter\u003e() {\n+    public MyDateRangeLimiter createFromParcel(Parcel in) {\n+        return new MyDateRangeLimiter(in);\n+    }\n+\n+    public MyDateRangeLimiter[] newArray(int size) {\n+        return new MyDateRangeLimiter[size];\n+    }\n+  };\n }\n ```\n "
        },
        {
          "file_name": "library/src/main/java/com/wdullaer/materialdatetimepicker/date/DatePickerDialog.java",
          "patch": "@@ -96,7 +96,6 @@\n     private static final String KEY_VERSION \u003d \"version\";\n     private static final String KEY_TIMEZONE \u003d \"timezone\";\n     private static final String KEY_DATERANGELIMITER \u003d \"daterangelimiter\";\n-    private static final String KEY_DEFAULTDATERANGELIMITER \u003d \"defaultdaterangelimiter\";\n \n     private static final int ANIMATION_DURATION \u003d 300;\n     private static final int ANIMATION_DELAY \u003d 500;\n@@ -142,7 +141,7 @@\n     private int mCancelColor \u003d -1;\n     private Version mVersion;\n     private TimeZone mTimezone;\n-    private DefaultDateRangeLimiter mDefaultLimiter \u003d new DefaultDateRangeLimiter(this);\n+    private DefaultDateRangeLimiter mDefaultLimiter \u003d new DefaultDateRangeLimiter();\n     private DateRangeLimiter mDateRangeLimiter \u003d mDefaultLimiter;\n \n     private HapticFeedbackController mHapticFeedbackController;\n@@ -265,8 +264,7 @@ public void onSaveInstanceState(@NonNull Bundle outState) {\n         outState.putInt(KEY_CANCEL_COLOR, mCancelColor);\n         outState.putSerializable(KEY_VERSION, mVersion);\n         outState.putSerializable(KEY_TIMEZONE, mTimezone);\n-        outState.putSerializable(KEY_DATERANGELIMITER, mDateRangeLimiter);\n-        outState.putSerializable(KEY_DEFAULTDATERANGELIMITER, mDefaultLimiter);\n+        outState.putParcelable(KEY_DATERANGELIMITER, mDateRangeLimiter);\n     }\n \n     @Override\n@@ -297,10 +295,25 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,\n             mCancelColor \u003d savedInstanceState.getInt(KEY_CANCEL_COLOR);\n             mVersion \u003d (Version) savedInstanceState.getSerializable(KEY_VERSION);\n             mTimezone \u003d (TimeZone) savedInstanceState.getSerializable(KEY_TIMEZONE);\n-            mDateRangeLimiter \u003d (DateRangeLimiter) savedInstanceState.getSerializable(KEY_DATERANGELIMITER);\n-            mDefaultLimiter \u003d (DefaultDateRangeLimiter) savedInstanceState.getSerializable(KEY_DEFAULTDATERANGELIMITER);\n+            mDateRangeLimiter \u003d savedInstanceState.getParcelable(KEY_DATERANGELIMITER);\n+\n+            /*\n+            If the user supplied a custom limiter, we need to create a new default one to prevent\n+            null pointer exceptions on the configuration methods\n+            If the user did not supply a custom limiter we need to ensure both mDefaultLimiter\n+            and mDateRangeLimiter are the same reference, so that the config methods actually\n+            ffect the behaviour of the picker (in the unlikely event the user reconfigures\n+            the picker when it is shown)\n+             */\n+            if (mDateRangeLimiter instanceof DefaultDateRangeLimiter) {\n+                mDefaultLimiter \u003d (DefaultDateRangeLimiter) mDateRangeLimiter;\n+            } else {\n+                mDefaultLimiter \u003d new DefaultDateRangeLimiter();\n+            }\n         }\n \n+        mDefaultLimiter.setController(this);\n+\n         int viewRes \u003d mVersion \u003d\u003d Version.VERSION_1 ? R.layout.mdtp_date_picker_dialog : R.layout.mdtp_date_picker_dialog_v2;\n         View view \u003d inflater.inflate(viewRes, container, false);\n         // All options have been set at this point: round the initial selection if necessary"
        },
        {
          "file_name": "library/src/main/java/com/wdullaer/materialdatetimepicker/date/DateRangeLimiter.java",
          "patch": "@@ -16,11 +16,13 @@\n \n package com.wdullaer.materialdatetimepicker.date;\n \n+import android.os.Parcelable;\n+\n import java.io.Serializable;\n import java.util.Calendar;\n \n @SuppressWarnings(\"WeakerAccess\")\n-public interface DateRangeLimiter extends Serializable {\n+public interface DateRangeLimiter extends Parcelable {\n     int getMinYear();\n \n     int getMaxYear();"
        },
        {
          "file_name": "library/src/main/java/com/wdullaer/materialdatetimepicker/date/DefaultDateRangeLimiter.java",
          "patch": "@@ -16,6 +16,8 @@\n \n package com.wdullaer.materialdatetimepicker.date;\n \n+import android.os.Parcel;\n+import android.os.Parcelable;\n import android.support.annotation.NonNull;\n import android.support.annotation.Nullable;\n \n@@ -24,24 +26,59 @@\n import java.util.Arrays;\n import java.util.Calendar;\n import java.util.HashSet;\n+import java.util.TimeZone;\n import java.util.TreeSet;\n \n class DefaultDateRangeLimiter implements DateRangeLimiter {\n     private static final int DEFAULT_START_YEAR \u003d 1900;\n     private static final int DEFAULT_END_YEAR \u003d 2100;\n \n-    private DatePickerController mController;\n+    private transient DatePickerController mController;\n     private int mMinYear \u003d DEFAULT_START_YEAR;\n     private int mMaxYear \u003d DEFAULT_END_YEAR;\n     private Calendar mMinDate;\n     private Calendar mMaxDate;\n     private TreeSet\u003cCalendar\u003e selectableDays \u003d new TreeSet\u003c\u003e();\n     private HashSet\u003cCalendar\u003e disabledDays \u003d new HashSet\u003c\u003e();\n \n-    DefaultDateRangeLimiter(@NonNull DatePickerController controller) {\n-        mController \u003d controller;\n+    DefaultDateRangeLimiter() {}\n+\n+    @SuppressWarnings({\"unchecked\", \"WeakerAccess\"})\n+    public DefaultDateRangeLimiter(Parcel in) {\n+        mMinYear \u003d in.readInt();\n+        mMaxYear \u003d in.readInt();\n+        mMinDate \u003d (Calendar) in.readSerializable();\n+        mMaxDate \u003d (Calendar) in.readSerializable();\n+        selectableDays \u003d (TreeSet\u003cCalendar\u003e) in.readSerializable();\n+        disabledDays \u003d (HashSet\u003cCalendar\u003e) in.readSerializable();\n+    }\n+\n+    @Override\n+    public void writeToParcel(Parcel out, int flags) {\n+        out.writeInt(mMinYear);\n+        out.writeInt(mMaxYear);\n+        out.writeSerializable(mMinDate);\n+        out.writeSerializable(mMaxDate);\n+        out.writeSerializable(selectableDays);\n+        out.writeSerializable(disabledDays);\n+    }\n+\n+    @Override\n+    public int describeContents() {\n+        return 0;\n     }\n \n+    public static final Parcelable.Creator\u003cDefaultDateRangeLimiter\u003e CREATOR\n+            \u003d new Parcelable.Creator\u003cDefaultDateRangeLimiter\u003e() {\n+        public DefaultDateRangeLimiter createFromParcel(Parcel in) {\n+            return new DefaultDateRangeLimiter(in);\n+        }\n+\n+        public DefaultDateRangeLimiter[] newArray(int size) {\n+            return new DefaultDateRangeLimiter[size];\n+        }\n+    };\n+\n     void setSelectableDays(@NonNull Calendar[] days) {\n         for (Calendar selectableDay : days) Utils.trimToMidnight(selectableDay);\n         this.selectableDays.addAll(Arrays.asList(days));\n@@ -60,6 +97,10 @@ void setMaxDate(@NonNull Calendar calendar) {\n         mMaxDate \u003d Utils.trimToMidnight((Calendar) calendar.clone());\n     }\n \n+    void setController(@NonNull DatePickerController controller) {\n+        mController \u003d controller;\n+    }\n+\n     void setYearRange(int startYear, int endYear) {\n         if (endYear \u003c startYear) {\n             throw new IllegalArgumentException(\"Year end must be larger than or equal to year start\");\n@@ -103,7 +144,8 @@ public int getMaxYear() {\n     public @NonNull Calendar getStartDate() {\n         if (!selectableDays.isEmpty()) return (Calendar) selectableDays.first().clone();\n         if (mMinDate !\u003d null) return (Calendar) mMinDate.clone();\n-        Calendar output \u003d Calendar.getInstance(mController.getTimeZone());\n+        TimeZone timeZone \u003d mController \u003d\u003d null ? TimeZone.getDefault() : mController.getTimeZone();\n+        Calendar output \u003d Calendar.getInstance(timeZone);\n         output.set(Calendar.YEAR, mMinYear);\n         output.set(Calendar.DAY_OF_MONTH, 1);\n         output.set(Calendar.MONTH, Calendar.JANUARY);\n@@ -114,7 +156,8 @@ public int getMaxYear() {\n     public @NonNull Calendar getEndDate() {\n         if (!selectableDays.isEmpty()) return (Calendar) selectableDays.last().clone();\n         if (mMaxDate !\u003d null) return (Calendar) mMaxDate.clone();\n-        Calendar output \u003d Calendar.getInstance(mController.getTimeZone());\n+        TimeZone timeZone \u003d mController \u003d\u003d null ? TimeZone.getDefault() : mController.getTimeZone();\n+        Calendar output \u003d Calendar.getInstance(timeZone);\n         output.set(Calendar.YEAR, mMaxYear);\n         output.set(Calendar.DAY_OF_MONTH, 31);\n         output.set(Calendar.MONTH, Calendar.DECEMBER);\n@@ -167,7 +210,8 @@ private boolean isAfterMax(@NonNull Calendar calendar) {\n \n             if (newCalendar !\u003d null || higher \u003d\u003d null) {\n                 newCalendar \u003d newCalendar \u003d\u003d null ? calendar : newCalendar;\n-                newCalendar.setTimeZone(mController.getTimeZone());\n+                TimeZone timeZone \u003d mController \u003d\u003d null ? TimeZone.getDefault() : mController.getTimeZone();\n+                newCalendar.setTimeZone(timeZone);\n                 return (Calendar) newCalendar.clone();\n             }\n "
        },
        {
          "file_name": "library/src/test/java/com/wdullaer/materialdatetimepicker/date/DefaultDateRangeLimiterPropertyTest.java",
          "patch": "@@ -108,7 +108,7 @@ public void setToNearestShouldBeInSelectableDays(\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date date,\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date[] dates\n     ) {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n \n         Calendar day \u003d Calendar.getInstance();\n         day.setTime(date);\n@@ -128,7 +128,7 @@ public void setToNearestShouldNeverBeInDisabledDays(\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date date,\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date[] dates\n     ) {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n \n         Calendar day \u003d Calendar.getInstance();\n         day.setTime(date);\n@@ -144,7 +144,7 @@ public void setToNearestShouldNeverBeBelowMinDate(\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date date,\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date minDate\n     ) {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n \n         Calendar day \u003d Calendar.getInstance();\n         day.setTime(date);\n@@ -161,7 +161,7 @@ public void setToNearestShouldNeverBeAboveMaxDate(\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date date,\n             @InRange(min \u003d \"01/01/1800\", max \u003d \"12/31/2099\", format \u003d \"MM/dd/yyyy\") Date maxDate\n     ) {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n \n         Calendar day \u003d Calendar.getInstance();\n         day.setTime(date);"
        },
        {
          "file_name": "library/src/test/java/com/wdullaer/materialdatetimepicker/date/DefaultDateRangeLimiterTest.java",
          "patch": "@@ -91,7 +91,7 @@ public TimeZone getTimeZone() {\n     // getters\n     @Test\n     public void getSelectableDaysShouldHaveDatesTrimmedToMidnight() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0;i \u003c days.length; i++) {\n             Calendar day \u003d Calendar.getInstance();\n@@ -118,7 +118,7 @@ public void getSelectableDaysShouldHaveDatesTrimmedToMidnight() {\n \n     @Test\n     public void getDisabledDaysShouldHaveDatesTrimmedToMidnight() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0;i \u003c days.length; i++) {\n             Calendar day \u003d Calendar.getInstance();\n@@ -145,7 +145,7 @@ public void getDisabledDaysShouldHaveDatesTrimmedToMidnight() {\n \n     @Test\n     public void getMinDateShouldHaveDateTrimmedToMidnight() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n         day.set(Calendar.HOUR_OF_DAY, 2);\n@@ -165,7 +165,7 @@ public void getMinDateShouldHaveDateTrimmedToMidnight() {\n \n     @Test\n     public void getMaxDateShouldHaveDateTrimmedToMidnight() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n         day.set(Calendar.HOUR_OF_DAY, 2);\n@@ -186,7 +186,7 @@ public void getMaxDateShouldHaveDateTrimmedToMidnight() {\n     // getStartDate()\n     @Test\n     public void getStartDateShouldReturnFirstSelectableDay() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0; i \u003c days.length; i++) {\n             days[i] \u003d Calendar.getInstance();\n@@ -200,7 +200,19 @@ public void getStartDateShouldReturnFirstSelectableDay() {\n \n     @Test\n     public void getStartDateShouldReturnMinDate() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n+        Calendar minDate \u003d Calendar.getInstance();\n+\n+        limiter.setMinDate(minDate);\n+        minDate \u003d Utils.trimToMidnight(minDate);\n+\n+        Assert.assertEquals(limiter.getStartDate().getTimeInMillis(), minDate.getTimeInMillis());\n+    }\n+\n+    @Test\n+    public void getStartDateShouldReturnMinDateWhenAControllerIsSet() {\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n+        limiter.setController(controller);\n         Calendar minDate \u003d Calendar.getInstance();\n \n         limiter.setMinDate(minDate);\n@@ -211,7 +223,7 @@ public void getStartDateShouldReturnMinDate() {\n \n     @Test\n     public void getStartDateShouldPreferSelectableOverMinDate() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0; i \u003c days.length; i++) {\n             days[i] \u003d Calendar.getInstance();\n@@ -228,7 +240,7 @@ public void getStartDateShouldPreferSelectableOverMinDate() {\n     // getEndDate()\n     @Test\n     public void getEndDateShouldReturnLastSelectableDay() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0; i \u003c days.length; i++) {\n             days[i] \u003d Calendar.getInstance();\n@@ -242,7 +254,19 @@ public void getEndDateShouldReturnLastSelectableDay() {\n \n     @Test\n     public void getEndDateShouldReturnMaxDate() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n+        Calendar maxDate \u003d Calendar.getInstance();\n+\n+        limiter.setMaxDate(maxDate);\n+        maxDate \u003d Utils.trimToMidnight(maxDate);\n+\n+        Assert.assertEquals(limiter.getEndDate().getTimeInMillis(), maxDate.getTimeInMillis());\n+    }\n+\n+    @Test\n+    public void getEndDateShouldReturnMaxDateWhenAControllerIsSet() {\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n+        limiter.setController(controller);\n         Calendar maxDate \u003d Calendar.getInstance();\n \n         limiter.setMaxDate(maxDate);\n@@ -253,7 +277,7 @@ public void getEndDateShouldReturnMaxDate() {\n \n     @Test\n     public void getEndDateShouldPreferSelectableOverMaxDate() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0; i \u003c days.length; i++) {\n             days[i] \u003d Calendar.getInstance();\n@@ -270,7 +294,7 @@ public void getEndDateShouldPreferSelectableOverMaxDate() {\n     // isOutOfRange()\n     @Test\n     public void isOutOfRangeShouldReturnTrueForDisabledDates() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[1];\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n@@ -286,7 +310,7 @@ public void isOutOfRangeShouldReturnTrueForDisabledDates() {\n \n     @Test\n     public void isOutOfRangeShouldReturnFalseForEnabledDates() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[1];\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n@@ -302,7 +326,7 @@ public void isOutOfRangeShouldReturnFalseForEnabledDates() {\n \n     @Test\n     public void isOutOfRangeShouldReturnTrueIfDateIsBeforeMin() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n \n@@ -317,7 +341,7 @@ public void isOutOfRangeShouldReturnTrueIfDateIsBeforeMin() {\n \n     @Test\n     public void isOutOfRangeShouldReturnTrueIfDateIsBeforeMinYear() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         int minYear \u003d 1999;\n \n         limiter.setYearRange(minYear, minYear + 1);\n@@ -333,7 +357,7 @@ public void isOutOfRangeShouldReturnTrueIfDateIsBeforeMinYear() {\n \n     @Test\n     public void isOutOfRangeShouldReturnTrueIfDateIsAfterMax() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n \n@@ -348,7 +372,7 @@ public void isOutOfRangeShouldReturnTrueIfDateIsAfterMax() {\n \n     @Test\n     public void isOutOfRangeShouldReturnTrueIfDateIsAfterMaxYear() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         int maxYear \u003d 1999;\n \n         limiter.setYearRange(maxYear - 1, maxYear);\n@@ -364,7 +388,7 @@ public void isOutOfRangeShouldReturnTrueIfDateIsAfterMaxYear() {\n \n     @Test\n     public void isOutOfRangeShouldPreferDisabledOverEnabled() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[1];\n         Calendar day \u003d Calendar.getInstance();\n         day.set(Calendar.YEAR, 1999);\n@@ -382,7 +406,7 @@ public void isOutOfRangeShouldPreferDisabledOverEnabled() {\n     // setToNearestDate()\n     @Test\n     public void setToNearestShouldReturnTheInputWhenValid() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar day \u003d Calendar.getInstance();\n         Calendar expected \u003d (Calendar) day.clone();\n \n@@ -391,7 +415,7 @@ public void setToNearestShouldReturnTheInputWhenValid() {\n \n     @Test\n     public void setToNearestShouldRoundDisabledDates() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0;i \u003c days.length; i++) {\n             Calendar day \u003d Calendar.getInstance();\n@@ -411,7 +435,7 @@ public void setToNearestShouldRoundDisabledDates() {\n \n     @Test\n     public void setToNearestShouldRoundToMinDate() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar minDate \u003d Calendar.getInstance();\n         minDate.set(Calendar.YEAR, 1999);\n \n@@ -428,7 +452,7 @@ public void setToNearestShouldRoundToMinDate() {\n \n     @Test\n     public void setToNearestShouldRoundToMaxDate() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n         Calendar maxDate \u003d Calendar.getInstance();\n         maxDate.set(Calendar.YEAR, 1999);\n \n@@ -445,7 +469,28 @@ public void setToNearestShouldRoundToMaxDate() {\n \n     @Test\n     public void setToNearestShouldRoundToASelectableDay() {\n-        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter(controller);\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n+        Calendar[] days \u003d new Calendar[3];\n+        for (int i \u003d 0;i \u003c days.length; i++) {\n+            Calendar day \u003d Calendar.getInstance();\n+            day.set(Calendar.YEAR, 1999 + i);\n+            day.set(Calendar.HOUR_OF_DAY, 2);\n+            day.set(Calendar.MINUTE, 10);\n+            day.set(Calendar.SECOND, 30);\n+            day.set(Calendar.MILLISECOND, 25);\n+            days[i] \u003d day;\n+        }\n+\n+        limiter.setSelectableDays(days);\n+        Calendar day \u003d Calendar.getInstance();\n+\n+        Assert.assertTrue(Arrays.asList(days).contains(limiter.setToNearestDate(day)));\n+    }\n+\n+    @Test\n+    public void setToNearestShouldRoundToASelectableDayWhenAControllerIsSet() {\n+        DefaultDateRangeLimiter limiter \u003d new DefaultDateRangeLimiter();\n+        limiter.setController(controller);\n         Calendar[] days \u003d new Calendar[3];\n         for (int i \u003d 0;i \u003c days.length; i++) {\n             Calendar day \u003d Calendar.getInstance();"
        }
      ]
    }
  },
  {
    "name": "Crash",
    "url": "https://github.com/realmar/DHCPv6-Client-Android/issues/7",
    "description": "```\r\n05-12 02:39:17.596  1494  1494 D AndroidRuntime: Shutting down VM\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: FATAL EXCEPTION: main\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: Process: org.daduke.realmar.dhcpv6client, PID: 1494\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.View android.view.View.findViewById(int)\u0027 on a null object reference\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat org.daduke.realmar.dhcpv6client.MainFragment.get_ip_addresses(MainFragment.java:87)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat org.daduke.realmar.dhcpv6client.MainFragment$2.onReceive(MainFragment.java:78)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat android.support.v4.content.LocalBroadcastManager.executePendingBroadcasts(LocalBroadcastManager.java:297)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat android.support.v4.content.LocalBroadcastManager.access$000(LocalBroadcastManager.java:46)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat android.support.v4.content.LocalBroadcastManager$1.handleMessage(LocalBroadcastManager.java:116)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:154)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6178)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\r\n05-12 02:39:17.597  1494  1494 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\r\n```",
    "keywords": [
      "daduke",
      "android",
      "android support",
      "main",
      "v4 content",
      "02:39:17 597",
      "content",
      "1494 1494",
      "02:39:17",
      "view",
      "597",
      "05-12",
      "1494 e",
      "zygoteinit",
      "os",
      "method",
      "org",
      "e",
      "1494",
      "realmar",
      "androidruntime",
      "localbroadcastmanager",
      "dhcpv6client",
      "05-12 02:39:17",
      "e androidruntime",
      "mainfragment",
      "support",
      "597 1494",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/realmar/DHCPv6-Client-Android/commit/db6b261cb53a4cc61822a23273414a5811fafcec",
      "files": [
        {
          "file_name": ".idea/.name",
          "patch": "@@ -1 +0,0 @@\n-Dv6\n\\ No newline at end of file"
        },
        {
          "file_name": ".idea/gradle.xml",
          "patch": "@@ -12,12 +12,7 @@\n             \u003coption value\u003d\"$PROJECT_DIR$/app\" /\u003e\n           \u003c/set\u003e\n         \u003c/option\u003e\n-        \u003coption name\u003d\"myModules\"\u003e\n-          \u003cset\u003e\n-            \u003coption value\u003d\"$PROJECT_DIR$\" /\u003e\n-            \u003coption value\u003d\"$PROJECT_DIR$/app\" /\u003e\n-          \u003c/set\u003e\n-        \u003c/option\u003e\n+        \u003coption name\u003d\"resolveModulePerSourceSet\" value\u003d\"false\" /\u003e\n       \u003c/GradleProjectSettings\u003e\n     \u003c/option\u003e\n   \u003c/component\u003e"
        },
        {
          "file_name": ".idea/misc.xml",
          "patch": "@@ -1,5 +1,8 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n \u003cproject version\u003d\"4\"\u003e\n+  \u003ccomponent name\u003d\"EntryPointsManager\"\u003e\n+    \u003centry_points version\u003d\"2.0\" /\u003e\n+  \u003c/component\u003e\n   \u003ccomponent name\u003d\"NullableNotNullManager\"\u003e\n     \u003coption name\u003d\"myDefaultNullable\" value\u003d\"android.support.annotation.Nullable\" /\u003e\n     \u003coption name\u003d\"myDefaultNotNull\" value\u003d\"android.support.annotation.NonNull\" /\u003e\n@@ -34,7 +37,7 @@\n     \u003cConfirmationsSetting value\u003d\"0\" id\u003d\"Add\" /\u003e\n     \u003cConfirmationsSetting value\u003d\"0\" id\u003d\"Remove\" /\u003e\n   \u003c/component\u003e\n-  \u003ccomponent name\u003d\"ProjectRootManager\" version\u003d\"2\" languageLevel\u003d\"JDK_1_7\" default\u003d\"true\" assert-keyword\u003d\"true\" jdk-15\u003d\"true\" project-jdk-name\u003d\"1.8\" project-jdk-type\u003d\"JavaSDK\"\u003e\n+  \u003ccomponent name\u003d\"ProjectRootManager\" version\u003d\"2\" languageLevel\u003d\"JDK_1_7\" default\u003d\"true\" assert-keyword\u003d\"true\" jdk-15\u003d\"true\" project-jdk-name\u003d\"JDK\" project-jdk-type\u003d\"JavaSDK\"\u003e\n     \u003coutput url\u003d\"file://$PROJECT_DIR$/build/classes\" /\u003e\n   \u003c/component\u003e\n   \u003ccomponent name\u003d\"ProjectType\"\u003e"
        },
        {
          "file_name": ".idea/modules.xml",
          "patch": "@@ -2,7 +2,7 @@\n \u003cproject version\u003d\"4\"\u003e\n   \u003ccomponent name\u003d\"ProjectModuleManager\"\u003e\n     \u003cmodules\u003e\n-      \u003cmodule fileurl\u003d\"file://$PROJECT_DIR$/Dv6.iml\" filepath\u003d\"$PROJECT_DIR$/Dv6.iml\" /\u003e\n+      \u003cmodule fileurl\u003d\"file://$PROJECT_DIR$/DHCPv6-Client-Android.iml\" filepath\u003d\"$PROJECT_DIR$/DHCPv6-Client-Android.iml\" /\u003e\n       \u003cmodule fileurl\u003d\"file://$PROJECT_DIR$/app/app.iml\" filepath\u003d\"$PROJECT_DIR$/app/app.iml\" /\u003e\n     \u003c/modules\u003e\n   \u003c/component\u003e"
        },
        {
          "file_name": "DHCPv6-Client-Android.iml",
          "patch": "@@ -1,5 +1,5 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n-\u003cmodule external.linked.project.id\u003d\"Dv6\" external.linked.project.path\u003d\"$MODULE_DIR$\" external.root.project.path\u003d\"$MODULE_DIR$\" external.system.id\u003d\"GRADLE\" external.system.module.group\u003d\"\" external.system.module.version\u003d\"unspecified\" type\u003d\"JAVA_MODULE\" version\u003d\"4\"\u003e\n+\u003cmodule external.linked.project.id\u003d\"DHCPv6-Client-Android\" external.linked.project.path\u003d\"$MODULE_DIR$\" external.root.project.path\u003d\"$MODULE_DIR$\" external.system.id\u003d\"GRADLE\" type\u003d\"JAVA_MODULE\" version\u003d\"4\"\u003e\n   \u003ccomponent name\u003d\"FacetManager\"\u003e\n     \u003cfacet type\u003d\"java-gradle\" name\u003d\"Java-Gradle\"\u003e\n       \u003cconfiguration\u003e\n@@ -13,7 +13,7 @@\n     \u003ccontent url\u003d\"file://$MODULE_DIR$\"\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/.gradle\" /\u003e\n     \u003c/content\u003e\n-    \u003corderEntry type\u003d\"inheritedJdk\" /\u003e\n+    \u003corderEntry type\u003d\"jdk\" jdkName\u003d\"JDK\" jdkType\u003d\"JavaSDK\" /\u003e\n     \u003corderEntry type\u003d\"sourceFolder\" forTests\u003d\"false\" /\u003e\n   \u003c/component\u003e\n \u003c/module\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "app/app.iml",
          "patch": "@@ -9,7 +9,6 @@\n     \u003cfacet type\u003d\"android\" name\u003d\"Android\"\u003e\n       \u003cconfiguration\u003e\n         \u003coption name\u003d\"SELECTED_BUILD_VARIANT\" value\u003d\"debug\" /\u003e\n-        \u003coption name\u003d\"SELECTED_TEST_ARTIFACT\" value\u003d\"_android_test_\" /\u003e\n         \u003coption name\u003d\"ASSEMBLE_TASK_NAME\" value\u003d\"assembleDebug\" /\u003e\n         \u003coption name\u003d\"COMPILE_JAVA_TASK_NAME\" value\u003d\"compileDebugSources\" /\u003e\n         \u003cafterSyncTasks\u003e\n@@ -32,68 +31,61 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/aidl/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/buildConfig/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/rs/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/apt/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/rs/debug\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/resValues/debug\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/r/androidTest/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/aidl/androidTest/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/buildConfig/androidTest/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/rs/androidTest/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/apt/androidTest/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/rs/androidTest/debug\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/resValues/androidTest/debug\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/res\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/resources\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/assets\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/aidl\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/java\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/jni\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/rs\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/shaders\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/assets\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/aidl\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testDebug/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/res\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/resources\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/assets\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/aidl\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/java\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/jni\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/rs\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/shaders\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/assets\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/aidl\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/assets\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/blame\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/bundles\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/builds\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/classes\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/dependency-cache\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.android.support/appcompat-v7/23.0.0/jars\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.android.support/design/23.0.0/jars\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.android.support/support-v4/23.0.0/jars\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/eu.chainfire/libsuperuser/1.0.0.201602271131/jars\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-classes\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-runtime-classes\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-safeguard\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-verifier\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/instant-run-resources\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/instant-run-support\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/jniLibs\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/manifests\" /\u003e\n@@ -103,6 +95,7 @@\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/restart-dex\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/rs\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/shaders\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/split-apk\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/symbols\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/transforms\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/outputs\" /\u003e\n@@ -111,8 +104,8 @@\n     \u003corderEntry type\u003d\"jdk\" jdkName\u003d\"Android API 23 Platform\" jdkType\u003d\"Android SDK\" /\u003e\n     \u003corderEntry type\u003d\"sourceFolder\" forTests\u003d\"false\" /\u003e\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"appcompat-v7-23.0.0\" level\u003d\"project\" /\u003e\n-    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"libsuperuser-1.0.0.201602271131\" level\u003d\"project\" /\u003e\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"systembartint-1.0.4\" level\u003d\"project\" /\u003e\n+    \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"libsuperuser-1.0.0.201704021214\" level\u003d\"project\" /\u003e\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"support-v4-23.0.0\" level\u003d\"project\" /\u003e\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"design-23.0.0\" level\u003d\"project\" /\u003e\n     \u003corderEntry type\u003d\"library\" exported\u003d\"\" name\u003d\"support-annotations-23.0.0\" level\u003d\"project\" /\u003e"
        },
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -2,7 +2,7 @@ apply plugin: \u0027com.android.application\u0027\n \n android {\n     compileSdkVersion 23\n-    buildToolsVersion \"23.0.0\"\n+    buildToolsVersion \u002725.0.0\u0027\n \n     defaultConfig {\n         applicationId \"org.daduke.realmar.dhcpv6client\""
        },
        {
          "file_name": "app/src/main/java/org/daduke/realmar/dhcpv6client/MainFragment.java",
          "patch": "@@ -23,7 +23,6 @@\n  * Created by Anastassios Martakos on 8/24/15.\n  */\n public class MainFragment extends Fragment {\n-    private Button refresh_button;\n     private BroadcastReceiver resultReceiver;\n \n     @Override\n@@ -34,18 +33,10 @@ public void onCreate(Bundle savedInstanceState) {\n     }\n \n     @Override\n-    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n-                             Bundle savedInstanceState) {\n-        // Inflate the layout for this fragment\n-        return inflater.inflate(R.layout.main_fragment, container, false);\n-    }\n-\n-    @Override\n-    public void onStart() {\n-        super.onStart();\n-\n-        refresh_button \u003d (Button) getView().findViewById(R.id.button_refresh);\n+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n+        View view \u003d inflater.inflate(R.layout.main_fragment, container, false);\n \n+        Button refresh_button \u003d (Button) view.findViewById(R.id.button_refresh);\n         refresh_button.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View view) {\n@@ -54,6 +45,8 @@ public void onClick(View view) {\n         });\n \n         get_ip_addresses();\n+\n+        return view;\n     }\n \n     @Override\n@@ -74,7 +67,7 @@ private BroadcastReceiver createBroadcastReceiver() {\n         return new BroadcastReceiver() {\n             @Override\n             public void onReceive(Context context, Intent intent) {\n-                if(intent.getStringExtra(\"refresh_ips\") \u003d\u003d \"refresh_ips\") {\n+                if(intent.getStringExtra(\"refresh_ips\").equals(\"refresh_ips\")) {\n                     get_ip_addresses();\n                 }\n             }\n@@ -84,7 +77,11 @@ public void onReceive(Context context, Intent intent) {\n     public void get_ip_addresses() {\n         ArrayList[] ips \u003d Misc.get_ips();\n \n-        final ListView list_view \u003d (ListView) getView().findViewById(R.id.ip_addresses);\n+        View v \u003d getView();\n+        if(v \u003d\u003d null)\n+            return;\n+\n+        final ListView list_view \u003d (ListView)v.findViewById(R.id.ip_addresses);\n \n         ArrayList\u003cObject\u003e ip_collection \u003d new ArrayList\u003c\u003e();\n "
        },
        {
          "file_name": "app/src/main/res/layout/main_fragment.xml",
          "patch": "@@ -32,11 +32,12 @@\n             android:layout_height\u003d\"match_parent\"\u003e\n \n             \u003cButton\n+                android:id\u003d\"@+id/button_refresh\"\n                 android:layout_width\u003d\"wrap_content\"\n                 android:layout_height\u003d\"wrap_content\"\n-                android:text\u003d\"@string/button_refresh\"\n-                android:id\u003d\"@+id/button_refresh\"\n-                android:layout_centerHorizontal\u003d\"true\" /\u003e\n+                android:layout_centerHorizontal\u003d\"true\"\n+                android:elevation\u003d\"0dp\"\n+                android:text\u003d\"@string/button_refresh\" /\u003e\n \n         \u003c/RelativeLayout\u003e\n "
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -5,7 +5,7 @@ buildscript {\n         jcenter()\n     }\n     dependencies {\n-        classpath \u0027com.android.tools.build:gradle:2.1.0\u0027\n+        classpath \u0027com.android.tools.build:gradle:2.3.2\u0027\n \n         // NOTE: Do not place your application dependencies here; they belong\n         // in the individual module build.gradle files"
        },
        {
          "file_name": "gradle/wrapper/gradle-wrapper.properties",
          "patch": "@@ -1,6 +1,6 @@\n-#Tue May 17 12:38:59 CEST 2016\n+#Fri May 12 19:46:22 CEST 2017\n distributionBase\u003dGRADLE_USER_HOME\n distributionPath\u003dwrapper/dists\n zipStoreBase\u003dGRADLE_USER_HOME\n zipStorePath\u003dwrapper/dists\n-distributionUrl\u003dhttps\\://services.gradle.org/distributions/gradle-2.10-all.zip\n+distributionUrl\u003dhttps\\://services.gradle.org/distributions/gradle-3.3-all.zip"
        }
      ]
    }
  },
  {
    "name": "token null is not valid",
    "url": "https://github.com/douglasjunior/android-simple-tooltip/issues/9",
    "description": "Seeing the following issue:\n\nFatal Exception: `android.view.WindowManager$BadTokenException\nUnable to add window -- token null is not valid; is your activity running?`\n\nWith the stack trace:\n\n``` java\nandroid.view.ViewRootImpl.setView (ViewRootImpl.java:576)\nandroid.widget.PopupWindow.showAtLocation (PopupWindow.java:861)\nio.github.douglasjunior.androidSimpleTooltip.SimpleTooltip$1.run (SimpleTooltip.java:166)\nandroid.os.Handler.handleCallback (Handler.java:739)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:703)\n```\n\nI suspect it may be something hitting when the app is interrupted and/or closed while in the process of spawning the tooltip, but I haven\u0027t had time to investigate yet. Thought I\u0027d mention it, though.\n\nThis is with the latest version.\n",
    "keywords": [
      "android"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/douglasjunior/android-simple-tooltip/commit/f809d7324c8b83225443acba664741d8b5a051f8",
      "files": [
        {
          "file_name": "library/src/main/java/io/github/douglasjunior/androidSimpleTooltip/SimpleTooltip.java",
          "patch": "@@ -42,6 +42,7 @@\n import android.support.annotation.IdRes;\n import android.support.annotation.LayoutRes;\n import android.support.annotation.StringRes;\n+import android.util.Log;\n import android.view.Gravity;\n import android.view.LayoutInflater;\n import android.view.MotionEvent;\n@@ -65,6 +66,8 @@\n @SuppressWarnings(\"SameParameterValue\")\n public class SimpleTooltip implements PopupWindow.OnDismissListener {\n \n+    private static final String TAG \u003d SimpleTooltip.class.getSimpleName();\n+\n     // Default Resources\n     private static final int mDefaultPopupWindowStyleRes \u003d android.R.attr.popupWindowStyle;\n     private static final int mDefaultTextAppearanceRes \u003d R.style.simpletooltip_default;\n@@ -164,7 +167,10 @@ public void show() {\n         mRootView.post(new Runnable() {\n             @Override\n             public void run() {\n-                mPopupWindow.showAtLocation(mRootView, Gravity.NO_GRAVITY, mRootView.getWidth(), mRootView.getHeight());\n+                if (mRootView.isShown())\n+                    mPopupWindow.showAtLocation(mRootView, Gravity.NO_GRAVITY, mRootView.getWidth(), mRootView.getHeight());\n+                else\n+                    Log.e(TAG, \"Tooltip cannot be shown, root view is invalid or has been closed.\");\n             }\n         });\n     }"
        }
      ]
    }
  },
  {
    "name": "java.lang.IllegalArgumentException",
    "url": "https://github.com/SecUSo/privacy-friendly-sudoku/issues/32",
    "description": "`\r\njava.lang.RuntimeException: \r\n  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:4226)\r\n  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4328)\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3427)\r\n  at android.app.ActivityThread.access$1100(ActivityThread.java:229)\r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1821)\r\n  at android.os.Handler.dispatchMessage(Handler.java:102)\r\n  at android.os.Looper.loop(Looper.java:148)\r\n  at android.app.ActivityThread.main(ActivityThread.java:7407)\r\n  at java.lang.reflect.Method.invoke(Native Method:0)\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\nCaused by: java.lang.IllegalArgumentException: \r\n  at java.lang.Enum.valueOf(Enum.java:200)\r\n  at org.secuso.privacyfriendlysudoku.ui.GameActivity.onResume(GameActivity.java:250)\r\n  at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1287)\r\n  at android.app.Activity.performResume(Activity.java:7015)\r\n  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:4215)\r\n`",
    "keywords": [
      "app",
      "activitythread",
      "java",
      "os",
      "android",
      "android app",
      "lang",
      "java lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/SecUSo/privacy-friendly-sudoku/commit/84995affe50e1833e89584bf449191b7bacd52e8",
      "files": [
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/ui/GameActivity.java",
          "patch": "@@ -27,6 +27,7 @@\n import android.widget.LinearLayout;\n import android.widget.RatingBar;\n import android.widget.TextView;\n+import android.widget.Toast;\n \n import org.secuso.privacyfriendlysudoku.controller.GameController;\n import org.secuso.privacyfriendlysudoku.controller.GameStateManager;\n@@ -45,6 +46,7 @@\n import org.secuso.privacyfriendlysudoku.ui.view.SudokuSpecialButtonLayout;\n import org.secuso.privacyfriendlysudoku.ui.view.WinDialog;\n \n+import java.util.IllegalFormatCodePointException;\n import java.util.LinkedList;\n import java.util.List;\n import java.util.concurrent.RunnableFuture;\n@@ -244,7 +246,12 @@ public void run() {\n         }\n \n         SharedPreferences sharedPref \u003d PreferenceManager.getDefaultSharedPreferences(this);\n-        Symbol s \u003d Symbol.valueOf(Symbol.class, sharedPref.getString(\"pref_symbols\", \"Default\"));\n+        Symbol s;\n+        try {\n+            s \u003d Symbol.valueOf(sharedPref.getString(\"pref_symbols\", Symbol.Default.name()));\n+        } catch(IllegalArgumentException e) {\n+            s \u003d Symbol.Default;\n+        }\n         layout.setSymbols(s);\n         keyboard.setSymbols(s);\n     }"
        },
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/ui/MainActivity.java",
          "patch": "@@ -41,6 +41,8 @@\n import java.util.LinkedList;\n import java.util.List;\n \n+import static org.secuso.privacyfriendlysudoku.ui.TutorialActivity.ACTION_SHOW_ANYWAYS;\n+\n public class MainActivity extends BaseActivity implements NavigationView.OnNavigationItemSelectedListener{\n \n     RatingBar difficultyBar;\n@@ -326,6 +328,14 @@ private boolean goToNavigationItem(int id) {\n                 startActivity(intent);\n                 overridePendingTransition(0, 0);\n                 break;\n+\n+            case R.id.menu_tutorial_main:\n+                intent \u003d new Intent(this, TutorialActivity.class);\n+                intent.setAction(ACTION_SHOW_ANYWAYS);\n+                startActivity(intent);\n+                overridePendingTransition(0, 0);\n+                break;\n+\n             default:\n         }\n         return true;"
        },
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/ui/TutorialActivity.java",
          "patch": "@@ -29,6 +29,9 @@\n \n public class TutorialActivity extends AppCompatActivity {\n \n+    private static final String TAG \u003d TutorialActivity.class.getSimpleName();\n+    public static final String ACTION_SHOW_ANYWAYS \u003d TAG + \".ACTION_SHOW_ANYWAYS\";\n+\n     private ViewPager viewPager;\n     private MyViewPagerAdapter myViewPagerAdapter;\n     private LinearLayout dotsLayout;\n@@ -41,11 +44,15 @@\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n \n-        // Checking for first time launch - before calling setContentView()\n         prefManager \u003d new PrefManager(this);\n-        if (!prefManager.isFirstTimeLaunch()) {\n-            launchHomeScreen();\n-            finish();\n+\n+        Intent i \u003d getIntent();\n+        if(i \u003d\u003d null || !ACTION_SHOW_ANYWAYS.equals(i.getAction())) {\n+            // Checking for first time launch - before calling setContentView()\n+            if (!prefManager.isFirstTimeLaunch()) {\n+                launchHomeScreen();\n+                return;\n+            }\n         }\n \n         // Making notification bar transparent\n@@ -126,7 +133,10 @@ private int getItem(int i) {\n \n     private void launchHomeScreen() {\n         prefManager.setFirstTimeLaunch(false);\n-        startActivity(new Intent(TutorialActivity.this, MainActivity.class));\n+        Intent intent \u003d new Intent(TutorialActivity.this, MainActivity.class);\n+        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n+        //intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n+        startActivity(intent);\n         finish();\n     }\n "
        },
        {
          "file_name": "app/src/main/res/drawable/ic_school_black_24dp.xml",
          "patch": "@@ -0,0 +1,10 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\n+\u003cvector xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+    android:width\u003d\"24dp\"\n+    android:height\u003d\"24dp\"\n+    android:viewportWidth\u003d\"24.0\"\n+    android:viewportHeight\u003d\"24.0\"\u003e\n+    \u003cpath\n+        android:fillColor\u003d\"#FF000000\"\n+        android:pathData\u003d\"M5,13.18v4L12,21l7,-3.82v-4L12,17l-7,-3.82zM12,3L1,9l11,6 9,-4.91V17h2V9L12,3z\"/\u003e\n+\u003c/vector\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "app/src/main/res/menu/menu_drawer.xml",
          "patch": "@@ -4,7 +4,7 @@\n         android:title\u003d\"@string/menu_reset\" /\u003e\n \n     \u003cgroup android:id\u003d\"@+id/group4\"\u003e\n-        \u003citem android:id\u003d\"@+id/nav_newgame\" android:icon\u003d\"@android:drawable/ic_menu_today\"\n+        \u003citem android:id\u003d\"@+id/nav_newgame\" android:icon\u003d\"@drawable/ic_menu_home\"\n             android:title\u003d\"@string/menu_main\" /\u003e\n         \u003citem android:id\u003d\"@+id/nav_highscore\" android:icon\u003d\"@android:drawable/ic_menu_myplaces\"\n             android:title\u003d\"@string/menu_highscore\" /\u003e"
        },
        {
          "file_name": "app/src/main/res/menu/menu_drawer_main.xml",
          "patch": "@@ -13,6 +13,8 @@\n         android:checkableBehavior\u003d\"all\"\u003e\n         \u003citem android:id\u003d\"@+id/menu_settings_main\" android:icon\u003d\"@drawable/ic_menu_settings\"\n             android:title\u003d\"@string/menu_settings\" /\u003e\n+        \u003citem android:id\u003d\"@+id/menu_tutorial_main\" android:icon\u003d\"@drawable/ic_school_black_24dp\"\n+            android:title\u003d\"@string/menu_tutorial\"/\u003e\n         \u003citem android:id\u003d\"@+id/menu_help_main\" android:icon\u003d\"@drawable/ic_menu_help\"\n             android:title\u003d\"@string/menu_help\" /\u003e\n         \u003citem android:id\u003d\"@+id/menu_about_main\" android:icon\u003d\"@drawable/ic_menu_about\""
        },
        {
          "file_name": "app/src/main/res/values-de/strings.xml",
          "patch": "@@ -95,5 +95,6 @@\n \n     \u003cstring name\u003d\"next\"\u003eWeiter\u003c/string\u003e\n     \u003cstring name\u003d\"skip\"\u003eSkip\u003c/string\u003e\n+    \u003cstring name\u003d\"menu_tutorial\"\u003eTutorial\u003c/string\u003e\n \n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "app/src/main/res/values/strings.xml",
          "patch": "@@ -145,4 +145,5 @@\n \n     \u003cstring name\u003d\"next\"\u003eNext\u003c/string\u003e\n     \u003cstring name\u003d\"skip\"\u003eSkip\u003c/string\u003e\n+    \u003cstring name\u003d\"menu_tutorial\"\u003eTutorial\u003c/string\u003e\n \u003c/resources\u003e"
        }
      ]
    }
  },
  {
    "name": "NPE when accessing route favorite in database",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/673",
    "description": "**Summary:** \n\nFrom Android Developer Console for v2.1.1 and v2.0.14:\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.ContentResolver android.content.Context.getContentResolver()\u0027 on a null object reference\n    at org.onebusaway.android.provider.ObaContract$RouteHeadsignFavorites.isFavorite(ObaContract.java:1415)\n    at org.onebusaway.android.ui.ArrivalInfo.\u003cinit\u003e(ArrivalInfo.java:249)\n    at org.onebusaway.android.ui.ArrivalInfo.convertObaArrivalInfo(ArrivalInfo.java:65)\n    at org.onebusaway.android.ui.ArrivalsListFragment.getArrivalInfo(ArrivalsListFragment.java:841)\n    at org.onebusaway.android.ui.ArrivalsListHeader.refreshArrivalInfoData(ArrivalsListHeader.java:648)\n    at org.onebusaway.android.ui.ArrivalsListHeader.refresh(ArrivalsListHeader.java:624)\n    at org.onebusaway.android.ui.HomeActivity$7.onPanelCollapsed(HomeActivity.java:1400)\n    at org.onebusaway.android.ui.HomeActivity$7.onPanelStateChanged(HomeActivity.java:1359)\n    at com.sothree.slidinguppanel.SlidingUpPanelLayout.dispatchOnPanelStateChanged(SlidingUpPanelLayout.java:644)\n    at com.sothree.slidinguppanel.SlidingUpPanelLayout.setPanelStateInternal(SlidingUpPanelLayout.java:1108)\n    at com.sothree.slidinguppanel.SlidingUpPanelLayout.access$900(SlidingUpPanelLayout.java:32)\n    at com.sothree.slidinguppanel.SlidingUpPanelLayout$DragHelperCallback.onViewDragStateChanged(SlidingUpPanelLayout.java:1340)\n    at com.sothree.slidinguppanel.ViewDragHelper.setDragState(ViewDragHelper.java:911)\n    at com.sothree.slidinguppanel.ViewDragHelper$2.run(ViewDragHelper.java:336)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5461)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n\n**Steps to reproduce:** \n\nUnknown\n\n**Expected behavior:** \n\nNot crash\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\nVariety of devices, including:\n- OnePlus One (A0001)\n- Galaxy Grand Prime (gprimeltetmo)\n- LG G4 (p1)\n\nVariety of Android versions, including:\n- Android 6.0\n- Android 5.1\n",
    "keywords": [
      "com",
      "handler",
      "method",
      "os",
      "org",
      "android",
      "sothree",
      "onebusaway",
      "onebusaway android",
      "arrivalslistheader",
      "slidinguppanel slidinguppanellayout",
      "slidinguppanel",
      "org onebusaway",
      "1",
      "android ui",
      "viewdraghelper",
      "ui",
      "slidinguppanellayout",
      "arrivalinfo",
      "com sothree",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/9d2ac77682b5d2f4ef66928d21818e88043cb758",
      "files": [
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/provider/ObaContract.java",
          "patch": "@@ -1368,7 +1368,7 @@ public static void markAsFavorite(Context context, String routeId, String headsi\n \n                 // If a single stop is unstarred, but isFavorite(...) \u003d\u003d true due to starring all\n                 // stops, insert exclusion record\n-                if (stopIdInternal !\u003d ALL_STOPS \u0026\u0026 isFavorite(context, routeId, headsign, stopId)) {\n+                if (stopIdInternal !\u003d ALL_STOPS \u0026\u0026 isFavorite(routeId, headsign, stopId)) {\n                     // Insert an exclusion record for this single stop, in case the user is unstarring it\n                     // after starring the entire route\n                     ContentValues values \u003d new ContentValues();\n@@ -1408,11 +1408,11 @@ public static void markAsFavorite(Context context, String routeId, String headsi\n          * @return true if this combination of routeId and headsign is a favorite for this stop\n          * or all stops (and that stop is not excluded as a favorite), false if it is not\n          */\n-        public static boolean isFavorite(Context context, String routeId, String headsign,\n+        public static boolean isFavorite(String routeId, String headsign,\n                 String stopId) {\n             final String[] selection \u003d {ROUTE_ID, HEADSIGN, STOP_ID, EXCLUDE};\n             final String[] selectionArgs \u003d {routeId, headsign, stopId, Integer.toString(0)};\n-            ContentResolver cr \u003d context.getContentResolver();\n+            ContentResolver cr \u003d Application.get().getContentResolver();\n             final String FILTER_WHERE_ALL_FIELDS \u003d ROUTE_ID + \"\u003d? AND \" + HEADSIGN + \"\u003d? AND \"\n                     + STOP_ID + \"\u003d? AND \" + EXCLUDE + \"\u003d?\";\n             Cursor c \u003d cr.query(CONTENT_URI, selection, FILTER_WHERE_ALL_FIELDS,"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/ArrivalInfo.java",
          "patch": "@@ -246,8 +246,7 @@ public ArrivalInfo(Context context, ObaArrivalInfo info, long now,\n \n         // Check if the user has marked this routeId/headsign/stopId as a favorite\n         mIsRouteAndHeadsignFavorite \u003d ObaContract.RouteHeadsignFavorites\n-                .isFavorite(context, info.getRouteId(),\n-                        info.getHeadsign(), info.getStopId());\n+                .isFavorite(info.getRouteId(), info.getHeadsign(), info.getStopId());\n     }\n \n     /**"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/ArrivalsListFragment.java",
          "patch": "@@ -693,8 +693,8 @@ public void showListItemMenu(View v, final ArrivalInfo arrivalInfo) {\n         View tripView \u003d v.findViewById(R.id.reminder);\n         boolean isReminderVisible \u003d tripView !\u003d null \u0026\u0026 tripView.getVisibility() !\u003d View.GONE;\n         // Check route favorite, for whether we show \"Add star\" or \"Remove star\"\n-        final boolean isRouteFavorite \u003d ObaContract.RouteHeadsignFavorites.isFavorite(getActivity(),\n-                routeId, arrivalInfo.getInfo().getHeadsign(), arrivalInfo.getInfo().getStopId());\n+        final boolean isRouteFavorite \u003d ObaContract.RouteHeadsignFavorites.isFavorite(routeId,\n+                arrivalInfo.getInfo().getHeadsign(), arrivalInfo.getInfo().getStopId());\n \n         List\u003cString\u003e items \u003d UIUtils\n                 .buildTripOptions(getActivity(), isRouteFavorite, hasUrl, isReminderVisible);"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/ArrivalsListHeader.java",
          "patch": "@@ -667,7 +667,7 @@ private void refreshArrivalInfoData() {\n                 // We have a non-negative ETA for at least one bus - fill the first arrival row\n                 final int i1 \u003d etaIndexes.get(0);\n                 ObaArrivalInfo info1 \u003d mArrivalInfo.get(i1).getInfo();\n-                boolean isFavorite \u003d ObaContract.RouteHeadsignFavorites.isFavorite(mContext,\n+                boolean isFavorite \u003d ObaContract.RouteHeadsignFavorites.isFavorite(\n                         info1.getRouteId(),\n                         info1.getHeadsign(),\n                         info1.getStopId());\n@@ -731,7 +731,7 @@ public void onClick(View v) {\n                 if (etaIndexes.size() \u003e\u003d 2) {\n                     final int i2 \u003d etaIndexes.get(1);\n                     ObaArrivalInfo info2 \u003d mArrivalInfo.get(i2).getInfo();\n-                    boolean isFavorite2 \u003d ObaContract.RouteHeadsignFavorites.isFavorite(mContext,\n+                    boolean isFavorite2 \u003d ObaContract.RouteHeadsignFavorites.isFavorite(\n                             info2.getRouteId(),\n                             info2.getHeadsign(),\n                             info2.getStopId());\n@@ -948,7 +948,7 @@ private void refreshArrivalInfoVisibilityAndListeners() {\n \n             // Setup tapping on star for first row\n             final ObaArrivalInfo info1 \u003d mHeaderArrivalInfo.get(0).getInfo();\n-            final boolean isRouteFavorite \u003d ObaContract.RouteHeadsignFavorites.isFavorite(mContext,\n+            final boolean isRouteFavorite \u003d ObaContract.RouteHeadsignFavorites.isFavorite(\n                     info1.getRouteId(), info1.getHeadsign(), info1.getStopId());\n             mEtaRouteFavorite1.setOnClickListener(new View.OnClickListener() {\n                 @Override\n@@ -1010,7 +1010,7 @@ public void onClick(View v) {\n \n             // Setup tapping on star for second row\n             final ObaArrivalInfo info2 \u003d mHeaderArrivalInfo.get(1).getInfo();\n-            final boolean isRouteFavorite2 \u003d ObaContract.RouteHeadsignFavorites.isFavorite(mContext,\n+            final boolean isRouteFavorite2 \u003d ObaContract.RouteHeadsignFavorites.isFavorite(\n                     info2.getRouteId(), info2.getHeadsign(), info2.getStopId());\n             mEtaRouteFavorite2.setOnClickListener(new View.OnClickListener() {\n                 @Override"
        }
      ]
    }
  },
  {
    "name": "Conversation might disappear",
    "url": "https://github.com/kontalk/androidclient/issues/933",
    "description": "Very rare cases, but it might happen. Checking against null and terminating the activity won\u0027t harm.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean org.kontalk.data.Conversation.isGroupChat()\u0027 on a null object reference\r\n       at org.kontalk.ui.ComposeMessage.getComposeFragment(ComposeMessage.java:224)\r\n       at org.kontalk.ui.ComposeMessage.onCreate(ComposeMessage.java:109)\r\n       at android.app.Activity.performCreate(Activity.java:6102)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2356)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\r\n       at android.app.ActivityThread.access$800(ActivityThread.java:160)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1367)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5371)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1117)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\r\n```",
    "keywords": [
      "app",
      "os",
      "activity",
      "method",
      "org",
      "android",
      "invoke",
      "composemessage",
      "org kontalk",
      "activitythread",
      "java",
      "android app",
      "lang",
      "kontalk",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/29f1bdf307a6c48d888c43ed109b4bab6be409e9",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessage.java",
          "patch": "@@ -26,6 +26,7 @@\n import android.graphics.Typeface;\n import android.net.Uri;\n import android.os.Bundle;\n+import android.support.annotation.NonNull;\n import android.support.v4.app.FragmentTransaction;\n import android.support.v7.app.ActionBar;\n import android.support.v7.widget.Toolbar;\n@@ -107,8 +108,14 @@ protected void onCreate(Bundle savedInstanceState) {\n         if (mFragment \u003d\u003d null) {\n             // build chat fragment\n             AbstractComposeFragment f \u003d getComposeFragment(savedInstanceState);\n-            // insert it into the activity\n-            setComposeFragment(f);\n+            if (f !\u003d null) {\n+                // insert it into the activity\n+                setComposeFragment(f);\n+            }\n+            else {\n+                // conversation disappeared\n+                finish();\n+            }\n         }\n     }\n \n@@ -137,15 +144,13 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         return super.onOptionsItemSelected(item);\n     }\n \n-    private void setComposeFragment(AbstractComposeFragment f) {\n-        if (f !\u003d null) {\n-            mFragment \u003d f;\n-            FragmentTransaction ft \u003d getSupportFragmentManager().beginTransaction();\n-            ft.replace(R.id.fragment_compose_message, f);\n-            ft.setTransition(FragmentTransaction.TRANSIT_NONE);\n-            ft.commitAllowingStateLoss();\n-            getSupportFragmentManager().executePendingTransactions();\n-        }\n+    private void setComposeFragment(@NonNull AbstractComposeFragment f) {\n+        mFragment \u003d f;\n+        FragmentTransaction ft \u003d getSupportFragmentManager().beginTransaction();\n+        ft.replace(R.id.fragment_compose_message, f);\n+        ft.setTransition(FragmentTransaction.TRANSIT_NONE);\n+        ft.commitAllowingStateLoss();\n+        getSupportFragmentManager().executePendingTransactions();\n     }\n \n     @Override\n@@ -163,8 +168,14 @@ public void loadConversation(Uri threadUri) {\n     public void loadConversation() {\n         // build chat fragment\n         AbstractComposeFragment f \u003d getComposeFragment(null);\n-        // insert it into the activity\n-        setComposeFragment(f);\n+        if (f !\u003d null) {\n+            // insert it into the activity\n+            setComposeFragment(f);\n+        }\n+        else {\n+            // conversation disappeared\n+            finish();\n+        }\n     }\n \n     @Override\n@@ -215,15 +226,17 @@ else if (mFragment instanceof GroupMessageFragment)\n     private AbstractComposeFragment getComposeFragment(Bundle savedInstanceState) {\n         Bundle args \u003d processIntent(savedInstanceState);\n         if (args !\u003d null) {\n-            AbstractComposeFragment f;\n+            AbstractComposeFragment f \u003d null;\n             Uri threadUri \u003d args.getParcelable(\"data\");\n             String action \u003d args.getString(\"action\");\n             if (ACTION_VIEW_CONVERSATION.equals(action)) {\n                 long threadId \u003d ContentUris.parseId(threadUri);\n                 Conversation conv \u003d Conversation.loadFromId(this, threadId);\n-                f \u003d conv.isGroupChat() ?\n-                    new GroupMessageFragment() :\n-                    new ComposeMessageFragment();\n+                if (conv !\u003d null) {\n+                    f \u003d conv.isGroupChat() ?\n+                        new GroupMessageFragment() :\n+                        new ComposeMessageFragment();\n+                }\n             }\n             else if (ACTION_VIEW_USERID.equals(action)) {\n                 String userId \u003d  threadUri.getLastPathSegment();\n@@ -237,7 +250,8 @@ else if (ACTION_VIEW_USERID.equals(action)) {\n                 f \u003d new ComposeMessageFragment();\n             }\n \n-            f.setArguments(args);\n+            if (f !\u003d null)\n+                f.setArguments(args);\n             return f;\n         }\n "
        }
      ]
    }
  },
  {
    "name": "unique key violations when inserting obs photos",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/337",
    "description": "https://fabric.io/inaturalist/android/apps/org.inaturalist.android/issues/5869794a0aeb16625ba97382?time\u003dlast-seven-days\r\n\r\n@joellebel has also experienced this while trying to upload with auto-upload turned off, here\u0027s her crash: \r\n\r\n```\r\n04-26 16:53:21.644 13041 18357 D ObservationProvider: Insert: observation_photos; values: updated_at\u003d1493239860366 photo_url\u003dhttps://static.inaturalist.org/photos/7461550/medium.jpg?1493234063 _updated_at\u003d1493250801643 _created_at\u003d1493250801643 _photo_id\u003d7461550 photo_filename\u003dnull uuid\u003d2b95eeb9-151b-496a-aa73-b0b5735d3eeb position\u003dnull observation_id\u003d5972113 _synced_at\u003d1493250801643 is_deleted\u003dnull id\u003d7077445 _observation_id\u003d156 created_at\u003d1493239860366 photo_id\u003d7461550 _id\u003d7077445\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: Error inserting updated_at\u003d1493239860366 photo_url\u003dhttps://static.inaturalist.org/photos/7461550/medium.jpg?1493234063 _updated_at\u003d1493250801643 _created_at\u003d1493250801643 _photo_id\u003d7461550 photo_filename\u003dnull uuid\u003d2b95eeb9-151b-496a-aa73-b0b5735d3eeb position\u003dnull observation_id\u003d5972113 _synced_at\u003d1493250801643 is_deleted\u003dnull id\u003d7077445 _observation_id\u003d156 created_at\u003d1493239860366 photo_id\u003d7461550 _id\u003d7077445\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: observation_photos._id (code 1555)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:780)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat org.inaturalist.android.ObservationProvider.insert(ObservationProvider.java:325)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.content.ContentProvider$Transport.insert(ContentProvider.java:263)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.content.ContentResolver.insert(ContentResolver.java:1231)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat org.inaturalist.android.INaturalistService.syncJson(INaturalistService.java:3428)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat org.inaturalist.android.INaturalistService.getUserObservations(INaturalistService.java:2637)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:968)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:899)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.os.Looper.loop(Looper.java:148)\r\n04-26 16:53:21.657 13041 18357 E SQLiteDatabase: \tat android.os.HandlerThread.run(HandlerThread.java:61)\r\n```",
    "keywords": [
      "13041",
      "e sqlitedatabase",
      "18357",
      "database sqlite",
      "observationprovider",
      "sqliteconnection",
      "android",
      "insert",
      "13041 18357",
      "android database",
      "04-26 16:53:21",
      "04-26",
      "database",
      "16:53:21 657",
      "657",
      "18357 e",
      "16:53:21",
      "sqlitedatabase",
      "android os",
      "os",
      "sqlite",
      "inaturalistservice",
      "org",
      "e",
      "657 13041",
      "inaturalist",
      "inaturalist android"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/adff5812762511009e7198b6f85fff6c77091680",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java",
          "patch": "@@ -3417,6 +3417,17 @@ public void syncJson(JSONArray json, boolean isUser) {\n                 // Save the new observation\u0027s photos\n                 for (int j \u003d 0; j \u003c jsonObservation.photos.size(); j++) {\n                     ObservationPhoto photo \u003d jsonObservation.photos.get(j);\n+                    c \u003d getContentResolver().query(ObservationPhoto.CONTENT_URI,\n+                            ObservationPhoto.PROJECTION,\n+                            \"_id \u003d ?\", new String[] { String.valueOf(photo.id) }, ObservationPhoto.DEFAULT_SORT_ORDER);\n+                    if (c.getCount() \u003e 0) {\n+                        // Photo already exists - don\u0027t save\n+                        c.close();\n+                        continue;\n+                    }\n+\n+                    c.close();\n+\n                     photo._observation_id \u003d jsonObservation._id;\n \n                     ContentValues opcv \u003d photo.getContentValues();"
        }
      ]
    }
  },
  {
    "name": "java.lang.IllegalStateException: Multiple renderer media clocks enabled",
    "url": "https://github.com/kiall/android-tvheadend/issues/107",
    "description": "\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: playerFailed [119.49]\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: com.google.android.exoplayer2.ExoPlaybackException\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat com.google.android.exoplayer2.ExoPlayerImplInternal.enableRenderers(ExoPlayerImplInternal.java:1372)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat com.google.android.exoplayer2.ExoPlayerImplInternal.setPlayingPeriodHolder(ExoPlayerImplInternal.java:1344)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat com.google.android.exoplayer2.ExoPlayerImplInternal.handlePeriodPrepared(ExoPlayerImplInternal.java:1274)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:331)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat android.os.Looper.loop(Looper.java:148)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat android.os.HandlerThread.run(HandlerThread.java:61)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \tat com.google.android.exoplayer2.util.PriorityHandlerThread.run(PriorityHandlerThread.java:40)\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: Caused by: java.lang.IllegalStateException: Multiple renderer media clocks enabled.\r\n\t01-07 14:50:01.277 25153 25153 E ie.macinnes.tvheadend.player.EventLogger: \t... 8 more\r\n",
    "keywords": [
      "com",
      "tvheadend player",
      "android os",
      "25153 e",
      "os",
      "e",
      "01-07 14:50:01",
      "android",
      "01-07",
      "eventlogger",
      "google",
      "tvheadend",
      "macinnes",
      "ie macinnes",
      "14:50:01",
      "exoplayer2",
      "277",
      "com google",
      "25153",
      "277 25153",
      "exoplayerimplinternal",
      "ie",
      "android exoplayer2",
      "player"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kiall/android-tvheadend/commit/5e9e468052bfda71d886b8d05157600d1fbec9f2",
      "files": [
        {
          "file_name": "app/src/main/java/ie/macinnes/tvheadend/Constants.java",
          "patch": "@@ -34,6 +34,9 @@\n     public static final String KEY_SETUP_COMPLETE \u003d \"SETUP-COMPLETE\";\n     public static final String KEY_HTSP_STREAM_PROFILE \u003d \"htsp_stream_profile\";\n \n+    // Audio Preferences Keys and Values\n+    public static final String KEY_AUDIO_PASSTHROUGH_DECODER_ENABLED \u003d \"audio_passthrough_decodeder_enabled\";\n+\n     // Advanced Preferences Keys and Values\n     public static final String KEY_FFMPEG_AUDIO_ENABLED \u003d \"ffmpeg_audio_enabled\";\n     public static final String KEY_SHIELD_WORKAROUND_ENABLED \u003d \"shield_workaround_enabled\";"
        },
        {
          "file_name": "app/src/main/java/ie/macinnes/tvheadend/migrate/MigrateUtils.java",
          "patch": "@@ -17,7 +17,6 @@\n \n import android.accounts.Account;\n import android.content.Context;\n-import android.content.Intent;\n import android.content.SharedPreferences;\n import android.support.v7.preference.PreferenceManager;\n import android.util.Log;\n@@ -26,7 +25,6 @@\n import ie.macinnes.tvheadend.MiscUtils;\n import ie.macinnes.tvheadend.R;\n import ie.macinnes.tvheadend.account.AccountUtils;\n-import ie.macinnes.tvheadend.tvinput.TvInputService;\n \n \n public class MigrateUtils {"
        },
        {
          "file_name": "app/src/main/java/ie/macinnes/tvheadend/player/SimpleTvheadendPlayer.java",
          "patch": "@@ -31,7 +31,9 @@\n import com.google.android.exoplayer2.drm.DrmSessionManager;\n import com.google.android.exoplayer2.drm.FrameworkMediaCrypto;\n import com.google.android.exoplayer2.ext.ffmpeg.FfmpegAudioRenderer;\n+import com.google.android.exoplayer2.mediacodec.MediaCodecInfo;\n import com.google.android.exoplayer2.mediacodec.MediaCodecSelector;\n+import com.google.android.exoplayer2.mediacodec.MediaCodecUtil;\n import com.google.android.exoplayer2.trackselection.TrackSelector;\n import com.google.android.exoplayer2.video.MediaCodecVideoRenderer;\n import com.google.android.exoplayer2.video.VideoRendererEventListener;\n@@ -56,17 +58,42 @@ protected void buildAudioRenderers(Context context, Handler mainHandler, DrmSess\n         AudioCapabilities audioCapabilities \u003d AudioCapabilities.getCapabilities(context);\n \n         SharedPreferences sharedPreferences \u003d context.getSharedPreferences(Constants.PREFERENCE_TVHEADEND, Context.MODE_PRIVATE);\n+        final boolean enablePassthroughDecoder \u003d sharedPreferences.getBoolean(Constants.KEY_AUDIO_PASSTHROUGH_DECODER_ENABLED, true);\n \n+        // Native Audio Decoders\n+        Log.d(TAG, \"Adding MediaCodecAudioRenderer\");\n+        MediaCodecSelector mediaCodecSelector \u003d buildMediaCodecSelector(enablePassthroughDecoder);\n+        out.add(new MediaCodecAudioRenderer(mediaCodecSelector, drmSessionManager,\n+                true, mainHandler, eventListener, audioCapabilities));\n+\n+        // FFMpeg Audio Decoder\n         if (sharedPreferences.getBoolean(Constants.KEY_FFMPEG_AUDIO_ENABLED, true)) {\n-            // FFMpeg Audio Decoder\n             Log.d(TAG, \"Adding FfmpegAudioRenderer\");\n             out.add(new FfmpegAudioRenderer(mainHandler, eventListener, audioCapabilities));\n         }\n+    }\n \n-        // Native Audio Decoders\n-        Log.d(TAG, \"Adding MediaCodecAudioRenderer\");\n-        out.add(new MediaCodecAudioRenderer(MediaCodecSelector.DEFAULT, drmSessionManager,\n-                true, mainHandler, eventListener, audioCapabilities));\n+    /**\n+     * Builds a MediaCodecSelector that can explicitly disable audio passthrough\n+     *\n+     * @param enablePassthroughDecoder\n+     * @return\n+     */\n+    private MediaCodecSelector buildMediaCodecSelector(final boolean enablePassthroughDecoder) {\n+        return new MediaCodecSelector() {\n+            @Override\n+            public MediaCodecInfo getDecoderInfo(String mimeType, boolean requiresSecureDecoder) throws MediaCodecUtil.DecoderQueryException {\n+                return MediaCodecUtil.getDecoderInfo(mimeType, requiresSecureDecoder);\n+            }\n+\n+            @Override\n+            public MediaCodecInfo getPassthroughDecoderInfo() throws MediaCodecUtil.DecoderQueryException {\n+                if (enablePassthroughDecoder) {\n+                    return MediaCodecUtil.getPassthroughDecoderInfo();\n+                }\n+                return null;\n+            }\n+        };\n     }\n \n     @Override"
        },
        {
          "file_name": "app/src/main/java/ie/macinnes/tvheadend/player/TvheadendTrackSelector.java",
          "patch": "@@ -27,6 +27,8 @@\n import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;\n import com.google.android.exoplayer2.trackselection.FixedTrackSelection;\n import com.google.android.exoplayer2.trackselection.TrackSelection;\n+import com.google.android.exoplayer2.util.MimeTypes;\n+import com.google.android.exoplayer2.util.Util;\n \n \n public class TvheadendTrackSelector extends DefaultTrackSelector {\n@@ -65,6 +67,40 @@ public boolean onSelectTrack(int type, String trackId) {\n         return true;\n     }\n \n+    @Override\n+    protected TrackSelection[] selectTracks(RendererCapabilities[] rendererCapabilities, TrackGroupArray[] rendererTrackGroupArrays, int[][][] rendererFormatSupports) throws ExoPlaybackException {\n+        // Apparently, it\u0027s very easy to end up choosing multiple audio track renderers, e.g ffmpeg\n+        // decode and MediaCodec passthrough. When this happens we end up with a Multiple renderer\n+        // media clocks enabled IllegalStateException exception (see Issue #107).\n+        TrackSelection[] trackSelections \u003d super.selectTracks(rendererCapabilities, rendererTrackGroupArrays, rendererFormatSupports);\n+\n+        // If we made multiple audio track selections, keep only one of them.\n+        // TODO: Make this smarter, if the user prefers English, and we select a passthrough German\n+        // track and a English mpeg-2 audio track, we really should keep the english one over the\n+        // German one.\n+        int selectedAudioRendererIndex \u003d -1;\n+        for (int trackSelectionIndex \u003d 0; trackSelectionIndex \u003c trackSelections.length; trackSelectionIndex++) {\n+            final TrackSelection trackSelection \u003d trackSelections[trackSelectionIndex];\n+\n+            if (trackSelection \u003d\u003d null || !MimeTypes.isAudio(trackSelection.getSelectedFormat().sampleMimeType)) {\n+                // Skip if, a) renderer has no candidate, b) not an audio renderer\n+                continue;\n+            }\n+\n+            if (selectedAudioRendererIndex !\u003d -1) {\n+                // If we already made a selection, discard this extra selection\n+                trackSelections[trackSelectionIndex] \u003d null;\n+                Log.d(TAG, \"Discarding Audio Track Selection\");\n+                continue;\n+            }\n+\n+            // Otherwise, flag that we\u0027ve made our selection\n+            selectedAudioRendererIndex \u003d trackSelectionIndex;\n+        }\n+\n+        return trackSelections;\n+    }\n+\n     protected TrackSelection selectVideoTrack(\n             RendererCapabilities rendererCapabilities, TrackGroupArray groups, int[][] formatSupport,\n             int maxVideoWidth, int maxVideoHeight, boolean allowNonSeamlessAdaptiveness,"
        },
        {
          "file_name": "app/src/main/res/xml/preferences.xml",
          "patch": "@@ -19,6 +19,19 @@\n     xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n     android:title\u003d\"TVHeadend Settings\"\u003e\n \n+    \u003cPreferenceCategory android:title\u003d\"Audio and Video\"\u003e\n+        \u003cCheckBoxPreference\n+            android:key\u003d\"audio_passthrough_decodeder_enabled\"\n+            android:title\u003d\"Enable Audio Passthrough\"\n+            android:defaultValue\u003d\"true\"\n+            android:summary\u003d\"You must also ensure the system audio settings allows passthrough\"/\u003e\n+\n+        \u003cCheckBoxPreference\n+            android:key\u003d\"ffmpeg_audio_enabled\"\n+            android:title\u003d\"Enable FFMpeg Audio Codecs\"\n+            android:defaultValue\u003d\"true\"/\u003e\n+    \u003c/PreferenceCategory\u003e\n+\n     \u003cPreferenceCategory android:title\u003d\"EPG\"\u003e\n         \u003cCheckBoxPreference\n             android:key\u003d\"epg_sync_enabled\"\n@@ -46,11 +59,6 @@\n \n     \u003cPreferenceCategory android:title\u003d\"Advanced Settings\"\u003e\n         \u003cCheckBoxPreference\n-            android:key\u003d\"ffmpeg_audio_enabled\"\n-            android:title\u003d\"Enable FFMpeg Audio Renderer\"\n-            android:defaultValue\u003d\"true\" /\u003e\n-\n-        \u003cCheckBoxPreference\n             android:key\u003d\"shield_workaround_enabled\"\n             android:title\u003d\"Enable nVidia Shield Workaround\"\n             android:defaultValue\u003d\"true\" /\u003e"
        }
      ]
    }
  },
  {
    "name": "Crash in settings if SD card was removed",
    "url": "https://github.com/cgeo/cgeo/issues/6450",
    "description": "##### Detailed steps causing the problem:\r\n- Have GeocacheData moved to external SD card\r\n- Close and kill c:geo\r\n- Remove SD card from device\r\n- Start c:geo\r\n- Log shows Warning (see first sdb log attached)\r\n- Try to enter Menu -\u003e Settings (e.g. if you plan to set the storage to internal again)\r\n\r\n##### Actual behavior after performing these steps:\r\nCrash\r\n\r\n##### Expected behavior after performing these steps:\r\nDetect absence of GeocacheData dir and e.g. fallback (to be discussed) to internal dir in that case.\r\nAlso without a fallback c:geo should not crash when entering settings menu allowing the user to manually adjust the dir setting.\r\n\r\n##### Version of c:geo used:\r\n2017.03.25-NB\r\n\r\n##### Is the problem reproducible for you?\r\nYes\r\n\r\n##### System information:\r\nAndroid 5.1.1\r\nSamsung Galaxy Note 10.1 Edition 2014 (SD removeable without power down)\r\n\r\n##### Other comments and remarks:\r\n\r\nLog after c:geo startup:\r\n```\r\n12:08:54.776 Warning cgeo 26754  [RxCachedThreadScheduler-2] DataStore.clean\r\n12:08:54.776 Warning cgeo 26754  java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.io.File java.io.File.getCanonicalFile()\u0027 on a null object reference\r\n12:08:54.776 Warning cgeo 26754  \tat android.os.Environment.getStorageVolume(Environment.java:900)\r\n12:08:54.776 Warning cgeo 26754  \tat android.os.Environment.getExternalStorageState(Environment.java:758)\r\n12:08:54.776 Warning cgeo 26754  \tat android.os.Environment.getStorageState(Environment.java:744)\r\n12:08:54.776 Warning cgeo 26754  \tat android.support.v4.os.EnvironmentCompatKitKat.getStorageState(EnvironmentCompatKitKat.java:25)\r\n12:08:54.776 Warning cgeo 26754  \tat android.support.v4.os.EnvironmentCompat.getStorageState(EnvironmentCompat.java:58)\r\n12:08:54.776 Warning cgeo 26754  \tat cgeo.geocaching.storage.LocalStorage.getAvailableExternalPrivateCgeoDirectories(LocalStorage.java:82)\r\n12:08:54.776 Warning cgeo 26754  \tat cgeo.geocaching.storage.LocalStorage.getExternalPrivateCgeoDirectory(LocalStorage.java:98)\r\n12:08:54.776 Warning cgeo 26754  \tat cgeo.geocaching.storage.LocalStorage.getGeocacheDataDirectory(LocalStorage.java:281)\r\n12:08:54.776 Warning cgeo 26754  \tat cgeo.geocaching.storage.LocalStorage.getGeocacheDataDirectory(LocalStorage.java:156)\r\n12:08:54.776 Warning cgeo 26754  \tat cgeo.geocaching.storage.DataStore$10.run(DataStore.java:2481)\r\n12:08:54.776 Warning cgeo 26754  \tat io.reactivex.Scheduler$1.run(Scheduler.java:138)\r\n12:08:54.776 Warning cgeo 26754  \tat io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:59)\r\n12:08:54.776 Warning cgeo 26754  \tat io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:51)\r\n12:08:54.776 Warning cgeo 26754  \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n12:08:54.776 Warning cgeo 26754  \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:152)\r\n12:08:54.776 Warning cgeo 26754  \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:265)\r\n12:08:54.776 Warning cgeo 26754  \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n12:08:54.776 Warning cgeo 26754  \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n12:08:54.776 Warning cgeo 26754  \tat java.lang.Thread.run(Thread.java:818)\r\n```\r\n\r\nLog when trying to enter settings:\r\n```\r\n12:09:41.659 Error AndroidRuntime 26950  FATAL EXCEPTION: main\r\n12:09:41.659 Error AndroidRuntime 26950  Process: cgeo.geocaching, PID: 26950\r\n12:09:41.659 Error AndroidRuntime 26950  java.lang.RuntimeException: Unable to start activity ComponentInfo{cgeo.geocaching/cgeo.geocaching.settings.SettingsActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.io.File java.io.File.getCanonicalFile()\u0027 on a null object reference\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3124)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3233)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.ActivityThread.access$1000(ActivityThread.java:197)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1656)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.os.Looper.loop(Looper.java:145)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.ActivityThread.main(ActivityThread.java:6873)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat java.lang.reflect.Method.invoke(Native Method)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)\r\n12:09:41.659 Error AndroidRuntime 26950  Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.io.File java.io.File.getCanonicalFile()\u0027 on a null object reference\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.os.Environment.getStorageVolume(Environment.java:900)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.os.Environment.getExternalStorageState(Environment.java:758)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.os.Environment.getStorageState(Environment.java:744)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.support.v4.os.EnvironmentCompatKitKat.getStorageState(EnvironmentCompatKitKat.java:25)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.support.v4.os.EnvironmentCompat.getStorageState(EnvironmentCompat.java:58)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat cgeo.geocaching.storage.LocalStorage.getAvailableExternalPrivateCgeoDirectories(LocalStorage.java:82)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat cgeo.geocaching.settings.SettingsActivity.initExtCgeoDirPreference(SettingsActivity.java:265)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat cgeo.geocaching.settings.SettingsActivity.initPreferences(SettingsActivity.java:144)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat cgeo.geocaching.settings.SettingsActivity.onCreate(SettingsActivity.java:111)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.Activity.performCreate(Activity.java:6550)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1120)\r\n12:09:41.659 Error AndroidRuntime 26950  \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3077)\r\n12:09:41.659 Error AndroidRuntime 26950  \t... 10 more\r\n12:09:41.659 Warning ActivityManager 2919    Force finishing activity 1 cgeo.geocaching/.settings.SettingsActivity\r\n```",
    "keywords": [
      "12:08:54 776",
      "null object",
      "java util",
      "support v4",
      "26950",
      "run",
      "invoke",
      "main",
      "26754",
      "dir",
      "attempt",
      "\u0027java io",
      "crash",
      "reactivex",
      "reference",
      "scheduledrunnable",
      "java",
      "getcanonicalfile",
      "warning",
      "#####",
      "\u0027java",
      "settingsactivity",
      "app",
      "cgeo",
      "nullpointerexception: attempt",
      "settings",
      "androidruntime 26950",
      "method",
      "io",
      "nullpointerexception",
      "steps",
      "localstorage",
      "geocaching",
      "1",
      "null",
      "util",
      "c:geo",
      "12:09:41",
      "support",
      "error androidruntime",
      "card",
      "object",
      "threadpoolexecutor",
      "12:09:41 659",
      "internal",
      "virtual",
      "geocaching storage",
      "activity",
      "log",
      "app activitythread",
      "warning cgeo",
      "android",
      "concurrent",
      "file java",
      "storage",
      "os environment",
      "error",
      "cgeo 26754",
      "sd",
      "file",
      "776",
      "776 warning",
      "virtual method",
      "659",
      "environmentcompat",
      "lang",
      "zygoteinit",
      "io reactivex",
      "os",
      "cgeo geocaching",
      "androidruntime",
      "java lang",
      "12:08:54",
      "activitythread",
      "environment",
      "659 error",
      "getstoragestate",
      "environmentcompatkitkat",
      "io file",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/41fd3ce5626d068b68faf5afb38a7e1259c48a4f",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/storage/LocalStorage.java",
          "patch": "@@ -79,7 +79,7 @@ private static File getInternalCgeoDirectory() {\n         final List\u003cFile\u003e extDirs \u003d new ArrayList\u003c\u003e();\n         final File[] externalFilesDirs \u003d ContextCompat.getExternalFilesDirs(CgeoApplication.getInstance(), null);\n         for (final File dir : externalFilesDirs) {\n-            if (EnvironmentCompat.getStorageState(dir).equals(Environment.MEDIA_MOUNTED)) {\n+            if (dir !\u003d null \u0026\u0026 EnvironmentCompat.getStorageState(dir).equals(Environment.MEDIA_MOUNTED)) {\n                 extDirs.add(dir);\n             }\n         }"
        }
      ]
    }
  },
  {
    "name": "java.lang.IllegalStateException: GpsStatusFragment not attached to Activity",
    "url": "https://github.com/barbeau/gpstest/issues/77",
    "description": "**Summary:** \r\n\r\nIt looks like NMEA sentences are being delivered before the fragment is attached.  From Android Developer Console:\r\n\r\n~~~\r\njava.lang.IllegalStateException: Fragment GpsStatusFragment{345a8e3} not attached to Activity\r\n\tat android.support.v4.app.Fragment.getResources(Fragment.java:648)\r\n\tat android.support.v4.app.Fragment.getString(Fragment.java:683)\r\n\tat com.android.gpstest.GpsStatusFragment.onNmeaMessage(GpsStatusFragment.java:299)\r\n\tat com.android.gpstest.GpsTestActivity$5.onNmeaReceived(GpsTestActivity.java:508)\r\n\tat android.location.LocationManager$GpsStatusListenerTransport$1.handleMessage(LocationManager.java:1537)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:158)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7229)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n~~~\r\n\r\n**Steps to reproduce:** \r\n\r\nUnknown\r\n\r\n**Expected behavior:** \r\n\r\nNot crash\r\n\r\n**Observed behavior:** \r\n\r\nCrash\r\n\r\n**Device and Android version:** \r\n\r\nGalaxy S7 Edge (hero2lte) w/ Android 6.0",
    "keywords": [
      "com",
      "gpsstatusfragment",
      "app",
      "fragment",
      "not",
      "java",
      "os",
      "android",
      "attached",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/barbeau/gpstest/commit/27189476ed50cf0c449d0857957a6be30682ebda",
      "files": [
        {
          "file_name": "GPSTest/src/main/java/com/android/gpstest/GpsStatusFragment.java",
          "patch": "@@ -284,6 +284,10 @@ public void onOrientationChanged(double orientation, double tilt) {\n \n     @Override\n     public void onNmeaMessage(String message, long timestamp) {\n+        if (!isAdded()) {\n+            // Do nothing if the Fragment isn\u0027t added\n+            return;\n+        }\n         if (message.startsWith(\"$GPGGA\") || message.startsWith(\"$GNGNS\")) {\n             Double altitudeMsl \u003d GpsTestUtil.getAltitudeMeanSeaLevel(message);\n             if (altitudeMsl !\u003d null \u0026\u0026 mNavigating) {"
        }
      ]
    }
  },
  {
    "name": "Fix messages database upgrade issues",
    "url": "https://github.com/kontalk/androidclient/issues/983",
    "description": "This is because the constants used for create table columns are shared among database versions queries. This is wrong: convert all static constants to full string contacts.\r\n\r\n```\r\njava.lang.RuntimeException: Unable to create application org.kontalk.Kontalk: android.database.sqlite.SQLiteException: table threads_new has 17 columns but 15 values were supplied (code 1): , while compiling: INSERT INTO threads_new SELECT _id, msg_id, SUBSTR(peer, 1, ?) || \u0027@\u0027 || ?, direction, count, unread, 0, \u0027text/plain\u0027, content, timestamp, status_changed, status, 0, draft, 0 FROM threads\r\n       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4469)\r\n       at android.app.ActivityThread.access$1500(ActivityThread.java:144)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5139)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:796)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:612)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\nCaused by android.database.sqlite.SQLiteException: table threads_new has 17 columns but 15 values were supplied (code 1): , while compiling: INSERT INTO threads_new SELECT _id, msg_id, SUBSTR(peer, 1, ?) || \u0027@\u0027 || ?, direction, count, unread, 0, \u0027text/plain\u0027, content, timestamp, status_changed, status, 0, draft, 0 FROM threads\r\n       at android.database.sqlite.SQLiteConnection.nativePrepareStatement(SQLiteConnection.java)\r\n       at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:889)\r\n       at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:500)\r\n       at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\r\n       at android.database.sqlite.SQLiteProgram.\u003cinit\u003e(SQLiteProgram.java:58)\r\n       at android.database.sqlite.SQLiteStatement.\u003cinit\u003e(SQLiteStatement.java:31)\r\n       at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1672)\r\n       at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1653)\r\n       at org.kontalk.provider.MessagesProvider$DatabaseHelper.onUpgrade(MessagesProvider.java:414)\r\n       at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:257)\r\n       at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:188)\r\n       at org.kontalk.provider.MessagesProvider.query(MessagesProvider.java:575)\r\n       at android.content.ContentProvider.query(ContentProvider.java:857)\r\n       at android.content.ContentProvider$Transport.query(ContentProvider.java:200)\r\n       at android.content.ContentResolver.query(ContentResolver.java:461)\r\n       at android.content.ContentResolver.query(ContentResolver.java:404)\r\n       at org.kontalk.ui.MessagingNotification.updateMessagesNotification(MessagingNotification.java:224)\r\n       at org.kontalk.Kontalk.onCreate(Kontalk.java:194)\r\n       at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1007)\r\n       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4466)\r\n       at android.app.ActivityThread.access$1500(ActivityThread.java:144)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5139)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:796)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:612)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```",
    "keywords": [
      "com",
      "||",
      "handler",
      "internal",
      "columns",
      "app activitythread",
      "sqliteconnection",
      "android",
      "main",
      "looper",
      "content",
      "android database",
      "org kontalk",
      "nativestart",
      "database",
      "reflect",
      "java",
      "contentprovider",
      "reflect method",
      "lang",
      "sqlite sqliteconnection",
      "table",
      "kontalk",
      "zygoteinit",
      "app",
      "sqlitedatabase",
      "threads_new",
      "method",
      "os",
      "sqlite",
      "org",
      "messagesprovider",
      "query",
      "sqliteopenhelper",
      "java lang",
      "0",
      "activitythread",
      "1",
      "android app",
      "contentresolver"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/b1f3216ad70112bd32b32a0bf0f20eff01197dcf",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/provider/MessagesProvider.java",
          "patch": "@@ -43,10 +43,6 @@\n \n import org.kontalk.BuildConfig;\n import org.kontalk.Log;\n-import org.kontalk.client.EndpointServer;\n-import org.kontalk.client.ServerList;\n-import org.kontalk.crypto.Coder;\n-import org.kontalk.message.CompositeMessage;\n import org.kontalk.message.GroupCommandComponent;\n import org.kontalk.message.TextComponent;\n import org.kontalk.provider.MyMessages.CommonColumns;\n@@ -55,7 +51,6 @@\n import org.kontalk.provider.MyMessages.Messages.Fulltext;\n import org.kontalk.provider.MyMessages.Threads;\n import org.kontalk.provider.MyMessages.Threads.Conversations;\n-import org.kontalk.service.ServerListUpdater;\n import org.kontalk.util.SystemUtils;\n \n \n@@ -317,61 +312,58 @@\n             DELETE_GROUP_MEMBERS      + \";\" +\n             \"END\";\n \n-        private static final String[] SCHEMA_UPGRADE_V4 \u003d {\n-            // create temporary messages tables without msg_id UNIQUE constraint\n-            \"CREATE TABLE \" + TABLE_MESSAGES + \"_new \" + _SCHEMA_MESSAGES,\n-            // create temporary threads tables without msg_id UNIQUE constraint\n-            \"CREATE TABLE \" + TABLE_THREADS + \"_new \" + _SCHEMA_THREADS,\n-            // copy contents of messages table\n-            \"INSERT INTO \" + TABLE_MESSAGES + \"_new SELECT \" +\n-            \"_id, thread_id, msg_id, SUBSTR(peer, 1, ?) || \u0027@\u0027 || ?, direction, unread, 0, timestamp, status_changed, status, \u0027text/plain\u0027, \" +\n-            \"CASE WHEN mime \u003c\u003e \u0027text/plain\u0027 THEN NULL ELSE content END, \"+\n-            \"CASE WHEN mime \u003c\u003e \u0027text/plain\u0027 THEN 0 ELSE length(content) END, \" +\n-            \"CASE WHEN mime \u003c\u003e \u0027text/plain\u0027 THEN mime ELSE NULL END, preview_path, fetch_url, local_uri, length, 0, 0, 0, encrypted, \" +\n-            \"CASE WHEN encrypt_key IS NOT NULL THEN \" + Coder.SECURITY_LEGACY_ENCRYPTED + \" ELSE \" + Coder.SECURITY_CLEARTEXT + \" END, \"+\n-            \"strftime(\u0027%s\u0027, server_timestamp)*1000\" +\n-                \" FROM \" + TABLE_MESSAGES + \" WHERE encrypted \u003d 0\",\n-            // copy contents of threads table\n-            \"INSERT INTO \" + TABLE_THREADS + \"_new SELECT \" +\n-            \"_id, msg_id, SUBSTR(peer, 1, ?) || \u0027@\u0027 || ?, direction, count, unread, 0, \u0027text/plain\u0027, content, timestamp, status_changed, status, 0, draft, 0\" +\n-                \" FROM \" + TABLE_THREADS,\n-            // drop table messages\n-            \"DROP TABLE \" + TABLE_MESSAGES,\n-            // drop table threads\n-            \"DROP TABLE \" + TABLE_THREADS,\n-            // rename messages_new to messages\n-            \"ALTER TABLE \" + TABLE_MESSAGES + \"_new RENAME TO \" + TABLE_MESSAGES,\n-            // rename threads_new to threads\n-            \"ALTER TABLE \" + TABLE_THREADS + \"_new RENAME TO \" + TABLE_THREADS,\n-            // unique message index\n-            SCHEMA_MESSAGES_INDEX,\n-            // timestamp message index (for sorting)\n-            SCHEMA_MESSAGES_TIMESTAMP_IDX,\n-            // triggers\n-            TRIGGER_THREADS_INSERT_COUNT,\n-            TRIGGER_THREADS_UPDATE_COUNT,\n-            TRIGGER_THREADS_DELETE_COUNT\n-        };\n+        // -- schema upgrades --\n+        // the number in the constant name is the version we are upgrading *from*\n \n         private static final String[] SCHEMA_UPGRADE_V8 \u003d {\n-            SCHEMA_GROUPS,\n-            SCHEMA_GROUPS_MEMBERS,\n-            SCHEMA_MESSAGES_GROUPS,\n-            TRIGGER_GROUPS_DELETE_MEMBERS,\n+            \"CREATE TABLE groups (\" +\n+                \"group_jid TEXT NOT NULL PRIMARY KEY, \" +\n+                \"thread_id INTEGER NOT NULL,\" +\n+                \"group_type TEXT NOT NULL,\" +\n+                \"subject TEXT\" +\n+            \")\",\n+            \"CREATE TABLE group_members (\" +\n+                \"group_jid TEXT NOT NULL, \" +\n+                \"group_peer TEXT NOT NULL, \" +\n+                \"pending INTEGER NOT NULL DEFAULT 0,\" +\n+                \"PRIMARY KEY (group_jid, group_peer)\" +\n+            \")\",\n+            \"CREATE VIEW messages_groups AS \" +\n+            \"SELECT messages.*,\" +\n+            \"groups.group_jid,\" +\n+            \"groups.subject,\" +\n+            \"groups.group_type\" +\n+            \" FROM messages LEFT JOIN threads\" +\n+            \" ON messages.thread_id\u003dthreads._id\" +\n+            \" LEFT OUTER JOIN groups ON \" +\n+            \"threads._id\u003dgroups.thread_id\",\n+            \"CREATE TRIGGER delete_groups_on_delete AFTER DELETE ON groups\" +\n+            \" BEGIN \" +\n+            \"DELETE FROM group_members WHERE group_jid\u003dold.group_jid;\" +\n+            \"END\",\n         };\n \n         private static final String[] SCHEMA_UPGRADE_V9 \u003d {\n             \"ALTER TABLE groups ADD COLUMN membership INTEGER NOT NULL DEFAULT 1\",\n-            \"DROP VIEW \" + TABLE_MESSAGES_GROUPS,\n-            SCHEMA_MESSAGES_GROUPS,\n+            \"DROP VIEW messages_groups\",\n+            \"CREATE VIEW messages_groups AS \" +\n+            \"SELECT messages.*,\" +\n+            \"groups.group_jid,\" +\n+            \"groups.subject,\" +\n+            \"groups.group_type,\" +\n+            \"groups.membership\" +\n+            \" FROM messages LEFT JOIN threads\" +\n+            \" ON messages.thread_id\u003dthreads._id\" +\n+            \" LEFT OUTER JOIN groups ON \" +\n+            \"threads._id\u003dgroups.thread_id\",\n         };\n \n         private static final String[] SCHEMA_UPGRADE_V10 \u003d {\n             \"ALTER TABLE threads ADD COLUMN sticky INTEGER NOT NULL DEFAULT 0\",\n         };\n \n         private static final String SCHEMA_UPGRADE_V11 \u003d\n-            \"ALTER TABLE \" + TABLE_THREADS + \" ADD COLUMN encryption INTEGER NOT NULL DEFAULT 1\";\n+            \"ALTER TABLE threads ADD COLUMN encryption INTEGER NOT NULL DEFAULT 1\";\n \n         private Context mContext;\n \n@@ -398,58 +390,29 @@ public void onCreate(SQLiteDatabase db) {\n \n         @Override\n         public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n-            if (oldVersion !\u003d 4 \u0026\u0026 oldVersion \u003c 8) {\n+            if (oldVersion \u003c 8) {\n                 // unsupported version\n-                throw new SQLException(\"database can only be upgraded from version 4 or versions greather than 7\");\n+                throw new SQLException(\"database can only be upgraded from versions greater than 7\");\n             }\n \n-            if (oldVersion \u003d\u003d 4) {\n-                // take the first server from the builtin list\n-                ServerList list \u003d ServerListUpdater.getCurrentList(mContext);\n-                EndpointServer server \u003d list.get(0);\n-                String host \u003d server.getNetwork();\n-\n-                for (String sql : SCHEMA_UPGRADE_V4) {\n-                    if (sql.startsWith(\"INSERT \")) {\n-                        db.execSQL(sql, new Object[]{\n-                            CompositeMessage.USERID_LENGTH,\n-                            host\n-                        });\n+            switch (oldVersion) {\n+                case 8:\n+                    for (String sql : SCHEMA_UPGRADE_V8) {\n+                        db.execSQL(sql);\n                     }\n-                    else {\n+                    // fall through\n+                case 9:\n+                    for (String sql : SCHEMA_UPGRADE_V9) {\n                         db.execSQL(sql);\n                     }\n-                }\n-\n-                // fallback to next upgrade\n-                oldVersion \u003d 8;\n-            }\n-\n-            if (oldVersion \u003d\u003d 8) {\n-                for (String sql : SCHEMA_UPGRADE_V8) {\n-                    db.execSQL(sql);\n-                }\n-                // fallback to next upgrade\n-                oldVersion \u003d 10;\n-            }\n-            else if (oldVersion \u003d\u003d 9) {\n-                for (String sql : SCHEMA_UPGRADE_V9) {\n-                    db.execSQL(sql);\n-                }\n-                // fallback to next upgrade\n-                oldVersion \u003d 10;\n-            }\n-\n-            if (oldVersion \u003d\u003d 10) {\n-                for (String sql : SCHEMA_UPGRADE_V10) {\n-                    db.execSQL(sql);\n-                }\n-                // fallback to next upgrade\n-                oldVersion \u003d 11;\n-            }\n-\n-            if (oldVersion \u003d\u003d 11) {\n-                db.execSQL(SCHEMA_UPGRADE_V11);\n+                    // fall through\n+                case 10:\n+                    for (String sql : SCHEMA_UPGRADE_V10) {\n+                        db.execSQL(sql);\n+                    }\n+                    // fall through\n+                case 11:\n+                    db.execSQL(SCHEMA_UPGRADE_V11);\n             }\n         }\n     }"
        }
      ]
    }
  },
  {
    "name": "Can\u0027t use ARG_FILE_FILTER as documented",
    "url": "https://github.com/nbsp-team/MaterialFilePicker/issues/34",
    "description": "The `ARG_FILE_FILTER` shown in the readme doesn\u0027t exist.  Apparently it was replaced by `ARG_FILTER`.  But it doesn\u0027t work.\n\n```\nintent.putExtra(FilePickerActivity.ARG_FILTER, Pattern.compile(\".*\\\\.txt$\"));\n```\n\n...results in this crash:\n\n```\nFATAL EXCEPTION: main\n Process: com.chalcodes.maps, PID: 5164\n java.lang.RuntimeException: Unable to start activity ComponentInfo{com.chalcodes.maps/com.nbsp.materialfilepicker.ui.FilePickerActivity}: java.lang.ClassCastException: java.util.regex.Pattern cannot be cast to com.nbsp.materialfilepicker.filter.CompositeFilter\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2339)\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2413)\n     at android.app.ActivityThread.access$800(ActivityThread.java:155)\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1317)\n     at android.os.Handler.dispatchMessage(Handler.java:102)\n     at android.os.Looper.loop(Looper.java:135)\n     at android.app.ActivityThread.main(ActivityThread.java:5343)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at java.lang.reflect.Method.invoke(Method.java:372)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700)\n  Caused by: java.lang.ClassCastException: java.util.regex.Pattern cannot be cast to com.nbsp.materialfilepicker.filter.CompositeFilter\n     at com.nbsp.materialfilepicker.ui.FilePickerActivity.initArguments(FilePickerActivity.java:62)\n     at com.nbsp.materialfilepicker.ui.FilePickerActivity.onCreate(FilePickerActivity.java:47)\n     at android.app.Activity.performCreate(Activity.java:6010)\n     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1129)\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2292)\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2413) \n     at android.app.ActivityThread.access$800(ActivityThread.java:155) \n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1317) \n     at android.os.Handler.dispatchMessage(Handler.java:102) \n     at android.os.Looper.loop(Looper.java:135) \n     at android.app.ActivityThread.main(ActivityThread.java:5343) \n     at java.lang.reflect.Method.invoke(Native Method) \n     at java.lang.reflect.Method.invoke(Method.java:372) \n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905) \n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700) \n```\n",
    "keywords": [
      "com",
      "handler",
      "internal",
      "activity",
      "android",
      "pattern",
      "main",
      "looper",
      "invoke",
      "lang reflect",
      "reflect",
      "java",
      "ui",
      "lang",
      "internal os",
      "materialfilepicker",
      "zygoteinit",
      " ",
      "app",
      "nbsp",
      "android os",
      "os",
      "method",
      "method invoke",
      "com android",
      "filepickeractivity",
      "activitythread",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nbsp-team/MaterialFilePicker/commit/d8a6d9d3bec4b883f3e6e5157338e1eced6983f9",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -1,13 +1,13 @@\n apply plugin: \u0027com.android.application\u0027\n \n android {\n-    compileSdkVersion 23\n-    buildToolsVersion \"23.0.3\"\n+    compileSdkVersion 24\n+    buildToolsVersion \"24.0.1\"\n \n     defaultConfig {\n         applicationId \"com.dimorinny.sample\"\n         minSdkVersion 14\n-        targetSdkVersion 23\n+        targetSdkVersion 24\n         versionCode 1\n         versionName \"1.0\"\n     }\n@@ -21,13 +21,14 @@ android {\n \n repositories {\n     maven {\n-        url  \"http://dl.bintray.com/lukaville/maven\"\n+        url \"http://dl.bintray.com/lukaville/maven\"\n     }\n }\n \n dependencies {\n     compile fileTree(include: [\u0027*.jar\u0027], dir: \u0027libs\u0027)\n     testCompile \u0027junit:junit:4.12\u0027\n     compile project(\u0027:library\u0027)\n-    compile \u0027com.android.support:appcompat-v7:23.4.0\u0027\n+    compile \u0027com.android.support:appcompat-v7:24.1.0\u0027\n+    compile \u0027com.android.support:support-v4:24.1.0\u0027\n }"
        },
        {
          "file_name": "app/src/main/java/com/dimorinny/sample/MainActivity.java",
          "patch": "@@ -1,9 +1,17 @@\n package com.dimorinny.sample;\n \n+import android.Manifest;\n import android.content.Intent;\n+import android.content.pm.PackageManager;\n import android.os.Bundle;\n+import android.support.annotation.NonNull;\n+import android.support.v4.app.ActivityCompat;\n+import android.support.v4.content.ContextCompat;\n import android.support.v7.app.AppCompatActivity;\n import android.util.Log;\n+import android.view.View;\n+import android.widget.Button;\n+import android.widget.Toast;\n \n import com.nbsp.materialfilepicker.MaterialFilePicker;\n import com.nbsp.materialfilepicker.ui.FilePickerActivity;\n@@ -12,16 +20,60 @@\n \n public class MainActivity extends AppCompatActivity {\n \n+    public static final int PERMISSIONS_REQUEST_CODE \u003d 0;\n+    public static final int FILE_PICKER_REQUEST_CODE \u003d 1;\n+\n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_main);\n \n+        Button pickButton \u003d (Button) findViewById(R.id.pick_from_activity);\n+        pickButton.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View v) {\n+                checkPermissionsAndOpenFilePicker();\n+            }\n+        });\n+    }\n+\n+    private void checkPermissionsAndOpenFilePicker() {\n+        String permission \u003d Manifest.permission.READ_EXTERNAL_STORAGE;\n+\n+        if (ContextCompat.checkSelfPermission(this, permission) !\u003d PackageManager.PERMISSION_GRANTED) {\n+            if (ActivityCompat.shouldShowRequestPermissionRationale(this, permission)) {\n+                showError();\n+            } else {\n+                ActivityCompat.requestPermissions(this, new String[]{permission}, PERMISSIONS_REQUEST_CODE);\n+            }\n+        } else {\n+            openFilePicker();\n+        }\n+    }\n+\n+    private void showError() {\n+        Toast.makeText(this, \"Allow external storage reading\", Toast.LENGTH_SHORT).show();\n+    }\n+\n+    @Override\n+    public void onRequestPermissionsResult(int requestCode,\n+                                           @NonNull String permissions[], @NonNull int[] grantResults) {\n+        switch (requestCode) {\n+            case PERMISSIONS_REQUEST_CODE: {\n+                if (grantResults.length \u003e 0\n+                        \u0026\u0026 grantResults[0] \u003d\u003d PackageManager.PERMISSION_GRANTED) {\n+                    openFilePicker();\n+                } else {\n+                    showError();\n+                }\n+            }\n+        }\n+    }\n+\n+    private void openFilePicker() {\n         new MaterialFilePicker()\n                 .withActivity(this)\n-                .withRequestCode(1)\n-                .withFilterDirectories(false)\n-                .withFilter(Pattern.compile(\".*\\\\.txt$\"))\n+                .withRequestCode(FILE_PICKER_REQUEST_CODE)\n                 .withHiddenFiles(true)\n                 .start();\n     }\n@@ -30,8 +82,13 @@ protected void onCreate(Bundle savedInstanceState) {\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n         super.onActivityResult(requestCode, resultCode, data);\n \n-        if (requestCode \u003d\u003d 1 \u0026\u0026 resultCode \u003d\u003d RESULT_OK) {\n-            Log.d(\"File\", String.valueOf(data.getStringExtra(FilePickerActivity.RESULT_FILE_PATH)));\n+        if (requestCode \u003d\u003d FILE_PICKER_REQUEST_CODE \u0026\u0026 resultCode \u003d\u003d RESULT_OK) {\n+            String path \u003d data.getStringExtra(FilePickerActivity.RESULT_FILE_PATH);\n+\n+            if (path !\u003d null) {\n+                Log.d(\"Path: \", path);\n+                Toast.makeText(this, \"Picked file: \" + path, Toast.LENGTH_LONG).show();\n+            }\n         }\n     }\n }"
        },
        {
          "file_name": "app/src/main/java/com/dimorinny/sample/SampleFragment.java",
          "patch": "@@ -0,0 +1,106 @@\n+package com.dimorinny.sample;\n+\n+import android.Manifest;\n+import android.app.Activity;\n+import android.content.Intent;\n+import android.content.pm.PackageManager;\n+import android.os.Bundle;\n+import android.support.annotation.NonNull;\n+import android.support.v4.app.ActivityCompat;\n+import android.support.v4.app.Fragment;\n+import android.support.v4.content.ContextCompat;\n+import android.util.Log;\n+import android.view.LayoutInflater;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.widget.Button;\n+import android.widget.Toast;\n+\n+import com.nbsp.materialfilepicker.MaterialFilePicker;\n+import com.nbsp.materialfilepicker.ui.FilePickerActivity;\n+\n+public class SampleFragment extends Fragment {\n+\n+    public static final int PERMISSIONS_REQUEST_CODE \u003d 0;\n+    public static final int FILE_PICKER_REQUEST_CODE \u003d 1;\n+\n+\n+    public SampleFragment() {\n+    }\n+\n+    @Override\n+    public void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+    }\n+\n+    @Override\n+    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n+                             Bundle savedInstanceState) {\n+        View view \u003d inflater.inflate(R.layout.fragment_sample, container, false);\n+\n+        Button pickButton \u003d (Button) view.findViewById(R.id.pick_from_fragment);\n+        pickButton.setOnClickListener(new View.OnClickListener() {\n+            @Override\n+            public void onClick(View view) {\n+                checkPermissionsAndOpenFilePicker();\n+            }\n+        });\n+\n+        return view;\n+    }\n+\n+    private void checkPermissionsAndOpenFilePicker() {\n+        String permission \u003d Manifest.permission.READ_EXTERNAL_STORAGE;\n+\n+        if (ContextCompat.checkSelfPermission(getContext(), permission) !\u003d PackageManager.PERMISSION_GRANTED) {\n+            if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(), permission)) {\n+                showError();\n+            } else {\n+                ActivityCompat.requestPermissions(getActivity(), new String[]{permission}, PERMISSIONS_REQUEST_CODE);\n+            }\n+        } else {\n+            openFilePicker();\n+        }\n+    }\n+\n+    private void showError() {\n+        Toast.makeText(getContext(), \"Allow external storage reading\", Toast.LENGTH_SHORT).show();\n+    }\n+\n+    @Override\n+    public void onRequestPermissionsResult(int requestCode,\n+                                           @NonNull String permissions[], @NonNull int[] grantResults) {\n+        switch (requestCode) {\n+            case PERMISSIONS_REQUEST_CODE: {\n+                if (grantResults.length \u003e 0\n+                        \u0026\u0026 grantResults[0] \u003d\u003d PackageManager.PERMISSION_GRANTED) {\n+                    openFilePicker();\n+                } else {\n+                    showError();\n+                }\n+            }\n+        }\n+    }\n+\n+    private void openFilePicker() {\n+        new MaterialFilePicker()\n+                .withSupportFragment(this)\n+                .withRequestCode(FILE_PICKER_REQUEST_CODE)\n+                .withHiddenFiles(true)\n+                .start();\n+    }\n+\n+    @Override\n+    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n+        super.onActivityResult(requestCode, resultCode, data);\n+\n+        if (requestCode \u003d\u003d FILE_PICKER_REQUEST_CODE \u0026\u0026 resultCode \u003d\u003d Activity.RESULT_OK) {\n+            String path \u003d data.getStringExtra(FilePickerActivity.RESULT_FILE_PATH);\n+\n+            if (path !\u003d null) {\n+                Log.d(\"Path (fragment): \", path);\n+                Toast.makeText(getContext(), \"Picked file in fragment: \" + path, Toast.LENGTH_LONG).show();\n+            }\n+        }\n+    }\n+}"
        },
        {
          "file_name": "app/src/main/res/layout/activity_main.xml",
          "patch": "@@ -1,11 +1,23 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\n-\u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+\u003cLinearLayout\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n     android:layout_width\u003d\"match_parent\"\n     android:layout_height\u003d\"match_parent\"\n-    \u003e\n+    android:orientation\u003d\"vertical\"\n+    android:padding\u003d\"16dp\"\n+\u003e\n \n-    \u003cFrameLayout\n-        android:id\u003d\"@+id/container\"\n-        android:layout_width\u003d\"match_parent\"\n-        android:layout_height\u003d\"match_parent\"/\u003e\n-\u003c/RelativeLayout\u003e\n+    \u003cButton\n+        android:id\u003d\"@+id/pick_from_activity\"\n+        android:layout_width\u003d\"wrap_content\"\n+        android:layout_height\u003d\"wrap_content\"\n+        android:text\u003d\"@string/pick_from_activity\"\n+    /\u003e\n+\n+    \u003cfragment\n+        android:id\u003d\"@+id/sample_fragment\"\n+        class\u003d\"com.dimorinny.sample.SampleFragment\"\n+        android:layout_width\u003d\"wrap_content\"\n+        android:layout_height\u003d\"wrap_content\"\n+    /\u003e\n+\u003c/LinearLayout\u003e"
        },
        {
          "file_name": "app/src/main/res/layout/fragment_sample.xml",
          "patch": "@@ -0,0 +1,13 @@\n+\u003cFrameLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+             xmlns:tools\u003d\"http://schemas.android.com/tools\"\n+             android:layout_width\u003d\"match_parent\"\n+             android:layout_height\u003d\"match_parent\"\n+             tools:context\u003d\"com.dimorinny.sample.SampleFragment\"\u003e\n+\n+    \u003cButton\n+        android:id\u003d\"@+id/pick_from_fragment\"\n+        android:layout_width\u003d\"wrap_content\"\n+        android:layout_height\u003d\"wrap_content\"\n+        android:text\u003d\"@string/pick_from_fragment\"\n+    /\u003e\n+\u003c/FrameLayout\u003e"
        },
        {
          "file_name": "app/src/main/res/values/strings.xml",
          "patch": "@@ -1,3 +1,8 @@\n \u003cresources\u003e\n-    \u003cstring name\u003d\"app_name\"\u003esample\u003c/string\u003e\n+    \u003cstring name\u003d\"app_name\"\u003eMaterialFilePicker Sample\u003c/string\u003e\n+    \u003cstring name\u003d\"pick_from_activity\"\u003ePick file from activity\u003c/string\u003e\n+\n+    \u003c!-- TODO: Remove or change this placeholder text --\u003e\n+    \u003cstring name\u003d\"hello_blank_fragment\"\u003eHello blank fragment\u003c/string\u003e\n+    \u003cstring name\u003d\"pick_from_fragment\"\u003ePick from fragment\u003c/string\u003e\n \u003c/resources\u003e"
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -5,7 +5,7 @@ buildscript {\n         jcenter()\n     }\n     dependencies {\n-        classpath \u0027com.android.tools.build:gradle:2.1.0\u0027\n+        classpath \u0027com.android.tools.build:gradle:2.1.2\u0027\n         classpath \u0027com.jfrog.bintray.gradle:gradle-bintray-plugin:1.2\u0027\n         classpath \u0027com.github.dcendents:android-maven-gradle-plugin:1.3\u0027\n     }"
        },
        {
          "file_name": "library/build.gradle",
          "patch": "@@ -13,7 +13,7 @@ ext {\n     siteUrl \u003d \u0027https://github.com/nbsp-team/MaterialFilePicker\u0027\n     gitUrl \u003d \u0027https://github.com/nbsp-team/MaterialFilePicker\u0027\n \n-    libraryVersion \u003d \u00271.09\u0027\n+    libraryVersion \u003d \u00271.1\u0027\n \n     developerId \u003d \u0027lukaville\u0027\n     developerName \u003d \u0027Nickolay Chameev\u0027\n@@ -25,14 +25,14 @@ ext {\n }\n \n android {\n-    compileSdkVersion 23\n-    buildToolsVersion \"23.0.3\"\n+    compileSdkVersion 24\n+    buildToolsVersion \"24.0.1\"\n \n     defaultConfig {\n         minSdkVersion 14\n-        targetSdkVersion 23\n+        targetSdkVersion 24\n         versionCode 10\n-        versionName \"1.09\"\n+        versionName \"1.1\"\n     }\n     buildTypes {\n         release {\n@@ -46,9 +46,11 @@ dependencies {\n     compile fileTree(dir: \u0027libs\u0027, include: [\u0027*.jar\u0027])\n     testCompile \u0027junit:junit:4.12\u0027\n \n-    compile \u0027com.android.support:appcompat-v7:23.4.0\u0027\n-    compile \u0027com.android.support:recyclerview-v7:23.4.0\u0027\n-    compile \u0027com.android.support:design:23.4.0\u0027\n+    androidTestCompile \u0027com.android.support.test.espresso:espresso-core:2.2.1\u0027\n+\n+    compile \u0027com.android.support:appcompat-v7:24.1.0\u0027\n+    compile \u0027com.android.support:recyclerview-v7:24.1.0\u0027\n+    compile \u0027com.android.support:design:24.1.0\u0027\n }\n \n apply from: \u0027https://raw.githubusercontent.com/nuuneoi/JCenter/master/installv1.gradle\u0027"
        },
        {
          "file_name": "library/src/androidTest/java/com/nbsp/materialfilepicker/ApplicationTest.java",
          "patch": "@@ -1,13 +0,0 @@\n-package com.nbsp.materialfilepicker;\n-\n-import android.app.Application;\n-import android.test.ApplicationTestCase;\n-\n-/**\n- * \u003ca href\u003d\"http://d.android.com/tools/testing/testing_android.html\"\u003eTesting Fundamentals\u003c/a\u003e\n- */\n-public class ApplicationTest extends ApplicationTestCase\u003cApplication\u003e {\n-    public ApplicationTest() {\n-        super(Application.class);\n-    }\n-}\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/androidTest/java/com/nbsp/materialfilepicker/FilePickerTest.java",
          "patch": "@@ -0,0 +1,35 @@\n+package com.nbsp.materialfilepicker;\n+\n+import android.support.test.rule.ActivityTestRule;\n+import android.support.test.runner.AndroidJUnit4;\n+\n+import com.nbsp.materialfilepicker.ui.FilePickerActivity;\n+\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class FilePickerTest {\n+    @Rule\n+    public ActivityTestRule\u003cFilePickerActivity\u003e mActivityRule \u003d new ActivityTestRule\u003c\u003e(\n+            FilePickerActivity.class,\n+            true,\n+            false\n+    );\n+\n+    @Before\n+    public void before() {\n+    }\n+\n+    @Test\n+    public void selectFile() {\n+        mActivityRule.launchActivity(\n+                new MaterialFilePicker()\n+                        .withRequestCode(1)\n+                        .withHiddenFiles(true)\n+                        .getIntent()\n+        );\n+    }\n+}"
        },
        {
          "file_name": "library/src/main/java/com/nbsp/materialfilepicker/MaterialFilePicker.java",
          "patch": "@@ -1,6 +1,7 @@\n package com.nbsp.materialfilepicker;\n \n import android.app.Activity;\n+import android.app.Fragment;\n import android.content.Intent;\n \n import com.nbsp.materialfilepicker.filter.CompositeFilter;\n@@ -12,56 +13,125 @@\n import java.util.ArrayList;\n import java.util.regex.Pattern;\n \n+\n /**\n- * Created by Dimorinny on 25.02.16.\n+ * Material File Picker builder\n  */\n public class MaterialFilePicker {\n     private Activity mActivity;\n+    private Fragment mFragment;\n+    private android.support.v4.app.Fragment mSupportFragment;\n+\n     private Integer mRequestCode;\n     private Pattern mFileFilter;\n     private Boolean mDirectoriesFilter \u003d false;\n     private String mRootPath;\n     private String mCurrentPath;\n     private Boolean mShowHidden \u003d false;\n \n-    public MaterialFilePicker() {}\n+    public MaterialFilePicker() {\n+    }\n \n+\n+    /**\n+     * Specifies activity, which will be used to\n+     * start file picker\n+     */\n     public MaterialFilePicker withActivity(Activity activity) {\n+        if (mSupportFragment !\u003d null || mFragment !\u003d null) {\n+            throw new RuntimeException(\"You must pass either Activity, Fragment or SupportFragment\");\n+        }\n+\n         mActivity \u003d activity;\n         return this;\n     }\n \n+    /**\n+     * Specifies fragment, which will be used to\n+     * start file picker\n+     */\n+    public MaterialFilePicker withFragment(Fragment fragment) {\n+        if (mSupportFragment !\u003d null || mActivity !\u003d null) {\n+            throw new RuntimeException(\"You must pass either Activity, Fragment or SupportFragment\");\n+        }\n+\n+        mFragment \u003d fragment;\n+        return this;\n+    }\n+\n+    /**\n+     * Specifies support fragment which will be used to\n+     * start file picker\n+     */\n+    public MaterialFilePicker withSupportFragment(android.support.v4.app.Fragment fragment) {\n+        if (mActivity !\u003d null || mFragment !\u003d null) {\n+            throw new RuntimeException(\"You must pass either Activity, Fragment or SupportFragment\");\n+        }\n+\n+        mSupportFragment \u003d fragment;\n+        return this;\n+    }\n+\n+    /**\n+     * Specifies request code that used in activity result\n+     *\n+     * @see \u003ca href\u003d\"https://developer.android.com/training/basics/intents/result.html\"\u003eGetting a Result from an Activity\u003c/a\u003e\n+     */\n     public MaterialFilePicker withRequestCode(int requestCode) {\n         mRequestCode \u003d requestCode;\n         return this;\n     }\n \n+\n+    /**\n+     * Hides files that matched by specified regular expression.\n+     * Use {@link MaterialFilePicker#withFilterDirectories withFilterDirectories} method\n+     * to enable directories filtering\n+     */\n     public MaterialFilePicker withFilter(Pattern pattern) {\n         mFileFilter \u003d pattern;\n         return this;\n     }\n \n+    /**\n+     * If directoriesFilter is true directories will also be affected by filter,\n+     * the default value of directories filter is false\n+     *\n+     * @see MaterialFilePicker#withFilter\n+     */\n     public MaterialFilePicker withFilterDirectories(boolean directoriesFilter) {\n         mDirectoriesFilter \u003d directoriesFilter;\n         return this;\n     }\n \n+    /**\n+     * Specifies root directory for picker,\n+     * user can\u0027t go upper that specified path\n+     */\n     public MaterialFilePicker withRootPath(String rootPath) {\n         mRootPath \u003d rootPath;\n         return this;\n     }\n \n+    /**\n+     * Specifies start directory for picker,\n+     * which will be shown to user at the beginning\n+     */\n     public MaterialFilePicker withPath(String path) {\n         mCurrentPath \u003d path;\n         return this;\n     }\n \n+\n+    /**\n+     * Show or hide hidden files in picker\n+     */\n     public MaterialFilePicker withHiddenFiles(boolean show) {\n         mShowHidden \u003d show;\n         return this;\n     }\n \n-    private CompositeFilter getFilter() {\n+    public CompositeFilter getFilter() {\n         ArrayList\u003cFileFilter\u003e filters \u003d new ArrayList\u003c\u003e();\n \n         if (!mShowHidden) {\n@@ -75,18 +145,23 @@ private CompositeFilter getFilter() {\n         return new CompositeFilter(filters);\n     }\n \n-    public void start() {\n-        if (mActivity \u003d\u003d null) {\n-            throw new RuntimeException(\"You must pass activity by calling withActivity method\");\n-        }\n-\n-        if (mRequestCode \u003d\u003d null) {\n-            throw new RuntimeException(\"You must pass request code by calling withRequestCode method\");\n-        }\n \n+    /**\n+     * @return Intent that can be used to start Material File Picker\n+     */\n+    public Intent getIntent() {\n         CompositeFilter filter \u003d getFilter();\n \n-        Intent intent \u003d new Intent(mActivity, FilePickerActivity.class);\n+        Activity activity \u003d null;\n+        if (mActivity !\u003d null) {\n+            activity \u003d mActivity;\n+        } else if (mFragment !\u003d null) {\n+            activity \u003d mFragment.getActivity();\n+        } else if (mSupportFragment !\u003d null) {\n+            activity \u003d mSupportFragment.getActivity();\n+        }\n+\n+        Intent intent \u003d new Intent(activity, FilePickerActivity.class);\n         intent.putExtra(FilePickerActivity.ARG_FILTER, filter);\n \n         if (mRootPath !\u003d null) {\n@@ -96,6 +171,34 @@ public void start() {\n         if (mCurrentPath !\u003d null) {\n             intent.putExtra(FilePickerActivity.ARG_CURRENT_PATH, mCurrentPath);\n         }\n-        mActivity.startActivityForResult(intent, mRequestCode);\n+\n+        return intent;\n+    }\n+\n+    /**\n+     * Open Material File Picker activity.\n+     * You should set Activity or Fragment before calling this method\n+     * @see MaterialFilePicker#withActivity(Activity)\n+     * @see MaterialFilePicker#withFragment(Fragment)\n+     * @see MaterialFilePicker#withSupportFragment(android.support.v4.app.Fragment)\n+     */\n+    public void start() {\n+        if (mActivity \u003d\u003d null \u0026\u0026 mFragment \u003d\u003d null \u0026\u0026 mSupportFragment \u003d\u003d null) {\n+            throw new RuntimeException(\"You must pass Activity/Fragment by calling withActivity/withFragment/withSupportFragment method\");\n+        }\n+\n+        if (mRequestCode \u003d\u003d null) {\n+            throw new RuntimeException(\"You must pass request code by calling withRequestCode method\");\n+        }\n+\n+        Intent intent \u003d getIntent();\n+\n+        if (mActivity !\u003d null) {\n+            mActivity.startActivityForResult(intent, mRequestCode);\n+        } else if (mFragment !\u003d null) {\n+            mFragment.startActivityForResult(intent, mRequestCode);\n+        } else {\n+            mSupportFragment.startActivityForResult(intent, mRequestCode);\n+        }\n     }\n }"
        },
        {
          "file_name": "library/src/main/java/com/nbsp/materialfilepicker/ui/DirectoryAdapter.java",
          "patch": "@@ -25,7 +25,7 @@\n \n     public class DirectoryViewHolder extends RecyclerView.ViewHolder {\n         private ImageView mFileImage;\n-        private TextView mFileTite;\n+        private TextView mFileTitle;\n         private TextView mFileSubtitle;\n \n         public DirectoryViewHolder(View itemView, final OnItemClickListener clickListener) {\n@@ -39,7 +39,7 @@ public void onClick(View v) {\n             });\n \n             mFileImage \u003d (ImageView) itemView.findViewById(R.id.item_file_image);\n-            mFileTite \u003d (TextView) itemView.findViewById(R.id.item_file_title);\n+            mFileTitle \u003d (TextView) itemView.findViewById(R.id.item_file_title);\n             mFileSubtitle \u003d (TextView) itemView.findViewById(R.id.item_file_subtitle);\n         }\n     }\n@@ -73,7 +73,7 @@ public void onBindViewHolder(DirectoryViewHolder holder, int position) {\n         FileTypeUtils.FileType fileType \u003d FileTypeUtils.getFileType(currentFile);\n         holder.mFileImage.setImageResource(fileType.getIcon());\n         holder.mFileSubtitle.setText(fileType.getDescription());\n-        holder.mFileTite.setText(currentFile.getName());\n+        holder.mFileTitle.setText(currentFile.getName());\n     }\n \n     @Override"
        },
        {
          "file_name": "library/src/main/java/com/nbsp/materialfilepicker/ui/FilePickerActivity.java",
          "patch": "@@ -13,10 +13,15 @@\n \n import com.nbsp.materialfilepicker.R;\n import com.nbsp.materialfilepicker.filter.CompositeFilter;\n+import com.nbsp.materialfilepicker.filter.PatternFilter;\n import com.nbsp.materialfilepicker.utils.FileUtils;\n \n import java.io.File;\n+import java.io.FileFilter;\n+import java.io.Serializable;\n import java.lang.reflect.Field;\n+import java.util.ArrayList;\n+import java.util.regex.Pattern;\n \n /**\n  * Created by Dimorinny on 24.10.15.\n@@ -59,7 +64,15 @@ protected void onCreate(Bundle savedInstanceState) {\n     @SuppressWarnings(\"unchecked\")\n     private void initArguments() {\n         if (getIntent().hasExtra(ARG_FILTER)) {\n-            mFilter \u003d (CompositeFilter) getIntent().getSerializableExtra(ARG_FILTER);\n+            Serializable filter \u003d getIntent().getSerializableExtra(ARG_FILTER);\n+\n+            if (filter instanceof Pattern) {\n+                ArrayList\u003cFileFilter\u003e filters \u003d new ArrayList\u003c\u003e();\n+                filters.add(new PatternFilter((Pattern) filter, false));\n+                mFilter \u003d new CompositeFilter(filters);\n+            } else {\n+                mFilter \u003d (CompositeFilter) filter;\n+            }\n         }\n \n         if (getIntent().hasExtra(ARG_START_PATH)) {\n@@ -68,7 +81,7 @@ private void initArguments() {\n         }\n \n         if (getIntent().hasExtra(ARG_CURRENT_PATH)) {\n-            String currentPath \u003d getIntent().getStringExtra(ARG_START_PATH);\n+            String currentPath \u003d getIntent().getStringExtra(ARG_CURRENT_PATH);\n \n             if (currentPath.startsWith(mStartPath)) {\n                 mCurrentPath \u003d currentPath;"
        },
        {
          "file_name": "library/src/test/java/com/nbsp/materialfilepicker/BuilderTest.java",
          "patch": "@@ -2,14 +2,13 @@\n \n import org.junit.Test;\n \n-import static org.junit.Assert.*;\n-\n /**\n  * To work on unit tests, switch the Test Artifact in the Build Variants view.\n  */\n-public class ExampleUnitTest {\n+public class BuilderTest {\n     @Test\n-    public void addition_isCorrect() throws Exception {\n-        assertEquals(4, 2 + 2);\n+    public void getIntent() {\n+        new MaterialFilePicker()\n+                .getFilter();\n     }\n }\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "Can\u0027t find ColorStateList for windowBackground property",
    "url": "https://github.com/afollestad/aesthetic/issues/17",
    "description": "```gradle\r\njava.lang.RuntimeException: Unable to resume activity {com.mnml.music.test/com.mnml.music.ui.activity.MainActivity}: android.content.res.Resources$NotFoundException: Can\u0027t find ColorStateList from drawable resource ID #0x7f020057\r\n                                                                       at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3644)\r\n                                                                       at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3684)\r\n                                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2896)\r\n                                                                       at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1591)\r\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:105)\r\n                                                                       at android.os.Looper.loop(Looper.java:164)\r\n                                                                       at android.app.ActivityThread.main(ActivityThread.java:6535)\r\n                                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n                                                                    Caused by: android.content.res.Resources$NotFoundException: Can\u0027t find ColorStateList from drawable resource ID #0x7f020057\r\n                                                                       at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:894)\r\n                                                                       at android.content.res.Resources.loadColorStateList(Resources.java:1053)\r\n                                                                       at android.content.res.TypedArray.getColor(TypedArray.java:459)\r\n                                                                       at com.afollestad.aesthetic.Util.resolveColor(Util.java:87)\r\n                                                                       at com.afollestad.aesthetic.Util.resolveColor(Util.java:80)\r\n                                                                       at com.afollestad.aesthetic.Aesthetic.colorWindowBackground(Aesthetic.java:476)\r\n                                                                       at com.afollestad.aesthetic.Aesthetic.resume(Aesthetic.java:233)\r\n                                                                       at com.afollestad.aesthetic.AestheticActivity.onResume(AestheticActivity.java:19)\r\n                                                                       at com.mnml.music.ui.activity.MainActivity.onResume(MainActivity.java:369)\r\n                                                                       at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1354)\r\n                                                                       at android.app.Activity.performResume(Activity.java:7058)\r\n                                                                       at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3619)\r\n\r\n```\r\nSource code at https://github.com/MnmlOS/Music\r\n",
    "keywords": [
      "com",
      "app",
      "aesthetic",
      "res",
      "os",
      "com afollestad",
      "activity",
      "app activitythread",
      "android",
      "content",
      "activitythread",
      "afollestad",
      "android content",
      "mnml",
      "music",
      "util",
      "find",
      "colorstatelist",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/afollestad/aesthetic/commit/8f47ddf3b9fb5de7637c4c79c14105f4d625aca1",
      "files": [
        {
          "file_name": "library/src/main/java/com/afollestad/aesthetic/Aesthetic.java",
          "patch": "@@ -39,9 +39,7 @@\n import static com.afollestad.aesthetic.Util.setLightStatusBarCompat;\n import static com.afollestad.aesthetic.Util.setNavBarColorCompat;\n \n-/**\n- * @author Aidan Follestad (afollestad)\n- */\n+/** @author Aidan Follestad (afollestad) */\n @SuppressWarnings({\"WeakerAccess\", \"unused\"})\n public class Aesthetic {\n \n@@ -106,9 +104,7 @@ private static String key(@Nullable AppCompatActivity activity) {\n     return key;\n   }\n \n-  /**\n-   * Should be called before super.onCreate() in each Activity.\n-   */\n+  /** Should be called before super.onCreate() in each Activity. */\n   @NonNull\n   public static Aesthetic attach(@NonNull AppCompatActivity activity) {\n     if (instance \u003d\u003d null) {\n@@ -137,9 +133,7 @@ public static Aesthetic get() {\n     return instance;\n   }\n \n-  /**\n-   * Should be called in onPause() of each Activity.\n-   */\n+  /** Should be called in onPause() of each Activity. */\n   public static void pause(@NonNull AppCompatActivity activity) {\n     if (instance \u003d\u003d null) {\n       return;\n@@ -160,9 +154,7 @@ public static void pause(@NonNull AppCompatActivity activity) {\n     }\n   }\n \n-  /**\n-   * Should be called in onResume() of each Activity.\n-   */\n+  /** Should be called in onResume() of each Activity. */\n   public static void resume(@NonNull AppCompatActivity activity) {\n     if (instance \u003d\u003d null) {\n       return;\n@@ -206,14 +198,14 @@ public void accept(@io.reactivex.annotations.NonNull Integer themeId) {\n                 onErrorLogAndRethrow()));\n     instance.subs.add(\n         Observable.combineLatest(\n-            instance.colorStatusBar(),\n-            instance.lightStatusBarMode(),\n-            new BiFunction\u003cInteger, Integer, Pair\u003cInteger, Integer\u003e\u003e() {\n-              @Override\n-              public Pair\u003cInteger, Integer\u003e apply(Integer integer, Integer integer2) {\n-                return Pair.create(integer, integer2);\n-              }\n-            })\n+                instance.colorStatusBar(),\n+                instance.lightStatusBarMode(),\n+                new BiFunction\u003cInteger, Integer, Pair\u003cInteger, Integer\u003e\u003e() {\n+                  @Override\n+                  public Pair\u003cInteger, Integer\u003e apply(Integer integer, Integer integer2) {\n+                    return Pair.create(integer, integer2);\n+                  }\n+                })\n             .compose(Rx.\u003cPair\u003cInteger, Integer\u003e\u003edistinctToMainThread())\n             .subscribe(\n                 new Consumer\u003cPair\u003cInteger, Integer\u003e\u003e() {"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/aesthetic/Util.java",
          "patch": "@@ -85,6 +85,8 @@ static int resolveColor(Context context, @AttrRes int attr, int fallback) {\n     TypedArray a \u003d context.getTheme().obtainStyledAttributes(new int[] {attr});\n     try {\n       return a.getColor(0, fallback);\n+    } catch (Throwable ignored) {\n+      return fallback;\n     } finally {\n       a.recycle();\n     }"
        }
      ]
    }
  },
  {
    "name": "CodeGenService Crash on Back",
    "url": "https://github.com/google/blockly-android/issues/535",
    "description": "1. Open turtle demo. Drag a block to the workspace.\r\n1. Hit the play button in the action bar to invoke code generation.\r\n1. Click the system **HOME** button (CIRCLE).\r\n1. Click the system task button (SQUARE).\r\n1. Find the Turtle demo. See the with screenshot including the workspace block. Select it.\r\n1. Find the block still on the workspace.\r\n1. Do not run code gen again.\r\n1. Click the system **BACK** button (TRIANGLE). Click twice if the toolbox was open.\r\n1. Crash (from API 24 develop branch):\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.google.blockly.demo, PID: 8742\r\n                  java.lang.RuntimeException: Unable to pause activity {com.google.blockly.demo/com.google.blockly.android.demo.TurtleActivity}: java.lang.IllegalArgumentException: Service not registered: com.google.blockly.android.codegen.CodeGeneratorManager$1@86bad5c\r\n                      at android.app.ActivityThread.performPauseActivityIfNeeded(ActivityThread.java:3722)\r\n                      at android.app.ActivityThread.performPauseActivity(ActivityThread.java:3688)\r\n                      at android.app.ActivityThread.performPauseActivity(ActivityThread.java:3662)\r\n                      at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:3636)\r\n                      at android.app.ActivityThread.-wrap16(ActivityThread.java)\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1481)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                      at android.os.Looper.loop(Looper.java:154)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                   Caused by: java.lang.IllegalArgumentException: Service not registered: com.google.blockly.android.codegen.CodeGeneratorManager$1@86bad5c\r\n                      at android.app.LoadedApk.forgetServiceDispatcher(LoadedApk.java:1289)\r\n                      at android.app.ContextImpl.unbindService(ContextImpl.java:1511)\r\n                      at android.content.ContextWrapper.unbindService(ContextWrapper.java:648)\r\n                      at com.google.blockly.android.codegen.CodeGeneratorManager.onPause(CodeGeneratorManager.java:80)\r\n                      at com.google.blockly.android.BlocklyActivityHelper.onPause(BlocklyActivityHelper.java:214)\r\n                      at com.google.blockly.android.AbstractBlocklyActivity.onPause(AbstractBlocklyActivity.java:285)\r\n                      at android.app.Activity.performPause(Activity.java:6802)\r\n                      at android.app.Instrumentation.callActivityOnPause(Instrumentation.java:1322)\r\n                      at android.app.ActivityThread.performPauseActivityIfNeeded(ActivityThread.java:3711)\r\n                      at android.app.ActivityThread.performPauseActivity(ActivityThread.java:3688) \r\n                      at android.app.ActivityThread.performPauseActivity(ActivityThread.java:3662) \r\n                      at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:3636) \r\n                      at android.app.ActivityThread.-wrap16(ActivityThread.java) \r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1481) \r\n                      at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                      at android.os.Looper.loop(Looper.java:154) \r\n                      at android.app.ActivityThread.main(ActivityThread.java:6077) \r\n                      at java.lang.reflect.Method.invoke(Native Method) \r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \r\n```\r\n\r\nSee on emulators for API 19 and 24, master and develop branches. I haven\u0027t checked others.",
    "keywords": [
      "com",
      "handler",
      "internal",
      "workspace",
      "google blockly",
      "performpauseactivity",
      "activity",
      "app activitythread",
      "android",
      "invoke",
      "main",
      "run",
      "looper",
      "demo",
      "button",
      "not",
      "java",
      "onpause",
      "block",
      "lang",
      "internal os",
      "zygoteinit",
      " ",
      "codegen",
      "app",
      "blockly android",
      "blockly",
      "method",
      "os",
      "performpauseactivity activitythread",
      "com android",
      "google",
      "click",
      "activitythread",
      "1",
      "system",
      "com google",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/google/blockly-android/commit/377aaf0caf0fc9b6fa8069ddcef79eca72fd3afc",
      "files": [
        {
          "file_name": "blocklylib-core/src/main/java/com/google/blockly/android/codegen/CodeGeneratorManager.java",
          "patch": "@@ -51,7 +51,7 @@ public CodeGeneratorManager(Context context) {\n             public void onServiceConnected(ComponentName className, IBinder binder) {\n                 try {\n                     if (!mResumed) {\n-                        mContext.unbindService(mCodeGenerationConnection);\n+                        unbind();\n                     } else {\n                         mGeneratorService \u003d ((CodeGeneratorService.CodeGeneratorBinder) binder).getService();\n \n@@ -76,9 +76,7 @@ public void onServiceDisconnected(ComponentName arg0) {\n      */\n     public void onPause() {\n         mResumed \u003d false;\n-        if (isBound()) {\n-            mContext.unbindService(mCodeGenerationConnection);\n-        }\n+        unbind();\n     }\n \n     /**\n@@ -91,6 +89,16 @@ public void onResume() {\n     }\n \n     /**\n+     * Checks if the service is currently bound and unbinds it if it is.\n+     */\n+    protected void unbind() {\n+        if (isBound()) {\n+            mContext.unbindService(mCodeGenerationConnection);\n+            mGeneratorService \u003d null;\n+        }\n+    }\n+\n+    /**\n      * Calls the Service to request code generation for the workspace passed in.\n      *\n      * @param codeGenerationRequest the request to generate code."
        }
      ]
    }
  },
  {
    "name": "Handle permission denied to contacts",
    "url": "https://github.com/kontalk/androidclient/issues/808",
    "description": "As usual, some strange chinese firmware...\nBe sure to check for the result of `moveToFirst`.\n\n```\njava.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d65539, result\u003d-1, data\u003dIntent { dat\u003dcontent://com.android.contacts/contacts/lookup/****LOOKUP KEY HIDDEN****/168 flg\u003d0x1 }} to activity {org.kontalk/org.kontalk.ui.ComposeMessage}: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n       at android.app.ActivityThread.deliverResults(ActivityThread.java:3367)\n       at android.app.ActivityThread.handleSendResult(ActivityThread.java:3410)\n       at android.app.ActivityThread.access$1300(ActivityThread.java:141)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1260)\n       at android.os.Handler.dispatchMessage(Handler.java:102)\n       at android.os.Looper.loop(Looper.java:136)\n       at android.app.ActivityThread.main(ActivityThread.java:5052)\n       at java.lang.reflect.Method.invokeNative(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:515)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:609)\n       at dalvik.system.NativeStart.main(NativeStart.java)\nCaused by android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n       at android.database.AbstractCursor.checkPosition(AbstractCursor.java:432)\n       at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:136)\n       at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:50)\n       at android.database.CursorWrapper.getString(CursorWrapper.java:114)\n       at org.kontalk.ui.ComposeMessageFragment.onActivityResult(ComposeMessageFragment.java:1533)\n       at android.support.v4.app.FragmentActivity.onActivityResult(FragmentActivity.java:175)\n       at org.kontalk.ui.ComposeMessage.onActivityResult(ComposeMessage.java:299)\n       at android.app.Activity.dispatchActivityResult(Activity.java:5440)\n       at android.app.ActivityThread.deliverResults(ActivityThread.java:3363)\n       at android.app.ActivityThread.handleSendResult(ActivityThread.java:3410)\n       at android.app.ActivityThread.access$1300(ActivityThread.java:141)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1260)\n       at android.os.Handler.dispatchMessage(Handler.java:102)\n       at android.os.Looper.loop(Looper.java:136)\n       at android.app.ActivityThread.main(ActivityThread.java:5052)\n       at java.lang.reflect.Method.invokeNative(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:515)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:609)\n       at dalvik.system.NativeStart.main(NativeStart.java)\n```\n",
    "keywords": [
      "com",
      "handler",
      "internal",
      "activity",
      "app activitythread",
      "android",
      "abstractwindowedcursor",
      "main",
      "looper",
      "android database",
      "onactivityresult",
      "database",
      "nativestart",
      "reflect",
      "java",
      "ui",
      "lang",
      "kontalk",
      "zygoteinit",
      "app",
      "os",
      "method",
      "java lang",
      "0",
      "activitythread",
      "android app",
      "java:136"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/d0c24cee0b4bdbd0c1b49470e7ee6f08771cae97",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -1304,20 +1304,34 @@ else if (requestCode \u003d\u003d SELECT_ATTACHMENT_CONTACT) {\n             if (resultCode \u003d\u003d Activity.RESULT_OK) {\n                 Uri uri \u003d data.getData();\n                 if (uri !\u003d null) {\n+                    Uri vcardUri \u003d null;\n+\n                     // get lookup key\n-                    final Cursor c \u003d getActivity().getContentResolver()\n+                    final Cursor c \u003d getContext().getContentResolver()\n                         .query(uri, new String[] { Contacts.LOOKUP_KEY }, null, null, null);\n                     if (c !\u003d null) {\n                         try {\n-                            c.moveToFirst();\n-                            String lookupKey \u003d c.getString(0);\n-                            Uri vcardUri \u003d Uri.withAppendedPath(Contacts.CONTENT_VCARD_URI, lookupKey);\n-                            sendBinaryMessage(vcardUri, VCardComponent.MIME_TYPE, false, VCardComponent.class);\n+                            if (c.moveToFirst()) {\n+                                String lookupKey \u003d c.getString(0);\n+                                vcardUri \u003d Uri.withAppendedPath(Contacts.CONTENT_VCARD_URI, lookupKey);\n+                            }\n+                        }\n+                        catch (Exception e) {\n+                            Log.w(TAG, \"unable to lookup selected contact. Did you grant me the permission?\", e);\n+                            ReportingManager.logException(e);\n                         }\n                         finally {\n                             c.close();\n                         }\n                     }\n+\n+                    if (vcardUri !\u003d null) {\n+                        sendBinaryMessage(vcardUri, VCardComponent.MIME_TYPE, false, VCardComponent.class);\n+                    }\n+                    else {\n+                        Toast.makeText(getContext(), R.string.err_no_contact,\n+                            Toast.LENGTH_LONG).show();\n+                    }\n                 }\n             }\n         }"
        }
      ]
    }
  },
  {
    "name": "Падение при синхронизации",
    "url": "https://github.com/nextgis/android_gisapp/issues/460",
    "description": "```\njava.lang.RuntimeException: Error receiving broadcast Intent { act\u003dcom.nextgis.maplib.notify_update flg\u003d0x10 (has extras) } in com.nextgis.maplib.map.MapContentProviderHelper$VectorLayerNotifyReceiver@3e3f0065\n    at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:922)\n    at android.os.Handler.handleCallback(Handler.java:815)\n    at android.os.Handler.dispatchMessage(Handler.java:104)\n    at android.os.Looper.loop(Looper.java:194)\n    at android.app.ActivityThread.main(ActivityThread.java:5534)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:955)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:750)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.nextgis.maplib.datasource.GeometryRTree$Node.setParent(com.nextgis.maplib.datasource.GeometryRTree$Node)\u0027 on a null object reference\n    at com.nextgis.maplib.datasource.GeometryRTree$Node.add(GeometryRTree.java:788)\n    at com.nextgis.maplib.datasource.GeometryRTree.splitNode(GeometryRTree.java:477)\n    at com.nextgis.maplib.datasource.GeometryRTree.insert(GeometryRTree.java:429)\n    at com.nextgis.maplib.datasource.GeometryRTree.addItem(GeometryRTree.java:145)\n    at com.nextgis.maplib.map.VectorLayer.cacheGeometryEnvelope(VectorLayer.java:625)\n    at com.nextgis.maplib.map.VectorLayer.notifyUpdate(VectorLayer.java:2352)\n    at com.nextgis.maplib.map.MapContentProviderHelper$VectorLayerNotifyReceiver.onReceive(MapContentProviderHelper.java:233)\n    at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:912)\n    ... 8 more\n```\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "maplib",
      "os",
      "method",
      "nextgis",
      "android",
      "run",
      "invoke",
      "vectorlayer",
      "datasource geometryrtree$node",
      "java",
      "com nextgis",
      "nextgis maplib",
      "datasource",
      "geometryrtree$node",
      "android app",
      "lang",
      "geometryrtree",
      "map",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/46ecf35493a8ca44d35d84225df2b805176c5d29",
      "files": [
        {
          "file_name": "maplib",
          "patch": "@@ -1 +1 @@\n-Subproject commit 7969c6e84c869c2ed03f85e91ef639176495195f\n+Subproject commit dea0c7d2e84900e2a26bafba0952bf069a0928a9"
        },
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit bc4b6e151f8e08ecd28adbbc6be1cbc54289ef25\n+Subproject commit e20d3eb34b702d899311981ca71c2a28c9caf4f0"
        }
      ]
    }
  },
  {
    "name": "crash on upload after upgrade",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/295",
    "description": "Here\u0027s a report of a crash during upload:\r\n\r\n\u003e  I\u0027m using a Samsung Galaxy S6 Android version 6.0.1. I\u0027ve been away from iNat for several weeks, so there was an app update and it has crashed ever since. # of observations or photos doesn\u0027t matter either.  I\u0027ve tried one obsv with no photos, too. It happens every time without fail, both on wifi and cell data. Crash always happens at Syncing Observation Fields. \r\n\r\nExample User-Agent `iNaturalist/1.5.1 (Build 187; Android 3.10.61-8352520 G920VVRS4CPL3; SDK 23; zerofltevzw SM-G920V zerofltevzw)`. They sent a log file after this happened that included the following (file is huge, I can forward if you want it):\r\n\r\n```\r\n01-18 16:36:20.154  1306  1937 D SQL     : SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (id \u003d ? AND _synced_at IS NOT NULL) ORDER BY _id DESC\r\n01-18 16:36:20.164  1306  1937 W SQLiteLog: (28) failed to open \"/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal\" with flag (131072) and mode_t (1b0) due to error (24)\r\n01-18 16:36:20.164  1306  1937 E SQLiteLog: (14) cannot open file at line 31517 of [2ef4f3a5b1]\r\n01-18 16:36:20.164  1306  1937 E SQLiteLog: (14) os_unix.c:31517: (24) open(/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal) - \r\n01-18 16:36:20.164  1306  1937 W SQLiteLog: (28) failed to open \"/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal\" with flag (131074) and mode_t (1b0) due to error (24)\r\n01-18 16:36:20.164  1306  1937 W SQLiteLog: (28) failed to open \"/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal\" with flag (131072) and mode_t (1b0) due to error (24)\r\n01-18 16:36:20.164  1306  1937 E SQLiteLog: (14) cannot open file at line 31517 of [2ef4f3a5b1]\r\n01-18 16:36:20.164  1306  1937 E SQLiteLog: (14) os_unix.c:31517: (24) open(/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal) - \r\n01-18 16:36:20.164  1306  1937 E SQLiteLog: (2062) statement aborts at 55: [SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_\r\n01-18 16:36:20.174  1306  1937 E SQLiteQuery: exception: unable to open database file (code 2062)\r\n01-18 16:36:20.174  1306  1937 E SQLiteQuery: #################################################################\r\n01-18 16:36:20.174  1306  1937 E SQLiteQuery: Error Code : 2062 (SQLITE_CANTOPEN_EMFILE)\r\n01-18 16:36:20.174  1306  1937 E SQLiteQuery: Caused By : Application has opened two many files. Maximum of available file descriptors in one process is 1024 in default.\r\n01-18 16:36:20.174  1306  1937 E SQLiteQuery: \t(unable to open database file (code 2062))\r\n01-18 16:36:20.174  1306  1937 E SQLiteQuery: #################################################################; query: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (id \u003d ? AND _synced_at IS NOT NULL) ORDER BY _id DESC\r\n01-18 16:36:20.184  1306  1937 I INaturalistService: Sending ACTION_SYNC_COMPLETE\r\n01-18 16:36:20.184  1306  1937 W System.err: android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file (code 2062)\r\n01-18 16:36:20.184  1306  1937 W System.err: #################################################################\r\n01-18 16:36:20.184  1306  1937 W System.err: Error Code : 2062 (SQLITE_CANTOPEN_EMFILE)\r\n01-18 16:36:20.184  1306  1937 W System.err: Caused By : Application has opened two many files. Maximum of available file descriptors in one process is 1024 in default.\r\n01-18 16:36:20.184  1306  1937 W System.err: \t(unable to open database file (code 2062))\r\n01-18 16:36:20.184  1306  1937 W System.err: #################################################################\r\n01-18 16:36:20.184  1306  1306 I INAT:ObservationListActivity: Got ACTION_SYNC_COMPLETE\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(Native Method)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:980)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:143)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:132)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.content.ContentResolver.query(ContentResolver.java:521)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.content.ContentResolver.query(ContentResolver.java:445)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat org.inaturalist.android.INaturalistService.syncObservationFields(INaturalistService.java:2313)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:802)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.os.Looper.loop(Looper.java:158)\r\n01-18 16:36:20.194  1306  1937 W System.err: \tat android.os.HandlerThread.run(HandlerThread.java:61)\r\n01-18 16:36:20.194  1306  1937 W FlurryAgent: Error logged: uncaught\r\n01-18 16:36:20.194  1306  1306 D SQL     : SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027kimberlietx\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-18 16:36:20.204  1306  1306 W SQLiteLog: (28) failed to open \"/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal\" with flag (131072) and mode_t (1b0) due to error (24)\r\n01-18 16:36:20.204  1306  1306 E SQLiteLog: (14) cannot open file at line 31517 of [2ef4f3a5b1]\r\n01-18 16:36:20.204  1306  1937 W FlurryAgent: End session with context: org.inaturalist.android.ObservationListActivity@ec3947b count:0\r\n01-18 16:36:20.204  1306  1306 E SQLiteLog: (14) os_unix.c:31517: (24) open(/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal) - \r\n01-18 16:36:20.204  1306  1937 E art     : ashmem_create_region failed for \u0027indirect ref table\u0027: Too many open files\r\n01-18 16:36:20.204  1306  1306 W SQLiteLog: (28) failed to open \"/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal\" with flag (131074) and mode_t (1b0) due to error (24)\r\n01-18 16:36:20.204  1306  1937 W art     : Throwing OutOfMemoryError \"Could not allocate JNI Env\"\r\n01-18 16:36:20.204  1306  1306 W SQLiteLog: (28) failed to open \"/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal\" with flag (131072) and mode_t (1b0) due to error (24)\r\n01-18 16:36:20.204  1306  1306 E SQLiteLog: (14) cannot open file at line 31517 of [2ef4f3a5b1]\r\n01-18 16:36:20.204  1306  1306 E SQLiteLog: (14) os_unix.c:31517: (24) open(/data/user/0/org.inaturalist.android/databases/inaturalist.db-journal) - \r\n01-18 16:36:20.204  1306  1306 E SQLiteLog: (2062) statement aborts at 108: [SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on\r\n01-18 16:36:20.204  1306  1306 E SQLiteQuery: exception: unable to open database file (code 2062)\r\n01-18 16:36:20.204  1306  1306 E SQLiteQuery: #################################################################\r\n01-18 16:36:20.204  1306  1306 E SQLiteQuery: Error Code : 2062 (SQLITE_CANTOPEN_EMFILE)\r\n01-18 16:36:20.204  1306  1306 E SQLiteQuery: Caused By : Application has opened two many files. Maximum of available file descriptors in one process is 1024 in default.\r\n01-18 16:36:20.204  1306  1306 E SQLiteQuery: \t(unable to open database file (code 2062))\r\n01-18 16:36:20.204  1306  1306 E SQLiteQuery: #################################################################; query: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027kimberlietx\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-18 16:36:20.224  1306  1306 D AndroidRuntime: Shutting down VM\r\n01-18 16:36:20.224  1306  1306 W System.err: java.lang.RuntimeException: Error receiving broadcast Intent { act\u003dsync_complete flg\u003d0x10 bqHint\u003d4 (has extras) } in org.inaturalist.android.ObservationListActivity$SyncCompleteReceiver@2a5e298\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:1003)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.os.Handler.handleCallback(Handler.java:739)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.os.Looper.loop(Looper.java:158)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.app.ActivityThread.main(ActivityThread.java:7229)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat java.lang.reflect.Method.invoke(Native Method)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n01-18 16:36:20.224  1306  1306 W System.err: Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file (code 2062)\r\n01-18 16:36:20.224  1306  1306 W System.err: #################################################################\r\n01-18 16:36:20.224  1306  1306 W System.err: Error Code : 2062 (SQLITE_CANTOPEN_EMFILE)\r\n01-18 16:36:20.224  1306  1306 W System.err: Caused By : Application has opened two many files. Maximum of available file descriptors in one process is 1024 in default.\r\n01-18 16:36:20.224  1306  1306 W System.err: \t(unable to open database file (code 2062))\r\n01-18 16:36:20.224  1306  1306 W System.err: #################################################################\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(Native Method)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:980)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:143)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:132)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.content.ContentResolver.query(ContentResolver.java:521)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.content.ContentResolver.query(ContentResolver.java:445)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat org.inaturalist.android.ObservationCursorAdapter.refreshCursor(ObservationCursorAdapter.java:95)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat org.inaturalist.android.ObservationCursorAdapter.refreshCursor(ObservationCursorAdapter.java:73)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat org.inaturalist.android.ObservationListActivity$SyncCompleteReceiver.onReceive(ObservationListActivity.java:168)\r\n01-18 16:36:20.224  1306  1306 W System.err: \tat android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:993)\r\n01-18 16:36:20.224  1306  1306 W System.err: \t... 7 more\r\n01-18 16:36:20.224  1306  1306 W FlurryAgent: Error logged: uncaught\r\n01-18 16:36:20.234  1306  1306 W FlurryAgent: End session with context: org.inaturalist.android.ObservationListActivity@ec3947b count:0\r\n01-18 16:36:20.234  1306  1306 W FlurryAgent: Finalize session\r\n01-18 16:36:20.244  1306  1973 I System.out: (HTTPLog)-Static: isSBSettingEnabled false\r\n01-18 16:36:20.254  1306  1973 I System.out: (HTTPLog)-Static: isSBSettingEnabled false\r\n01-18 16:36:20.264  1306  1332 E Fabric  : An error occurred in the fatal exception logger\r\n01-18 16:36:20.264  1306  1332 E Fabric  : java.io.FileNotFoundException: /data/user/0/org.inaturalist.android/files/.Fabric/com.crashlytics.sdk.android.crashlytics-core/587FED4501EF-0001-051A-868A2AD839CCSessionCrash.cls_temp: open failed: EMFILE (Too many open files)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat libcore.io.IoBridge.open(IoBridge.java:452)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:87)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:72)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat com.crashlytics.android.core.ClsFileOutputStream.\u003cinit\u003e(ClsFileOutputStream.java:40)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.writeFatal(CrashlyticsUncaughtExceptionHandler.java:393)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.handleUncaughtException(CrashlyticsUncaughtExceptionHandler.java:298)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.access$200(CrashlyticsUncaughtExceptionHandler.java:56)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler$7.call(CrashlyticsUncaughtExceptionHandler.java:278)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler$7.call(CrashlyticsUncaughtExceptionHandler.java:275)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat io.fabric.sdk.android.services.common.ExecutorUtils$1$1.onRun(ExecutorUtils.java:75)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat io.fabric.sdk.android.services.common.BackgroundPriorityRunnable.run(BackgroundPriorityRunnable.java:30)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat java.lang.Thread.run(Thread.java:818)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : Caused by: android.system.ErrnoException: open failed: EMFILE (Too many open files)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat libcore.io.Posix.open(Native Method)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \tat libcore.io.IoBridge.open(IoBridge.java:438)\r\n01-18 16:36:20.264  1306  1332 E Fabric  : \t... 14 more\r\n01-18 16:36:20.274  1306  1332 W System.err: remove failed: ENOENT (No such file or directory) : /data/user/0/org.inaturalist.android/files/.Fabric/com.crashlytics.sdk.android.crashlytics-core/log-files/crashlytics-userlog-587FED4501EF-0001-051A-868A2AD839CC.temp\r\n01-18 16:36:20.294  1306  1937 E Fabric  : Failed to execute task.\r\n01-18 16:36:20.294  1306  1937 E Fabric  : java.util.concurrent.ExecutionException: java.io.FileNotFoundException: /data/user/0/org.inaturalist.android/files/.Fabric/com.crashlytics.sdk.android.crashlytics-core/587FEDE40115-0002-051A-868A2AD839CCBeginSession.cls_temp: open failed: EMFILE (Too many open files)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.util.concurrent.FutureTask.report(FutureTask.java:94)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.util.concurrent.FutureTask.get(FutureTask.java:164)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsExecutorServiceWrapper.executeSyncLoggingException(CrashlyticsExecutorServiceWrapper.java:47)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.uncaughtException(CrashlyticsUncaughtExceptionHandler.java:275)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.flurry.sdk.ec.b(SourceFile:99)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.flurry.sdk.ec.b(SourceFile:19)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.flurry.sdk.ec$a.uncaughtException(SourceFile:107)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:693)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:690)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : Caused by: java.io.FileNotFoundException: /data/user/0/org.inaturalist.android/files/.Fabric/com.crashlytics.sdk.android.crashlytics-core/587FEDE40115-0002-051A-868A2AD839CCBeginSession.cls_temp: open failed: EMFILE (Too many open files)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat libcore.io.IoBridge.open(IoBridge.java:452)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:87)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:72)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.ClsFileOutputStream.\u003cinit\u003e(ClsFileOutputStream.java:40)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.writeBeginSession(CrashlyticsUncaughtExceptionHandler.java:832)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.doOpenSession(CrashlyticsUncaughtExceptionHandler.java:596)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.handleUncaughtException(CrashlyticsUncaughtExceptionHandler.java:301)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.access$200(CrashlyticsUncaughtExceptionHandler.java:56)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler$7.call(CrashlyticsUncaughtExceptionHandler.java:278)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler$7.call(CrashlyticsUncaughtExceptionHandler.java:275)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat io.fabric.sdk.android.services.common.ExecutorUtils$1$1.onRun(ExecutorUtils.java:75)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat io.fabric.sdk.android.services.common.BackgroundPriorityRunnable.run(BackgroundPriorityRunnable.java:30)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat java.lang.Thread.run(Thread.java:818)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : Caused by: android.system.ErrnoException: open failed: EMFILE (Too many open files)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat libcore.io.Posix.open(Native Method)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \tat libcore.io.IoBridge.open(IoBridge.java:438)\r\n01-18 16:36:20.294  1306  1937 E Fabric  : \t... 15 more\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: FATAL EXCEPTION: IntentService[INaturalistService]\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: Process: org.inaturalist.android, PID: 1306\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file (code 2062)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: #################################################################\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: Error Code : 2062 (SQLITE_CANTOPEN_EMFILE)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: Caused By : Application has opened two many files. Maximum of available file descriptors in one process is 1024 in default.\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \t(unable to open database file (code 2062))\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: #################################################################\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(Native Method)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:980)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:143)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:132)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.content.ContentResolver.query(ContentResolver.java:521)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.content.ContentResolver.query(ContentResolver.java:445)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat org.inaturalist.android.INaturalistService.syncObservationFields(INaturalistService.java:2313)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:802)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:158)\r\n01-18 16:36:20.294  1306  1937 E AndroidRuntime: \tat android.os.HandlerThread.run(HandlerThread.java:61)\r\n01-18 16:36:20.304  1306  1313 E System  : Uncaught exception thrown by finalizer\r\n01-18 16:36:20.304  1306  1313 E System  : java.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.io.File.renameTo(java.io.File)\u0027 on a null object reference\r\n01-18 16:36:20.304  1306  1313 E System  : \tat com.crashlytics.android.core.ClsFileOutputStream.close(ClsFileOutputStream.java:56)\r\n01-18 16:36:20.304  1306  1313 E System  : \tat java.io.FileOutputStream.finalize(FileOutputStream.java:152)\r\n01-18 16:36:20.304  1306  1313 E System  : \tat java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:217)\r\n01-18 16:36:20.304  1306  1313 E System  : \tat java.lang.Daemons$FinalizerDaemon.run(Daemons.java:200)\r\n01-18 16:36:20.304  1306  1313 E System  : \tat java.lang.Thread.run(Thread.java:818)\r\n01-18 16:36:20.304  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.314  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.314  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.314  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.324  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.324  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.324  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.324  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.334  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.334  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.334  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.334  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.344  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.344  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.354  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.354  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.354  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n01-18 16:36:20.354  1306  1313 W CursorWrapperInner: Cursor finalized without prior close()\r\n```",
    "keywords": [
      "exception",
      "handler",
      "last_identifications_count",
      "java:836",
      "quality_grade",
      "time_observed_at",
      "_created_at",
      "fileoutputstream",
      "private_positional_accuracy",
      "com crashlytics",
      "sqlite sqlitecursor",
      "without",
      "crash",
      "354",
      "java",
      "crashlyticsuncaughtexceptionhandler$7",
      "1332",
      "android/databases/inaturalist",
      "positioning_method",
      "file code",
      "sqlite sqliteconnection",
      "app",
      "close 01-18",
      "16:36:20 354",
      "14",
      "1306 1937",
      "\u003cinit\u003e",
      "w sqlitelog",
      "0",
      "database file",
      "db-journal",
      "util",
      "comments_count",
      "sdk",
      "files 01-18",
      "sqlitequery",
      "java:818",
      "24",
      "16:36:20 264",
      "libcore",
      "28",
      "many files",
      "latitude",
      "handlerthread",
      "concurrent",
      "core clsfileoutputstream",
      "two",
      "[2ef4f3a5b1]",
      "default",
      "observed_on_string",
      "updated_at",
      "captive",
      "sdk android",
      "close",
      "java:143",
      "zygoteinit",
      "inaturalist android/databases/inaturalist",
      "java io",
      "opened two",
      "d",
      "e",
      "available file",
      "one",
      "204 1306",
      "androidruntime",
      "services",
      "error 24",
      "many",
      "without prior",
      "call",
      "264",
      "identifications_count",
      "code ",
      "w system",
      "inaturalist",
      "w",
      "maximum",
      "264 1306",
      "java:158",
      "inaturalist android",
      "java:275",
      "open",
      "out_of_range",
      "os_unix",
      "1332 e",
      "android/files/",
      "available",
      "run",
      "unable",
      "java:62",
      "mode_t",
      "prior",
      "loop",
      "_updated_at",
      "java:521",
      "1937",
      "16:36:20 164",
      "sqlite",
      "query",
      "emfile",
      "method 01-18",
      "164",
      "positional_accuracy",
      "1024",
      "desc",
      "cursor",
      "threadpoolexecutor",
      "c:31517",
      "24 open",
      "session",
      "fabric ",
      "android",
      "iconic_taxon_id",
      "294 1306",
      "description",
      "executeforcursorwindow",
      "looper",
      "294",
      "content",
      "iobridge",
      "174",
      "observationcursoradapter",
      "not",
      "common",
      "e sqlitelog",
      "end",
      "cursorwrapperinner",
      "open /data/user/0/org",
      "java:980",
      "fabric/com crashlytics",
      "16:36:20 184",
      "131072",
      "last_comments_count",
      "filenotfoundexception: /data/user/0/org",
      "org",
      "err: #################################################################",
      "taxon_id",
      "w cursorwrapperinner",
      "android inaturalistservice",
      "184",
      "e fabric",
      "code 2062",
      "crashlytics",
      "line 31517",
      "01-18 16:36:20",
      "mode_t 1b0",
      "w flurryagent",
      "16:36:20 294",
      "sqlitesession",
      "uncaught",
      "select",
      "sqlitecantopendatabaseexception",
      "java util",
      "os handler",
      "1937 e",
      "libcore io",
      "194",
      "geoprivacy iconic_taxon_id",
      "os_unix c:31517",
      "#################################################################",
      "31517",
      "user_login",
      "open database",
      "java:445",
      "id",
      "order",
      "1306 1313",
      "sqlitecursor",
      "method",
      "core crashlyticsuncaughtexceptionhandler",
      "io",
      "cls_temp",
      "304 1306",
      "cursor finalized",
      "finalized",
      "2062 sqlite_cantopen_emfile",
      "system",
      "user_id",
      "fabric",
      "id_please",
      "164 1306",
      "android app",
      "1937 w",
      "threadgroup",
      "contentresolver",
      "1306 1306",
      "16:36:20 194",
      "native method",
      "dispatchmessage",
      "preferred_common_name",
      "flag",
      "16:36:20 304",
      "created_at",
      "crashlyticsuncaughtexceptionhandler",
      "android database",
      "file",
      "created_at description",
      "android content",
      "native",
      "flurry",
      "/data/user/0/org inaturalist",
      "err",
      "iobridge open",
      "1306 1332",
      "caused",
      "longitude observed_on",
      "_id _created_at",
      "2062",
      "java lang",
      "1306 e",
      "_synced_at _updated_at",
      "304",
      "geoprivacy",
      "e androidruntime",
      "/data/user/0/org",
      "1306 w",
      "getcount",
      "place_guess",
      "java:56",
      "com",
      "database sqlite",
      "16:36:20 204",
      "16:36:20 324",
      "1313 e",
      "sqlitelog: 14",
      "uuid",
      "_synced_at",
      "clsfileoutputstream",
      "uncaughtexception",
      "314",
      "util concurrent",
      "species_guess",
      "174 1306",
      "nativeexecuteforcursorwindow",
      "longitude",
      "system ",
      "blockguardos",
      "16:36:20 314",
      "inaturalistservice",
      "28 failed",
      "opened",
      "filenotfoundexception",
      "16:36:20",
      "failed",
      "core",
      "fillwindow",
      "null",
      "324",
      "fabric/com",
      "204",
      "2062 01-18",
      "open failed",
      "files",
      "sqlitelog",
      "_id",
      "private_longitude",
      "iconic_taxon_name id",
      "java:132",
      "1306",
      "many open",
      "positioning_device",
      "iconic_taxon_name",
      "code",
      "line",
      "sqliteconnection",
      "16:36:20 224",
      "01-18",
      "error",
      "observed_on",
      "system err",
      "194 1306",
      "descriptors",
      "futuretask",
      "database",
      "is_deleted",
      "1313",
      "334",
      "android core",
      "sqlite_cantopen_emfile",
      "observations",
      "224 1306",
      "lang",
      "user_agent",
      "org inaturalist",
      "one process",
      "process",
      "inaturalist android/files/",
      "os",
      "16:36:20 334",
      "concurrent futuretask",
      "thread",
      "id_please latitude",
      "e system",
      "android/databases/inaturalist db-journal",
      "flurryagent",
      "application",
      "224",
      "due",
      "backgroundpriorityrunnable",
      "private_latitude",
      "184 1306",
      "crashlytics android",
      "contentresolver query",
      "1b0"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/0a1e6c44efe1f5c919d2b3a23260b55604726baa",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java",
          "patch": "@@ -894,6 +894,8 @@ private void postProjectObservations() throws AuthenticationException, CancelSyn\n             c.moveToNext();\n         }\n \n+        c.close();\n+\n         // Now it\u0027s safe to delete all of the project-observations locally\n         getContentResolver().delete(ProjectObservation.CONTENT_URI, \"is_deleted \u003d 1\", null);\n         \n@@ -937,6 +939,7 @@ private void postProjectObservations() throws AuthenticationException, CancelSyn\n                 Cursor c2 \u003d getContentResolver().query(Observation.CONTENT_URI, Observation.PROJECTION, \"id \u003d \u0027\"+projectObservation.observation_id+\"\u0027\", null, Observation.DEFAULT_SORT_ORDER);\n                 c2.moveToFirst();\n                 if (c2.getCount() \u003d\u003d 0) {\n+                    c2.close();\n                     break;\n                 }\n                 Observation observation \u003d new Observation(c2);\n@@ -945,6 +948,7 @@ private void postProjectObservations() throws AuthenticationException, CancelSyn\n                 c2 \u003d getContentResolver().query(Project.CONTENT_URI, Project.PROJECTION, \"id \u003d \u0027\"+projectObservation.project_id+\"\u0027\", null, Project.DEFAULT_SORT_ORDER);\n                 c2.moveToFirst();\n                 if (c2.getCount() \u003d\u003d 0) {\n+                    c2.close();\n                     break;\n                 }\n                 Project project \u003d new Project(c2);\n@@ -994,6 +998,8 @@ public void run() {\n             c.moveToNext();\n         }\n \n+        c.close();\n+\n         mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n \n         // Finally, retrieve all project observations\n@@ -1017,6 +1023,7 @@ private void storeProjectObservations() {\n                     if (c.getCount() \u003d\u003d 0) {\n                         getContentResolver().insert(ProjectObservation.CONTENT_URI, cv);\n                     }\n+                    c.close();\n                 } catch (JSONException e) {\n                     e.printStackTrace();\n                 }\n@@ -1098,6 +1105,8 @@ private void deleteObservationPhotos() throws AuthenticationException, CancelSyn\n             c.moveToNext();\n         }\n \n+        c.close();\n+\n         // Now it\u0027s safe to delete all of the observation photos locally\n         getContentResolver().delete(ObservationPhoto.CONTENT_URI, \"is_deleted \u003d 1\", null);\n \n@@ -1121,6 +1130,8 @@ private void deleteObservations() throws AuthenticationException, CancelSyncExce\n             obsIds.add(observation.id);\n             c.moveToNext();\n         }\n+\n+        c.close();\n         \n         // Now it\u0027s safe to delete all of the observations locally\n         getContentResolver().delete(Observation.CONTENT_URI, \"is_deleted \u003d 1\", null);\n@@ -1503,6 +1514,7 @@ private void postPhotos() throws AuthenticationException, CancelSyncException {\n                 ObservationPhoto.PROJECTION, \n                 \"_synced_at IS NULL\", null, ObservationPhoto.DEFAULT_SORT_ORDER);\n         if (c.getCount() \u003d\u003d 0) {\n+            c.close();\n             return;\n         }\n \n@@ -1536,9 +1548,11 @@ private void postPhotos() throws AuthenticationException, CancelSyncException {\n                             null,\n                             null,\n                             MediaStore.Images.Media.DEFAULT_SORT_ORDER);\n-                    if ((pc !\u003d null) \u0026\u0026 (pc.getCount() \u003e 0)) {\n-                        pc.moveToFirst();\n-                        imgFilePath \u003d pc.getString(pc.getColumnIndexOrThrow(MediaStore.Images.Media.DATA));\n+                    if (pc !\u003d null) {\n+                        if (pc.getCount() \u003e 0) {\n+                            pc.moveToFirst();\n+                            imgFilePath \u003d pc.getString(pc.getColumnIndexOrThrow(MediaStore.Images.Media.DATA));\n+                        }\n                         pc.close();\n                     }\n                 }\n@@ -1975,7 +1989,9 @@ private SerializableJSONArray getNearByProjects(Location location) throws Authen\n             try {\n                 c \u003d getContentResolver().query(Project.CONTENT_URI, Project.PROJECTION, \"id \u003d \u0027\"+json.getJSONObject(i).getInt(\"id\")+\"\u0027\", null, Project.DEFAULT_SORT_ORDER);\n                 c.moveToFirst();\n-                if (c.getCount() \u003e 0) {\n+                int count \u003d c.getCount();\n+                c.close();\n+                if (count \u003e 0) {\n                     json.getJSONObject(i).put(\"joined\", true);\n                 }\n             } catch (JSONException e) {\n@@ -2031,7 +2047,9 @@ private SerializableJSONArray getFeaturedProjects() throws AuthenticationExcepti\n             try {\n                 c \u003d getContentResolver().query(Project.CONTENT_URI, Project.PROJECTION, \"id \u003d \u0027\"+json.getJSONObject(i).getInt(\"id\")+\"\u0027\", null, Project.DEFAULT_SORT_ORDER);\n                 c.moveToFirst();\n-                if (c.getCount() \u003e 0) {\n+                int count \u003d c.getCount();\n+                c.close();\n+                if (count \u003e 0) {\n                     json.getJSONObject(i).put(\"joined\", true);\n                 }\n             } catch (JSONException e) {\n@@ -2301,6 +2319,7 @@ private void syncObservationFields() throws AuthenticationException, CancelSyncE\n                     getString(R.string.syncing_observation_fields),\n                     getString(R.string.syncing));\n         } else {\n+            c.close();\n             return;\n         }\n \n@@ -2315,10 +2334,11 @@ private void syncObservationFields() throws AuthenticationException, CancelSyncE\n                     \"id \u003d ? AND _synced_at IS NOT NULL\",\n                     new String[] { localField.observation_id.toString() },\n                     ProjectFieldValue.DEFAULT_SORT_ORDER);\n-            if (obsc.getCount() \u003d\u003d 0) {\n+            int count \u003d obsc.getCount();\n+            obsc.close();\n+            if (count \u003d\u003d 0) {\n                 continue;\n             }\n-            obsc.close();\n \n \n             mApp.setObservationIdBeingSynced(localField.observation_id);"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationCursorAdapter.java",
          "patch": "@@ -423,7 +423,7 @@ public void onClick(View v) {\n         }\n \n         if (!syncNeeded) {\n-            // See if it\u0027s an existing observation with a new photo:w\n+            // See if it\u0027s an existing observation with a new photo\n \n             Cursor opc \u003d mContext.getContentResolver().query(ObservationPhoto.CONTENT_URI,\n                     new String[]{"
        }
      ]
    }
  },
  {
    "name": "ConcurrentModificationException thown when making multiple silentAuthAsync calls in one thread",
    "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/issues/143",
    "description": "Attached the stacktrace here\r\n\r\n```\r\ncom.microsoft.identity.client.sample E/AndroidRuntime: FATAL EXCEPTION: main\r\n\tProcess: com.microsoft.identity.client.sample, PID: 12618\r\n\t\tjava.util.ConcurrentModificationException\r\n\t\t\tat java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:411)\r\n\t\t\tat java.util.LinkedHashMap$KeyIterator.next(LinkedHashMap.java:422)\r\n\t\t\tat com.microsoft.identity.client.Telemetry.collateOrphanedEvents(Telemetry.java:246)\r\n\t\t\tat com.microsoft.identity.client.Telemetry.flush(Telemetry.java:210)\r\n\t\t\tat com.microsoft.identity.client.PublicClientApplication.stopTelemetryEventAndFlush(PublicClientApplication.java:689)\r\n\t\t\tat com.microsoft.identity.client.PublicClientApplication.access$000(PublicClientApplication.java:74)\r\n\t\t\tat com.microsoft.identity.client.PublicClientApplication$1.onSuccess(PublicClientApplication.java:667)\r\n\t\t\tat com.microsoft.identity.client.BaseRequest$2.run(BaseRequest.java:278)\r\n\t\t\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\t\t\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\t\t\tat android.os.Looper.loop(Looper.java:154)\r\n\t\t\tat android.app.ActivityThread.main(ActivityThread.java:6077)\r\n\t\t\tat java.lang.reflect.Method.invoke(Native Method)\r\n\t\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n\t\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```",
    "keywords": [
      "com",
      "microsoft identity",
      "handler",
      "os",
      "android",
      "publicclientapplication",
      "main",
      "microsoft",
      "com microsoft",
      "java",
      "util",
      "identity",
      "client",
      "telemetry",
      "identity client",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/a2450669686805f9894b25b43cbf0c48da4499c8",
      "files": []
    }
  },
  {
    "name": "Pending fragment transactions",
    "url": "https://github.com/kontalk/androidclient/issues/994",
    "description": "This needs a hotfix.\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{org.kontalk/org.kontalk.ui.ComposeMessage}: java.lang.IllegalStateException: FragmentManager is already executing transactions\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2230)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2279)\r\n       at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3812)\r\n       at android.app.ActivityThread.access$900(ActivityThread.java:143)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1248)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5124)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:613)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\nCaused by java.lang.IllegalStateException: FragmentManager is already executing transactions\r\n       at android.support.v4.app.FragmentManagerImpl.ensureExecReady(FragmentManager.java:1956)\r\n       at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:1980)\r\n       at android.support.v4.app.BackStackRecord.commitNow(BackStackRecord.java:620)\r\n       at org.kontalk.ui.AbstractComposeFragment.getAudioFragment(AbstractComposeFragment.java:1083)\r\n       at org.kontalk.ui.AbstractComposeFragment.processArguments(AbstractComposeFragment.java:1388)\r\n       at org.kontalk.ui.AbstractComposeFragment.onActivityCreated(AbstractComposeFragment.java:286)\r\n       at android.support.v4.app.Fragment.performActivityCreated(Fragment.java:2201)\r\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1326)\r\n       at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)\r\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)\r\n       at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2900)\r\n       at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\r\n       at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:603)\r\n       at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\r\n       at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1171)\r\n       at android.app.Activity.performStart(Activity.java:5251)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2203)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2279)\r\n       at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3812)\r\n       at android.app.ActivityThread.access$900(ActivityThread.java:143)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1248)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5124)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:613)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```",
    "keywords": [
      "com",
      "handler",
      "internal",
      "activity",
      "app activitythread",
      "android",
      "abstractcomposefragment",
      "android support",
      "support v4",
      "main",
      "looper",
      "app fragmentmanagerimpl",
      "org kontalk",
      "nativestart",
      "reflect",
      "java",
      "ui",
      "reflect method",
      "lang",
      "kontalk",
      "zygoteinit",
      "app",
      "os",
      "method",
      "org",
      "ui abstractcomposefragment",
      "transactions",
      "java lang",
      "activitythread",
      "fragment",
      "v4 app",
      "android app",
      "fragmentmanager",
      "support",
      "fragmentmanagerimpl",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/61f9c1013da14da6c2d0e16ca9c14740bc2a2d45",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -1076,12 +1076,10 @@ private AudioFragment getAudioFragment() {\n             FragmentActivity parent \u003d getActivity();\n             if (parent !\u003d null) {\n                 fragment \u003d new AudioFragment();\n-                FragmentManager fm \u003d parent.getSupportFragmentManager();\n+                FragmentManager fm \u003d getFragmentManager();\n                 fm.beginTransaction()\n                     .add(fragment, \"audio\")\n                     .commit();\n-                // commit immediately please\n-                fm.executePendingTransactions();\n             }\n         }\n "
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessage.java",
          "patch": "@@ -134,11 +134,10 @@ protected boolean isNormalUpNavigation() {\n \n     private void setComposeFragment(@NonNull AbstractComposeFragment f) {\n         mFragment \u003d f;\n-        FragmentTransaction ft \u003d getSupportFragmentManager().beginTransaction();\n-        ft.replace(R.id.fragment_compose_message, f);\n-        ft.setTransition(FragmentTransaction.TRANSIT_NONE);\n-        ft.commitAllowingStateLoss();\n-        getSupportFragmentManager().executePendingTransactions();\n+        getSupportFragmentManager().beginTransaction()\n+            .replace(R.id.fragment_compose_message, f)\n+            .setTransition(FragmentTransaction.TRANSIT_NONE)\n+            .commitNowAllowingStateLoss();\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "Calling hideAllHeaders might lead to NullPointerException",
    "url": "https://github.com/davideas/FlexibleAdapter/issues/229",
    "description": "I have a `FlexibleAdapter` with expandable sticky headers. I want to show or hide headers depending on user selection. It works well on button press, but when I want to set the initial state and call `showAllHeaders()` or `hideAllHeaders()` immediately after filling adapter with data it throws a `NullPointerException`. Calling `setDisplayHeadersAtStartUp(false)` when configuring adapter doesn\u0027t seem to do anything. Also, every time I update the data by calling `updateDataSet` headers become visible so I need to hide the manually again. Is this expected behavior?\r\n\r\nHere is the sample code and the stack trace:\r\n```\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n       . . .\r\n        \r\n       // FlexibleAdapter init\r\n        adapter.expandItemsAtStartUp()\r\n                .enableStickyHeaders()\r\n                .setDisplayHeadersAtStartUp(showSubSites)\r\n                .setAutoCollapseOnExpand(false)\r\n                .setAutoScrollOnExpand(true)\r\n                .setAnimateToLimit(Integer.MAX_VALUE)\r\n                .setNotifyMoveOfFilteredItems(true)\r\n                .setNotifyChangeOfUnfilteredItems(true)\r\n                .setRemoveOrphanHeaders(true)\r\n                .setAnimationOnScrolling(true)\r\n                .setAnimationOnReverseScrolling(true);\r\n        adapter.initializeListeners(this);\r\n\r\n        adapter.updateDataSet(new ArrayList\u003c\u003e(siteHeaderItems.values()));\r\n        if (showSubSites) adapter.showAllHeaders();\r\n        else adapter.hideAllHeaders();\r\n    }\r\n```\r\nStack trace:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n   Process: ch.photrack.discharge, PID: 21753\r\n   java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.ViewPropertyAnimator android.view.ViewGroup.animate()\u0027 on a null object reference\r\n       at eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.detachFromRecyclerView(StickyHeaderHelper.java:89)\r\n       at eu.davidea.flexibleadapter.FlexibleAdapter$2.run(FlexibleAdapter.java:967)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5930)\r\n       at java.lang.reflect.Method.invoke(Native Method)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1405)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1200)\r\n\r\n```",
    "keywords": [
      "`",
      "headers",
      "handler",
      "adapter",
      "method",
      "os",
      "flexibleadapter",
      "android",
      "invoke",
      "main",
      "view",
      "java",
      "calling",
      "true",
      ";",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/davideas/FlexibleAdapter/commit/6e6926ce35d6fcf3d8a3de099a15d6dd78e90458",
      "files": [
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/FlexibleAdapter.java",
          "patch": "@@ -281,7 +281,7 @@ public FlexibleAdapter initializeListeners(@Nullable Object listener) {\n \n \t/**\n \t * {@inheritDoc}\n-\t * \u003cp\u003eAttaches the StickyHeaderHelper from the RecyclerView when necessary\u003c/p\u003e\n+\t * \u003cp\u003eAttaches the StickyHeaderHelper from the RecyclerView if necessary.\u003c/p\u003e\n \t *\n \t * @since 5.0.0-b6\n \t */\n@@ -1151,7 +1151,11 @@ public void run() {\n \t\t\t\t\tposition--;\n \t\t\t\t}\n \t\t\t\theadersShown \u003d false;\n-\t\t\t\tsetStickyHeaders(false);\n+\t\t\t\t// Clear the header currently sticky\n+\t\t\t\tif (mStickyHeaderHelper !\u003d null) {\n+\t\t\t\t\tmStickyHeaderHelper.clearHeaderWithAnimation();\n+\t\t\t\t}\n+\t\t\t\t//setStickyHeaders(false);\n \t\t\t\tmultiRange \u003d false;\n \t\t\t}\n \t\t});"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/helpers/StickyHeaderHelper.java",
          "patch": "@@ -48,6 +48,7 @@\n \tprivate FlexibleViewHolder mStickyHeaderViewHolder;\n \tprivate OnStickyHeaderChangeListener mStickyHeaderChangeListener;\n \tprivate int mHeaderPosition \u003d RecyclerView.NO_POSITION;\n+\tprivate boolean displayWithAnimation \u003d false;\n \n \n \tpublic StickyHeaderHelper(FlexibleAdapter adapter,\n@@ -73,40 +74,15 @@ public void attachToRecyclerView(RecyclerView parent) {\n \t\tmRecyclerView \u003d parent;\n \t\tif (mRecyclerView !\u003d null) {\n \t\t\tmRecyclerView.addOnScrollListener(this);\n-\t\t\tmRecyclerView.post(new Runnable() {\n-\t\t\t\t@Override\n-\t\t\t\tpublic void run() {\n-\t\t\t\t\tinitStickyHeadersHolder();\n-\t\t\t\t}\n-\t\t\t});\n+\t\t\tinitStickyHeadersHolder();\n \t\t}\n \t}\n \n \tpublic void detachFromRecyclerView(RecyclerView parent) {\n-\t\tif (mRecyclerView \u003d\u003d parent) {\n-\t\t\tmRecyclerView.removeOnScrollListener(this);\n-\t\t\tmRecyclerView \u003d null;\n-\t\t\tmStickyHolderLayout.animate().setListener(new Animator.AnimatorListener() {\n-\t\t\t\t@Override\n-\t\t\t\tpublic void onAnimationStart(Animator animation) {\n-\t\t\t\t}\n-\n-\t\t\t\t@Override\n-\t\t\t\tpublic void onAnimationEnd(Animator animation) {\n-\t\t\t\t\tclearHeader();\n-\t\t\t\t}\n-\n-\t\t\t\t@Override\n-\t\t\t\tpublic void onAnimationCancel(Animator animation) {\n-\t\t\t\t}\n-\n-\t\t\t\t@Override\n-\t\t\t\tpublic void onAnimationRepeat(Animator animation) {\n-\t\t\t\t}\n-\t\t\t});\n-\t\t\tmStickyHolderLayout.animate().alpha(0).start();\n-\t\t\tif (FlexibleAdapter.DEBUG) Log.i(TAG, \"StickyHolderLayout detached\");\n-\t\t}\n+\t\tmRecyclerView.removeOnScrollListener(this);\n+\t\tmRecyclerView \u003d null;\n+\t\tclearHeaderWithAnimation();\n+\t\tif (FlexibleAdapter.DEBUG) Log.i(TAG, \"StickyHolderLayout detached\");\n \t}\n \n \tprivate void initStickyHeadersHolder() {\n@@ -138,9 +114,9 @@ private void onStickyHeaderChange(int sectionIndex) {\n \t}\n \n \tpublic void updateOrClearHeader(boolean updateHeaderContent) {\n-\t\tif (mStickyHolderLayout \u003d\u003d null || mAdapter.hasSearchText() ||\n-\t\t\t\tmRecyclerView \u003d\u003d null || mRecyclerView.getChildCount() \u003d\u003d 0) {\n-\t\t\tclearHeader();\n+\t\tif (!mAdapter.areHeadersShown() || mAdapter.hasSearchText() || mAdapter.getItemCount() \u003d\u003d 0\n+\t\t\t\t|| mStickyHolderLayout \u003d\u003d null || !isAttachedToRecyclerView()) {\n+\t\t\tclearHeaderWithAnimation();\n \t\t\treturn;\n \t\t}\n \t\tint firstHeaderPosition \u003d getHeaderPosition(RecyclerView.NO_POSITION);\n@@ -152,6 +128,12 @@ public void updateOrClearHeader(boolean updateHeaderContent) {\n \t}\n \n \tprivate void updateHeader(int headerPosition, boolean updateHeaderContent) {\n+\t\t// Animate if headers were hidden\n+\t\tif (displayWithAnimation) {\n+\t\t\tdisplayWithAnimation \u003d false;\n+\t\t\tmStickyHolderLayout.setAlpha(0);\n+\t\t\tmStickyHolderLayout.animate().alpha(1).start();\n+\t\t}\n \t\t// Check if there is a new header to be sticky\n \t\tif (mHeaderPosition !\u003d headerPosition) {\n \t\t\tmHeaderPosition \u003d headerPosition;\n@@ -171,7 +153,7 @@ private void translateHeader() {\n \n \t\tint headerOffsetX \u003d 0, headerOffsetY \u003d 0;\n \n-\t\t//Search for the position where the next header item is found and take the new offset\n+\t\t//Search for the position where the next header item is found and translate the new offset\n \t\tfor (int i \u003d 0; i \u003c mRecyclerView.getChildCount(); i++) {\n \t\t\tfinal View nextChild \u003d mRecyclerView.getChildAt(i);\n \t\t\tif (nextChild !\u003d null) {\n@@ -182,12 +164,14 @@ private void translateHeader() {\n \t\t\t\t\t\tif (nextChild.getLeft() \u003e 0) {\n \t\t\t\t\t\t\tint headerWidth \u003d mStickyHolderLayout.getMeasuredWidth();\n \t\t\t\t\t\t\theaderOffsetX \u003d Math.min(nextChild.getLeft() - headerWidth, 0);\n+\t\t\t\t\t\t\t// TODO: AlphaListener \u003d Math.abs((float)nextChild.getLeft()) / headerWidth);\n \t\t\t\t\t\t\tif (headerOffsetX \u003c 0) break;\n \t\t\t\t\t\t}\n \t\t\t\t\t} else {\n \t\t\t\t\t\tif (nextChild.getTop() \u003e 0) {\n \t\t\t\t\t\t\tint headerHeight \u003d mStickyHolderLayout.getMeasuredHeight();\n \t\t\t\t\t\t\theaderOffsetY \u003d Math.min(nextChild.getTop() - headerHeight, 0);\n+\t\t\t\t\t\t\t// TODO: AlphaListener \u003d Math.abs((float)nextChild.getTop()) / headerHeight);\n \t\t\t\t\t\t\tif (headerOffsetY \u003c 0) break;\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n@@ -229,6 +213,18 @@ private void ensureHeaderParent() {\n \t\tmStickyHolderLayout.addView(view);\n \t}\n \n+\tprivate void resetHeader(FlexibleViewHolder header) {\n+\t\tfinal View view \u003d header.getContentView();\n+\t\tremoveViewFromParent(view);\n+\t\t//Reset transformation on removed header\n+\t\tview.setTranslationX(0);\n+\t\tview.setTranslationY(0);\n+\t\tmStickyHeaderViewHolder.itemView.setVisibility(View.VISIBLE);\n+\t\tif (!header.itemView.equals(view))\n+\t\t\t((ViewGroup) header.itemView).addView(view);\n+\t\theader.setIsRecyclable(true);\n+\t}\n+\n \tprivate void clearHeader() {\n \t\tif (mStickyHeaderViewHolder !\u003d null) {\n \t\t\tif (FlexibleAdapter.DEBUG) Log.d(TAG, \"clearHeader\");\n@@ -240,16 +236,28 @@ private void clearHeader() {\n \t\t}\n \t}\n \n-\tprivate void resetHeader(FlexibleViewHolder header) {\n-\t\tfinal View view \u003d header.getContentView();\n-\t\tremoveViewFromParent(view);\n-\t\t//Reset transformation on removed header\n-\t\tview.setTranslationX(0);\n-\t\tview.setTranslationY(0);\n-\t\tmStickyHeaderViewHolder.itemView.setVisibility(View.VISIBLE);\n-\t\tif (!header.itemView.equals(view))\n-\t\t\t((ViewGroup) header.itemView).addView(view);\n-\t\theader.setIsRecyclable(true);\n+\tpublic void clearHeaderWithAnimation() {\n+\t\tmStickyHolderLayout.animate().setListener(new Animator.AnimatorListener() {\n+\t\t\t@Override\n+\t\t\tpublic void onAnimationStart(Animator animation) {\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void onAnimationEnd(Animator animation) {\n+\t\t\t\tmStickyHolderLayout.animate().setListener(null);\n+\t\t\t\tdisplayWithAnimation \u003d true;\n+\t\t\t\tclearHeader();\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void onAnimationCancel(Animator animation) {\n+\t\t\t}\n+\n+\t\t\t@Override\n+\t\t\tpublic void onAnimationRepeat(Animator animation) {\n+\t\t\t}\n+\t\t});\n+\t\tmStickyHolderLayout.animate().alpha(0).start();\n \t}\n \n \tprivate static void removeViewFromParent(final View view) {"
        }
      ]
    }
  },
  {
    "name": "AuthenticationActivity crashes if it starts while the screen is turned off and then turned on",
    "url": "https://github.com/elimu-ai/authentication/issues/308",
    "description": "Description:\r\n- Turn the screen off and wait for the AuthenticationActivity to start\r\n\r\nExpected Result:\r\n- The AuthenticationActivity starts but pauses until the screen is turned on (or maybe we shouldn\u0027t even start it?)\r\n\r\nActual Result:\r\n- The app crashes (see log)\r\n\r\nLog:\r\n```java\r\n12-30 20:59:57.700 20030-20030/org.literacyapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                 Process: org.literacyapp, PID: 20030\r\n                                                                 Theme: themes:{}\r\n                                                                 java.lang.RuntimeException: Unable to resume activity {org.literacyapp/org.literacyapp.authentication.AuthenticationActivity}: java.lang.IllegalThreadStateException: Thread already started\r\n                                                                     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3137)\r\n                                                                     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3168)\r\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1407)\r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                     at android.os.Looper.loop(Looper.java:148)\r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n                                                                  Caused by: java.lang.IllegalThreadStateException: Thread already started\r\n                                                                     at java.lang.Thread.checkNotStarted(Thread.java:849)\r\n                                                                     at java.lang.Thread.start(Thread.java:1059)\r\n                                                                     at org.literacyapp.authentication.AuthenticationActivity.onResume(AuthenticationActivity.java:209)\r\n                                                                     at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1259)\r\n                                                                     at android.app.Activity.performResume(Activity.java:6327)\r\n                                                                     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3126)\r\n                                                                     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3168) \r\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1407) \r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                     at android.os.Looper.loop(Looper.java:148) \r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5461) \r\n                                                                     at java.lang.reflect.Method.invoke(Native Method) \r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n```",
    "keywords": [
      "com",
      " ",
      "app",
      "handler",
      "authenticationactivity",
      "internal",
      "android os",
      "os",
      "turned",
      "activity",
      "method",
      "literacyapp",
      "android",
      "start",
      "screen",
      "main",
      "looper",
      "thread",
      "java lang",
      "activitythread",
      "java",
      "android internal",
      "android app",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/elimu-ai/authentication/commit/31c0d7da278c35a2843045294bdd6abbf209730c",
      "files": [
        {
          "file_name": "app/src/main/java/org/literacyapp/service/synchronization/AuthenticationJobService.java",
          "patch": "@@ -2,8 +2,11 @@\n \n import android.app.job.JobParameters;\n import android.app.job.JobService;\n+import android.content.Context;\n import android.content.Intent;\n+import android.hardware.display.DisplayManager;\n import android.util.Log;\n+import android.view.Display;\n \n import org.literacyapp.authentication.AuthenticationActivity;\n import org.literacyapp.authentication.TrainingHelper;\n@@ -18,11 +21,17 @@\n     @Override\n     public boolean onStartJob(JobParameters jobParameters) {\n         Log.i(getClass().getName(), \"onStartJob\");\n-        if (!rescheduleIfTrainingJobServiceIsRunning()){\n-            Intent authenticationIntent \u003d new Intent(getApplicationContext(), AuthenticationActivity.class);\n-            authenticationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n-            startActivity(authenticationIntent);\n+        if (!isScreenTurnedOff()){\n+            if (!rescheduleIfTrainingJobServiceIsRunning()){\n+                Intent authenticationIntent \u003d new Intent(getApplicationContext(), AuthenticationActivity.class);\n+                authenticationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n+                startActivity(authenticationIntent);\n+                Log.i(getClass().getName(), \"The Authentication has been started.\");\n+            }\n+        } else {\n+            Log.i(getClass().getName(), \"The Authentication was skipped because the screen was turned off.\");\n         }\n+\n         return false;\n     }\n \n@@ -41,4 +50,16 @@ private boolean rescheduleIfTrainingJobServiceIsRunning(){\n         }\n         return isFaceRecognitionTrainingJobServiceRunning;\n     }\n+\n+    private boolean isScreenTurnedOff(){\n+        boolean isScreenTurnedOff \u003d false;\n+        DisplayManager displayManager \u003d (DisplayManager) getApplicationContext().getSystemService(Context.DISPLAY_SERVICE);\n+        for (Display display : displayManager.getDisplays()) {\n+            if (display.getState() !\u003d Display.STATE_ON) {\n+                // Skip authentication\n+                isScreenTurnedOff \u003d true;\n+            }\n+        }\n+        return isScreenTurnedOff;\n+    }\n }"
        }
      ]
    }
  },
  {
    "name": "java.lang.RuntimeException: android.os.TransactionTooLargeException",
    "url": "https://github.com/SecUSo/privacy-friendly-sudoku/issues/22",
    "description": "```\r\njava.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 1106044 bytes\r\n\tat android.app.ActivityThread$StopInfo.run(ActivityThread.java:3755)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6088)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\nCaused by: android.os.TransactionTooLargeException: data parcel size 1106044 bytes\r\n\tat android.os.BinderProxy.transactNative(Native Method)\r\n\tat android.os.BinderProxy.transact(Binder.java:615)\r\n\tat android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3628)\r\n\tat android.app.ActivityThread$StopInfo.run(ActivityThread.java:3747)\r\n\t... 7 more\r\n```",
    "keywords": [
      "app",
      "activitythread",
      "handler",
      "android os",
      "transactiontoolargeexception",
      "java",
      "os",
      "method",
      "android",
      "run",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/SecUSo/privacy-friendly-sudoku/commit/7a3347718ac0163613f341050fed67c9f27e56e0",
      "files": [
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/controller/GameController.java",
          "patch": "@@ -771,7 +771,7 @@ public void writeToParcel(Parcel out, int flags) {\n         out.writeParcelable(gameType, 0);\n         out.writeParcelable(difficulty, 0);\n         out.writeParcelable(gameBoard, 0);\n-        out.writeParcelable(undoRedoManager, 0);\n+        //out.writeParcelable(undoRedoManager, 0);\n \n         out.writeTypedList(errorList);\n     }\n@@ -809,7 +809,7 @@ private GameController(Parcel in) {\n         gameType \u003d in.readParcelable(GameType.class.getClassLoader());\n         difficulty \u003d in.readParcelable(GameDifficulty.class.getClassLoader());\n         gameBoard \u003d in.readParcelable(GameBoard.class.getClassLoader());\n-        undoRedoManager \u003d in.readParcelable(UndoRedoManager.class.getClassLoader());\n+        undoRedoManager \u003d new UndoRedoManager(gameBoard);//*/in.readParcelable(UndoRedoManager.class.getClassLoader());\n \n         in.readTypedList(errorList, CellConflict.CREATOR);\n "
        },
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/controller/GeneratorService.java",
          "patch": "@@ -6,6 +6,7 @@\n import android.content.Intent;\n import android.os.Handler;\n import android.os.IBinder;\n+import android.os.Looper;\n import android.support.annotation.IntDef;\n import android.support.annotation.Nullable;\n import android.support.v4.content.ContextCompat;\n@@ -26,6 +27,7 @@\n import org.secuso.privacyfriendlysudoku.ui.view.R;\n \n import java.util.Date;\n+import java.util.IllegalFormatCodePointException;\n import java.util.LinkedList;\n import java.util.List;\n import java.util.concurrent.atomic.AtomicBoolean;\n@@ -50,12 +52,16 @@\n \n     private final List\u003cPair\u003cGameType, GameDifficulty\u003e\u003e generationList \u003d new LinkedList\u003c\u003e();\n     private final DatabaseHelper dbHelper \u003d new DatabaseHelper(this);\n+    //private Handler mHandler \u003d new Handler();\n \n \n     public GeneratorService() {\n         super(\"Generator Service\");\n     }\n \n+    public GeneratorService(String name) { super(name); }\n+\n+\n     private void buildGenerationList() {\n         generationList.clear();\n \n@@ -80,14 +86,21 @@ private void buildGenerationList() {\n \n     private void handleGenerationStop() {\n         stopForeground(true);\n-        stopSelf();\n+        //mHandler.removeCallbacksAndMessages(null);\n     }\n \n     private void handleGenerationStart(Intent intent) {\n-        GameType gameType \u003d intent.getParcelableExtra(EXTRA_GAMETYPE);\n-        GameDifficulty gameDifficulty \u003d intent.getParcelableExtra(EXTRA_DIFFICULTY);\n+        GameType gameType;\n+        GameDifficulty gameDifficulty;\n+        try {\n+            gameType \u003d GameType.valueOf(intent.getExtras().getString(EXTRA_GAMETYPE, \"\"));\n+            gameDifficulty \u003d GameDifficulty.valueOf(intent.getExtras().getString(EXTRA_DIFFICULTY, \"\"));\n+        } catch(IllegalArgumentException | NullPointerException e) {\n+            gameType \u003d null;\n+            gameDifficulty \u003d null;\n+        }\n \n-        if(gameType \u003d\u003d null || gameDifficulty \u003d\u003d null) {\n+        if(gameType \u003d\u003d null) {\n             generateLevels();\n         } else {\n             generateLevel(gameType, gameDifficulty);\n@@ -253,13 +266,6 @@ private void showNotification(GameType gameType, GameDifficulty gameDifficulty)\n         builder.setSmallIcon(R.drawable.splash_icon);\n         startForeground(50, builder.build());\n     }\n-\n-    @Nullable\n-    @Override\n-    public IBinder onBind(Intent intent) {\n-        return null;\n-    }\n-\n     @Override\n     protected void onHandleIntent(@Nullable Intent intent) {\n         if (intent !\u003d null) {"
        },
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/ui/GameActivity.java",
          "patch": "@@ -96,11 +96,8 @@ protected void onCreate(Bundle savedInstanceState) {\n \n             Bundle extras \u003d getIntent().getExtras();\n             if (extras !\u003d null) {\n-                Object o \u003d extras.get(\"gameType\");\n-                if (o instanceof GameType) {\n-                    gameType \u003d (GameType) extras.get(\"gameType\");\n-                }\n-                gameDifficulty \u003d (GameDifficulty) (extras.get(\"gameDifficulty\"));\n+                gameType \u003d GameType.valueOf(extras.getString(\"gameType\", GameType.Default_9x9.name()));\n+                gameDifficulty \u003d GameDifficulty.valueOf(extras.getString(\"gameDifficulty\", GameDifficulty.Moderate.name()));\n                 loadLevel \u003d extras.getBoolean(\"loadLevel\", false);\n                 if (loadLevel) {\n                     loadLevelID \u003d extras.getInt(\"loadLevelID\");"
        },
        {
          "file_name": "app/src/main/java/org/secuso/privacyfriendlysudoku/ui/MainActivity.java",
          "patch": "@@ -215,8 +215,8 @@ public void onClick(View view) {\n \n                     // send everything to game activity\n                     i \u003d new Intent(this, GameActivity.class);\n-                    i.putExtra(\"gameType\", (Serializable)gameType);\n-                    i.putExtra(\"gameDifficulty\", (Serializable)gameDifficulty);\n+                    i.putExtra(\"gameType\", gameType.name());\n+                    i.putExtra(\"gameDifficulty\", gameDifficulty.name());\n                 } else {\n                     newLevelManager.checkAndRestock();\n                     Toast t \u003d Toast.makeText(getApplicationContext(), R.string.generating, Toast.LENGTH_SHORT);"
        }
      ]
    }
  },
  {
    "name": "NullPointerException when trying to submit form",
    "url": "https://github.com/rm3l/maoni/issues/11",
    "description": "Had a couple of error reports\r\n\r\n`Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.res.XmlResourceParser android.content.pm.PackageItemInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)\u0027 on a null object reference\r\n       at android.support.v4.content.FileProvider.parsePathStrategy(FileProvider.java:583)\r\n       at android.support.v4.content.FileProvider.getPathStrategy(FileProvider.java:557)\r\n       at android.support.v4.content.FileProvider.getUriForFile(FileProvider.java:399)\r\n       at org.rm3l.maoni.ui.MaoniActivity.validateAndSubmitForm(MaoniActivity.java:536)\r\n       at org.rm3l.maoni.ui.MaoniActivity.access$100(MaoniActivity.java:70)\r\n       at org.rm3l.maoni.ui.MaoniActivity$2.onClick(MaoniActivity.java:287)\r\n       at android.view.View.performClick(View.java:5637)\r\n       at android.view.View$PerformClick.run(View.java:22433)\r\n       at android.os.Handler.handleCallback(Handler.java:751)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:154)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6176)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)`",
    "keywords": [
      "rm3l",
      "handler",
      "os",
      "method",
      "org",
      "android",
      "maoniactivity",
      "content",
      "view",
      "java",
      "ui",
      "fileprovider",
      "maoni",
      "lang",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/rm3l/maoni/commit/dd5da857dfb7f391c976dce00fac61569deac05a",
      "files": [
        {
          "file_name": "maoni/src/main/java/org/rm3l/maoni/ui/MaoniActivity.java",
          "patch": "@@ -24,6 +24,8 @@\n import android.app.Dialog;\n import android.content.DialogInterface;\n import android.content.Intent;\n+import android.content.pm.PackageManager;\n+import android.content.pm.ProviderInfo;\n import android.graphics.Color;\n import android.graphics.drawable.ColorDrawable;\n import android.net.Uri;\n@@ -37,6 +39,7 @@\n import android.support.v7.app.AppCompatActivity;\n import android.support.v7.widget.Toolbar;\n import android.text.TextUtils;\n+import android.util.Log;\n import android.view.Menu;\n import android.view.MenuItem;\n import android.view.View;\n@@ -69,6 +72,8 @@\n  */\n public class MaoniActivity extends AppCompatActivity {\n \n+    private static final String TAG \u003d MaoniActivity.class.getSimpleName();\n+\n     public static final String APPLICATION_INFO_VERSION_CODE \u003d \"APPLICATION_INFO_VERSION_CODE\";\n     public static final String APPLICATION_INFO_VERSION_NAME \u003d \"APPLICATION_INFO_VERSION_NAME\";\n     public static final String APPLICATION_INFO_PACKAGE_NAME \u003d \"APPLICATION_INFO_PACKAGE_NAME\";\n@@ -530,18 +535,25 @@ private void validateAndSubmitForm() {\n \n             if (intent.hasExtra(FILE_PROVIDER_AUTHORITY)) {\n                 final String fileProviderAuthority \u003d intent.getStringExtra(FILE_PROVIDER_AUTHORITY);\n-                if (mScreenshotFilePath !\u003d null) {\n-                    screenshotFile \u003d new File(mScreenshotFilePath.toString());\n-                    screenshotUri \u003d FileProvider\n-                            .getUriForFile(this, fileProviderAuthority, screenshotFile);\n-                    grantUriPermission(intent.getComponent().getPackageName(),\n-                            screenshotUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n-                }\n-                if (logsFile !\u003d null) {\n-                    logsUri \u003d FileProvider\n-                            .getUriForFile(this, fileProviderAuthority, logsFile);\n-                    grantUriPermission(intent.getComponent().getPackageName(),\n-                            logsUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n+                //#11 : Potential NPE in Android\u0027s FileProvider if Provider Authority couldn\u0027t be resolved\n+                final ProviderInfo providerAuthorityInfo \u003d this.getPackageManager()\n+                    .resolveContentProvider(fileProviderAuthority, PackageManager.GET_META_DATA);\n+                if (providerAuthorityInfo \u003d\u003d null) {\n+                    Log.w(TAG, \"Could not resolve file provider authority : \"\n+                        + fileProviderAuthority + \". Sharing of files captured not supported then. \"\n+                        + \"See http://maoni.rm3l.org/ for setup instructions.\");\n+                } else {\n+                    if (mScreenshotFilePath !\u003d null) {\n+                        screenshotFile \u003d new File(mScreenshotFilePath.toString());\n+                        screenshotUri \u003d\n+                            FileProvider.getUriForFile(this, fileProviderAuthority, screenshotFile);\n+                        grantUriPermission(intent.getComponent().getPackageName(), screenshotUri,\n+                            Intent.FLAG_GRANT_READ_URI_PERMISSION);\n+                    }\n+                    if (logsFile !\u003d null) {\n+                        logsUri \u003d FileProvider.getUriForFile(this, fileProviderAuthority, logsFile);\n+                        grantUriPermission(intent.getComponent().getPackageName(), logsUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\n+                    }\n                 }\n             }\n "
        }
      ]
    }
  },
  {
    "name": "Possible OOM error on preferences import",
    "url": "https://github.com/owntracks/android/issues/413",
    "description": "```\njava.lang.OutOfMemoryError: Failed to allocate a 93886464 byte allocation with 16777216 free bytes and 73MB until OOM\n    at java.lang.StringBuilder.toString(StringBuilder.java:408)\n    at java.lang.String.valueOf(String.java:2683)\n    at java.lang.StringBuilder.append(StringBuilder.java:129)\n    at org.owntracks.android.activities.ActivityImport.extractPreferences(ActivityImport.java:200)\n    at org.owntracks.android.activities.ActivityImport.handleIntent(ActivityImport.java:81)\n    at org.owntracks.android.activities.ActivityImport.onCreate(ActivityImport.java:51)\n    at android.app.Activity.performCreate(Activity.java:6664)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n```\n",
    "keywords": [
      "app",
      "activitythread",
      "java",
      "os",
      "org",
      "owntracks",
      "activities",
      "android",
      "android app",
      "lang",
      "activityimport",
      "stringbuilder",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/owntracks/android/commit/d91c64aa67cd64cc2071e20dec777175cb1eb289",
      "files": [
        {
          "file_name": "project/app/src/main/java/org/owntracks/android/activities/ActivityImport.java",
          "patch": "@@ -216,12 +216,15 @@ private void extractPreferences(Uri uri){\n             Timber.e(e, \"import exception \");\n             finish();\n             Toast.makeText(this, getString(R.string.errorPreferencesImportFailed), Toast.LENGTH_SHORT).show();\n-\n+        } catch(OutOfMemoryError e){\n+            Timber.e(e, \"import exception \");\n+            finish();\n+            Toast.makeText(this, getString(R.string.errorPreferencesImportFailedMemory), Toast.LENGTH_SHORT).show();\n         }\n \n     }\n \n-    private static String formatString(String text){\n+    private static String formatString(String text) throws OutOfMemoryError{\n \n         StringBuilder json \u003d new StringBuilder();\n         String indentString \u003d \"\";"
        },
        {
          "file_name": "project/app/src/main/res/values-de/strings.xml",
          "patch": "@@ -146,6 +146,7 @@\n     \u003cstring name\u003d\"ERROR_CONFIGURATION\"\u003eKonfiguration unvollständig\u003c/string\u003e\n     \u003cstring name\u003d\"errorPreferencesImportFailed\"\u003eImport fehlgeschlagen\u003c/string\u003e\n     \u003cstring name\u003d\"errorPreferencesImportFailedParseException\"\u003eKonfiguration fehlerhaft\u003c/string\u003e\n+    \u003cstring name\u003d\"errorPreferencesImportFailedMemory\"\u003eNicht genug Speicher verfügbar\u003c/string\u003e\n     \u003cstring name\u003d\"welcome_play_description\"\u003eOwntracks benötigt die Google Play-Dienste\u003c/string\u003e\n     \u003cstring name\u003d\"play_services_not_available_general\"\u003eGoogle Play-Dienste sind nicht verfügbar\u003c/string\u003e\n     \u003cstring name\u003d\"icon_description_warning\"\u003eWarnung\u003c/string\u003e"
        },
        {
          "file_name": "project/app/src/main/res/values/strings.xml",
          "patch": "@@ -215,5 +215,6 @@\n     \u003cstring name\u003d\"errorPreferencesImportFailedParseException\"\u003eunable to parse file\u003c/string\u003e\n     \u003cstring name\u003d\"preferencesIgnoreInaccurateLocations\"\u003eInaccurate locations\u003c/string\u003e\n     \u003cstring name\u003d\"preferencesIgnoreInaccurateLocationsSummary\"\u003eIgnore inaccurate locations\u003c/string\u003e\n+    \u003cstring name\u003d\"errorPreferencesImportFailedMemory\"\u003eYour device ran out of memory\u003c/string\u003e\n \n \u003c/resources\u003e"
        }
      ]
    }
  },
  {
    "name": "NPE - ArticleActivity / Menu.findItem()",
    "url": "https://github.com/AnaelMobilia/NextINpact-Unofficial/issues/219",
    "description": "2 occurrences.\r\n\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.pcinpact/com.pcinpact.ArticleActivity}: java.lang.NullPointerException: Attempt to invoke interface method \u0027android.view.MenuItem android.view.Menu.findItem(int)\u0027 on a null object reference\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2335)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2397)\r\n\tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3961)\r\n\tat android.app.ActivityThread.access$900(ActivityThread.java:151)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1316)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:135)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5268)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:902)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:697)\r\nCaused by: java.lang.NullPointerException: Attempt to invoke interface method \u0027android.view.MenuItem android.view.Menu.findItem(int)\u0027 on a null object reference\r\n\tat com.pcinpact.ArticleActivity$1.onPageSelected(ArticleActivity.java:93)\r\n\tat android.support.v4.view.ViewPager.setCurrentItemInternal(ViewPager.java:548)\r\n\tat android.support.v4.view.ViewPager.setCurrentItemInternal(ViewPager.java:514)\r\n\tat android.support.v4.view.ViewPager.onRestoreInstanceState(ViewPager.java:1287)\r\n\tat android.view.View.dispatchRestoreInstanceState(View.java:13758)\r\n\tat android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:2890)\r\n\tat android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:2896)\r\n\tat android.view.View.restoreHierarchyState(View.java:13736)\r\n\tat com.android.internal.policy.impl.PhoneWindow.restoreHierarchyState(PhoneWindow.java:2042)\r\n\tat android.app.Activity.onRestoreInstanceState(Activity.java:1032)\r\n\tat android.app.Activity.performRestoreInstanceState(Activity.java:987)\r\n\tat android.app.Instrumentation.callActivityOnRestoreInstanceState(Instrumentation.java:1162)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2308)\r\n\t... 11 more",
    "keywords": [
      "com",
      "app",
      "finditem",
      "internal",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "invoke",
      "menu",
      "java lang",
      "dispatchrestoreinstancestate",
      "activitythread",
      "view",
      "java",
      "viewgroup",
      "android app",
      "viewpager",
      "android view",
      "lang",
      "menu finditem",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/AnaelMobilia/NextINpact-Unofficial/commit/8ffffdc51b3b882daf03b5319d26cb6ff59e87d7",
      "files": [
        {
          "file_name": "app/src/main/java/com/pcinpact/ArticleActivity.java",
          "patch": "@@ -50,6 +50,11 @@\n      * Accès au menu\n      */\n     private Menu monMenu;\n+    /**\n+     * Viewpager pour le slide des articles\n+     */\n+    private ViewPager monViewPager;\n+    private ArticlePagerAdapter pagerAdapter;\n \n     @Override\n     public void onCreate(Bundle savedInstanceState) {\n@@ -73,14 +78,43 @@ public void onCreate(Bundle savedInstanceState) {\n         monDAO \u003d DAO.getInstance(getApplicationContext());\n \n         // ViewPager (pour le slide des articles)\n-        ViewPager monViewPager \u003d (ViewPager) findViewById(R.id.article_viewpager);\n-        final ArticlePagerAdapter pagerAdapter \u003d new ArticlePagerAdapter(getSupportFragmentManager(), getApplicationContext(),\n+        monViewPager \u003d (ViewPager) findViewById(R.id.article_viewpager);\n+        pagerAdapter \u003d new ArticlePagerAdapter(getSupportFragmentManager(), getApplicationContext(),\n                                                                          getLayoutInflater());\n         monViewPager.setAdapter(pagerAdapter);\n \n         // Définition de l\u0027article demandé !\n         monViewPager.setCurrentItem(pagerAdapter.getPosition(articleID));\n+    }\n+\n+    @Override\n+    public boolean onCreateOptionsMenu(Menu menu) {\n+        // Stockage du menu\n+        monMenu \u003d menu;\n+\n+        super.onCreateOptionsMenu(monMenu);\n+\n+        // Je charge mon menu dans l\u0027actionBar\n+        MenuInflater inflater \u003d getMenuInflater();\n+        inflater.inflate(R.menu.activity_article_actions, monMenu);\n+\n+        // Récupération du bouton de partage\n+        MenuItem shareItem \u003d monMenu.findItem(R.id.action_share);\n+        // Get the provider and hold onto it to set/change the share intent.\n+        ShareActionProvider mShareActionProvider \u003d (ShareActionProvider) MenuItemCompat.getActionProvider(shareItem);\n \n+        // Assignation de mon intent\n+        mShareActionProvider.setShareIntent(genererShareIntent());\n+\n+        // Option : cacher le bouton de partage\n+        Boolean cacherBoutonPartage \u003d Constantes.getOptionBoolean(getApplicationContext(), R.string.idOptionCacherBoutonPartage,\n+                                                                  R.bool.defautOptionCacherBoutonPartage);\n+        if (cacherBoutonPartage) {\n+            // Le cacher\n+            shareItem.setVisible(false);\n+        }\n+\n+        // Configuration de l\u0027intent\n         monViewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n             @Override\n             public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n@@ -110,34 +144,8 @@ public void onPageScrollStateChanged(int state) {\n \n             }\n         });\n-    }\n-\n-    @Override\n-    public boolean onCreateOptionsMenu(Menu menu) {\n-        // Je charge mon menu dans l\u0027actionBar\n-        MenuInflater inflater \u003d getMenuInflater();\n-        inflater.inflate(R.menu.activity_article_actions, menu);\n-\n-        // Récupération du bouton de partage\n-        MenuItem shareItem \u003d menu.findItem(R.id.action_share);\n-        // Get the provider and hold onto it to set/change the share intent.\n-        ShareActionProvider mShareActionProvider \u003d (ShareActionProvider) MenuItemCompat.getActionProvider(shareItem);\n-\n-        // Assignation de mon intent\n-        mShareActionProvider.setShareIntent(genererShareIntent());\n-\n-        // Option : cacher le bouton de partage\n-        Boolean cacherBoutonPartage \u003d Constantes.getOptionBoolean(getApplicationContext(), R.string.idOptionCacherBoutonPartage,\n-                                                                  R.bool.defautOptionCacherBoutonPartage);\n-        if (cacherBoutonPartage) {\n-            // Le cacher\n-            shareItem.setVisible(false);\n-        }\n-\n-        // Stockage du menu\n-        monMenu \u003d menu;\n \n-        return super.onCreateOptionsMenu(menu);\n+        return true;\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "Handle null intent in GcmIntentService",
    "url": "https://github.com/kontalk/androidclient/issues/1019",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String android.content.Intent.getAction()\u0027 on a null object reference\r\n       at org.kontalk.service.gcm.GcmIntentService.onHandleIntent(GcmIntentService.java:64)\r\n       at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.os.HandlerThread.run(HandlerThread.java:61)\r\n```",
    "keywords": [
      "gcmintentservice",
      "os",
      "android"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/785d1aae4d07ff6f09ceb780646673cfcee275ad",
      "files": [
        {
          "file_name": "app/src/googleplay/java/org/kontalk/service/gcm/GcmIntentService.java",
          "patch": "@@ -60,6 +60,9 @@ public GcmIntentService() {\n \n     @Override\n     protected void onHandleIntent(Intent intent) {\n+        // restarting from crash - ignore\n+        if (intent \u003d\u003d null)\n+            return;\n \n         if (ACTION_RETRY.equals(intent.getAction())) {\n "
        }
      ]
    }
  },
  {
    "name": "这个在4.3版本上不能兼容呢，这是什么原因呢",
    "url": "https://github.com/NEYouFan/ht-refreshrecyclerview/issues/3",
    "description": "FATAL EXCEPTION: main\r\n                  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.netease.demo.htrefreshrecyclerview/com.netease.demo.refreshactivity.VerticalDownRefreshActivity}: android.view.InflateException: Binary XML file line #14: Error inflating class com.netease.hearttouch.htrefreshrecyclerview.HTRefreshRecyclerView\r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2225)\r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2286)\r\n                      at android.app.ActivityThread.access$600(ActivityThread.java:144)\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1259)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:99)\r\n                      at android.os.Looper.loop(Looper.java:137)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5166)\r\n                      at java.lang.reflect.Method.invokeNative(Native Method)\r\n                      at java.lang.reflect.Method.invoke(Method.java:525)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:768)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:584)\r\n                      at dalvik.system.NativeStart.main(Native Method)\r\n                   Caused by: android.view.InflateException: Binary XML file line #14: Error inflating class com.netease.hearttouch.htrefreshrecyclerview.HTRefreshRecyclerView\r\n                      at android.view.LayoutInflater.createView(LayoutInflater.java:620)\r\n                      at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\r\n                      at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\r\n                      at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:280)\r\n                      at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\r\n                      at com.netease.demo.refreshactivity.VerticalDownRefreshActivity.onCreate(VerticalDownRefreshActivity.java:38)\r\n                      at android.app.Activity.performCreate(Activity.java:5193)\r\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1090)\r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2189)\r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2286) \r\n                      at android.app.ActivityThread.access$600(ActivityThread.java:144) \r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1259) \r\n                      at android.os.Handler.dispatchMessage(Handler.java:99) \r\n                      at android.os.Looper.loop(Looper.java:137) \r\n                      at android.app.ActivityThread.main(ActivityThread.java:5166) \r\n                      at java.lang.reflect.Method.invokeNative(Native Method) \r\n                      at java.lang.reflect.Method.invoke(Method.java:525) \r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:768) \r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:584) \r\n                      at dalvik.system.NativeStart.main(Native Method) \r\n                   Caused by: java.lang.reflect.InvocationTargetException\r\n                      at java.lang.reflect.Constructor.constructNative(Native Method)\r\n                      at java.lang.reflect.Constructor.newInstance(Constructor.java:417)\r\n                      at android.view.LayoutInflater.createView(LayoutInflater.java:594)\r\n                      at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696) \r\n                      at android.view.LayoutInflater.rInflate(LayoutInflater.java:755) \r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:492) \r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:397) \r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:353) \r\n                      at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:280) \r\n                      at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140) \r\n                      at com.netease.demo.refreshactivity.VerticalDownRefreshActivity.onCreate(VerticalDownRefreshActivity.java:38) \r\n                      at android.app.Activity.performCreate(Activity.java:5193) \r\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1090) \r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2189) \r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2286) \r\n                      at android.app.ActivityThread.access$600(ActivityThread.java:144) \r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1259) \r\n                      at android.os.Handler.dispatchMessage(Handler.java:99) \r\n                      at android.os.Looper.loop(Looper.java:137) \r\n                      at android.app.ActivityThread.main(ActivityThread.java:5166) \r\n                      at java.lang.reflect.Method.invokeNative(Native Method) \r\n                      at java.lang.reflect.Method.invoke(Method.java:525) \r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:768) \r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:584) \r\n                      at dalvik.system.NativeStart.main(Native Method) \r\n                   Caused by: java.lang.NullPointerException\r\n                      at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:548)\r\n                      at android.view.View.measure(View.java:15848)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.utils.Utils.getItemViewSize(Utils.java:85)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseViewHolder.computeViewSize(HTBaseViewHolder.java:84)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseRecyclerView.setRefreshViewHolder(HTBaseRecyclerView.java:238)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseRecyclerView.initViews(HTBaseRecyclerView.java:213)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseRecyclerView.\u003cinit\u003e(HTBaseRecyclerView.java:154)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.viewimpl.HTBaseRecyclerViewImpl.\u003cinit\u003e(HTBaseRecyclerViewImpl.java:50)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.viewimpl.HTVerticalRecyclerViewImpl.\u003cinit\u003e(HTVerticalRecyclerViewImpl.java:24)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.viewimpl.HTVerticalDownRecyclerViewImpl.\u003cinit\u003e(HTVerticalDownRecyclerViewImpl.java:27)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.HTRefreshRecyclerView.\u003cinit\u003e(HTRefreshRecyclerView.java:58)\r\n                      at com.netease.hearttouch.htrefreshrecyclerview.HTRefreshRecyclerView.\u003cinit\u003e(HTRefreshRecyclerView.java:40)\r\n                      at java.lang.reflect.Constructor.constructNative(Native Method) \r\n                      at java.lang.reflect.Constructor.newInstance(Constructor.java:417) \r\n                      at android.view.LayoutInflater.createView(LayoutInflater.java:594) \r\n                      at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696) \r\n                      at android.view.LayoutInflater.rInflate(LayoutInflater.java:755) \r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:492) \r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:397) \r\n                      at android.view.LayoutInflater.inflate(LayoutInflater.java:353) \r\n                      at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:280) \r\n                      at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140) \r\n                      at com.netease.demo.refreshactivity.VerticalDownRefreshActivity.onCreate(VerticalDownRefreshActivity.java:38) \r\n                      at android.app.Activity.performCreate(Activity.java:5193) \r\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1090) \r\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2189) \r\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2286) \r\n                      at android.app.ActivityThread.access$600(ActivityThread.java:144) \r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1259) \r\n                      at android.os.Handler.dispatchMessage(Handler.java:99) \r\n                      at android.os.Looper.loop(Looper.java:137) \r\n                      at android.app.ActivityThread.main(ActivityThread.java:5166) \r\n                      at java.lang.reflect.Method.invokeNative(Native Method) \r\n                      at java.lang.reflect.Method.invoke(Method.java:525) \r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:768) \r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:584) \r\n                      at dalvik.system.NativeStart.main(Native Method) \r\nE/Parcel: Reading a NULL string not supported here.",
    "keywords": [
      "java:2286",
      "appcompatdelegateimplv7",
      "handler",
      "dalvik",
      "os handler",
      "invoke",
      "htrefreshrecyclerview viewimpl",
      "createview",
      "lang reflect",
      "createview layoutinflater",
      "reflect",
      "java",
      "layoutinflater",
      "java:280",
      "support v7",
      "viewimpl",
      "utils",
      "reflect method",
      "instrumentation",
      "app",
      "android os",
      "java:5166",
      "method",
      "inflate layoutinflater",
      "htrefreshrecyclerview",
      "\u003cinit\u003e",
      "system",
      "verticaldownrefreshactivity",
      "netease demo",
      "htrefreshrecyclerview base",
      "android app",
      "java:38",
      "refreshactivity",
      "java:696",
      "native method",
      "dispatchmessage",
      "internal",
      "activity",
      "java:1259",
      "android support",
      "java:2189",
      "os zygoteinit",
      "invokenative",
      "setcontentview",
      "java:140",
      "native",
      "java:1090",
      "zygoteinit",
      "java:144",
      "main activitythread",
      "caused",
      "appcompatactivity",
      "htbaserecyclerview",
      "rinflate",
      "oncreate",
      "java lang",
      "v7 app",
      "activitythread",
      "handlelaunchactivity",
      "main zygoteinit",
      "performcreate",
      "java:397",
      "com",
      "v7",
      "access$600 activitythread",
      "main",
      "run",
      "hearttouch",
      "createviewfromtag",
      "view",
      "loop",
      "java:5193",
      "performlaunchactivity",
      " ",
      "access$600",
      "java:525",
      "java:768",
      "constructor",
      "view layoutinflater",
      "java:492",
      "method  ",
      "java:137",
      "support",
      "handlemessage",
      "app activitythread",
      "android",
      "netease hearttouch",
      "looper",
      "demo",
      "nativestart",
      "netease",
      "android internal",
      "invoke method",
      "android view",
      "activitythread$h",
      "lang",
      "internal os",
      "java:584",
      "dispatchmessage handler",
      "os",
      "htrefreshrecyclerview htrefreshrecyclerview",
      "zygoteinit$methodandargscaller",
      "com android",
      "callactivityoncreate",
      "inflate",
      "java:755",
      "layoutinflater inflate",
      "java:99",
      "java:353",
      "base"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/NEYouFan/ht-refreshrecyclerview/commit/c888b4e909580f2ec45d4ed8f2436f4a93e4d0ee",
      "files": [
        {
          "file_name": "Guide.md",
          "patch": "@@ -9,7 +9,7 @@\n \u003e重写`onInitRefreshView()`和`onInitLoadMoreView()`方法设置视图。\n \n * 刷新视图和加载更多视图背景色\n-\u003e使用`setRefreshViewBackgroundResId(int refreshViewBackgroundResId)`方法设置刷新视图的背景色；加载更多视图背景色方法为`setLoadMoreViewBackgroundResId(int loadMoreViewBackgroundResId)`。\n+\u003e使用`setRefreshViewBackgroundResId(int refreshViewBackgroundResId)`方法设置刷新视图的背景色。\n \n * 手指移动距离和刷新控件移动距离比值\n \u003e使用`setPullDistanceScale(float pullDistanceScale)` 方法设置，参数不对则抛出异常。默认比例值是`1.8f`。"
        },
        {
          "file_name": "README.md",
          "patch": "@@ -49,16 +49,16 @@\n ### Gradle\n \n ```\n-compile \u0027com.netease.hearttouch:ht-refreshrecyclerview:1.0.0\u0027\n+compile \u0027com.netease.hearttouch:ht-refreshrecyclerview:1.1.0\u0027\n ```\n \n ### Maven\n \n-``` \n+```\n \u003cdependency\u003e\n   \u003cgroupId\u003ecom.netease.hearttouch\u003c/groupId\u003e\n   \u003cartifactId\u003eht-refreshrecyclerview\u003c/artifactId\u003e\n-  \u003cversion\u003e1.0.0\u003c/version\u003e\n+  \u003cversion\u003e1.1.0\u003c/version\u003e\n \u003c/dependency\u003e\n ```\n "
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -5,7 +5,7 @@ buildscript {\n         jcenter()\n     }\n     dependencies {\n-        classpath \"com.android.tools.build:gradle:${ANDROID_GRADLE_VERSION}\"\n+        classpath \"com.android.tools.build:gradle:2.2.0\"\n         // NOTE: Do not place your application dependencies here; they belong\n         // in the individual module build.gradle files\n     }\n@@ -19,4 +19,15 @@ allprojects {\n \n task clean(type: Delete) {\n     delete rootProject.buildDir\n+}\n+\n+ext{\n+    minSdkVersion \u003d 14\n+    targetSdkVersion \u003d 24\n+    compileSdkVersion \u003d 24\n+    buildToolsVersion \u003d \u002724.0.2\u0027\n+\n+    //support and test\n+    supportLibraryVersion \u003d \u002724.2.0\u0027\n+    junitVersion \u003d \u00274.12\u0027\n }\n\\ No newline at end of file"
        },
        {
          "file_name": "gradle.properties",
          "patch": "@@ -19,16 +19,4 @@\n org.gradle.daemon\u003dtrue\n org.gradle.configureondemand\u003dtrue\n \n-SUPPORT_V4_VERSION\u003d24.0.0\n-SUPPORT_V7_VERSION\u003d24.0.0\n-RECYCLERVIEW_VERSION\u003d24.0.0\n-JUNIT_VERSION\u003d4.12\n \n-ANDROID_GRADLE_VERSION\u003d2.1.2\n-\n-VERSION_NAME\u003d0.0.1-SNAPSHOT\n-\n-COMPILE_SDK_VERSION\u003d24\n-BUILD_TOOLS_VERSION\u003d23.0.2\n-TARGET_SDK_VERSION\u003d24\n-MIN_SDK_VERSION\u003d14"
        },
        {
          "file_name": "gradle/wrapper/gradle-wrapper.properties",
          "patch": "@@ -1,6 +1,6 @@\n-#Mon Jul 11 10:39:42 CST 2016\n+#Sun Mar 12 22:44:01 CST 2017\n distributionBase\u003dGRADLE_USER_HOME\n distributionPath\u003dwrapper/dists\n zipStoreBase\u003dGRADLE_USER_HOME\n zipStorePath\u003dwrapper/dists\n-distributionUrl\u003dhttps\\://services.gradle.org/distributions/gradle-2.10-all.zip\n+distributionUrl\u003dhttps\\://services.gradle.org/distributions/gradle-2.14.1-all.zip"
        },
        {
          "file_name": "htrefreshrecyclerview/build.gradle",
          "patch": "@@ -5,14 +5,14 @@\n apply plugin: \u0027com.android.library\u0027\n \n android {\n-    compileSdkVersion COMPILE_SDK_VERSION as int\n-    buildToolsVersion BUILD_TOOLS_VERSION as String\n+    compileSdkVersion rootProject.compileSdkVersion\n+    buildToolsVersion rootProject.buildToolsVersion\n+\n     defaultConfig {\n         vectorDrawables.useSupportLibrary \u003d true\n-        minSdkVersion MIN_SDK_VERSION as int\n-        targetSdkVersion TARGET_SDK_VERSION as int\n+        minSdkVersion rootProject.minSdkVersion\n+        targetSdkVersion rootProject.targetSdkVersion\n         versionCode 1\n-        versionName VERSION_NAME as String\n     }\n     buildTypes {\n         release {\n@@ -24,8 +24,8 @@ android {\n \n dependencies {\n     compile fileTree(dir: \u0027libs\u0027, include: [\u0027*.jar\u0027])\n-    testCompile \"junit:junit:${JUNIT_VERSION}\"\n-    compile \"com.android.support:appcompat-v7:${SUPPORT_V4_VERSION}\"\n-    compile \"com.android.support:recyclerview-v7:${RECYCLERVIEW_VERSION}\"\n+    testCompile \"junit:junit:$rootProject.junitVersion\"\n+    compile \"com.android.support:appcompat-v7:$rootProject.supportLibraryVersion\"\n+    compile \"com.android.support:recyclerview-v7:$rootProject.supportLibraryVersion\"\n }\n "
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/java/com/netease/hearttouch/htrefreshrecyclerview/base/HTBaseRecyclerView.java",
          "patch": "@@ -29,15 +29,15 @@\n import com.netease.hearttouch.htrefreshrecyclerview.HTRecyclerViewDragListener;\n import com.netease.hearttouch.htrefreshrecyclerview.HTRefreshListener;\n import com.netease.hearttouch.htrefreshrecyclerview.R;\n+import com.netease.hearttouch.htrefreshrecyclerview.utils.Utils;\n import com.netease.hearttouch.htrefreshrecyclerview.viewimpl.HTDefaultHorizontalRefreshViewHolder;\n import com.netease.hearttouch.htrefreshrecyclerview.viewimpl.HTDefaultVerticalRefreshViewHolder;\n \n import java.lang.reflect.Constructor;\n import java.lang.reflect.InvocationTargetException;\n import java.util.ArrayList;\n \n-import static android.widget.LinearLayout.HORIZONTAL;\n-import static android.widget.LinearLayout.VERTICAL;\n+import static android.R.attr.orientation;\n import static com.netease.hearttouch.htrefreshrecyclerview.base.HTOrientation.VERTICAL_DOWN;\n import static com.netease.hearttouch.htrefreshrecyclerview.base.HTOrientation.VERTICAL_UP;\n \n@@ -46,6 +46,7 @@\n  */\n public abstract class HTBaseRecyclerView extends ViewGroup implements HTRefreshRecyclerViewInterface {\n     private static final String TAG \u003d HTBaseRecyclerView.class.getSimpleName();\n+\n     /**\n      * 设置全局的默认刷新加载样式\n      */\n@@ -131,6 +132,7 @@\n     protected final int mTouchSlop \u003d ViewConfiguration.get(getContext()).getScaledTouchSlop();\n \n     private Paint mRefreshBgPaint;\n+    protected int mLoadMoreViewSize;\n \n \n     public HTBaseRecyclerView(Context context) {\n@@ -205,10 +207,8 @@ private void initViews() {\n             HTBaseViewHolder viewHolder;\n             if (checkOrientationVertical()) {\n                 viewHolder \u003d new HTDefaultVerticalRefreshViewHolder(getContext());\n-                ((HTDefaultVerticalRefreshViewHolder) viewHolder).setDefaultRefreshViewArrow(mHTOrientation);\n             } else {\n                 viewHolder \u003d new HTDefaultHorizontalRefreshViewHolder(getContext());\n-                ((HTDefaultHorizontalRefreshViewHolder) viewHolder).setDefaultRefreshViewArrow(mHTOrientation);\n             }\n             setRefreshViewHolder(viewHolder);//设置默认刷新样式\n         }\n@@ -221,6 +221,15 @@ private void initListeners() {\n         setRecyclerViewOnScrollListener();\n     }\n \n+\n+    /**\n+     * 计算刷新视图和加载更多视图在刷新方向上的尺寸\n+     */\n+    protected void computeViewSize() {\n+        mLoadMoreViewSize \u003d Utils.getItemViewSize(orientation, mLoadMoreContainerView);\n+\n+    }\n+\n     /**\n      * 设置全局的刷新样式\n      */\n@@ -232,63 +241,24 @@ public static void setRefreshViewHolderClass(@NonNull Class\u003c? extends HTBaseView\n      * 设置刷新和加载更多的视图控件并初始化\n      */\n     public void setRefreshViewHolder(@NonNull HTBaseViewHolder refreshViewHolder) {\n+        resetRefreshViewHolderView();\n         mHTViewHolder \u003d refreshViewHolder;\n         mHTViewHolderTracker \u003d mHTViewHolder.getViewHolderTracker();\n         mHTViewHolderTracker.setOrientation(mHTOrientation);\n-        mHTViewHolder.computeViewSize(checkOrientationVertical() ? VERTICAL : HORIZONTAL);\n \n-        resetRefreshViewHolderView();\n-        initRefreshView();\n-        initLoadMoreView();\n+        mHTViewHolder.setRecyclerView(this, mRefreshContainerView, mLoadMoreContainerView);\n+        computeViewSize();\n+        setRefreshUIChangeListener(mHTViewHolder);\n+        setLoadMoreUIChangeListener(mHTViewHolder);\n     }\n \n \n     private void resetRefreshViewHolderView() {\n         mRefreshContainerView.removeAllViews();\n         mLoadMoreContainerView.removeAllViews();\n-    }\n-\n-\n-    private void initRefreshView() {\n-        if (mHTViewHolder \u003d\u003d null) return;\n-        View refreshView \u003d mHTViewHolder.getRefreshView();\n-        if (refreshView !\u003d null) {\n-            if (refreshView.getParent() !\u003d null) {\n-                ((ViewGroup) refreshView.getParent()).removeView(refreshView);\n-            }\n-            int res \u003d mHTViewHolder.getRefreshViewBackgroundResId();\n-            if (res !\u003d 0) {//默认背景透明\n-                mRefreshContainerView.setBackgroundResource(res);\n-            } else {\n-                mRefreshContainerView.setBackgroundResource(android.R.color.transparent);\n-            }\n-            mRefreshContainerView.removeAllViews();\n-            setViewLayoutParams(refreshView);\n-            mRefreshContainerView.addView(refreshView);\n-//            hideRefreshView(true);\n+        if (mHTViewHolder !\u003d null) {\n+            mHTViewHolder.resetViewHolder();\n         }\n-        setRefreshUIChangeListener(mHTViewHolder);\n-    }\n-\n-    private void initLoadMoreView() {\n-        if (mHTViewHolder \u003d\u003d null) return;\n-        View loadMoreView \u003d mHTViewHolder.getLoadMoreView();\n-        if (loadMoreView !\u003d null) {\n-            if (loadMoreView.getParent() !\u003d null) {\n-                ((ViewGroup) loadMoreView.getParent()).removeView(loadMoreView);\n-            }\n-            int res \u003d mHTViewHolder.getLoadMoreViewBackgroundResId();\n-            if (res !\u003d 0) {//默认背景透明\n-                mLoadMoreContainerView.setBackgroundResource(res);\n-            } else {\n-                mLoadMoreContainerView.setBackgroundResource(android.R.color.transparent);\n-            }\n-            mLoadMoreContainerView.removeAllViews();\n-            setViewLayoutParams(loadMoreView);\n-            mLoadMoreContainerView.addView(loadMoreView);\n-            hideLoadMoreView(true);\n-        }\n-        setLoadMoreUIChangeListener(mHTViewHolder);\n     }\n \n     private void setViewLayoutParams(View view) {\n@@ -299,11 +269,14 @@ private void setViewLayoutParams(View view) {\n         view.setLayoutParams(lp);\n     }\n \n-    protected boolean checkOrientationVertical() {\n+\n+\n+\n+    public boolean checkOrientationVertical() {\n         return mHTOrientation \u003d\u003d VERTICAL_UP || mHTOrientation \u003d\u003d VERTICAL_DOWN;\n     }\n \n-    protected boolean checkOrientationReverse() {\n+    public boolean checkOrientationReverse() {\n         return mHTOrientation \u003d\u003d HTOrientation.HORIZONTAL_LEFT || mHTOrientation \u003d\u003d VERTICAL_UP;\n     }\n \n@@ -350,6 +323,12 @@ protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n         }\n     }\n \n+\n+    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n+        super.onSizeChanged(w, h, oldw, oldh);\n+        mHTViewHolderTracker.setRefreshViewSize(checkOrientationVertical() ? mRefreshContainerView.getMeasuredHeight() : mRefreshContainerView.getMeasuredWidth());\n+    }\n+\n     protected void onLayout(boolean changed, int l, int t, int r, int b) {\n //        super.onLayout(changed, l, t, r, b);\n         if (checkOrientationVertical()) {\n@@ -495,7 +474,7 @@ public void hideLoadMoreView(boolean isHide) {\n         if (mLoadMoreContainerView !\u003d null \u0026\u0026 mHTViewHolder !\u003d null) {\n             int size \u003d 0;\n             if (isHide) {\n-                size \u003d -mHTViewHolderTracker.getLoadMoreSize();\n+                size \u003d -mLoadMoreViewSize;\n             }\n             switch (mHTOrientation) {\n                 case VERTICAL_DOWN:"
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/java/com/netease/hearttouch/htrefreshrecyclerview/base/HTBaseViewHolder.java",
          "patch": "@@ -6,20 +6,16 @@\n package com.netease.hearttouch.htrefreshrecyclerview.base;\n \n import android.content.Context;\n+import android.support.annotation.IdRes;\n import android.view.View;\n import android.view.ViewGroup;\n \n-import com.netease.hearttouch.htrefreshrecyclerview.utils.Utils;\n-\n-import static android.R.attr.orientation;\n-\n /**\n  * 刷新视图和加载更多视图的包裹基类,用户需要继承该类完成自定义视图样式\n  */\n public abstract class HTBaseViewHolder implements HTBaseRecyclerView.HTLoadMoreUIChangeListener, HTBaseRecyclerView.HTRefreshUIChangeListener {\n \n     private static final int DEFAULT_ANIMATION_TIME \u003d 500;\n-    private static final int DEFAULT_VIEW_SIZE \u003d 50;\n \n     protected Context mContext;\n     /**\n@@ -30,61 +26,51 @@\n      * 加载更多视图对象\n      */\n     protected View mLoadMoreView;\n+\n+    protected HTBaseRecyclerView mRecyclerView;\n     /**\n      * 刷新视图的背景色\n      */\n     private int mRefreshViewBackgroundResId \u003d 0;\n-    /**\n-     * 加载更多视图的背景色\n-     */\n-    private int mLoadMoreViewBackgroundResId \u003d 0;\n+\n     /**\n      * 动画时间，默认500ms\n      */\n     private int mAnimationTime \u003d DEFAULT_ANIMATION_TIME;\n \n     private HTViewHolderTracker mViewHolderTracker;\n \n-    private int mOrientation \u003d 1;\n-\n     public HTBaseViewHolder(Context context) {\n         mContext \u003d context;\n-        mRefreshView \u003d onInitRefreshView();\n-        mLoadMoreView \u003d onInitLoadMoreView();\n         mViewHolderTracker \u003d new HTViewHolderTracker();\n     }\n \n-    /**\n-     * 设置加载更多视图的背景色\n-     *\n-     * @param loadMoreViewBackgroundResId 背景色资源Id\n-     */\n-    public void setLoadMoreViewBackgroundResId(int loadMoreViewBackgroundResId) {\n-        if (loadMoreViewBackgroundResId \u003e 0) {\n-            this.mLoadMoreViewBackgroundResId \u003d loadMoreViewBackgroundResId;\n-            if (mLoadMoreView !\u003d null) {\n-                ViewGroup container \u003d (ViewGroup) mLoadMoreView.getParent();\n-                if (container !\u003d null) {\n-                    container.setBackgroundResource(loadMoreViewBackgroundResId);\n-                }\n+\n+    void setRecyclerView(HTBaseRecyclerView recyclerView, ViewGroup refreshViewParent, ViewGroup loadMoreViewParent) {\n+        mRecyclerView \u003d recyclerView;\n+        View view \u003d onInitRefreshView(refreshViewParent);\n+        if (view !\u003d null) {\n+            if (refreshViewParent.getChildCount() \u003d\u003d 0) {\n+                throw new IllegalArgumentException(\"the refresh view has not been attached to parent view !\");\n+            } else {\n+                mRefreshView \u003d refreshViewParent.getChildAt(0);\n+            }\n+        }\n+        view \u003d onInitLoadMoreView(loadMoreViewParent);\n+        if (view !\u003d null) {\n+            if (loadMoreViewParent.getChildCount() \u003d\u003d 0) {\n+                throw new IllegalArgumentException(\"the loadMore view has not been attached to parent view !\");\n+            } else {\n+                mLoadMoreView \u003d loadMoreViewParent.getChildAt(0);\n             }\n         }\n-    }\n \n-    protected void updateViewSize() {\n-        computeViewSize(orientation);\n     }\n \n-    /**\n-     *  计算刷新视图和加载更多视图在刷新方向上的尺寸\n-     * @param orientation\n-     */\n-    protected void computeViewSize(int orientation) {\n-        mOrientation \u003d orientation;\n-        int refreshSize \u003d mRefreshView \u003d\u003d null ? 0 : Utils.getItemViewSize(orientation, mRefreshView);\n-        int loadMoreSize \u003d mRefreshView \u003d\u003d null ? 0 : Utils.getItemViewSize(orientation, mLoadMoreView);\n-        mViewHolderTracker.setRefreshViewSize(refreshSize \u003d\u003d 0 ? DEFAULT_VIEW_SIZE : refreshSize);\n-        mViewHolderTracker.setLoadMoreSize(loadMoreSize \u003d\u003d 0 ? DEFAULT_VIEW_SIZE : loadMoreSize);\n+    protected void updateViewSize() {\n+        if (mRecyclerView !\u003d null) {\n+            mRecyclerView.computeViewSize();\n+        }\n     }\n \n \n@@ -93,23 +79,21 @@ protected void computeViewSize(int orientation) {\n      *\n      * @param refreshViewBackgroundResId 背景色资源Id\n      */\n-    public void setRefreshViewBackgroundResId(int refreshViewBackgroundResId) {\n+    public void setRefreshViewBackgroundResId(@IdRes int refreshViewBackgroundResId) {\n         if (refreshViewBackgroundResId \u003e 0) {\n             mRefreshViewBackgroundResId \u003d refreshViewBackgroundResId;\n-            if (mRefreshView !\u003d null) {\n-                ViewGroup container \u003d (ViewGroup) mRefreshView.getParent();\n-                if (container !\u003d null) {\n-                    container.setBackgroundResource(refreshViewBackgroundResId);\n-                }\n-            }\n         }\n     }\n \n-\n-    public HTViewHolderTracker getViewHolderTracker() {\n+     HTViewHolderTracker getViewHolderTracker() {\n         return mViewHolderTracker;\n     }\n \n+    void resetViewHolder() {\n+        mRecyclerView \u003d null;\n+        mContext \u003d null;\n+        mViewHolderTracker \u003d null;\n+    }\n \n     /**\n      * 设置刷新和加载更多相关动画的执行时间\n@@ -149,23 +133,19 @@ public void setSpringDistanceScale(float springDistanceScale) {\n     }\n \n     /**\n-     * 自定义的刷新视图\n+     * 自定义的刷新视图添加到parent中\n      */\n-    public abstract View onInitRefreshView();\n+    public abstract View onInitRefreshView(ViewGroup parent);\n \n     /**\n-     * 自定义的加载更多视图\n+     * 自定义的加载更多视图添加到parent中\n      */\n-    public abstract View onInitLoadMoreView();\n+    public abstract View onInitLoadMoreView(ViewGroup parent);\n \n     public final int getAnimationTime() {\n         return mAnimationTime;\n     }\n \n-    public final int getLoadMoreViewBackgroundResId() {\n-        return mLoadMoreViewBackgroundResId;\n-    }\n-\n     public final int getRefreshViewBackgroundResId() {\n         return mRefreshViewBackgroundResId;\n     }\n@@ -177,5 +157,4 @@ public final View getRefreshView() {\n     public final View getLoadMoreView() {\n         return mLoadMoreView;\n     }\n-\n }"
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/java/com/netease/hearttouch/htrefreshrecyclerview/base/HTViewHolderTracker.java",
          "patch": "@@ -30,7 +30,6 @@\n     private float mOffsetX;\n     private float mOffsetY;\n     private int mRefreshViewSize;\n-    private int mLoadMoreSize;\n     /**刷新视图移动上一次的位置*/\n     private int mLastPos \u003d 0;\n     /**刷新视图移动当前的位置*/\n@@ -158,14 +157,6 @@ public boolean isIdlePosition() {\n         return mCurrentPos \u003d\u003d POSITION_IDLE;\n     }\n \n-    public int getLoadMoreSize() {\n-        return mLoadMoreSize;\n-    }\n-\n-    public void setLoadMoreSize(int loadMoreSize) {\n-        mLoadMoreSize \u003d loadMoreSize;\n-    }\n-\n     public boolean hasLeftIdlePosition() {\n         return mCurrentPos \u003e POSITION_IDLE;\n     }"
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/java/com/netease/hearttouch/htrefreshrecyclerview/viewimpl/HTBaseRecyclerViewImpl.java",
          "patch": "@@ -39,11 +39,11 @@\n     protected boolean mAutoRefresh;\n \n     public HTBaseRecyclerViewImpl(Context context) {\n-        this(context, null);\n+        super(context);\n     }\n \n     public HTBaseRecyclerViewImpl(Context context, AttributeSet attrs) {\n-        this(context, attrs, 0);\n+        super(context, attrs);\n     }\n \n     public HTBaseRecyclerViewImpl(Context context, AttributeSet attrs, int defStyleAttr) {\n@@ -77,7 +77,7 @@ public boolean shouldHandleLoadMore() {\n                 postDelayed(new Runnable() {\n                     @Override\n                     public void run() {\n-                        changeLoadMoreViewPositionWithAnimation(-mHTViewHolderTracker.getLoadMoreSize(), null);\n+                        changeLoadMoreViewPositionWithAnimation(-mLoadMoreViewSize, null);\n                     }\n                 }, mHTViewHolder.getAnimationTime());\n             }\n@@ -265,7 +265,7 @@ protected void updatePos(float offset) {\n                 (mHTViewHolderTracker.isOverCompletePos() \u0026\u0026 mRefreshStatus \u003d\u003d RefreshStatus.COMPLETE)*/) {\n             mRefreshStatus \u003d RefreshStatus.REFRESH_PREPARE;\n             mRefreshUIChangeListener.onRefreshPrepare();\n-            if(mRecyclerViewDragListener!\u003dnull){\n+            if (mRecyclerViewDragListener !\u003d null) {\n                 mRecyclerViewDragListener.onRefreshViewPrepareToMove();\n             }\n         }\n@@ -355,7 +355,7 @@ protected void endLoadMore() {\n             if (mLoadMoreViewDisplay) {//一直显示没有更多提示\n                 if (mScreenFilled) {\n                     if (mHasMore) {//还有更多数据的时候,满一屏动画隐藏,否则直接隐藏\n-                        changeLoadMoreViewPositionWithAnimation(-mHTViewHolderTracker.getLoadMoreSize(), null);\n+                        changeLoadMoreViewPositionWithAnimation(-mLoadMoreViewSize, null);\n                     } else {\n                         hideLoadMoreView(false);\n                     }\n@@ -364,7 +364,7 @@ protected void endLoadMore() {\n                 }\n             } else {\n                 if (mScreenFilled) {\n-                    changeLoadMoreViewPositionWithAnimation(-mHTViewHolderTracker.getLoadMoreSize(), null);\n+                    changeLoadMoreViewPositionWithAnimation(-mLoadMoreViewSize, null);\n                 } else {\n                     hideLoadMoreView(true);\n                 }\n@@ -403,7 +403,7 @@ public void setRefreshCompleted(boolean hasMore) {\n \n     @Override\n     public void startAutoRefresh() {\n-        if (mRecyclerView !\u003d null \u0026\u0026 mHTViewHolder !\u003d null \u0026\u0026 mHTViewHolder.getRefreshView() !\u003d null) {\n+        if (mRecyclerView !\u003d null \u0026\u0026 mHTViewHolder !\u003d null \u0026\u0026 mHTViewHolder.getRefreshViewBackgroundResId() !\u003d 0) {\n             if (mRefreshStatus !\u003d RefreshStatus.IDLE || mLoadMoreStatus !\u003d LoadMoreStatus.IDLE || mRefreshDelegate \u003d\u003d null) {\n                 return;\n             }\n@@ -417,7 +417,7 @@ public void startAutoRefresh() {\n                 if (mRefreshUIChangeListener !\u003d null) {\n                     mRefreshUIChangeListener.onRefreshPrepare();\n                 }\n-                if(mRecyclerViewDragListener!\u003dnull){\n+                if (mRecyclerViewDragListener !\u003d null) {\n                     mRecyclerViewDragListener.onRefreshViewPrepareToMove();\n                 }\n                 mScrollJob.tryToScrollTo(mHTViewHolderTracker.getOffsetToRefresh(), mHTViewHolder.getAnimationTime());\n@@ -523,7 +523,7 @@ protected void changeLoadMoreViewPositionWithAnimation(int targetPosition, @Null\n                 startValue \u003d mLoadMoreContainerView.getPaddingRight();\n                 break;\n         }\n-        if (startValue \u003c\u003d -mHTViewHolderTracker.getLoadMoreSize()) return;\n+        if (startValue \u003c\u003d -mLoadMoreViewSize) return;\n         mLoadMoreAnimator \u003d ValueAnimator.ofInt(startValue, targetPosition);\n         mLoadMoreAnimator.setDuration(mHTViewHolder.getAnimationTime());\n         mLoadMoreAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {"
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/java/com/netease/hearttouch/htrefreshrecyclerview/viewimpl/HTDefaultHorizontalRefreshViewHolder.java",
          "patch": "@@ -6,6 +6,7 @@\n \n import android.content.Context;\n import android.view.View;\n+import android.view.ViewGroup;\n import android.view.animation.Animation;\n import android.view.animation.RotateAnimation;\n import android.widget.ImageView;\n@@ -15,7 +16,6 @@\n import com.netease.hearttouch.htrefreshrecyclerview.R;\n import com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseRecyclerView;\n import com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseViewHolder;\n-import com.netease.hearttouch.htrefreshrecyclerview.base.HTOrientation;\n import com.netease.hearttouch.htrefreshrecyclerview.base.HTViewHolderTracker;\n \n /**\n@@ -45,20 +45,22 @@ private void initAnimation() {\n         mRightAnim.setFillAfter(true);\n     }\n \n+\n     @Override\n-    public View onInitRefreshView() {\n-        View refreshView \u003d View.inflate(mContext, R.layout.ht_view_horizontal_refresh_default, null);\n+    public View onInitRefreshView(ViewGroup parent) {\n+        View refreshView \u003d View.inflate(mContext, R.layout.ht_view_horizontal_refresh_default, parent);\n         mTvRefreshStatus \u003d (TextView) refreshView.findViewById(R.id.tv_refresh_status);\n         mIvRefreshArrow \u003d (ImageView) refreshView.findViewById(R.id.iv_refresh_arrow);\n         mRefreshProgressBar \u003d (ProgressBar) refreshView.findViewById(R.id.pb_loading);\n         return refreshView;\n     }\n \n     @Override\n-    public View onInitLoadMoreView() {\n-        View loadMoreView \u003d View.inflate(mContext, R.layout.ht_view_horizontal_load_more_default, null);\n+    public View onInitLoadMoreView(ViewGroup parent) {\n+        View loadMoreView \u003d View.inflate(mContext, R.layout.ht_view_horizontal_load_more_default, parent);\n         mVLoadMore \u003d loadMoreView.findViewById(R.id.liner_loading);\n         mVNoMore \u003d loadMoreView.findViewById(R.id.tv_no_more);\n+        setDefaultRefreshViewArrow();\n         return loadMoreView;\n     }\n \n@@ -129,16 +131,12 @@ public void onRefreshPositionChange(float scale, float moveDistance, int refresh\n         }\n     }\n \n-    public void setDefaultRefreshViewArrow(int orientation) {\n+    public void setDefaultRefreshViewArrow() {\n         if (mIvRefreshArrow \u003d\u003d null) return;\n-        switch (orientation) {\n-            case HTOrientation.HORIZONTAL_LEFT:\n-                mIvRefreshArrow.setImageResource(R.drawable.ht_left_arrow_default);\n-                break;\n-            case HTOrientation.HORIZONTAL_RIGHT:\n-            default:\n-                mIvRefreshArrow.setImageResource(R.drawable.ht_right_arrow_default);\n-                break;\n+        if (mRecyclerView.checkOrientationReverse()) {\n+            mIvRefreshArrow.setImageResource(R.drawable.ht_left_arrow_default);\n+        } else {\n+            mIvRefreshArrow.setImageResource(R.drawable.ht_right_arrow_default);\n         }\n     }\n }"
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/java/com/netease/hearttouch/htrefreshrecyclerview/viewimpl/HTDefaultVerticalRefreshViewHolder.java",
          "patch": "@@ -6,6 +6,7 @@\n \n import android.content.Context;\n import android.view.View;\n+import android.view.ViewGroup;\n import android.view.animation.Animation;\n import android.view.animation.RotateAnimation;\n import android.widget.ImageView;\n@@ -15,7 +16,6 @@\n import com.netease.hearttouch.htrefreshrecyclerview.R;\n import com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseRecyclerView;\n import com.netease.hearttouch.htrefreshrecyclerview.base.HTBaseViewHolder;\n-import com.netease.hearttouch.htrefreshrecyclerview.base.HTOrientation;\n import com.netease.hearttouch.htrefreshrecyclerview.base.HTViewHolderTracker;\n \n /**\n@@ -46,19 +46,20 @@ private void initAnimation() {\n     }\n \n     @Override\n-    public View onInitRefreshView() {\n-        View refreshView \u003d View.inflate(mContext, R.layout.ht_view_vertical_refresh_default, null);\n+    public View onInitRefreshView(ViewGroup parent) {\n+        View refreshView \u003d View.inflate(mContext, R.layout.ht_view_vertical_refresh_default, parent);\n         mTvRefreshStatus \u003d (TextView) refreshView.findViewById(R.id.tv_refresh_status);\n         mIvRefreshArrow \u003d (ImageView) refreshView.findViewById(R.id.iv_refresh_arrow);\n         mRefreshProgressBar \u003d (ProgressBar) refreshView.findViewById(R.id.pb_loading);\n         return refreshView;\n     }\n \n     @Override\n-    public View onInitLoadMoreView() {\n-        View loadMoreView \u003d View.inflate(mContext, R.layout.ht_view_vertical_load_more_default, null);\n+    public View onInitLoadMoreView(ViewGroup parent) {\n+        View loadMoreView \u003d View.inflate(mContext, R.layout.ht_view_vertical_load_more_default, parent);\n         mVLoadMore \u003d loadMoreView.findViewById(R.id.liner_loading);\n         mVNoMore \u003d loadMoreView.findViewById(R.id.tv_no_more);\n+        setDefaultRefreshViewArrow();\n         return loadMoreView;\n     }\n \n@@ -129,16 +130,13 @@ public void onRefreshPositionChange(float scale, float moveDistance, int refresh\n         }\n     }\n \n-    public void setDefaultRefreshViewArrow(int orientation) {\n+     void setDefaultRefreshViewArrow() {\n         if (mIvRefreshArrow \u003d\u003d null) return;\n-        switch (orientation) {\n-            case HTOrientation.VERTICAL_UP:\n-                mIvRefreshArrow.setImageResource(R.drawable.ht_up_arrow_default);\n-                break;\n-            case HTOrientation.VERTICAL_DOWN:\n-            default:\n-                mIvRefreshArrow.setImageResource(R.mipmap.refresh_down_arrow_default);\n-                break;\n+        if (mRecyclerView.checkOrientationReverse()) {\n+            mIvRefreshArrow.setImageResource(R.drawable.ht_up_arrow_default);\n+\n+        } else {\n+            mIvRefreshArrow.setImageResource(R.mipmap.refresh_down_arrow_default);\n         }\n     }\n }"
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/res/layout/ht_view_horizontal_refresh_default.xml",
          "patch": "@@ -4,40 +4,42 @@\n   * LICENSE file in the root directory of this source tree.\n   --\u003e\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n-              android:layout_width\u003d\"@dimen/default_height\"\n-              android:layout_height\u003d\"match_parent\"\n-              android:gravity\u003d\"center\"\n-              android:orientation\u003d\"vertical\"\n-              android:paddingLeft\u003d\"@dimen/default_padding\"\n-              android:paddingRight\u003d\"@dimen/default_padding\"\u003e\n+                android:layout_width\u003d\"@dimen/default_height\"\n+                android:layout_height\u003d\"match_parent\"\n+                android:gravity\u003d\"center\"\n+                android:orientation\u003d\"vertical\"\n+                android:paddingLeft\u003d\"@dimen/default_padding\"\n+                android:paddingRight\u003d\"@dimen/default_padding\"\u003e\n \n     \u003cFrameLayout\n         android:layout_width\u003d\"wrap_content\"\n         android:layout_height\u003d\"wrap_content\"\n-        android:layout_marginBottom\u003d\"@dimen/default_space\"\n-        android:layout_above\u003d\"@+id/tv_refresh_status\"\u003e\n-\n-        \u003cImageView\n-            android:id\u003d\"@+id/iv_refresh_arrow\"\n-            android:layout_width\u003d\"@dimen/default_arrow_width\"\n-            android:layout_height\u003d\"@dimen/default_arrow_height\"\n-            android:layout_gravity\u003d\"center\"/\u003e\n+        android:layout_above\u003d\"@+id/tv_refresh_status\"\n+        android:layout_centerHorizontal\u003d\"true\"\n+        android:layout_marginBottom\u003d\"@dimen/default_space\"\u003e\n \n         \u003cProgressBar\n             android:id\u003d\"@+id/pb_loading\"\n             style\u003d\"?android:attr/progressBarStyle\"\n             android:layout_width\u003d\"@dimen/default_arrow_width\"\n             android:layout_height\u003d\"@dimen/default_arrow_height\"\n-            android:visibility\u003d\"gone\"\n             android:indeterminateDrawable\u003d\"@drawable/ht_refresh_loading_default\"\n+            android:visibility\u003d\"gone\"\n             /\u003e\n+\n+        \u003cImageView\n+            android:id\u003d\"@+id/iv_refresh_arrow\"\n+            android:layout_width\u003d\"@dimen/default_arrow_width\"\n+            android:layout_height\u003d\"@dimen/default_arrow_height\"\n+            android:layout_gravity\u003d\"center\"/\u003e\n     \u003c/FrameLayout\u003e\n \n \n     \u003cTextView\n         android:id\u003d\"@+id/tv_refresh_status\"\n         android:layout_width\u003d\"@dimen/default_text_line_height\"\n         android:layout_height\u003d\"wrap_content\"\n+        android:layout_centerInParent\u003d\"true\"\n         android:gravity\u003d\"center_horizontal\"\n         android:text\u003d\"@string/pull_to_refresh\"\n         android:textColor\u003d\"#777\""
        },
        {
          "file_name": "htrefreshrecyclerview/src/main/res/layout/ht_view_vertical_refresh_default.xml",
          "patch": "@@ -13,6 +13,7 @@\n         android:layout_width\u003d\"wrap_content\"\n         android:layout_height\u003d\"wrap_content\"\n         android:paddingLeft\u003d\"@dimen/default_space\"\n+        android:layout_centerVertical\u003d\"true\"\n         android:layout_toLeftOf\u003d\"@+id/tv_refresh_status\"\n         android:layout_toStartOf\u003d\"@+id/tv_refresh_status\"\u003e\n "
        }
      ]
    }
  },
  {
    "name": "Kryo trouble",
    "url": "https://github.com/westnordost/StreetComplete/issues/286",
    "description": "Device: google marlin, Android O\r\nThread: main\r\nStack trace:\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{de.westnordost.streetcomplete/de.westnordost.streetcomplete.MainActivity}: com.esotericsoftware.kryo.KryoException: org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException\r\nSerialization trace:\r\nmonths (de.westnordost.streetcomplete.quests.opening_hours.OpeningMonths)\r\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2815)\r\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2890)\r\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1591)\r\nat android.os.Handler.dispatchMessage(Handler.java:105)\r\nat android.os.Looper.loop(Looper.java:164)\r\nat android.app.ActivityThread.main(ActivityThread.java:6535)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\nCaused by: com.esotericsoftware.kryo.KryoException: org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException\r\nSerialization trace:\r\nmonths (de.westnordost.streetcomplete.quests.opening_hours.OpeningMonths)\r\nat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:144)\r\nat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:540)\r\nat com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:813)\r\nat com.esotericsoftware.kryo.serializers.CollectionSerializer.read(CollectionSerializer.java:134)\r\nat com.esotericsoftware.kryo.serializers.CollectionSerializer.read(CollectionSerializer.java:40)\r\nat com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:709)\r\nat de.westnordost.streetcomplete.util.KryoSerializer.toObject(KryoSerializer.java:88)\r\nat de.westnordost.streetcomplete.quests.opening_hours.AddOpeningHoursForm.onCreateView(AddOpeningHoursForm.java:58)\r\nat android.app.Fragment.performCreateView(Fragment.java:2604)\r\nat android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1262)\r\nat android.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1524)\r\nat android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1586)\r\nat android.app.FragmentManagerImpl.dispatchMoveToState(FragmentManager.java:3003)\r\nat android.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2959)\r\nat android.app.FragmentController.dispatchActivityCreated(FragmentController.java:178)\r\nat android.app.Activity.performCreateCommon(Activity.java:6948)\r\nat android.app.Activity.performCreate(Activity.java:6956)\r\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2768)\r\n... 9 more\r\nCaused by: org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException\r\nat org.objenesis.instantiator.android.Android18Instantiator.findConstructorIdForJavaLangObjectConstructor(Android18Instantiator.java:84)\r\nat org.objenesis.instantiator.android.Android18Instantiator.\u003cinit\u003e(Android18Instantiator.java:39)\r\nat org.objenesis.strategy.StdInstantiatorStrategy.newInstantiatorOf(StdInstantiatorStrategy.java:96)\r\nat com.esotericsoftware.kryo.Kryo$DefaultInstantiatorStrategy.newInstantiatorOf(Kryo.java:1313)\r\nat com.esotericsoftware.kryo.Kryo.newInstantiator(Kryo.java:1127)\r\nat com.esotericsoftware.kryo.Kryo.newInstance(Kryo.java:1136)\r\nat com.esotericsoftware.kryo.serializers.FieldSerializer.create(FieldSerializer.java:559)\r\nat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:535)\r\nat com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:731)\r\nat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\r\n... 27 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat org.objenesis.instantiator.android.Android18Instantiator.findConstructorIdForJavaLangObjectConstructor(Android18Instantiator.java:72)\r\n... 36 more\r\nCaused by: java.lang.UnsupportedOperationException: ObjectStreamClass.getConstructorId(Class\u003c?\u003e) is not supported on SDK 25\r\nat java.io.ObjectStreamClass.getConstructorId(ObjectStreamClass.java:2294)\r\n... 38 more",
    "keywords": [
      "com",
      "de",
      "activity",
      "collectionserializer",
      "app activitythread",
      "android",
      "main",
      "invocationtargetexception",
      "android18instantiator",
      "esotericsoftware",
      "kryo",
      "trace",
      "reflect",
      "java",
      "org objenesis",
      "lang",
      "com esotericsoftware",
      "objectstreamclass",
      "app",
      "read",
      "method",
      "os",
      "quests",
      "org",
      "objectfield",
      "caused",
      "kryo serializers",
      "streetcomplete",
      "java lang",
      "activitythread",
      "serializers",
      "objenesisexception",
      "objenesis",
      "fieldserializer",
      "westnordost",
      "instantiator",
      "opening_hours",
      "android app",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "esotericsoftware kryo"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/af448b3d14872050cf6ffa76e7b7f36267d37310",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -17,8 +17,6 @@ android {\n         applicationId \"de.westnordost.streetcomplete\"\n         minSdkVersion 17\n         targetSdkVersion 25\n-        // until #286 is fixed\n-        maxSdkVersion 25\n         versionCode 8\n         versionName \"0.11\"\n         multiDexEnabled true\n@@ -59,15 +57,14 @@ dependencies {\n     // tests (perhaps migrate to junit4 later if any features of it seem convenient or necessary)\n     testCompile \u0027junit:junit:3.8.1\u0027\n     testCompile \u0027org.mockito:mockito-core:1.10.19\u0027\n-    testCompile \u0027org.objenesis:objenesis:2.2\u0027\n+    testCompile \u0027org.objenesis:objenesis:2.5.1\u0027\n \n     androidTestCompile \u0027org.mockito:mockito-core:1.10.19\u0027\n-    androidTestCompile \u0027org.objenesis:objenesis:2.2\u0027\n+    androidTestCompile \u0027org.objenesis:objenesis:2.5.1\u0027\n     androidTestCompile \"com.crittercism.dexmaker:dexmaker:1.4\"\n     androidTestCompile \"com.crittercism.dexmaker:dexmaker-dx:1.4\"\n     androidTestCompile \"com.crittercism.dexmaker:dexmaker-mockito:1.4\"\n \n-\n     // dependency injection\n     compile \u0027com.google.dagger:dagger:2.5\u0027\n     apt \u0027com.google.dagger:dagger-compiler:2.5\u0027\n@@ -89,6 +86,9 @@ dependencies {\n     }\n \n     // serialization\n+    // Kryo uses Objenesis 2.2 which uses a class that has been removed for Android O.\n+    // see https://github.com/westnordost/StreetComplete/issues/286\n+    compile \u0027org.objenesis:objenesis:2.5.1\u0027\n     compile \u0027com.esotericsoftware:kryo:4.0.0\u0027\n \n     // map and location"
        }
      ]
    }
  },
  {
    "name": "Fatal Exception: java.lang.IllegalArgumentException: previewSize must not be wider than activeArray",
    "url": "https://github.com/google/cameraview/issues/56",
    "description": "Hi, Crashlytics is reporting following issue in production:\r\n\r\n\r\n`Fatal Exception: java.lang.IllegalArgumentException: previewSize must not be wider than activeArray\r\n       at android.hardware.camera2.legacy.ParameterUtils.getPreviewCropRectangleUnzoomed(ParameterUtils.java:494)\r\n       at android.hardware.camera2.legacy.ParameterUtils.getClosestAvailableZoomCrop(ParameterUtils.java:395)\r\n       at android.hardware.camera2.legacy.ParameterUtils.convertScalerCropRegion(ParameterUtils.java:764)\r\n       at android.hardware.camera2.legacy.LegacyRequestMapper.convertRequestMetadata(LegacyRequestMapper.java:72)\r\n       at android.hardware.camera2.legacy.LegacyMetadataMapper.convertRequestMetadata(LegacyMetadataMapper.java:1163)\r\n       at android.hardware.camera2.legacy.RequestThreadManager$5.handleMessage(RequestThreadManager.java:744)\r\n       at android.os.Handler.dispatchMessage(Handler.java:107)\r\n       at android.os.Looper.loop(Looper.java:194)\r\n       at android.os.HandlerThread.run(HandlerThread.java:61)`\r\n",
    "keywords": [
      "legacy",
      "camera2",
      "os",
      "android",
      "parameterutils",
      "android hardware",
      "camera2 legacy",
      "hardware camera2",
      "hardware"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/google/cameraview/commit/f0eef9ade1969f9dafef7138172468e409c3210c",
      "files": [
        {
          "file_name": "library/src/main/api14/com/google/android/cameraview/Camera1.java",
          "patch": "@@ -81,14 +81,15 @@ public void onSurfaceChanged() {\n     }\n \n     @Override\n-    void start() {\n+    boolean start() {\n         chooseCamera();\n         openCamera();\n         if (mPreview.isReady()) {\n             setUpPreview();\n         }\n         mShowingPreview \u003d true;\n         mCamera.startPreview();\n+        return true;\n     }\n \n     @Override"
        },
        {
          "file_name": "library/src/main/api21/com/google/android/cameraview/Camera2.java",
          "patch": "@@ -197,11 +197,14 @@ public void onSurfaceChanged() {\n     }\n \n     @Override\n-    void start() {\n-        chooseCameraIdByFacing();\n+    boolean start() {\n+        if (!chooseCameraIdByFacing()) {\n+            return false;\n+        }\n         collectCameraInfo();\n         prepareImageReader();\n         startOpeningCamera();\n+        return true;\n     }\n \n     @Override\n@@ -336,38 +339,54 @@ void setDisplayOrientation(int displayOrientation) {\n      * \u003cp\u003eThis rewrites {@link #mCameraId}, {@link #mCameraCharacteristics}, and optionally\n      * {@link #mFacing}.\u003c/p\u003e\n      */\n-    private void chooseCameraIdByFacing() {\n+    private boolean chooseCameraIdByFacing() {\n         try {\n             int internalFacing \u003d INTERNAL_FACINGS.get(mFacing);\n             final String[] ids \u003d mCameraManager.getCameraIdList();\n+            if (ids.length \u003d\u003d 0) { // No camera\n+                throw new RuntimeException(\"No camera available.\");\n+            }\n             for (String id : ids) {\n                 CameraCharacteristics characteristics \u003d mCameraManager.getCameraCharacteristics(id);\n+                Integer level \u003d characteristics.get(\n+                        CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL);\n+                if (level \u003d\u003d null ||\n+                        level \u003d\u003d CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL_LEGACY) {\n+                    continue;\n+                }\n                 Integer internal \u003d characteristics.get(CameraCharacteristics.LENS_FACING);\n                 if (internal \u003d\u003d null) {\n                     throw new NullPointerException(\"Unexpected state: LENS_FACING null\");\n                 }\n                 if (internal \u003d\u003d internalFacing) {\n                     mCameraId \u003d id;\n                     mCameraCharacteristics \u003d characteristics;\n-                    return;\n+                    return true;\n                 }\n             }\n             // Not found\n             mCameraId \u003d ids[0];\n             mCameraCharacteristics \u003d mCameraManager.getCameraCharacteristics(mCameraId);\n+            Integer level \u003d mCameraCharacteristics.get(\n+                    CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL);\n+            if (level \u003d\u003d null ||\n+                    level \u003d\u003d CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL_LEGACY) {\n+                return false;\n+            }\n             Integer internal \u003d mCameraCharacteristics.get(CameraCharacteristics.LENS_FACING);\n             if (internal \u003d\u003d null) {\n                 throw new NullPointerException(\"Unexpected state: LENS_FACING null\");\n             }\n             for (int i \u003d 0, count \u003d INTERNAL_FACINGS.size(); i \u003c count; i++) {\n                 if (INTERNAL_FACINGS.valueAt(i) \u003d\u003d internal) {\n                     mFacing \u003d INTERNAL_FACINGS.keyAt(i);\n-                    return;\n+                    return true;\n                 }\n             }\n             // The operation can reach here when the only camera device is an external one.\n             // We treat it as facing back.\n             mFacing \u003d Constants.FACING_BACK;\n+            return true;\n         } catch (CameraAccessException e) {\n             throw new RuntimeException(\"Failed to get a list of camera devices\", e);\n         }"
        },
        {
          "file_name": "library/src/main/base/com/google/android/cameraview/CameraViewImpl.java",
          "patch": "@@ -35,7 +35,10 @@ View getView() {\n         return mPreview.getView();\n     }\n \n-    abstract void start();\n+    /**\n+     * @return {@code true} if the implementation was able to start the camera session.\n+     */\n+    abstract boolean start();\n \n     abstract void stop();\n "
        },
        {
          "file_name": "library/src/main/java/com/google/android/cameraview/CameraView.java",
          "patch": "@@ -69,7 +69,7 @@\n     public @interface Flash {\n     }\n \n-    final CameraViewImpl mImpl;\n+    CameraViewImpl mImpl;\n \n     private final CallbackBridge mCallbacks;\n \n@@ -89,12 +89,7 @@ public CameraView(Context context, AttributeSet attrs) {\n     public CameraView(Context context, AttributeSet attrs, int defStyleAttr) {\n         super(context, attrs, defStyleAttr);\n         // Internal setup\n-        final PreviewImpl preview;\n-        if (Build.VERSION.SDK_INT \u003c 14) {\n-            preview \u003d new SurfaceViewPreview(context, this);\n-        } else {\n-            preview \u003d new TextureViewPreview(context, this);\n-        }\n+        final PreviewImpl preview \u003d createPreviewImpl(context);\n         mCallbacks \u003d new CallbackBridge();\n         if (Build.VERSION.SDK_INT \u003c 21) {\n             mImpl \u003d new Camera1(mCallbacks, preview);\n@@ -126,6 +121,17 @@ public void onDisplayOrientationChanged(int displayOrientation) {\n         };\n     }\n \n+    @NonNull\n+    private PreviewImpl createPreviewImpl(Context context) {\n+        PreviewImpl preview;\n+        if (Build.VERSION.SDK_INT \u003c 14) {\n+            preview \u003d new SurfaceViewPreview(context, this);\n+        } else {\n+            preview \u003d new TextureViewPreview(context, this);\n+        }\n+        return preview;\n+    }\n+\n     @Override\n     protected void onAttachedToWindow() {\n         super.onAttachedToWindow();\n@@ -223,7 +229,11 @@ protected void onRestoreInstanceState(Parcelable state) {\n      * {@link Activity#onResume()}.\n      */\n     public void start() {\n-        mImpl.start();\n+        if (!mImpl.start()) {\n+            // Camera2 uses legacy hardware layer; fall back to Camera1\n+            mImpl \u003d new Camera1(mCallbacks, createPreviewImpl(getContext()));\n+            mImpl.start();\n+        }\n     }\n \n     /**"
        }
      ]
    }
  },
  {
    "name": "NullPointerException under certain circumstances from DatabaseFactory",
    "url": "https://github.com/lachlan-eagling/Bookbase/issues/1",
    "description": "If reference to AppDatabase is obtained with below method call then NullPointerException can be thrown as method returns null.\r\n\r\n`AppDatabase db \u003d DatabaseFactory.getDb();`\r\n\r\nTo avoid NPE with current implementation reference must be obtained with following method call.\r\n\r\n`AppDatabase db \u003d DatabaseFactory.getInstance(this).getDb();`\r\n\r\nDatabaseFactory needs to be refactored to avoid scenario of NPE from incorrect method call to obtain database reference.\r\n\r\n**Stack Trace:**\r\n\r\n\u003e java.lang.NullPointerException: Attempt to invoke virtual method \u0027com.bookbase.bookbase.model.dao.BookDao com.bookbase.bookbase.database.AppDatabase.bookDao()\u0027 on a null object reference\r\n\u003e                                                                            at com.bookbase.bookbase.fragments.BooksFragment.onCreateView(BooksFragment.java:58)\r\n\u003e                                                                            at android.support.v4.app.Fragment.performCreateView(Fragment.java:2192)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1299)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)\r\n\u003e                                                                            at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:758)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2363)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2149)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(FragmentManager.java:2103)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2013)\r\n\u003e                                                                            at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:710)\r\n\u003e                                                                            at android.os.Handler.handleCallback(Handler.java:751)\r\n\u003e                                                                            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n\u003e                                                                            at android.os.Looper.loop(Looper.java:154)\r\n\u003e                                                                            at android.app.ActivityThread.main(ActivityThread.java:6121)\r\n\u003e                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n\u003e                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n\u003e                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)",
    "keywords": [
      "com",
      "app",
      "handler",
      "databasefactory",
      "android os",
      "os",
      "method",
      "android",
      "android support",
      "nullpointerexception",
      "reference",
      "call",
      "v4 app",
      "bookbase",
      "fragmentmanager",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "\u003e",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/lachlan-eagling/Bookbase/commit/3b2bd14ef0b8a498767ccd07af8751f95384517a",
      "files": [
        {
          "file_name": "app/src/main/java/com/bookbase/bookbase/database/DatabaseFactory.java",
          "patch": "@@ -9,22 +9,19 @@\n \n     private static AppDatabase db;\n \n-    public static DatabaseFactory getInstance(Context context){\n-        if(instance \u003d\u003d null){\n-            createDb(context);\n-            instance \u003d new DatabaseFactory();\n-        }\n-        return instance;\n-    }\n-\n     private static void createDb(Context context){\n         if(db \u003d\u003d null){\n             db \u003d Room.databaseBuilder(context, AppDatabase.class, \"bookbase-db\").allowMainThreadQueries().build();\n         }\n         return;\n     }\n \n-    public static AppDatabase getDb(){\n+    public static AppDatabase getDb(Context context){\n+        if(instance \u003d\u003d null){\n+            createDb(context);\n+            instance \u003d new DatabaseFactory();\n+            return db;\n+        }\n         return db;\n     }\n "
        },
        {
          "file_name": "app/src/main/java/com/bookbase/bookbase/fragments/BooksFragment.java",
          "patch": "@@ -75,7 +75,7 @@ public void onAttach(Context context) {\n         super.onAttach(context);\n         if (context instanceof OnFragmentInteractionListener) {\n             mListener \u003d (OnFragmentInteractionListener) context;\n-            database \u003d DatabaseFactory.getInstance(this.getContext()).getDb();\n+            database \u003d DatabaseFactory.getDb(this.getContext());\n         } else {\n             throw new RuntimeException(context.toString()\n                     + \" must implement OnFragmentInteractionListener\");"
        }
      ]
    }
  },
  {
    "name": "signal crashes when selecting certain group with many unread messages",
    "url": "https://github.com/WhisperSystems/Signal-Android/issues/6660",
    "description": "\u003c!-- This is a bug report template. By following the instructions below and filling out the sections with your information, you will help the developers to get all the necessary data to fix your issue.\r\nYou can also preview your report before submitting it. You may remove sections that aren\u0027t relevant to your particular case.\r\n\r\nBefore we begin, please note that this tracker is only for issues, not questions or comments.\r\n\r\nIf you are looking for support, please see our support center instead:\r\nhttps://support.whispersystems.org/\r\nor email support@whispersystems.org\r\n\r\nLet\u0027s begin with a checklist: replace the empty checkboxes [ ] below with checked ones [x] accordingly --\u003e\r\n\r\nI have:\r\n- [x] searched open and closed issues for duplicates\r\n- [x] read https://github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports\r\n\r\n----------------------------------------\r\n\r\n### Bug description\r\nSignal crashes.\r\n\r\n```\r\nD/AndroidRuntime(30920): Shutting down VM\r\nE/AndroidRuntime(30920): FATAL EXCEPTION: main\r\nE/AndroidRuntime(30920): Process: org.thoughtcrime.securesms, PID: 30920\r\nE/AndroidRuntime(30920): java.lang.IllegalStateException: couldn\u0027t move cursor to position 500\r\nE/AndroidRuntime(30920): \tat org.thoughtcrime.securesms.database.CursorRecyclerViewAdapter.getCursorAtPositionOrThrow(CursorRecyclerViewAdapter.java:181)\r\nE/AndroidRuntime(30920): \tat org.thoughtcrime.securesms.ConversationAdapter.findLastSeenPosition(ConversationAdapter.java:289)\r\nE/AndroidRuntime(30920): \tat org.thoughtcrime.securesms.ConversationFragment.onLoadFinished(ConversationFragment.java:431)\r\nE/AndroidRuntime(30920): \tat org.thoughtcrime.securesms.ConversationFragment.onLoadFinished(ConversationFragment.java:78)\r\nE/AndroidRuntime(30920): \tat android.support.v4.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:476)\r\nE/AndroidRuntime(30920): \tat android.support.v4.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:444)\r\nE/AndroidRuntime(30920): \tat android.support.v4.content.Loader.deliverResult(Loader.java:126)\r\nE/AndroidRuntime(30920): \tat org.thoughtcrime.securesms.util.AbstractCursorLoader.deliverResult(AbstractCursorLoader.java:39)\r\nE/AndroidRuntime(30920): \tat org.thoughtcrime.securesms.util.AbstractCursorLoader.deliverResult(AbstractCursorLoader.java:11)\r\nE/AndroidRuntime(30920): \tat android.support.v4.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:252)\r\nE/AndroidRuntime(30920): \tat android.support.v4.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:80)\r\nE/AndroidRuntime(30920): \tat android.support.v4.content.ModernAsyncTask.finish(ModernAsyncTask.java:485)\r\nE/AndroidRuntime(30920): \tat android.support.v4.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:502)\r\nE/AndroidRuntime(30920): \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\nE/AndroidRuntime(30920): \tat android.os.Looper.loop(Looper.java:145)\r\nE/AndroidRuntime(30920): \tat android.app.ActivityThread.main(ActivityThread.java:5951)\r\nE/AndroidRuntime(30920): \tat java.lang.reflect.Method.invoke(Native Method)\r\nE/AndroidRuntime(30920): \tat java.lang.reflect.Method.invoke(Method.java:372)\r\nE/AndroidRuntime(30920): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\r\nE/AndroidRuntime(30920): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\r\n```\r\n\r\n### Steps to reproduce\r\n- select the group\r\n\r\n\r\n### Device info\r\n\u003c!-- replace the examples with your info --\u003e\r\n**Device:** samsung GT-I9506\r\n**Android version:** 5.0.1\r\n**Signal version:** 4.1.0 (appstore version)\r\n\r\n### Link to debug log\r\n\u003c!-- immediately after the bug has happened capture a debug log via Signal\u0027s advanced settings and paste the link below --\u003e\r\nhttps://gist.github.com/anonymous/fba9d6d9c43b7faf99cec6bddc01352e\r\n",
    "keywords": [
      "[x]",
      "###",
      "modernasynctask",
      "android",
      "android support",
      "main",
      "v4 content",
      "e/androidruntime",
      "content",
      "java",
      "deliverresult",
      "lang",
      "--\u003e",
      "zygoteinit",
      "30920",
      "30920 ",
      "--",
      "app",
      "method",
      "os",
      "org",
      "org thoughtcrime",
      "thoughtcrime securesms",
      "asynctaskloader",
      "e/androidruntime 30920",
      "bug",
      "securesms",
      "abstractcursorloader",
      "conversationfragment",
      "thoughtcrime",
      "\u003c",
      "support",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/WhisperSystems/Signal-Android/commit/e9ae439b70ed8e807df090d97c2cd798c612e09e",
      "files": [
        {
          "file_name": "src/org/thoughtcrime/securesms/ConversationAdapter.java",
          "patch": "@@ -314,7 +314,7 @@ public int findLastSeenPosition(long lastSeen) {\n     if (lastSeen \u003c\u003d 0)     return -1;\n     if (!isActiveCursor()) return -1;\n \n-    int count \u003d getItemCount();\n+    int count \u003d getItemCount() - (hasHeaderView() ? 1 : 0) - (hasFooterView() ? 1 : 0);\n \n     for (int i\u003d0;i\u003ccount;i++) {\n       MessageRecord messageRecord \u003d getRecordForPositionOrThrow(i);"
        }
      ]
    }
  },
  {
    "name": "Attempt to invoke virtual method .. SocketChannel.register",
    "url": "https://github.com/kiall/android-tvheadend/issues/116",
    "description": "    01-20 11:11:59.551 21958-21958/? I/art: Late-enabling -Xcheck:jni\r\n    01-20 11:11:59.567 21958-21964/? E/art: Failed sending reply to debugger: Broken pipe\r\n    01-20 11:11:59.567 21958-21964/? I/art: Debugger is no longer active\r\n    01-20 11:11:59.597 21958-21958/? I/ie.macinnes.tvheadend.migrate.MigrateUtils: Migrate from 79 to 79\r\n    01-20 11:11:59.675 21958-21976/? I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    01-20 11:12:21.001 21958-21958/ie.macinnes.tvheadend I/ie.macinnes.tvheadend.sync.EpgSyncService: Starting EPG Sync Service\r\n    01-20 11:12:21.009 21958-22332/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: Opening HTSP Connection\r\n    01-20 11:12:23.019 21958-22332/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: HTSP Connected\r\n    01-20 11:12:23.034 21958-22332/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: HTSP Ready\r\n    01-20 11:12:23.050 21958-22331/ie.macinnes.tvheadend I/ie.macinnes.tvheadend.sync.EpgSyncTask: Enabling Async Metadata. Last Update: 1484910715, EPG max time: 1484914343\r\n    01-20 11:12:52.702 21958-21964/ie.macinnes.tvheadend W/art: Suspending all threads took: 8.349ms\r\n    01-20 11:12:55.214 21958-22331/ie.macinnes.tvheadend I/ie.macinnes.tvheadend.sync.EpgSyncTask: Initial sync completed\r\n    01-20 11:12:55.218 21958-22331/ie.macinnes.tvheadend E/ie.macinnes.htsp.tasks.GetFileTask: Error handling a GetFileTask message\r\n    01-20 11:12:55.219 21958-22331/ie.macinnes.tvheadend W/ie.macinnes.tvheadend.sync.EpgSyncTask: Failed to fetch logo for content://android.media.tv/channel/2433. This usually means TVHeadend doesn\u0027t have a logo for this channel.\r\n    01-20 11:12:55.220 21958-22331/ie.macinnes.tvheadend E/ie.macinnes.htsp.tasks.GetFileTask: Error handling a GetFileTask message\r\n    01-20 11:12:55.225 21958-22331/ie.macinnes.tvheadend W/ie.macinnes.tvheadend.sync.EpgSyncTask: Failed to fetch logo for content://android.media.tv/channel/2442. This usually means TVHeadend doesn\u0027t have a logo for this channel.\r\n    01-20 11:12:55.236 21958-22331/ie.macinnes.tvheadend E/ie.macinnes.htsp.tasks.GetFileTask: Error handling a GetFileTask message\r\n    01-20 11:12:55.236 21958-22331/ie.macinnes.tvheadend W/ie.macinnes.tvheadend.sync.EpgSyncTask: Failed to fetch logo for content://android.media.tv/channel/2456. This usually means TVHeadend doesn\u0027t have a logo for this channel.\r\n    01-20 11:12:55.246 21958-22332/ie.macinnes.tvheadend E/ie.macinnes.htsp.Connection: Something failed - shutting down\r\n                                                                                        java.nio.channels.ClosedChannelException\r\n                                                                                            at java.nio.SocketChannelImpl.checkOpenConnected(SocketChannelImpl.java:418)\r\n                                                                                            at java.nio.SocketChannelImpl.write(SocketChannelImpl.java:357)\r\n                                                                                            at ie.macinnes.htsp.Connection.processWritableSelectionKey(Connection.java:456)\r\n                                                                                            at ie.macinnes.htsp.Connection.run(Connection.java:153)\r\n                                                                                            at java.lang.Thread.run(Thread.java:818)\r\n    01-20 11:12:55.246 21958-22332/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: Connection already closed, ignoring close request\r\n    01-20 11:12:55.248 21958-21958/ie.macinnes.tvheadend I/ie.macinnes.tvheadend.sync.EpgSyncService: Starting EPG Sync Service\r\n    01-20 11:12:55.248 21958-22331/ie.macinnes.tvheadend E/AndroidRuntime: FATAL EXCEPTION: EpgSyncService Handler Thread\r\n                                                                           Process: ie.macinnes.tvheadend, PID: 21958\r\n                                                                           java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.nio.channels.SelectionKey java.nio.channels.SocketChannel.register(java.nio.channels.Selector, int)\u0027 on a null object reference\r\n                                                                               at ie.macinnes.htsp.Connection.sendMessage(Connection.java:330)\r\n                                                                               at ie.macinnes.htsp.Connection.sendMessage(Connection.java:341)\r\n                                                                               at ie.macinnes.htsp.tasks.GetFileTask.sendFileRead(GetFileTask.java:152)\r\n                                                                               at ie.macinnes.htsp.tasks.GetFileTask.sendFileRead(GetFileTask.java:135)\r\n                                                                               at ie.macinnes.htsp.tasks.GetFileTask.onMessage(GetFileTask.java:101)\r\n                                                                               at ie.macinnes.htsp.Connection$3.run(Connection.java:437)\r\n                                                                               at android.os.Handler.handleCallback(Handler.java:742)\r\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:97)\r\n                                                                               at android.os.Looper.loop(Looper.java:148)\r\n                                                                               at android.os.HandlerThread.run(HandlerThread.java:61)\r\n    01-20 11:12:55.261 21958-22839/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: Opening HTSP Connection\r\n    01-20 11:12:57.266 21958-22839/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: HTSP Connected\r\n    01-20 11:12:57.281 21958-22839/ie.macinnes.tvheadend I/ie.macinnes.htsp.Connection: HTSP Ready\r\n    01-20 11:12:57.974 21958-22837/ie.macinnes.tvheadend I/ie.macinnes.tvheadend.sync.EpgSyncTask: Enabling Async Metadata. Last Update: 1484910775, EPG max time: 1484953977\r\n",
    "keywords": [
      "epgsynctask",
      "tvheadend w/ie",
      "handler",
      "w/ie",
      "channel",
      "11:11:59",
      "run",
      "tasks getfiletask",
      "tvheadend",
      "11:12:23",
      "fetch logo",
      "java",
      "sync epgsynctask",
      "nio",
      "logo",
      "connection",
      "usually",
      "ie",
      "epg",
      "tasks",
      "e/ie",
      "failed",
      "sync",
      "java nio",
      "11:12:57",
      "01-20",
      "macinnes tvheadend",
      "i/ie",
      "channels",
      "tvheadend i/ie",
      "tvheadend e/ie",
      "01-20 11:12:57",
      "android",
      "media",
      "error",
      "21958-22332/ie",
      "11:12:55",
      "htsp",
      "content://android",
      "means",
      "means tvheadend",
      "getfiletask",
      "epgsyncservice",
      "os",
      "htsp connection",
      "21958-22331/ie",
      "thread",
      "message",
      "macinnes",
      "channel 01-20",
      "i/ie macinnes",
      "21958-22839/ie",
      "fetch",
      "macinnes htsp",
      "handling",
      "21958-22332/ie macinnes",
      "socketchannelimpl",
      "message 01-20",
      "error handling",
      "21958-22331/ie macinnes"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kiall/android-tvheadend/commit/03d84881523963d8ff7bf2a3221d81f4705eaf46",
      "files": [
        {
          "file_name": "app/src/main/java/ie/macinnes/tvheadend/sync/EpgSyncTask.java",
          "patch": "@@ -38,6 +38,7 @@\n import java.util.HashSet;\n import java.util.Set;\n \n+import ie.macinnes.htsp.ConnectionException;\n import ie.macinnes.htsp.MessageListener;\n import ie.macinnes.htsp.ResponseMessage;\n import ie.macinnes.htsp.messages.BaseChannelResponse;\n@@ -109,7 +110,12 @@ public void enableAsyncMetadata(Runnable initialSyncCompleteCallback) {\n             Log.d(TAG, \"Skipping lastUpdate field, disabled by preference\");\n         }\n \n-        mConnection.sendMessage(enableAsyncMetadataRequest);\n+        try {\n+            mConnection.sendMessage(enableAsyncMetadataRequest);\n+        } catch (ConnectionException e) {\n+            Log.w(TAG, \"Failed to send enableAsyncMetadataRequest\", e);\n+            return;\n+        }\n     }\n \n     @Override"
        },
        {
          "file_name": "htsp/src/main/java/ie/macinnes/htsp/Connection.java",
          "patch": "@@ -154,12 +154,17 @@ public void run() {\n                     }\n                 }\n \n-                if (mSocketChannel !\u003d null) {\n-                    if (mSocketChannel.isConnected() \u0026\u0026 mMessageQueue.isEmpty()) {\n-                        mSocketChannel.register(mSelector, SelectionKey.OP_READ);\n-                    } else if (mSocketChannel.isConnected()) {\n-                        mSocketChannel.register(mSelector, SelectionKey.OP_READ | SelectionKey.OP_WRITE);\n+                mLock.lock();\n+                try {\n+                    if (mSocketChannel !\u003d null) {\n+                        if (mSocketChannel.isConnected() \u0026\u0026 mMessageQueue.isEmpty()) {\n+                            mSocketChannel.register(mSelector, SelectionKey.OP_READ);\n+                        } else if (mSocketChannel.isConnected()) {\n+                            mSocketChannel.register(mSelector, SelectionKey.OP_READ | SelectionKey.OP_WRITE);\n+                        }\n                     }\n+                } finally {\n+                    mLock.unlock();\n                 }\n             } catch (Exception e) {\n                 Log.e(TAG, \"Something failed - shutting down\", e);\n@@ -320,9 +325,14 @@ protected void close(int endState) {\n         }\n     }\n \n-    public void sendMessage(HtspMessage htspMessage) {\n+    public void sendMessage(HtspMessage htspMessage) throws ConnectionException {\n         Log.d(TAG, \"Sending HtspMessage: \" + htspMessage.toString());\n \n+        if (isClosed()) {\n+            Log.w(TAG, \"Failed to send message, connection closed\");\n+            throw new ConnectionException(\"Failed to send message, connection closed\");\n+        }\n+\n         mMessageQueue.add(htspMessage);\n \n         mLock.lock();\n@@ -337,12 +347,12 @@ public void sendMessage(HtspMessage htspMessage) {\n         }\n     }\n \n-    public void sendMessage(BaseMessage message) {\n+    public void sendMessage(BaseMessage message) throws ConnectionException {\n         sendMessage(message.toHtspMessage());\n     }\n \n     public boolean isClosed() {\n-        return getState() \u003d\u003d STATE_CLOSED || getState() \u003d\u003d STATE_FAILED;\n+        return getState() \u003d\u003d STATE_CLOSED || getState() \u003d\u003d STATE_CLOSING || getState() \u003d\u003d STATE_FAILED;\n     }\n \n     public int getState() {\n@@ -452,7 +462,7 @@ private void processWritableSelectionKey() throws IOException {\n         Log.v(TAG, \"processWritableSelectionKey()\");\n         HtspMessage htspMessage \u003d mMessageQueue.poll();\n \n-        if (htspMessage !\u003d null) {\n+        if (!isClosed() \u0026\u0026 htspMessage !\u003d null) {\n             mSocketChannel.write(htspMessage.toWire());\n         }\n     }"
        },
        {
          "file_name": "htsp/src/main/java/ie/macinnes/htsp/tasks/AuthenticateTask.java",
          "patch": "@@ -25,6 +25,7 @@\n import java.util.concurrent.Callable;\n \n import ie.macinnes.htsp.Connection;\n+import ie.macinnes.htsp.ConnectionException;\n import ie.macinnes.htsp.IMessageListener;\n import ie.macinnes.htsp.MessageListener;\n import ie.macinnes.htsp.ResponseMessage;\n@@ -77,7 +78,13 @@ private void sendHello() {\n         helloRequest.setUsername(mUsername);\n \n         Log.d(TAG, \"Sending helloRequest\");\n-        mConnection.sendMessage(helloRequest);\n+        try {\n+            mConnection.sendMessage(helloRequest);\n+        } catch (ConnectionException e) {\n+            Log.w(TAG, \"Failed to send helloRequest\", e);\n+            mCallback.onFailure();\n+            return;\n+        }\n     }\n \n     private void sendAuthenticate(HelloResponse response) {\n@@ -103,7 +110,13 @@ private void sendAuthenticate(HelloResponse response) {\n         authenticateRequest.setDigest(md.digest());\n \n         Log.d(TAG, \"Sending authenticateRequest\");\n-        mConnection.sendMessage(authenticateRequest);\n+        try {\n+            mConnection.sendMessage(authenticateRequest);\n+        } catch (ConnectionException e) {\n+            Log.w(TAG, \"Failed to send authenticateRequest\", e);\n+            mCallback.onFailure();\n+            return;\n+        }\n     }\n \n     private void completeAuthentication(AuthenticateResponse response) {"
        },
        {
          "file_name": "htsp/src/main/java/ie/macinnes/htsp/tasks/GetFileTask.java",
          "patch": "@@ -26,6 +26,7 @@\n import java.util.Map;\n import java.util.concurrent.atomic.AtomicInteger;\n \n+import ie.macinnes.htsp.ConnectionException;\n import ie.macinnes.htsp.MessageListener;\n import ie.macinnes.htsp.ResponseMessage;\n import ie.macinnes.htsp.messages.FileCloseRequest;\n@@ -122,7 +123,13 @@ private void sendFileOpen(int openCount, String file) {\n \n         Log.d(TAG, \"Sending fileOpenRequest\");\n         mSequences.put(fileOpenRequest.getSeq(), openCount);\n-        mConnection.sendMessage(fileOpenRequest);\n+        try {\n+            mConnection.sendMessage(fileOpenRequest);\n+        } catch (ConnectionException e) {\n+            Log.w(TAG, \"Failed to send fileOpenRequest\", e);\n+            cleanup(openCount);\n+            return;\n+        }\n     }\n \n     private void createByteBuffer(int openCount, FileOpenResponse response) {\n@@ -149,7 +156,13 @@ private void sendFileRead(int openCount) {\n \n         Log.d(TAG, \"Sending fileReadRequest\");\n         mSequences.put(fileReadRequest.getSeq(), openCount);\n-        mConnection.sendMessage(fileReadRequest);\n+        try {\n+            mConnection.sendMessage(fileReadRequest);\n+        } catch (ConnectionException e) {\n+            Log.w(TAG, \"Failed to send fileReadRequest\", e);\n+            cleanup(openCount);\n+            return;\n+        }\n     }\n \n     private void sendFileClose(int openCount) {\n@@ -161,7 +174,13 @@ private void sendFileClose(int openCount) {\n \n             Log.d(TAG, \"Sending fileCloseRequest\");\n             mSequences.put(fileCloseRequest.getSeq(), openCount);\n-            mConnection.sendMessage(fileCloseRequest);\n+            try {\n+                mConnection.sendMessage(fileCloseRequest);\n+            } catch (ConnectionException e) {\n+                Log.w(TAG, \"Failed to send fileCloseRequest\", e);\n+                cleanup(openCount);\n+                return;\n+            }\n         }\n     }\n "
        }
      ]
    }
  },
  {
    "name": "Crash on start of compass",
    "url": "https://github.com/cgeo/cgeo/issues/6087",
    "description": "##### Detailed steps causing the problem:\r\n- Save a cache to a list\r\n- Open cache details\r\n- Select default navigation icon to start the compass\r\n\r\n##### Actual behavior after performing these steps:\r\n- App freezes, \r\n\r\n##### Expected behavior after performing these steps:\r\n- Compass should work normal\r\n\r\n\r\n##### Version of c:geo used:\r\n2016.11.05-NB-23c5988\r\n\r\n\r\n##### Is the problem reproducible for you?\r\nYes\r\n\r\n##### System information:\r\n```\r\nSamsung Galaxy S4\r\nAndroid 5.0.1\r\n```\r\n\r\n##### Other comments and remarks:\r\nScreenshot:\r\n![screenshot_2016-11-05-15-17-28](https://cloud.githubusercontent.com/assets/949669/20030767/0ea7e012-a36c-11e6-89f9-967c3aecf41f.png)\r\n\r\n\r\nLog:\r\n```\r\n15:21:08.680 Error cgeo 15089  [main] UncaughtException\r\n15:21:08.680 Error cgeo 15089  java.lang.IllegalStateException: Fatal Exception thrown on Scheduler.\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:113)\r\n15:21:08.680 Error cgeo 15089  \tat android.os.Handler.handleCallback(Handler.java:739)\r\n15:21:08.680 Error cgeo 15089  \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n15:21:08.680 Error cgeo 15089  \tat android.os.Looper.loop(Looper.java:145)\r\n15:21:08.680 Error cgeo 15089  \tat android.app.ActivityThread.main(ActivityThread.java:5951)\r\n15:21:08.680 Error cgeo 15089  \tat java.lang.reflect.Method.invoke(Native Method)\r\n15:21:08.680 Error cgeo 15089  \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n15:21:08.680 Error cgeo 15089  \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\r\n15:21:08.680 Error cgeo 15089  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\r\n15:21:08.680 Error cgeo 15089  Caused by: java.lang.IllegalArgumentException: delay \u003c 0: -134000000\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.android.schedulers.HandlerScheduler$HandlerWorker.schedule(HandlerScheduler.java:60)\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.Scheduler$Worker$PeriodicTask.run(Scheduler.java:307)\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:111)\r\n15:21:08.680 Error cgeo 15089  \t... 8 more\r\n15:21:08.680 Error cgeo 15089  [main] UncaughtException\r\n15:21:08.680 Error cgeo 15089  java.lang.IllegalStateException: Fatal Exception thrown on Scheduler.\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:113)\r\n15:21:08.680 Error cgeo 15089  \tat android.os.Handler.handleCallback(Handler.java:739)\r\n15:21:08.680 Error cgeo 15089  \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n15:21:08.680 Error cgeo 15089  \tat android.os.Looper.loop(Looper.java:145)\r\n15:21:08.680 Error cgeo 15089  \tat android.app.ActivityThread.main(ActivityThread.java:5951)\r\n15:21:08.680 Error cgeo 15089  \tat java.lang.reflect.Method.invoke(Native Method)\r\n15:21:08.680 Error cgeo 15089  \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n15:21:08.680 Error cgeo 15089  \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\r\n15:21:08.680 Error cgeo 15089  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\r\n15:21:08.680 Error cgeo 15089  Caused by: java.lang.IllegalArgumentException: delay \u003c 0: -134000000\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.android.schedulers.HandlerScheduler$HandlerWorker.schedule(HandlerScheduler.java:60)\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.Scheduler$Worker$PeriodicTask.run(Scheduler.java:307)\r\n15:21:08.680 Error cgeo 15089  \tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:111)\r\n15:21:08.680 Error cgeo 15089  \t... 8 more\r\n```\r\n",
    "keywords": [
      "com",
      "handler",
      "internal",
      "handlerscheduler$scheduledrunnable",
      "15089",
      "android",
      "invoke",
      "android schedulers",
      "main",
      "run",
      "looper",
      "error",
      "reactivex",
      "scheduler",
      "reflect",
      "java",
      "schedulers",
      "15:21:08",
      "lang",
      "handlerscheduler",
      "#####",
      "zygoteinit",
      "error cgeo",
      "app",
      "cgeo",
      "io reactivex",
      "android os",
      "method",
      "os",
      "io",
      "680 error",
      "steps",
      "java lang",
      "680",
      "15:21:08 680",
      "0",
      "activitythread",
      "compass",
      "reactivex android",
      "cgeo 15089"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/9477630a1f92af3e053180d4d3dfb47d477098c5",
      "files": [
        {
          "file_name": "main/build.gradle",
          "patch": "@@ -314,9 +314,8 @@ dependencies {\n     compile \u0027com.jakewharton:process-phoenix:1.1.1\u0027\n \n     // RxJava\n-    def rxjavaVersion \u003d \u00272.0.0\u0027\n-    compile \"io.reactivex.rxjava2:rxjava:$rxjavaVersion\"\n-    compile \"io.reactivex.rxjava2:rxandroid:$rxjavaVersion\"\n+    compile \"io.reactivex.rxjava2:rxjava:2.0.0\"\n+    compile \"io.reactivex.rxjava2:rxandroid:2.0.1\"\n \n     // Showcase view\n     // TODO replace by repository dependency. however, there is a conflict in min sdk, which needs to be solved then"
        },
        {
          "file_name": "main/src/cgeo/geocaching/ui/CompassView.java",
          "patch": "@@ -16,12 +16,8 @@\n import java.lang.ref.WeakReference;\n import java.util.concurrent.TimeUnit;\n \n-import io.reactivex.BackpressureStrategy;\n-import io.reactivex.Observable;\n import io.reactivex.android.schedulers.AndroidSchedulers;\n import io.reactivex.disposables.CompositeDisposable;\n-import io.reactivex.functions.Consumer;\n-import io.reactivex.schedulers.Schedulers;\n \n public class CompassView extends View {\n \n@@ -121,16 +117,7 @@ public void onAttachedToWindow() {\n \n         initialDisplay \u003d true;\n \n-        // FIXME: this causes an exception with RxAndroid 2.0.0 (see https://github.com/cgeo/cgeo/issues/6087)\n-        // periodicUpdate.add(AndroidSchedulers.mainThread().schedulePeriodicallyDirect(new UpdateAction(this), 0, 40, TimeUnit.MILLISECONDS));\n-        // Use a workaround in the meantime.\n-        periodicUpdate.add(Observable.interval(40, 40, TimeUnit.MILLISECONDS, Schedulers.computation()).observeOn(AndroidSchedulers.mainThread()).toFlowable(BackpressureStrategy.DROP).subscribe(new Consumer\u003cLong\u003e() {\n-            final UpdateAction action \u003d new UpdateAction(CompassView.this);\n-            @Override\n-            public void accept(final Long aLong) throws Exception {\n-                action.run();\n-            }\n-        }));\n+        periodicUpdate.add(AndroidSchedulers.mainThread().schedulePeriodicallyDirect(new UpdateAction(this), 0, 40, TimeUnit.MILLISECONDS));\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "LOST exception",
    "url": "https://github.com/westnordost/StreetComplete/issues/284",
    "description": "Error report that was sent to me.\r\n\r\nDevice: samsung klte, Android 7.1.2\r\nThread: main\r\nStack trace:\r\njava.lang.IllegalArgumentException: Service not registered: com.mapzen.android.lost.internal.FusedLocationProviderApiImpl@f90572a\r\n\tat android.app.LoadedApk.forgetServiceDispatcher(LoadedApk.java:1289)\r\n\tat android.app.ContextImpl.unbindService(ContextImpl.java:1483)\r\n\tat android.content.ContextWrapper.unbindService(ContextWrapper.java:648)\r\n\tat com.mapzen.android.lost.internal.FusedLocationProviderApiImpl.onDisconnect(FusedLocationProviderApiImpl.java:55)\r\n\tat com.mapzen.android.lost.internal.FusedLocationServiceConnectionManager.disconnect(FusedLocationServiceConnectionManager.java:70)\r\n\tat com.mapzen.android.lost.internal.FusedLocationProviderApiImpl.disconnect(FusedLocationProviderApiImpl.java:92)\r\n\tat com.mapzen.android.lost.internal.LostApiClientImpl.disconnect(LostApiClientImpl.java:60)\r\n\tat de.westnordost.streetcomplete.location.SingleLocationRequest$1.run(SingleLocationRequest.java:52)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6186)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n",
    "keywords": [
      "com",
      "app",
      "com mapzen",
      "handler",
      "disconnect",
      "internal",
      "os",
      "android",
      "main",
      "mapzen",
      "lost",
      "android lost",
      "fusedlocationproviderapiimpl",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/74aeb3ed00b3d64adcd4f89d559d132208b79858",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -91,7 +91,7 @@ dependencies {\n \n     // map and location\n     compile \u0027com.mapzen.tangram:tangram:0.6.3\u0027\n-    compile \u0027com.mapzen.android:lost:2.1.2\u0027\n+    compile \u0027com.mapzen.android:lost:3.0.0\u0027\n \n     // config files\n     compile \u0027com.esotericsoftware.yamlbeans:yamlbeans:1.09\u0027"
        },
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/QuestAutoSyncer.java",
          "patch": "@@ -83,15 +83,10 @@ public void startPositionTracking()\n \n \tpublic void stopPositionTracking()\n \t{\n-\t\ttry // TODO remove when https://github.com/mapzen/lost/issues/178 is solved\n+\t\tif(lostApiClient.isConnected())\n \t\t{\n-\t\t\tif(lostApiClient.isConnected())\n-\t\t\t{\n-\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n-\t\t\t\tlostApiClient.disconnect();\n-\t\t\t}\n-\t\t} catch(Exception e) {\n-\t\t\te.printStackTrace();\n+\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n+\t\t\tlostApiClient.disconnect();\n \t\t}\n \t}\n \n@@ -111,19 +106,10 @@ public void onConnectionSuspended() {}\n \n \t@Override public void onLocationChanged(Location location)\n \t{\n-\t\tLatLon pos \u003d new OsmLatLon(location.getLatitude(), location.getLongitude());\n-\t\t// TODO remove when https://github.com/mapzen/lost/issues/142 is fixed\n-\t\tif(this.pos !\u003d null)\n-\t\t{\n-\t\t\tif(SphericalEarthMath.distance(pos, this.pos) \u003c 400) return;\n-\t\t}\n-\t\tthis.pos \u003d pos;\n+\t\tthis.pos \u003d new OsmLatLon(location.getLatitude(), location.getLongitude());\n \t\ttriggerAutoDownload();\n \t}\n \n-\t@Override public void onProviderEnabled(String provider) {}\n-\t@Override public void onProviderDisabled(String provider) {}\n-\n \tpublic void triggerAutoDownload()\n \t{\n \t\tif(!isAllowedByPreference()) return;"
        },
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/location/SingleLocationRequest.java",
          "patch": "@@ -39,24 +39,19 @@ public void startRequest(int priority, Callback listener)\n \n \tpublic void stopRequest()\n \t{\n-\t\ttry // TODO remove when https://github.com/mapzen/lost/issues/178 is solved\n+\t\tHandler h \u003d new Handler(Looper.getMainLooper());\n+\t\th.post(new Runnable()\n \t\t{\n-\t\t\tHandler h \u003d new Handler(Looper.getMainLooper());\n-\t\t\th.post(new Runnable()\n+\t\t\t@Override public void run()\n \t\t\t{\n-\t\t\t\t@Override public void run()\n+\t\t\t\tif(lostApiClient.isConnected())\n \t\t\t\t{\n-\t\t\t\t\tif(lostApiClient.isConnected())\n-\t\t\t\t\t{\n-\t\t\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, SingleLocationRequest.this);\n-\t\t\t\t\t\tlostApiClient.disconnect();\n-\t\t\t\t\t}\n+\t\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, SingleLocationRequest.this);\n+\t\t\t\t\tlostApiClient.disconnect();\n \t\t\t\t}\n-\t\t\t});\n+\t\t\t}\n+\t\t});\n \n-\t\t} catch(Exception e) {\n-\t\t\te.printStackTrace();\n-\t\t}\n \t}\n \n \t@Override public void onConnected() throws SecurityException\n@@ -71,7 +66,5 @@ public void stopRequest()\n \t\tstopRequest();\n \t}\n \n-\t@Override public void onProviderDisabled(String provider) {}\n-\t@Override public void onProviderEnabled(String provider) {}\n \t@Override public void onConnectionSuspended() {}\n }\n\\ No newline at end of file"
        },
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/tangram/MapFragment.java",
          "patch": "@@ -209,15 +209,10 @@ public void stopPositionTracking()\n \t\t}\n \t\tzoomedYet \u003d false;\n \n-\t\ttry // TODO remove when https://github.com/mapzen/lost/issues/178 is solved\n+\t\tif(lostApiClient.isConnected())\n \t\t{\n-\t\t\tif(lostApiClient.isConnected())\n-\t\t\t{\n-\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n-\t\t\t\tlostApiClient.disconnect();\n-\t\t\t}\n-\t\t} catch (Exception e) {\n-\t\t\te.printStackTrace();\n+\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n+\t\t\tlostApiClient.disconnect();\n \t\t}\n \t}\n \n@@ -363,16 +358,6 @@ private float meters2Pixels(LngLat at, float meters) {\n \t\treturn Math.abs(screenPos1.y - screenPos0.y);\n \t}\n \n-\t@Override public void onProviderEnabled(String provider)\n-\t{\n-\n-\t}\n-\n-\t@Override public void onProviderDisabled(String provider)\n-\t{\n-\n-\t}\n-\n \tprivate static final String PREF_ROTATION \u003d \"map_rotation\";\n \tprivate static final String PREF_TILT \u003d \"map_tilt\";\n \tprivate static final String PREF_ZOOM \u003d \"map_zoom\";"
        }
      ]
    }
  },
  {
    "name": "Crash on initial Allergen Alert load",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/510",
    "description": "Crash on initial Allergen Alert load (when clicking on the plus button)\r\n```\r\n03-03 16:27:48.471 31128-31128/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                   Process: openfoodfacts.github.scrachx.openfood, PID: 31128\r\n                                                   android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: ALLERGEN.NAME (code 2067)\r\n                                                       at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n                                                       at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:780)\r\n                                                       at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n                                                       at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n                                                       at org.greenrobot.greendao.AbstractDao.executeInsertInTx(AbstractDao.java:284)\r\n                                                       at org.greenrobot.greendao.AbstractDao.insertInTx(AbstractDao.java:237)\r\n                                                       at org.greenrobot.greendao.AbstractDao.insertInTx(AbstractDao.java:215)\r\n                                                       at openfoodfacts.github.scrachx.openfood.network.OpenFoodAPIClient$4.onResponse(Unknown Source)\r\n                                                       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:66)\r\n                                                       at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                       at android.os.Looper.loop(Looper.java:148)\r\n                                                       at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n03-03 16:27:48.483 9544-10425/? I/PlaceInferenceEngine: No beacon scan available - ignoring candidates.```",
    "keywords": [
      "handler",
      "allergen",
      "sqlite",
      "os",
      "method",
      "org",
      "greenrobot",
      "sqliteconnection",
      "android",
      "main",
      "android database",
      "abstractdao",
      "database",
      "greendao",
      "org greenrobot",
      "greendao abstractdao",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/2c4104a494cbfa427ad7dcd1a5f078b05c4aea90",
      "files": [
        {
          "file_name": "app/app-release.apk"
        },
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -8,8 +8,8 @@ android {\n         applicationId \"openfoodfacts.github.scrachx.openfood\"\n         minSdkVersion 16\n         targetSdkVersion 25\n-        versionCode 29\n-        versionName \"0.6\"\n+        versionCode 30\n+        versionName \"0.6.1\"\n         testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n         vectorDrawables {\n             useSupportLibrary \u003d true"
        },
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/network/OpenFoodAPIClient.java",
          "patch": "@@ -301,7 +301,7 @@ public void onResponse(Call\u003cAllergenRestResponse\u003e call, Response\u003cAllergenRestRes\n                     return;\n                 }\n \n-                mAllergenDao.insertInTx(response.body().getAllergens());\n+                mAllergenDao.insertOrReplaceInTx(response.body().getAllergens());\n                 onAllergensCallback.onAllergensResponse(true);\n             }\n "
        },
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/views/OFFApplication.java",
          "patch": "@@ -14,15 +14,15 @@\n public class OFFApplication extends Application {\n \n     private DaoSession daoSession;\n-    private boolean DEBUG \u003d true;\n+    private boolean DEBUG \u003d false;\n \n     @Override\n     public void onCreate() {\n         super.onCreate();\n \n         // Use only during development: DaoMaster.DevOpenHelper (Drops all table on Upgrade!)\n         // Use only during production: DatabaseHelper (see on Upgrade!)\n-        DaoMaster.DevOpenHelper helper \u003d new DaoMaster.DevOpenHelper(this, \"open_food_facts\");\n+        DatabaseHelper helper \u003d new DatabaseHelper(this, \"open_food_facts\");\n         Database db \u003d helper.getWritableDb();\n         daoSession \u003d new DaoMaster(db).newSession();\n "
        },
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/views/SplashActivity.java",
          "patch": "@@ -104,7 +104,7 @@ protected Boolean doInBackground(Void... arg0) {\n                 is \u003d getAssets().open(additivesFile);\n                 List\u003cAdditive\u003e frenchAdditives \u003d JsonUtils.readFor(new TypeReference\u003cList\u003cAdditive\u003e\u003e() {})\n                         .readValue(is);\n-                mAdditiveDao.insertInTx(frenchAdditives);\n+                mAdditiveDao.insertOrReplaceInTx(frenchAdditives);\n             } catch (IOException e) {\n                 result \u003d false;\n                 Log.e(ADDITIVE_IMPORT, \"Unable to import additives from \" + additivesFile);"
        }
      ]
    }
  },
  {
    "name": "Exception",
    "url": "https://github.com/rewgoes/PopularMovies/issues/20",
    "description": "FAILED BINDER TRANSACTION !!!  (parcel size \u003d 531744)\r\nShutting down VM\r\nFATAL EXCEPTION: main\r\nProcess: com.wolfgoes.popularmovies, PID: 12191\r\njava.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 531744 bytes\r\n\tat android.app.ActivityThread$StopInfo.run(ActivityThread.java:4167)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6692)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)\r\nCaused by: android.os.TransactionTooLargeException: data parcel size 531744 bytes\r\n\tat android.os.BinderProxy.transactNative(Native Method)\r\n\tat android.os.BinderProxy.transact(Binder.java:628)\r\n\tat android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:4132)\r\n\tat android.app.ActivityThread$StopInfo.run(ActivityThread.java:4159)\r\n\t... 7 more",
    "keywords": [
      "com",
      "app",
      "handler",
      "parcel",
      "android os",
      "os",
      "method",
      "android",
      "run",
      "main",
      "activitythread",
      "531744",
      "size",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/rewgoes/PopularMovies/commit/8c6ae0b84449a918d48c0d0595d491bacdb1f176",
      "files": [
        {
          "file_name": "app/src/main/java/com/wolfgoes/popularmovies/ui/MainActivity.java",
          "patch": "@@ -1,17 +1,21 @@\n package com.wolfgoes.popularmovies.ui;\n \n+import android.support.v4.app.Fragment;\n import android.support.v7.app.AppCompatActivity;\n import android.os.Bundle;\n import android.text.TextUtils;\n \n import com.wolfgoes.popularmovies.R;\n import com.wolfgoes.popularmovies.utils.Utility;\n \n+import java.util.HashMap;\n+\n public class MainActivity extends AppCompatActivity {\n \n     private static final String STATE_MOVIE_ORDER \u003d \"extra_movie_order\";\n \n     private String mOrder;\n+    private RetainedFragment retainedFragment;\n \n     @Override\n     protected void onSaveInstanceState(Bundle outState) {\n@@ -28,6 +32,13 @@ protected void onCreate(Bundle savedInstanceState) {\n \n         setContentView(R.layout.activity_main);\n \n+        retainedFragment \u003d (RetainedFragment) getSupportFragmentManager().findFragmentByTag(\"retained_fragment\");\n+\n+        if (retainedFragment \u003d\u003d null) {\n+            retainedFragment \u003d new RetainedFragment();\n+            getSupportFragmentManager().beginTransaction().add(retainedFragment, \"retained_fragment\").commit();\n+        }\n+\n         if (findViewById(R.id.fragment_container) !\u003d null) {\n             MoviesFragment moviesFragment \u003d new MoviesFragment();\n \n@@ -55,4 +66,24 @@ protected void onResume() {\n         }\n         mOrder \u003d order;\n     }\n+\n+    public \u003cT\u003e T getState(String key) {\n+        //noinspection unchecked\n+        return (T) retainedFragment.map.get(key);\n+    }\n+\n+    public void saveState(String key, Object value) {\n+        retainedFragment.map.put(key, value);\n+    }\n+\n+    public static class RetainedFragment extends Fragment {\n+\n+        HashMap\u003cString, Object\u003e map \u003d new HashMap\u003c\u003e();\n+\n+        @Override public void onCreate(Bundle savedInstanceState) {\n+            super.onCreate(savedInstanceState);\n+            setRetainInstance(true);\n+        }\n+\n+    }\n }"
        },
        {
          "file_name": "app/src/main/java/com/wolfgoes/popularmovies/ui/MoviesFragment.java",
          "patch": "@@ -21,7 +21,6 @@\n import android.widget.TextView;\n import android.widget.Toast;\n \n-import com.wolfgoes.popularmovies.BuildConfig;\n import com.wolfgoes.popularmovies.R;\n import com.wolfgoes.popularmovies.api.MovieApi;\n import com.wolfgoes.popularmovies.data.MoviesContract;\n@@ -90,7 +89,7 @@ public boolean onOptionsItemSelected(MenuItem item) {\n     @Override\n     public void onSaveInstanceState(Bundle outState) {\n         super.onSaveInstanceState(outState);\n-        outState.putParcelableArrayList(STATE_MOVIE_LIST, mMovies);\n+        ((MainActivity) getActivity()).saveState(STATE_MOVIE_LIST, mMovies);\n         outState.putString(STATE_MOVIE_ORDER, mOrder);\n     }\n \n@@ -133,7 +132,7 @@ public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n         super.onViewCreated(view, savedInstanceState);\n \n         if (savedInstanceState !\u003d null) {\n-            mMovies \u003d savedInstanceState.getParcelableArrayList(STATE_MOVIE_LIST);\n+            mMovies \u003d ((MainActivity) getActivity()).getState(STATE_MOVIE_LIST);\n \n             synchronized (lock) {\n                 if (mMovies !\u003d null \u0026\u0026 mMovies.size() \u003e 0 \u0026\u0026 mMovies.get(mMovies.size() - 1) \u003d\u003d null) {"
        }
      ]
    }
  },
  {
    "name": "Another null context",
    "url": "https://github.com/kontalk/androidclient/issues/1026",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.Context android.content.Context.getApplicationContext()\u0027 on a null object reference\r\n       at org.kontalk.Kontalk.get(Kontalk.java:305)\r\n       at org.kontalk.Kontalk.getMessagesController(Kontalk.java:295)\r\n       at org.kontalk.ui.ComposeMessageFragment.trustKeyChange(ComposeMessageFragment.java:904)\r\n       at org.kontalk.ui.ComposeMessageFragment$9$1.onClick(ComposeMessageFragment.java:932)\r\n       at com.afollestad.materialdialogs.MaterialDialog.onClick(MaterialDialog.java:399)\r\n       at android.view.View.performClick(View.java:4783)\r\n       at android.view.View$PerformClick.run(View.java:19887)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5290)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:911)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:706)\r\n```\r\n\r\nPass context to trustKeyChange() and check also other methods for similar scenarios.\r\nI still can\u0027t understand why Context would be null right after clicking on a dialog button. I mean it could be a race for e.g. an incoming phone call, still it\u0027s Android 5, a heads-up notification should appear. Instead the activity is just... stopped. Anyway, the exception is coming from a Xiaomi phone, who knows how they modified the system there... :S",
    "keywords": [
      "composemessagefragment",
      "com",
      "handler",
      "os",
      "method",
      "org",
      "android",
      "invoke",
      "view",
      "java",
      "null",
      "context",
      "lang",
      "kontalk",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/d34b522183f913371fb5f2420f16346827044027",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessageFragment.java",
          "patch": "@@ -188,8 +188,8 @@ private void blockUser() {\n             .negativeText(android.R.string.cancel)\n             .onPositive(new MaterialDialog.SingleButtonCallback() {\n                 @Override\n-                public void onClick(@NonNull MaterialDialog materialDialog, @NonNull DialogAction dialogAction) {\n-                    setPrivacy(PRIVACY_BLOCK);\n+                public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n+                    setPrivacy(dialog.getContext(), PRIVACY_BLOCK);\n                 }\n             })\n             .show();\n@@ -204,8 +204,8 @@ private void unblockUser() {\n             .negativeText(android.R.string.cancel)\n             .onPositive(new MaterialDialog.SingleButtonCallback() {\n                 @Override\n-                public void onClick(@NonNull MaterialDialog materialDialog, @NonNull DialogAction dialogAction) {\n-                    setPrivacy(PRIVACY_UNBLOCK);\n+                public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n+                    setPrivacy(dialog.getContext(), PRIVACY_UNBLOCK);\n                 }\n             })\n             .show();\n@@ -678,7 +678,7 @@ public void onClick(View v) {\n                         else\n                             action \u003d PRIVACY_REJECT;\n \n-                        setPrivacy(action);\n+                        setPrivacy(v.getContext(), action);\n                     }\n                 };\n \n@@ -703,7 +703,7 @@ public void onClick(View v) {\n             mInvitationBar.setVisibility(visible ? View.VISIBLE : View.GONE);\n     }\n \n-    void setPrivacy(int action) {\n+    void setPrivacy(@NonNull Context ctx, int action) {\n         int status;\n \n         switch (action) {\n@@ -724,8 +724,6 @@ void setPrivacy(int action) {\n                 return;\n         }\n \n-        Context ctx \u003d getActivity();\n-\n         // temporarly disable peer observer because the next call will write to the threads table\n         unregisterPeerObserver();\n \n@@ -891,11 +889,11 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n                         switch (which) {\n                             case POSITIVE:\n                                 // trust new key\n-                                trustKeyChange(null);\n+                                trustKeyChange(dialog.getContext(), null);\n                                 break;\n                             case NEGATIVE:\n                                 // block user immediately\n-                                setPrivacy(PRIVACY_BLOCK);\n+                                setPrivacy(dialog.getContext(), PRIVACY_BLOCK);\n                                 break;\n                         }\n                     }\n@@ -905,12 +903,12 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n         builder.show();\n     }\n \n-    void trustKeyChange(String fingerprint) {\n+    void trustKeyChange(@NonNull Context context, String fingerprint) {\n         // mark current key as trusted\n         if (fingerprint \u003d\u003d null)\n             fingerprint \u003d getContact().getFingerprint();\n-        Kontalk.getMessagesController(getContext())\n-            .setTrustLevelAndRetryMessages(getContext(), mUserJID, fingerprint, MyUsers.Keys.TRUST_VERIFIED);\n+        Kontalk.getMessagesController(context)\n+            .setTrustLevelAndRetryMessages(context, mUserJID, fingerprint, MyUsers.Keys.TRUST_VERIFIED);\n         // reload contact\n         invalidateContact();\n     }\n@@ -937,7 +935,7 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n                                         // hide warning bar\n                                         hideWarning();\n                                         // trust new key\n-                                        trustKeyChange((String) data[0]);\n+                                        trustKeyChange(dialog.getContext(), (String) data[0]);\n                                         break;\n                                     case NEUTRAL:\n                                         showIdentityDialog(false, dialogTitleId);\n@@ -946,7 +944,7 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n                                         // hide warning bar\n                                         hideWarning();\n                                         // block user immediately\n-                                        setPrivacy(PRIVACY_BLOCK);\n+                                        setPrivacy(dialog.getContext(), PRIVACY_BLOCK);\n                                         break;\n                                 }\n                             }"
        }
      ]
    }
  },
  {
    "name": "Crash on FileUtils.isOk()",
    "url": "https://github.com/veniosg/Dir/issues/34",
    "description": "```\r\njava.lang.NullPointerException: \r\n  at com.veniosg.dir.util.FileUtils.isOk(FileUtils.java:255)\r\n  at com.veniosg.dir.view.widget.PathView.cd(PathView.java:209)\r\n  at com.veniosg.dir.view.widget.PathView.cd(PathView.java:202)\r\n  at com.veniosg.dir.fragment.SimpleFileListFragment.onEmptyViewClicked(SimpleFileListFragment.java:739)\r\n  at com.veniosg.dir.fragment.FileListFragment$3.onClick(FileListFragment.java:123)\r\n  at android.view.View.performClick(View.java:5612)\r\n  at android.view.View$PerformClick.run(View.java:22288)\r\n  at android.os.Handler.handleCallback(Handler.java:751)\r\n  at android.os.Handler.dispatchMessage(Handler.java:95)\r\n  at android.os.Looper.loop(Looper.java:154)\r\n  at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n  at java.lang.reflect.Method.invoke(Native Method:0)\r\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\n\r\n```",
    "keywords": [
      "com veniosg",
      "com",
      "veniosg",
      "handler",
      "view",
      "fileutils",
      "os",
      "android",
      "pathview",
      "dir",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/veniosg/Dir/commit/db0ebd4dfdd9aecc2bcbe48945292b81fb3ebf09",
      "files": [
        {
          "file_name": "app/src/main/java/com/veniosg/dir/fragment/SimpleFileListFragment.java",
          "patch": "@@ -1,5 +1,6 @@\n /*\n  * Copyright (C) 2012 OpenIntents.org\n+ * Copyright (C) 2017 George Venios\n  *\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n@@ -55,6 +56,8 @@\n import java.util.ArrayList;\n import java.util.HashMap;\n \n+import static android.view.View.GONE;\n+import static android.view.View.VISIBLE;\n import static com.veniosg.dir.fragment.PreferenceFragment.getMediaScanFromPreference;\n import static com.veniosg.dir.util.CopyHelper.Operation.COPY;\n import static com.veniosg.dir.view.PathController.OnDirectoryChangedListener;\n@@ -375,6 +378,7 @@ public void onViewCreated(View view, Bundle savedInstanceState) {\n \n         mPathBar \u003d (PathController) getActivity().findViewById(R.id.pathview);\n         mTransitionView \u003d (AnimatedFileListContainer) view.findViewById(R.id.zoomview);\n+        final View backButton \u003d view.findViewById(R.id.empty_img);\n \n         // Handle mPath differently if we restore state or just initially create the view.\n         if (savedInstanceState \u003d\u003d null) {\n@@ -386,6 +390,7 @@ public void onViewCreated(View view, Bundle savedInstanceState) {\n             @Override\n             public void directoryChanged(File newCurrentDir) {\n                 open(new FileHolder(newCurrentDir, getActivity()));\n+                backButton.setVisibility(mPathBar.isParentDirectoryNavigable() ? VISIBLE : GONE);\n             }\n         });\n         if (savedInstanceState !\u003d null \u0026\u0026 savedInstanceState.getBoolean(INSTANCE_STATE_PATHBAR_MODE)) {\n@@ -405,9 +410,6 @@ private void firstTimeAnimation(@SuppressWarnings(\"UnusedParameters\") final View\n         // Everyone hates lag on launch.\n     }\n \n-    /**\n-     * Override this to handle initialization of list item long clicks.\n-     */\n     private void initContextualActions() {\n         if (mActionsEnabled) {\n             getListView().setMultiChoiceModeListener(mMultiChoiceModeListener);\n@@ -738,7 +740,9 @@ protected void onListVisibilityChanged(boolean visible) {\n \n     @Override\n     protected void onEmptyViewClicked() {\n-        mPathBar.cd(mPathBar.getCurrentDirectory().getParentFile());\n+        if (mPathBar.isParentDirectoryNavigable()) {\n+            mPathBar.cd(mPathBar.getParentDirectory());\n+        }\n     }\n \n     public void closeActionMode() {"
        },
        {
          "file_name": "app/src/main/java/com/veniosg/dir/util/FileUtils.java",
          "patch": "@@ -1,5 +1,6 @@\n /* \n  * Copyright (C) 2007-2008 OpenIntents.org\n+ * Copyright (C) 2017 George Venios\n  *\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n@@ -24,6 +25,7 @@\n import android.net.Uri;\n import android.provider.MediaStore.Audio;\n import android.provider.MediaStore.Video;\n+import android.support.annotation.NonNull;\n import android.text.format.DateFormat;\n import android.text.format.Formatter;\n import android.util.Log;\n@@ -249,14 +251,8 @@ public static Intent getViewIntentFor(FileHolder fileholder, Context c) {\n         return intent;\n     }\n \n-    public static boolean isOk(File file) {\n-        // Check file state.\n-        boolean isFileOK \u003d true;\n-        isFileOK \u0026\u003d file.exists();\n-        isFileOK \u0026\u003d file.isDirectory();\n-        // add more filters here..\n-\n-        return isFileOK;\n+    public static boolean isValidDirectory(@NonNull File file) {\n+\t\treturn file.exists() \u0026\u0026 file.isDirectory();\n     }\n \n     private static void launchFileIntent(Intent intent, Context c) {"
        },
        {
          "file_name": "app/src/main/java/com/veniosg/dir/view/PathController.java",
          "patch": "@@ -77,6 +77,10 @@\n      */\n     File getInitialDirectory();\n \n+    File getParentDirectory();\n+\n+    boolean isParentDirectoryNavigable();\n+\n     /**\n      * Sets the directory the parent activity showed first so that back behavior is fixed.\n      *"
        },
        {
          "file_name": "app/src/main/java/com/veniosg/dir/view/widget/PathView.java",
          "patch": "@@ -52,7 +52,7 @@\n import static android.view.inputmethod.EditorInfo.IME_ACTION_GO;\n import static com.veniosg.dir.AnimationConstants.ANIM_DURATION;\n import static com.veniosg.dir.AnimationConstants.IN_INTERPOLATOR;\n-import static com.veniosg.dir.util.FileUtils.isOk;\n+import static com.veniosg.dir.util.FileUtils.isValidDirectory;\n import static com.veniosg.dir.util.Utils.backWillExit;\n import static com.veniosg.dir.view.CheatSheet.setup;\n import static com.veniosg.dir.view.PathController.Mode.MANUAL_INPUT;\n@@ -206,7 +206,7 @@ public boolean cd(File file) {\n     public boolean cd(File file, boolean forceNoAnim) {\n         boolean result;\n \n-        if (isOk(file)) {\n+        if (isValidDirectory(file)) {\n             File oldDir \u003d new File(mCurrentDirectory.getAbsolutePath());\n             mCurrentDirectory \u003d file;\n \n@@ -238,6 +238,16 @@ public File getInitialDirectory() {\n     }\n \n     @Override\n+    public File getParentDirectory() {\n+        return getCurrentDirectory().getParentFile();\n+    }\n+\n+    @Override\n+    public boolean isParentDirectoryNavigable() {\n+        return mCurrentDirectory.getParentFile() !\u003d null;\n+    }\n+\n+    @Override\n     public void setInitialDirectory(File initDir) {\n         mInitialDirectory \u003d initDir;\n         cd(initDir);"
        }
      ]
    }
  },
  {
    "name": "Exception when trying to change server url before signup",
    "url": "https://github.com/raphiz/gadgeothek/issues/27",
    "description": "Steps to reproduce:\r\n\r\n1. Click on Signup\r\n2. Change server url (e.g. from mge1 to mge2)\r\n3. enter details and click signup\r\n\r\nTracelog:\r\n```\r\n10-31 19:11:05.958 5268-5564/ch.hsr.gadgeothek D/Request: Requesting http://mge2.dev.ifs.hsr.ch/public/register\r\n10-31 19:11:06.366 5268-5564/ch.hsr.gadgeothek D/Request: Response received: true\r\n10-31 19:11:06.397 5268-5268/ch.hsr.gadgeothek D/LibraryService: Setting server to http://mge3.dev.ifs.hsr.ch/public\r\n10-31 19:11:06.398 5268-5575/ch.hsr.gadgeothek D/Request: Requesting http://mge3.dev.ifs.hsr.ch/public/login\r\n10-31 19:11:06.450 5268-5575/ch.hsr.gadgeothek D/Request: Response received: \"user does not exist\"\r\n10-31 19:11:06.515 5268-5268/ch.hsr.gadgeothek D/AndroidRuntime: Shutting down VM\r\n10-31 19:11:06.516 5268-5268/ch.hsr.gadgeothek E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                 Process: ch.hsr.gadgeothek, PID: 5268\r\n                                                                 java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.Context android.view.ViewGroup.getContext()\u0027 on a null object reference\r\n                                                                     at android.support.design.widget.Snackbar.\u003cinit\u003e(Snackbar.java:188)\r\n                                                                     at android.support.design.widget.Snackbar.make(Snackbar.java:220)\r\n                                                                     at ch.hsr.gadgeothek.util.ErrorHandler.showOverallErrorMsg(ErrorHandler.java:11)\r\n                                                                     at ch.hsr.gadgeothek.ui.SignupActivity$1$1.onError(SignupActivity.java:42)\r\n                                                                     at ch.hsr.gadgeothek.service.LibraryService$1.onError(LibraryService.java:69)\r\n                                                                     at ch.hsr.gadgeothek.service.Request.onPostExecute(Request.java:97)\r\n                                                                     at ch.hsr.gadgeothek.service.Request.onPostExecute(Request.java:17)\r\n                                                                     at android.os.AsyncTask.finish(AsyncTask.java:667)\r\n                                                                     at android.os.AsyncTask.-wrap1(AsyncTask.java)\r\n                                                                     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:684)\r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                     at android.os.Looper.loop(Looper.java:154)\r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n\r\n```",
    "keywords": [
      "server",
      "request",
      "android os",
      "method",
      "os",
      "asynctask",
      "d/request",
      "ch",
      "10-31",
      "hsr",
      "android",
      "10-31 19:11:06",
      "main",
      "5268-5268/ch",
      "signup",
      "19:11:06",
      "java",
      "dev",
      "ch hsr",
      "service",
      "ifs",
      "snackbar",
      "gadgeothek",
      "hsr gadgeothek",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/raphiz/gadgeothek/commit/120fe68c9bc0208445b1c941bcb192757c91ebda",
      "files": [
        {
          "file_name": "app/src/main/java/ch/hsr/gadgeothek/service/LibraryService.java",
          "patch": "@@ -97,13 +97,15 @@ public void onError(String message) {\n         request.execute();\r\n     }\r\n \r\n-    public static void register(String mail, String password, String name, String studentenNumber, final SimpleLibraryServiceCallback\u003cBoolean\u003e callback) {\r\n+    public static void register(String mail, String password, String name, String studentenNumber, final Context context, final SimpleLibraryServiceCallback\u003cBoolean\u003e callback) {\r\n         HashMap\u003cString, String\u003e parameter \u003d new HashMap\u003c\u003e();\r\n         parameter.put(\"email\", mail);\r\n         parameter.put(\"password\", password);\r\n         parameter.put(\"name\", name);\r\n         parameter.put(\"studentnumber\", studentenNumber);\r\n \r\n+        loadServerUrl(context);\r\n+\r\n         Request\u003cBoolean\u003e request \u003d new Request\u003c\u003e(HttpVerb.POST, serverUrl + \"/register\", Boolean.class, parameter, new SimpleLibraryServiceCallback\u003cBoolean\u003e() {\r\n             @Override\r\n             public void onCompletion(Boolean input) {\r"
        },
        {
          "file_name": "app/src/main/java/ch/hsr/gadgeothek/ui/BaseLoginSignupActivity.java",
          "patch": "@@ -66,7 +66,7 @@ protected void doSignUp(final EditText emailAddressEditText,\n         final String password \u003d passwordEditText.getText().toString();\n         final boolean keepMeLoggedIn \u003d keepMeLoggedInSwitch.isChecked();\n \n-        LibraryService.register(emailAddress, password, name, studentNumber, new SimpleLibraryServiceCallback\u003cBoolean\u003e() {\n+        LibraryService.register(emailAddress, password, name, studentNumber, context, new SimpleLibraryServiceCallback\u003cBoolean\u003e() {\n \n             @Override\n             public void onCompletion(Boolean input) {"
        }
      ]
    }
  },
  {
    "name": "App Crashes on selecting time API 14",
    "url": "https://github.com/wdullaer/MaterialDateTimePicker/issues/307",
    "description": "Full Stacktrace:- \r\n02-01 13:34:49.567 12277-12277/com.heallifydoctor W/dalvikvm: VFY: unable to resolve static field 10470 (ACTION_SCROLL_BACKWARD) in Landroid/view/accessibility/AccessibilityNodeInfo$AccessibilityAction;\r\n02-01 13:34:49.567 12277-12277/com.heallifydoctor I/dalvikvm: Could not find method android.widget.FrameLayout.performAccessibilityAction, referenced from method com.wdullaer.materialdatetimepicker.time.RadialPickerLayout.performAccessibilityAction\r\n02-01 13:34:49.567 12277-12277/com.heallifydoctor W/dalvikvm: VFY: unable to resolve virtual method 22637: Landroid/widget/FrameLayout;.performAccessibilityAction (ILandroid/os/Bundle;)Z\r\n02-01 13:34:49.617 12277-12277/com.heallifydoctor I/dalvikvm: Could not find method android.view.View.announceForAccessibility, referenced from method com.wdullaer.materialdatetimepicker.Utils.tryAccessibilityAnnounce\r\n02-01 13:34:49.617 12277-12277/com.heallifydoctor W/dalvikvm: VFY: unable to resolve virtual method 21630: Landroid/view/View;.announceForAccessibility (Ljava/lang/CharSequence;)V\r\n02-01 13:34:55.887 12277-12277/com.heallifydoctor E/RadialTextsView: RadialTextView was not ready for animation.\r\n02-01 13:34:55.887 12277-12277/com.heallifydoctor E/RadialSelectorView: RadialSelectorView was not ready for animation.\r\n02-01 13:34:55.917 12277-12277/com.heallifydoctor W/dalvikvm: threadid\u003d1: thread exiting with uncaught exception (group\u003d0x409961f8)\r\n02-01 13:34:55.987 12277-12277/com.heallifydoctor E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                    java.lang.IllegalStateException: Circular dependencies cannot exist in AnimatorSet\r\n                                                                        at android.animation.AnimatorSet.sortNodes(AnimatorSet.java:816)\r\n                                                                        at android.animation.AnimatorSet.start(AnimatorSet.java:454)\r\n                                                                        at com.wdullaer.materialdatetimepicker.time.RadialPickerLayout.setCurrentItemShowing(RadialPickerLayout.java:682)\r\n                                                                        at com.wdullaer.materialdatetimepicker.time.TimePickerDialog.setCurrentItemShowing(TimePickerDialog.java:1189)\r\n                                                                        at com.wdullaer.materialdatetimepicker.time.TimePickerDialog.advancePicker(TimePickerDialog.java:1010)\r\n                                                                        at com.wdullaer.materialdatetimepicker.time.RadialPickerLayout.onTouch(RadialPickerLayout.java:857)\r\n                                                                        at android.view.View.dispatchTouchEvent(View.java:5481)\r\n                                                                        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1953)\r\n                                                                        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1714)\r\n                                                                        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1959)\r\n                                                                        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1728)\r\n                                                                        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1959)\r\n                                                                        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1728)\r\n                                                                        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1959)\r\n                                                                        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1728)\r\n                                                                        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1959)\r\n                                                                        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1728)\r\n                                                                        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1959)\r\n                                                                        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1728)\r\n                                                                        at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1892)\r\n                                                                        at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1371)\r\n                                                                        at android.app.Dialog.dispatchTouchEvent(Dialog.java:725)\r\n                                                                        at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1840)\r\n                                                                        at android.view.View.dispatchPointerEvent(View.java:5662)\r\n                                                                        at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:2863)\r\n                                                                        at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2442)\r\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                        at android.os.Looper.loop(Looper.java:137)\r\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:4340)\r\n                                                                        at java.lang.reflect.Method.invokeNative(Native Method)\r\n                                                                        at java.lang.reflect.Method.invoke(Method.java:511)\r\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\r\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\r\n                                                                        at dalvik.system.NativeStart.main(Native Method)\r\n",
    "keywords": [
      "com",
      "12277-12277/com heallifydoctor",
      "internal",
      "resolve",
      "view viewgroup",
      "android",
      "vfy",
      "heallifydoctor",
      "main",
      "radialpickerlayout",
      "dispatchtransformedtouchevent",
      "unable",
      "java:1728",
      "impl",
      "view",
      "not",
      "java",
      "timepickerdialog",
      "13:34:55",
      "02-01",
      "viewgroup",
      "w/dalvikvm",
      "android view",
      "lang",
      "zygoteinit",
      "policy",
      "dispatchtouchevent",
      "materialdatetimepicker",
      "wdullaer materialdatetimepicker",
      "wdullaer",
      "app",
      "method",
      "os",
      "12277-12277/com",
      "performaccessibilityaction",
      "02-01 13:34:49",
      "viewgroup dispatchtransformedtouchevent",
      "com android",
      "phonewindow",
      "animation",
      "13:34:49",
      "viewgroup java:1959",
      "java:1959",
      "animatorset",
      "567",
      "viewrootimpl",
      "dispatchtouchevent viewgroup",
      "time"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/wdullaer/MaterialDateTimePicker/commit/7e156fbaf4c9a139f7b8f7edd679acd36040c6f7",
      "files": [
        {
          "file_name": "library/src/main/java/com/wdullaer/materialdatetimepicker/time/RadialPickerLayout.java",
          "patch": "@@ -18,13 +18,13 @@\n \n import android.animation.AnimatorSet;\n import android.animation.ObjectAnimator;\n-import android.annotation.SuppressLint;\n import android.content.Context;\n import android.os.Build;\n import android.os.Bundle;\n import android.os.Handler;\n import android.support.annotation.NonNull;\n import android.support.v4.content.ContextCompat;\n+import android.support.v4.view.accessibility.AccessibilityNodeInfoCompat;\n import android.text.format.DateUtils;\n import android.util.AttributeSet;\n import android.util.Log;\n@@ -904,13 +904,16 @@ public boolean trySettingInputEnabled(boolean inputEnabled) {\n     @SuppressWarnings(\"deprecation\")\n     public void onInitializeAccessibilityNodeInfo(@NonNull AccessibilityNodeInfo info) {\n         super.onInitializeAccessibilityNodeInfo(info);\n-        if(Build.VERSION.SDK_INT \u003e\u003d 21) {\n+        if (Build.VERSION.SDK_INT \u003e\u003d 21) {\n             info.addAction(AccessibilityNodeInfo.AccessibilityAction.ACTION_SCROLL_BACKWARD);\n             info.addAction(AccessibilityNodeInfo.AccessibilityAction.ACTION_SCROLL_FORWARD);\n         }\n-        else {\n+        else if (Build.VERSION.SDK_INT \u003e\u003d 16) {\n             info.addAction(AccessibilityNodeInfo.ACTION_SCROLL_FORWARD);\n             info.addAction(AccessibilityNodeInfo.ACTION_SCROLL_BACKWARD);\n+        } else {\n+            info.addAction(AccessibilityNodeInfoCompat.ACTION_SCROLL_FORWARD);\n+            info.addAction(AccessibilityNodeInfoCompat.ACTION_SCROLL_BACKWARD);\n         }\n     }\n \n@@ -942,17 +945,25 @@ public boolean dispatchPopulateAccessibilityEvent(AccessibilityEvent event) {\n      * When scroll forward/backward events are received, jump the time to the higher/lower\n      * discrete, visible value on the circle.\n      */\n-    @SuppressLint(\"NewApi\")\n     @Override\n     public boolean performAccessibilityAction(int action, Bundle arguments) {\n         if (super.performAccessibilityAction(action, arguments)) {\n             return true;\n         }\n \n         int changeMultiplier \u003d 0;\n-        if (action \u003d\u003d AccessibilityNodeInfo.ACTION_SCROLL_FORWARD) {\n+        int forward;\n+        int backward;\n+        if (Build.VERSION.SDK_INT \u003e\u003d 16) {\n+            forward \u003d AccessibilityNodeInfo.ACTION_SCROLL_FORWARD;\n+            backward \u003d AccessibilityNodeInfo.ACTION_SCROLL_BACKWARD;\n+        } else {\n+            forward \u003d AccessibilityNodeInfoCompat.ACTION_SCROLL_FORWARD;\n+            backward \u003d AccessibilityNodeInfoCompat.ACTION_SCROLL_BACKWARD;\n+        }\n+        if (action \u003d\u003d forward) {\n             changeMultiplier \u003d 1;\n-        } else if (action \u003d\u003d AccessibilityNodeInfo.ACTION_SCROLL_BACKWARD) {\n+        } else if (action \u003d\u003d backward) {\n             changeMultiplier \u003d -1;\n         }\n         if (changeMultiplier !\u003d 0) {"
        }
      ]
    }
  },
  {
    "name": "Null pointer (race condition - audio view)",
    "url": "https://github.com/kontalk/androidclient/issues/769",
    "description": "```\njava.lang.NullPointerException\n       at org.kontalk.ui.view.AudioContentView.onClick(AudioContentView.java:143)\n       at android.view.View.performClick(View.java:2533)\n       at android.view.View$PerformClick.run(View.java:9320)\n       at android.os.Handler.handleCallback(Handler.java:587)\n       at android.os.Handler.dispatchMessage(Handler.java:92)\n       at android.os.Looper.loop(Looper.java:150)\n       at android.app.ActivityThread.main(ActivityThread.java:4389)\n       at java.lang.reflect.Method.invokeNative(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:507)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:849)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:607)\n       at dalvik.system.NativeStart.main(NativeStart.java)\n```\n",
    "keywords": [
      "handler",
      "view",
      "java",
      "os",
      "method",
      "android",
      "main",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/c9e6e3dd3a13e76bc9c749333ec917437b4ed868",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/view/AudioContentView.java",
          "patch": "@@ -140,7 +140,9 @@ private void setTheme(MessageListItemTheme theme) {\n \n     @Override\n     public void onClick(View v) {\n-        mAudioPlayerControl.buttonClick(new File(mComponent.getLocalUri().getPath()), this, mMessageId);\n+        Uri localUri \u003d mComponent.getLocalUri();\n+        if (localUri !\u003d null)\n+            mAudioPlayerControl.buttonClick(new File(localUri.getPath()), this, mMessageId);\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "Unable to use binding collection adapter when header and footer is added to a list view",
    "url": "https://github.com/evant/binding-collection-adapter/issues/57",
    "description": "I am adding header and footer in a list view using `ListView::addHeaderView` and `ListView::addFooterView`\nGetting exception :\n\n```\njava.lang.ClassCastException: android.widget.HeaderViewListAdapter cannot be cast to me.tatarka.bindingcollectionadapter.BindingListViewAdapter\n    at me.tatarka.bindingcollectionadapter.BindingCollectionAdapters.setAdapter(BindingCollectionAdapters.java:27) ~[na:0.0]\n    at to.go.databinding.ContentDrawerBinding.executeBindings(ContentDrawerBinding.java:142) ~[na:0.0]\n    at android.databinding.ViewDataBinding.executePendingBindings(ViewDataBinding.java:355) ~[na:0.0]\n    at android.databinding.ViewDataBinding$6.run(ViewDataBinding.java:172) ~[na:0.0]\n    at android.databinding.ViewDataBinding$7.doFrame(ViewDataBinding.java:238) ~[na:0.0]\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:856) ~[na:0.0]\n    at android.view.Choreographer.doCallbacks(Choreographer.java:670) ~[na:0.0]\n    at android.view.Choreographer.doFrame(Choreographer.java:603) ~[na:0.0]\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844) ~[na:0.0]\n    at android.os.Handler.handleCallback(Handler.java:739) ~[na:0.0]\n    at android.os.Handler.dispatchMessage(Handler.java:95) ~[na:0.0]\n    at android.os.Looper.loop(Looper.java:148) ~[na:0.0]\n    at android.app.ActivityThread.main(ActivityThread.java:5417) ~[na:0.0]\n    at java.lang.reflect.Method.invoke(Native Method) ~[na:0.0]\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) ~[na:0.0]\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) ~[na:0.0]\n```\n\nBasically it is failing here \n[BindingListViewAdapter\u003cT\u003e adapter \u003d (BindingListViewAdapter\u003cT\u003e) adapterView.getAdapter();](https://github.com/evant/binding-collection-adapter/blob/master/bindingcollectionadapter/src/main/java/me/tatarka/bindingcollectionadapter/BindingCollectionAdapters.java#L27)\nas on adding header or footer the adapter changes to [HeaderListViewAdapter](https://developer.android.com/reference/android/widget/HeaderViewListAdapter.html)\n\nAn easy fix for this I found is to replace [BindingListViewAdapter\u003cT\u003e adapter \u003d (BindingListViewAdapter\u003cT\u003e) adapterView.getAdapter();](https://github.com/evant/binding-collection-adapter/blob/master/bindingcollectionadapter/src/main/java/me/tatarka/bindingcollectionadapter/BindingCollectionAdapters.java#L27) with\n\n```\nAdapter listAdapter \u003d adapterView.getAdapter();\nBindingListViewAdapter\u003cT\u003e adapter;\nif (listAdapter instanceof HeaderViewListAdapter) {\n    adapter \u003d (BindingListViewAdapter\u003cT\u003e) ((HeaderViewListAdapter) listAdapter)\n        .getWrappedAdapter();\n} else {\n    adapter \u003d (BindingListViewAdapter\u003cT\u003e) adapterView.getAdapter();\n}\n```\n\n**So i think this fix should be added in the library itself**\n\nAlso i have a better way of adding header and footer view in listview\n\n```\n@BindingAdapter(value \u003d {\"app:footerView\", \"app:footerViewModel\"}, requireAll \u003d false)\npublic static void addFooterView(ListView listView, ItemView itemView, Object viewModel)\n{\n    ViewDataBinding footerView \u003d DataBindingUtil\n        .inflate(LayoutInflater.from(listView.getContext()), itemView.layoutRes(), null, false);\n    if (itemView.bindingVariable() !\u003d ItemView.BINDING_VARIABLE_NONE) {\n        footerView.setVariable(itemView.bindingVariable(), viewModel);\n    }\n    listView.addFooterView(footerView.getRoot());\n}\n\n@BindingAdapter(value \u003d {\"app:headerView\", \"app:headerViewModel\"}, requireAll \u003d false)\npublic static void addHeaderView(ListView listView, ItemView itemView, Object viewModel)\n{\n    ViewDataBinding headerView \u003d DataBindingUtil\n        .inflate(LayoutInflater.from(listView.getContext()), itemView.layoutRes(), null, false);\n    if (itemView.bindingVariable() !\u003d ItemView.BINDING_VARIABLE_NONE) {\n        headerView.setVariable(itemView.bindingVariable(), viewModel);\n    }\n    listView.addHeaderView(headerView.getRoot());\n}\n\n//in view model\npublic final ItemView footerItemView \u003d ItemView.of(BR.viewModel, R.layout.footer_view);\npublic final ItemView headerItemView \u003d ItemView.of(ItemView.BINDING_VARIABLE_NONE, R.layout.header_view);\n```\n",
    "keywords": [
      "handler",
      "bindinglistviewadapter\u003ct\u003e",
      "footer",
      "choreographer",
      "itemview",
      "adapterview",
      "android",
      "listview",
      "run",
      "headerviewlistadapter",
      "bindingvariable",
      "databinding",
      "view",
      "public",
      "adding",
      "headerview",
      "zygoteinit",
      "adapter",
      "os",
      "viewmodel",
      "binding_variable_none",
      "false",
      "0]",
      "~[na:0 0]",
      "getadapter",
      "header",
      "footerview",
      ";",
      "viewdatabinding",
      "listadapter",
      "~[na:0"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/evant/binding-collection-adapter/commit/025542709e0d4085c167eb6973a8e83f662cda99",
      "files": [
        {
          "file_name": "bindingcollectionadapter/src/androidTest/java/me/tatarka/bindingcollectionadapter/ListViewInflationTest.java",
          "patch": "@@ -6,7 +6,9 @@\n import android.support.test.rule.ActivityTestRule;\n import android.support.test.runner.AndroidJUnit4;\n import android.view.LayoutInflater;\n+import android.view.View;\n import android.widget.ListView;\n+import android.widget.WrapperListAdapter;\n \n import org.junit.Before;\n import org.junit.Rule;\n@@ -132,4 +134,25 @@ public void listViewAdapterItemIds() {\n         assertThat(adapter).isInstanceOf(TestHelpers.MyBindingListViewAdapter.class);\n         assertThat(TestHelpers.iterableIds(adapter)).containsExactlyElementsOf(itemIds);\n     }\n+\n+    @Test\n+    @UiThreadTest\n+    public void listViewHeaderAdapter() {\n+        List\u003cString\u003e items \u003d Arrays.asList(\"one\", \"two\", \"three\");\n+        TestHelpers.ViewModel viewModel \u003d new TestHelpers.ViewModel.Builder(items, ItemBinding.\u003cString\u003eof(me.tatarka.bindingcollectionadapter.BR.item, R.layout.item)).build();\n+        ViewDataBinding binding \u003d DataBindingUtil.inflate(inflater, R.layout.list_view, null, false);\n+        binding.setVariable(me.tatarka.bindingcollectionadapter.BR.viewModel, viewModel);\n+        binding.executePendingBindings();\n+        // addHeaderView must be called after the adapter is set.\n+        ((ListView) binding.getRoot()).addHeaderView(new View(binding.getRoot().getContext()));\n+        // Trigger rebind to exercise the case when the adapter it wrapped in a HeaderListViewAdapter\n+        binding.setVariable(me.tatarka.bindingcollectionadapter.BR.viewModel, viewModel);\n+        binding.executePendingBindings();\n+\n+        ListView listView \u003d (ListView) binding.getRoot();\n+        @SuppressWarnings(\"unchecked\")\n+        BindingListViewAdapter\u003cString\u003e adapter \u003d (BindingListViewAdapter\u003cString\u003e) ((WrapperListAdapter) listView.getAdapter()).getWrappedAdapter();\n+\n+        assertThat(TestHelpers.iterable(adapter)).containsExactlyElementsOf(items);\n+    }\n }\n\\ No newline at end of file"
        },
        {
          "file_name": "bindingcollectionadapter/src/main/java/me/tatarka/bindingcollectionadapter/BindingCollectionAdapters.java",
          "patch": "@@ -4,8 +4,12 @@\n import android.databinding.BindingConversion;\n import android.support.annotation.LayoutRes;\n import android.support.v4.view.ViewPager;\n+import android.widget.Adapter;\n import android.widget.AdapterView;\n+import android.widget.WrapperListAdapter;\n \n+import java.util.Collection;\n+import java.util.Collections;\n import java.util.List;\n \n /**\n@@ -19,7 +23,7 @@\n         if (itemBinding \u003d\u003d null) {\n             throw new IllegalArgumentException(\"onItemBind must not be null\");\n         }\n-        BindingListViewAdapter\u003cT\u003e oldAdapter \u003d (BindingListViewAdapter\u003cT\u003e) adapterView.getAdapter();\n+        BindingListViewAdapter\u003cT\u003e oldAdapter \u003d (BindingListViewAdapter\u003cT\u003e) unwrapAdapter(adapterView.getAdapter());\n         if (adapter \u003d\u003d null) {\n             if (oldAdapter \u003d\u003d null) {\n                 int count \u003d itemTypeCount !\u003d null ? itemTypeCount : 1;\n@@ -39,6 +43,16 @@\n         }\n     }\n \n+    /**\n+     * Unwraps any {@link android.widget.WrapperListAdapter}, commonly {@link\n+     * android.widget.HeaderViewListAdapter}.\n+     */\n+    private static Adapter unwrapAdapter(Adapter adapter) {\n+        return adapter instanceof WrapperListAdapter\n+                ? unwrapAdapter(((WrapperListAdapter) adapter).getWrappedAdapter())\n+                : adapter;\n+    }\n+\n     // ViewPager\n     @SuppressWarnings(\"unchecked\")\n     @BindingAdapter(value \u003d {\"itemBinding\", \"items\", \"adapter\", \"pageTitles\"}, requireAll \u003d false)\n@@ -62,7 +76,7 @@\n             viewPager.setAdapter(adapter);\n         }\n     }\n-    \n+\n     @BindingConversion\n     public static \u003cT\u003e ItemBinding\u003cT\u003e toItemBinding(OnItemBind\u003cT\u003e onItemBind) {\n         return ItemBinding.of(onItemBind);"
        },
        {
          "file_name": "gradle.properties",
          "patch": "@@ -18,4 +18,4 @@\n # org.gradle.parallel\u003dtrue\n \n group\u003dme.tatarka.bindingcollectionadapter\n-version\u003d2.0.0-beta2\n+version\u003d2.0.0-beta3"
        }
      ]
    }
  },
  {
    "name": "IllegalStateException: Fatal Exception thrown on Scheduler.Worker thread",
    "url": "https://github.com/cgeo/cgeo/issues/5913",
    "description": "This is also a new issue on play, but I currently have no idea how it can happen:\n\n```\njava.lang.IllegalStateException: Fatal Exception thrown on Scheduler.Worker thread.\n    at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:59)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:145)\n    at android.app.ActivityThread.main(ActivityThread.java:5832)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1399)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1194)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.View android.view.View.findViewById(int)\u0027 on a null object reference\n    at butterknife.ButterKnife.findById(ButterKnife.java:343)\n    at cgeo.geocaching.CacheDetailActivity.updateOfflineBox(CacheDetailActivity.java:2241)\n    at cgeo.geocaching.CachePopupFragment$StoreCacheClickListener$3.call(CachePopupFragment.java:206)\n    at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\n    ... 8 more\n```\n",
    "keywords": [
      "handler",
      "view",
      "internal",
      "scheduledaction",
      "java",
      "os",
      "method",
      "android",
      "butterknife",
      "run",
      "invoke",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/47466de094b1e201507eda8310ec06349a27196b",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/CachePopupFragment.java",
          "patch": "@@ -203,8 +203,11 @@ public void call() {\n                     @Override\n                     public void call() {\n                         activity.supportInvalidateOptionsMenu();\n-                        CacheDetailActivity.updateOfflineBox(getView(), cache, res, new RefreshCacheClickListener(), new DropCacheClickListener(), new StoreCacheClickListener(), null);\n-                        CacheDetailActivity.updateCacheLists(getView(), cache, res);\n+                        final View view \u003d getView();\n+                        if (view !\u003d null) {\n+                            CacheDetailActivity.updateOfflineBox(view, cache, res, new RefreshCacheClickListener(), new DropCacheClickListener(), new StoreCacheClickListener(), null);\n+                            CacheDetailActivity.updateCacheLists(view, cache, res);\n+                        }\n                     }\n                 });\n             }"
        }
      ]
    }
  },
  {
    "name": "\u0027No apps\u0027 \u0026 crash in Icon Request section in 1.3.2. ",
    "url": "https://github.com/afollestad/polar-dashboard/issues/74",
    "description": "**EDIT** I think this is on my end, the sample is fine, but I can\u0027t figure it out. \n\nI\u0027ve both tried this with an update via the PUT tool and a fresh setup from the latest source. The app is showing \u0027No Apps\u0027 on the request screen. (It\u0027ll crash when tapping the select all button, but I guess that\u0027s just an effect of the no apps). \n\nI stripped back the changes from the app filter I made, but it didn\u0027t do anything. Not sure if it is something with my app filter, but I see nothing different. \n\n![2016-03-03 09 43 09](https://cloud.githubusercontent.com/assets/5175919/13490442/7e900c16-e124-11e5-8c1f-40fb2583d079.png)\n\nJust in case, crash log:\n\n``` Gradle\n03-03 09:43:45.218  14133-14133/com.ryanmkelly.me.tendere E/AndroidRuntime﹕ FATAL EXCEPTION: main\n    Process: com.ryanmkelly.me.tendere, PID: 14133\n    java.lang.NullPointerException: Attempt to invoke interface method \u0027java.lang.Object[] java.util.Collection.toArray()\u0027 on a null object reference\n            at java.util.ArrayList.addAll(ArrayList.java:188)\n            at com.afollestad.iconrequest.IconRequest.selectAllApps(IconRequest.java:312)\n            at com.ryanmkelly.me.tendere.fragments.RequestsFragment.onOptionsItemSelected(RequestsFragment.java:172)\n            at android.app.Fragment.performOptionsItemSelected(Fragment.java:2159)\n            at android.app.FragmentManagerImpl.dispatchOptionsItemSelected(FragmentManager.java:1988)\n            at android.app.Activity.onMenuItemSelected(Activity.java:2888)\n            at android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:404)\n            at android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:167)\n            at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:100)\n            at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:100)\n            at android.support.v7.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:69)\n            at android.support.v7.widget.Toolbar$1.onMenuItemClick(Toolbar.java:169)\n            at android.support.v7.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:760)\n            at android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:811)\n            at android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)\n            at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:958)\n            at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:948)\n            at android.support.v7.widget.ActionMenuView.invokeItem(ActionMenuView.java:618)\n            at android.support.v7.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:139)\n            at android.view.View.performClick(View.java:4789)\n            at android.view.View$PerformClick.run(View.java:19881)\n            at android.os.Handler.handleCallback(Handler.java:739)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:135)\n            at android.app.ActivityThread.main(ActivityThread.java:5294)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)\n```\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "widget",
      "iconrequest",
      "android",
      "android support",
      "invoke",
      "main",
      "crash",
      "view",
      "java",
      "support v7",
      "onmenuitemselected",
      "ryanmkelly",
      "lang",
      "zygoteinit",
      "app",
      "method",
      "os",
      "actionmenuview",
      "menu",
      "java lang",
      "menubuilder",
      "windowcallbackwrapper",
      "view menu",
      "tendere",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/afollestad/polar-dashboard/commit/ae44fb04540b45b82a4d6f8a94c38e4664dc2fcd",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -63,7 +63,7 @@ dependencies {\n     compile \u0027com.github.afollestad:sectioned-recyclerview:0.2.0\u0027\n     compile \u0027com.github.afollestad:assent:ec59bea20f\u0027\n     compile \u0027com.github.afollestad:inquiry:b13a58b902\u0027\n-    compile \u0027com.github.afollestad:icon-request:8686cb0f31\u0027\n+    compile \u0027com.github.afollestad:icon-request:5b8edf2163\u0027\n \n     compile \u0027me.zhanghai.android.materialprogressbar:library:1.1.5\u0027\n "
        }
      ]
    }
  },
  {
    "name": "Fatal Exception: java.lang.NullPointerException at com.bedrock.padder.helper.FileHelper$Decompress.onPostExecute",
    "url": "https://github.com/berict/Tapad/issues/151",
    "description": "```\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.widget.ProgressBar.setIndeterminate(boolean)\u0027 on a null object reference\r\n       at com.bedrock.padder.helper.FileHelper$Decompress.onPostExecute(FileHelper.java:206)\r\n       at com.bedrock.padder.helper.FileHelper$Decompress.onPostExecute(FileHelper.java:104)\r\n       at android.os.AsyncTask.finish(AsyncTask.java:660)\r\n       at android.os.AsyncTask.-wrap1(AsyncTask.java)\r\n       at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:677)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:154)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\r\n```",
    "keywords": [
      "com",
      "android os",
      "asynctask",
      "os",
      "method",
      "filehelper$decompress",
      "android",
      "java",
      "bedrock",
      "helper",
      "padder",
      "lang",
      "onpostexecute",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/berict/Tapad/commit/b3834e5f3b9d8f471835fefe8143c9b7c14d5535",
      "files": [
        {
          "file_name": "app/src/main/java/com/bedrock/padder/helper/FileHelper.java",
          "patch": "@@ -204,7 +204,6 @@ protected void onPostExecute(Integer integer) {\n \n             anim.fadeOut(R.id.layout_preset_store_download_installing, 100, 200, parentView, activity);\n             anim.fadeIn(R.id.layout_preset_store_action_layout, 300, 200, \"actionIn\", parentView, activity);\n-            window.getProgressBar(R.id.layout_preset_store_download_progressbar, activity).setIndeterminate(true);\n         }\n \n         @Override"
        }
      ]
    }
  },
  {
    "name": "Crash when resuming the app from foreground due to Fragment not being attached to activity",
    "url": "https://github.com/jorgegil96/All-NBA/issues/18",
    "description": "App crashes when resuming from foreground and the activity and fragment are recreated.\n\n**Steps to reproduce:**\n1. Open app and navigate to _Standings_\n2. Open a few other apps (3-5)\n3. Go to recent apps and reopen All-NBA app\n\n**Error log**\n\n```\nE/StandingsFragment: Volley error: java.lang.IllegalStateException: Fragment StandingsFragment{e5f737d} not attached to Activity\n09-28 19:07:27.480 5272-5272/com.example.jorgegil.closegamealert D/AndroidRuntime: Shutting down VM\n09-28 19:07:27.495 5272-5272/com.example.jorgegil.closegamealert E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                                   Process: com.example.jorgegil.closegamealert, PID: 5272\n                                                                                   java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.Context android.view.ViewGroup.getContext()\u0027 on a null object reference\n                                                                                       at android.support.design.widget.Snackbar.\u003cinit\u003e(Snackbar.java:180)\n                                                                                       at android.support.design.widget.Snackbar.make(Snackbar.java:209)\n                                                                                       at com.example.jorgegil.closegamealert.View.Fragments.StandingsFragment.showSnackBar(StandingsFragment.java:224)\n                                                                                       at com.example.jorgegil.closegamealert.View.Fragments.StandingsFragment.parseStandings(StandingsFragment.java:141)\n                                                                                       at com.example.jorgegil.closegamealert.View.Fragments.StandingsFragment.access$000(StandingsFragment.java:30)\n                                                                                       at com.example.jorgegil.closegamealert.View.Fragments.StandingsFragment$1.onResponse(StandingsFragment.java:72)\n                                                                                       at com.example.jorgegil.closegamealert.View.Fragments.StandingsFragment$1.onResponse(StandingsFragment.java:69)\n                                                                                       at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:67)\n                                                                                       at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:30)\n                                                                                       at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:99)\n                                                                                       at android.os.Handler.handleCallback(Handler.java:746)\n                                                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                       at android.os.Looper.loop(Looper.java:148)\n                                                                                       at android.app.ActivityThread.main(ActivityThread.java:5443)\n                                                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n                                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n```\n\nProbably caused when trying to use the context in OnCreateView() when calling getStandings(), but there is no context at this point because onCreateView() is called **before** onActivityCreated().\nSee [Fragment Lifecycle](http://i.stack.imgur.com/0xqSZ.png)\n",
    "keywords": [
      "com",
      "handler",
      "activity",
      "volley",
      "android",
      "main",
      "jorgegil",
      "example",
      "view",
      "java",
      "context",
      "fragments",
      "lang",
      "example jorgegil",
      "zygoteinit",
      "app",
      "standingsfragment",
      "method",
      "os",
      "jorgegil closegamealert",
      "com android",
      "fragment",
      "snackbar",
      "closegamealert view",
      "stringrequest",
      "closegamealert"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/jorgegil96/All-NBA/commit/47f665a81c37f557c928e8f94a3e64d67146e218",
      "files": [
        {
          "file_name": "app/src/main/java/com/example/jorgegil/closegamealert/Utils/RedditAuthentication.java",
          "patch": "@@ -25,8 +25,6 @@\n     public static boolean isAuthenticated;\n \n     public RedditAuthentication() {\n-        redditClient \u003d new RedditClient(UserAgent.of(\"android\", \"com.example.jorgegil96.allnba\",\n-                \"v0.1\", \"jorgegil96\"));\n         isLoggedIn \u003d false;\n         isAuthenticated \u003d false;\n     }"
        },
        {
          "file_name": "app/src/main/java/com/example/jorgegil/closegamealert/View/Activities/MainActivity.java",
          "patch": "@@ -72,7 +72,8 @@ protected void onCreate(Bundle savedInstanceState) {\n         setUpDrawerContent();\n         setUpPreferences();\n         setNavigationHeaderContent();\n-        setFragment(GAMES_FRAGMENT_ID);\n+\n+\n         toolbar.setBackgroundColor(ContextCompat.getColor(this, R.color.tricornBlack));\n \n         registerGmcClient();\n@@ -88,9 +89,21 @@ public void onFailure() {\n \n             }\n         };\n-        RedditAuthentication redditAuthentication \u003d new RedditAuthentication();\n-        redditAuthentication.updateToken(this, listener);\n+\n+        RedditAuthentication redditAuthentication \u003d new RedditAuthentication();;\n         NetworkManager.getInstance(this);\n+\n+        if (savedInstanceState \u003d\u003d null) {\n+            setFragment(GAMES_FRAGMENT_ID);\n+            redditAuthentication.updateToken(this, listener);\n+        } else {\n+            Log.d(TAG, \"something saved\");\n+            Log.d(TAG, \"\" + RedditAuthentication.redditClient.isAuthenticated());\n+            if (!RedditAuthentication.redditClient.isAuthenticated()) {\n+                redditAuthentication.updateToken(this, listener);\n+            }\n+        }\n+\n     }\n \n     private void setUpToolbar(){"
        },
        {
          "file_name": "app/src/main/java/com/example/jorgegil/closegamealert/View/Fragments/StandingsFragment.java",
          "patch": "@@ -3,6 +3,7 @@\n import android.content.Context;\n import android.graphics.Typeface;\n import android.os.Bundle;\n+import android.support.annotation.Nullable;\n import android.support.design.widget.Snackbar;\n import android.support.v4.app.Fragment;\n import android.util.Log;\n@@ -41,7 +42,6 @@\n \n     @Override\n     public void onCreate(Bundle savedInstanceState) {\n-        context \u003d getActivity();\n         setHasOptionsMenu(true);\n         super.onCreate(savedInstanceState);\n     }\n@@ -53,13 +53,22 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,\n         linlaHeaderProgress \u003d (LinearLayout) rootView.findViewById(R.id.linlaHeaderProgress);\n \n         tableLayout \u003d (TableLayout) rootView.findViewById(R.id.tableLayout);\n+        return rootView;\n+    }\n+\n+    @Override\n+    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n+        super.onActivityCreated(savedInstanceState);\n+        context \u003d getActivity();\n         getStandings();\n+    }\n \n-        return rootView;\n+    @Override\n+    public void onAttach(Context context) {\n+        super.onAttach(context);\n     }\n \n     private void getStandings() {\n-\n         tableLayout.removeAllViews();\n \n         linlaHeaderProgress.setVisibility(View.VISIBLE);\n@@ -69,7 +78,7 @@ private void getStandings() {\n         StringRequest request \u003d new StringRequest(standingsURL, new Response.Listener\u003cString\u003e() {\n             @Override\n             public void onResponse(String response) {\n-                parseStandings(response);\n+                    parseStandings(response);\n             }\n         }, new Response.ErrorListener() {\n             @Override\n@@ -138,6 +147,7 @@ private void parseStandings(String jsonString) {\n \n         } catch (Exception e) {\n             Log.e(TAG, \"Volley error: \" + e.toString());\n+            Log.d(TAG, \"Could not parse standings\");\n             showSnackBar(\"Error parsing data\", true);\n         }\n     }\n@@ -245,6 +255,7 @@ private void dismissSnackbar() {\n     public boolean onOptionsItemSelected(MenuItem item) {\n         switch (item.getItemId()) {\n             case R.id.action_refresh:\n+                dismissSnackbar();\n                 getStandings();\n                 return true;\n         }\n@@ -254,13 +265,6 @@ public boolean onOptionsItemSelected(MenuItem item) {\n     @Override\n     public void onPause() {\n         dismissSnackbar();\n-        Log.d(TAG, \"onPause\");\n         super.onPause();\n     }\n-\n-    @Override\n-    public void onResume() {\n-        super.onResume();\n-        Log.d(TAG, \"onResume\");\n-    }\n }"
        },
        {
          "file_name": "app/src/main/res/layout/fragment_standings.xml",
          "patch": "@@ -17,7 +17,9 @@\n             android:id\u003d\"@+id/pbHeaderProgress\"\n             style\u003d\"@style/Widget.AppCompat.ProgressBar\"\n             android:layout_width\u003d\"wrap_content\"\n-            android:layout_height\u003d\"wrap_content\" \u003e\n+            android:layout_height\u003d\"wrap_content\"\n+            android:indeterminateTintMode\u003d\"src_atop\"\n+            android:indeterminateTint\u003d\"@color/tricornBlack\"\u003e\n         \u003c/ProgressBar\u003e\n \n     \u003c/LinearLayout\u003e"
        }
      ]
    }
  },
  {
    "name": "App is crashing ",
    "url": "https://github.com/seroperson/itstimetoact/issues/1",
    "description": "Tried running sample app , but it crashed \n\nProcess: com.seroperson.itstimetoact.sample, PID: 18914\n                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.seroperson.itstimetoact.sample/com.seroperson.itstimetoact.sample.SampleActivity}: java.lang.IllegalStateException: There is nothing to watch\n                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2362)\n                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2424)\n                                                                                        at android.app.ActivityThread.access$900(ActivityThread.java:155)\n                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1323)\n                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                        at android.os.Looper.loop(Looper.java:139)\n                                                                                        at android.app.ActivityThread.main(ActivityThread.java:5298)\n                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                        at java.lang.reflect.Method.invoke(Method.java:372)\n                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:950)\n                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:745)\n                                                                                     Caused by: java.lang.IllegalStateException: There is nothing to watch\n                                                                                        at com.seroperson.itstimetoact.TimeToAct.watchLastDropped(TimeToAct.java:94)\n                                                                                        at com.seroperson.itstimetoact.sample.SampleActivity.onCreate(SampleActivity.java:46)\n                                                                                        at android.app.Activity.performCreate(Activity.java:6072)\n                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2315)\n                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2424) \n                                                                                        at android.app.ActivityThread.access$900(ActivityThread.java:155) \n                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1323) \n                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                                        at android.os.Looper.loop(Looper.java:139) \n                                                                                        at android.app.ActivityThread.main(ActivityThread.java:5298) \n                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                        at java.lang.reflect.Method.invoke(Method.java:372) \n                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:950) \n                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:745) \n09-15 20:36:55.022 18914-18914/com.seroperson.itstimetoact.sample D/AppTracker: App Event: crash\n",
    "keywords": [
      "com",
      "handler",
      "internal",
      "activity",
      "app activitythread",
      "android",
      "main",
      "looper",
      "invoke",
      "lang reflect",
      "reflect",
      "java",
      "android internal",
      "lang",
      "seroperson",
      "zygoteinit",
      " ",
      "app",
      "os",
      "method",
      "method invoke",
      "seroperson itstimetoact",
      "sample",
      "java lang",
      "activitythread",
      "itstimetoact",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/seroperson/itstimetoact/commit/3d5b6cd36faee1573cec478cab7a72e1a2c599de",
      "files": [
        {
          "file_name": "itstimetoact-sample/src/main/java/com/seroperson/itstimetoact/sample/SampleActivity.java",
          "patch": "@@ -42,8 +42,8 @@ protected void onCreate(Bundle savedInstanceState) {\n         TimeEvent timeEvent \u003d timeToAct.watchEvent(new TimeEvent(TimeUnit./*DAYS*/MINUTES.toMillis(1), delayKey));\n         if(timeEvent.isHappened()) {\n             makeText(this, R.string.welcome_back, LENGTH_LONG).show();\n+            timeToAct.watchLastDropped(delayKey);\n         }\n-        timeToAct.watchLastDropped(delayKey);\n \n         AfterUpdateEvent afterUpdate \u003d timeToAct.watchEvent(new AfterUpdateEvent(this, afterUpdateKey));\n         if(afterUpdate.isHappened()) {"
        }
      ]
    }
  },
  {
    "name": "Crash when sending Three products",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/376",
    "description": "```12-31 17:24:15.556 2938-3191/? I/AmazonVideo: Waiting for ExperimentManager to initialize, current state NotInitialized\r\n12-31 17:24:15.561 30786-30786/openfoodfacts.github.scrachx.openfood D/AndroidRuntime: Shutting down VM\r\n12-31 17:24:15.562 30786-30786/openfoodfacts.github.scrachx.openfood E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                                       Process: openfoodfacts.github.scrachx.openfood, PID: 30786\r\n                                                                                       java.lang.IndexOutOfBoundsException: Invalid index 2, size is 2\r\n                                                                                           at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\r\n                                                                                           at java.util.ArrayList.remove(ArrayList.java:403)\r\n                                                                                           at openfoodfacts.github.scrachx.openfood.fragments.OfflineEditFragment$3$1.onProductSentResponse(OfflineEditFragment.java:156)\r\n                                                                                           at openfoodfacts.github.scrachx.openfood.network.OpenFoodAPIClient$4.onResponse(OpenFoodAPIClient.java:239)\r\n                                                                                           at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:66)\r\n                                                                                           at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                                           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                           at android.os.Looper.loop(Looper.java:148)\r\n                                                                                           at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                                                           at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n12-31 17:24:15.643 850-4088/? W/ActivityManager:   Force finishing activity openfoodfacts.github.scrachx.openfood/.views.MainActivity\r\n12-31 17:24:15.742 2946-2963/? W/art: Suspending all threads took: 15.957ms\r\n12-31 17:24:15.928 2901-2920/? W/art: Suspending all threads took: 165.935ms\r\n12-31 17:24:16.014 850-24986/? I/OpenGLRenderer: Initialized EGL, version 1.4```",
    "keywords": [
      "scrachx openfood",
      "openfoodfacts github",
      "handler",
      "github",
      "12-31",
      "openfoodfacts",
      "os",
      "scrachx",
      "android",
      "main",
      "17:24:15",
      "arraylist",
      "java",
      "openfood",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/4fe88e63fd87317e5dea81a281ae70187132566b",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/fragments/OfflineEditFragment.java",
          "patch": "@@ -153,7 +153,12 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n                             @Override\n                             public void onProductSentResponse(boolean value) {\n                                 if (value) {\n-                                    saveItems.remove(listSaveProduct.indexOf(product));\n+                                    int productIndex \u003d listSaveProduct.indexOf(product);\n+\n+                                    if (productIndex \u003e\u003d 0 \u0026\u0026 productIndex \u003c saveItems.size()) {\n+                                        saveItems.remove(productIndex);\n+                                    }\n+\n                                     ((SaveListAdapter) listView.getAdapter()).notifyDataSetChanged();\n                                     SendProduct.deleteAll(SendProduct.class, \"barcode \u003d ?\", product.getBarcode());\n                                 }"
        }
      ]
    }
  },
  {
    "name": "Fatal Exception: com.afollestad.materialdialogs.MaterialDialog$DialogException",
    "url": "https://github.com/berict/Tapad/issues/148",
    "description": "```\r\nFatal Exception: com.afollestad.materialdialogs.MaterialDialog$DialogException: Bad window token, you cannot show a dialog before an Activity is created or after it\u0027s hidden.\r\n       at com.afollestad.materialdialogs.MaterialDialog.show(MaterialDialog.java:1428)\r\n       at com.afollestad.materialdialogs.MaterialDialog$Builder.show(MaterialDialog.java:1417)\r\n       at com.bedrock.padder.fragment.PresetStoreOnlineFragment$4.run(PresetStoreOnlineFragment.java:186)\r\n       at android.os.Handler.handleCallback(Handler.java:725)\r\n       at android.os.Handler.dispatchMessage(Handler.java:92)\r\n       at android.os.Looper.loop(Looper.java:137)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5069)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:511)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```",
    "keywords": [
      "materialdialogs",
      "com",
      "handler",
      "afollestad",
      "java",
      "os",
      "method",
      "android",
      "show",
      "main",
      "afollestad materialdialogs",
      "zygoteinit",
      "materialdialog"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/berict/Tapad/commit/14bf028461d9095ed42127c36246014da3ba8ec5",
      "files": [
        {
          "file_name": "app/src/main/java/com/bedrock/padder/fragment/PresetStoreOnlineFragment.java",
          "patch": "@@ -7,6 +7,7 @@\n import android.os.Environment;\n import android.os.Handler;\n import android.support.annotation.NonNull;\n+import android.support.design.widget.TabLayout;\n import android.support.v4.app.Fragment;\n import android.support.v7.app.AppCompatActivity;\n import android.support.v7.widget.LinearLayoutManager;\n@@ -165,25 +166,28 @@ private void setAdapter() {\n             public void run() {\n                 if (window.getView(R.id.layout_online_preset_store_recyclerview_loading, v).getVisibility() \u003d\u003d View.VISIBLE) {\n                     // loading for 10 seconds, prompt user to retry or not\n-                    new MaterialDialog.Builder(a)\n-                            .title(R.string.preset_store_connection_timeout_dialog_title)\n-                            .content(R.string.preset_store_connection_timeout_dialog_text)\n-                            .contentColorRes(R.color.dark_primary)\n-                            .positiveText(R.string.preset_store_connection_timeout_dialog_positive)\n-                            .negativeText(R.string.preset_store_connection_timeout_dialog_negative)\n-                            .onPositive(new MaterialDialog.SingleButtonCallback() {\n-                                @Override\n-                                public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n-                                    setAdapter();\n-                                }\n-                            })\n-                            .onNegative(new MaterialDialog.SingleButtonCallback() {\n-                                @Override\n-                                public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n-                                    setLoadingFailed();\n-                                }\n-                            })\n-                            .show();\n+                    if (((TabLayout)window.getView(R.id.layout_tab_layout, a)).getSelectedTabPosition() \u003d\u003d 1) {\n+                        // only when the online page is visible\n+                        new MaterialDialog.Builder(a)\n+                                .title(R.string.preset_store_connection_timeout_dialog_title)\n+                                .content(R.string.preset_store_connection_timeout_dialog_text)\n+                                .contentColorRes(R.color.dark_primary)\n+                                .positiveText(R.string.preset_store_connection_timeout_dialog_positive)\n+                                .negativeText(R.string.preset_store_connection_timeout_dialog_negative)\n+                                .onPositive(new MaterialDialog.SingleButtonCallback() {\n+                                    @Override\n+                                    public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n+                                        setAdapter();\n+                                    }\n+                                })\n+                                .onNegative(new MaterialDialog.SingleButtonCallback() {\n+                                    @Override\n+                                    public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n+                                        setLoadingFailed();\n+                                    }\n+                                })\n+                                .show();\n+                    }\n                 }\n             }\n         }, 10000);"
        }
      ]
    }
  },
  {
    "name": "Operations on checked items does not take database modifications into account",
    "url": "https://github.com/kontalk/androidclient/issues/1005",
    "description": "This is because the SparseArray could be outdated if the dialog button is clicked after a modification (e.g. a new thread is created). The stacktrace below doesn\u0027t exactly reflect that (because the database is empty, but who knows), anyway the problem is there and should be fixed: take all message or thread ids and store them in a data structure to be used in the dialog callback.\r\n\r\n```\r\njava.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n       at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\r\n       at java.util.ArrayList.get(ArrayList.java:308)\r\n       at android.widget.HeaderViewListAdapter.getItem(HeaderViewListAdapter.java:185)\r\n       at android.widget.AdapterView.getItemAtPosition(AdapterView.java:764)\r\n       at org.kontalk.ui.AbstractComposeFragment$3.onClick(AbstractComposeFragment.java:565)\r\n       at com.afollestad.materialdialogs.MaterialDialog.onClick(MaterialDialog.java:367)\r\n       at android.view.View.performClick(View.java:4438)\r\n       at android.view.View$PerformClick.run(View.java:18440)\r\n       at android.os.Handler.handleCallback(Handler.java:733)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5034)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```\r\n\r\n- [ ] delete threads\r\n- [ ] delete messages",
    "keywords": [
      "com",
      "handler",
      "view",
      "reflect",
      "java",
      "os",
      "method",
      "android",
      "main",
      "arraylist",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/c671a7bdf11c724f150d447b07430ca1a11cd114",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/data/Conversation.java",
          "patch": "@@ -188,10 +188,40 @@ public static String getPeer(Cursor cursor) {\n         return cursor.getString(COLUMN_PEER);\n     }\n \n+    /** Holder for thread delete information. */\n+    public static final class DeleteThreadHolder {\n+        long id;\n+        String groupJid;\n+        String groupType;\n+        int groupMembership;\n+        boolean encrypted;\n+\n+        public DeleteThreadHolder(Cursor cursor) {\n+            id \u003d cursor.getLong(COLUMN_ID);\n+            groupJid \u003d cursor.getString(COLUMN_GROUP_JID);\n+            groupType \u003d cursor.getString(COLUMN_GROUP_TYPE);\n+            groupMembership \u003d cursor.getInt(COLUMN_GROUP_MEMBERSHIP);\n+            encrypted \u003d cursor.getInt(COLUMN_ENCRYPTED) !\u003d 0;\n+        }\n+    }\n+\n     public static boolean isGroup(Cursor cursor, int requiredMembership) {\n         return cursor.getString(COLUMN_GROUP_JID) !\u003d null \u0026\u0026 cursor.getInt(COLUMN_GROUP_MEMBERSHIP) \u003d\u003d requiredMembership;\n     }\n \n+    public static boolean isGroup(DeleteThreadHolder holder, int requiredMembership) {\n+        return holder.groupJid !\u003d null \u0026\u0026 holder.groupMembership \u003d\u003d requiredMembership;\n+    }\n+\n+    public static void deleteFromCursor(Context context, DeleteThreadHolder holder, boolean leaveGroup) {\n+        String[] groupPeers \u003d null;\n+        if (holder.groupJid !\u003d null) {\n+            groupPeers \u003d loadGroupPeersInternal(context, holder.groupJid);\n+        }\n+        boolean encrypted \u003d MessageUtils.sendEncrypted(context, holder.encrypted);\n+        deleteInternal(context, holder.id, holder.groupJid, groupPeers, holder.groupType, leaveGroup, encrypted);\n+    }\n+\n     public static void deleteFromCursor(Context context, Cursor cursor, boolean leaveGroup) {\n         String groupJid \u003d cursor.getString(COLUMN_GROUP_JID);\n         String[] groupPeers \u003d null;"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/message/CompositeMessage.java",
          "patch": "@@ -455,6 +455,19 @@ public static CompositeMessage fromCursor(Context context, Cursor cursor) {\n         return msg;\n     }\n \n+    /** Holder for message delete information. */\n+    public static final class DeleteMessageHolder {\n+        long id;\n+\n+        public DeleteMessageHolder(Cursor cursor) {\n+            id \u003d cursor.getLong(COLUMN_ID);\n+        }\n+    }\n+\n+    public static void deleteFromCursor(Context context, DeleteMessageHolder holder) {\n+        MessagesProviderUtils.deleteMessage(context, holder.id);\n+    }\n+\n     public static void deleteFromCursor(Context context, Cursor cursor) {\n         MessagesProviderUtils.deleteMessage(context, cursor.getLong(COLUMN_ID));\n     }"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -23,6 +23,7 @@\n import java.lang.ref.WeakReference;\n import java.util.ArrayList;\n import java.util.HashSet;\n+import java.util.LinkedList;\n import java.util.List;\n import java.util.Set;\n import java.util.regex.Pattern;\n@@ -550,21 +551,26 @@ private int getCheckedItemPosition() {\n     }\n \n     private void deleteSelectedMessages(final SparseBooleanArray checked) {\n-        new MaterialDialog.Builder(getActivity())\n+        final List\u003cCompositeMessage.DeleteMessageHolder\u003e list \u003d new LinkedList\u003c\u003e();\n+        for (int i \u003d 0, c \u003d getListView().getCount()+getListView().getHeaderViewsCount(); i \u003c c; ++i) {\n+            if (checked.get(i)) {\n+                Cursor cursor \u003d (Cursor) getListView().getItemAtPosition(i);\n+                // skip group command messages\n+                if (!GroupCommandComponent.isCursor(cursor))\n+                    list.add(new CompositeMessage.DeleteMessageHolder(cursor));\n+            }\n+        }\n+\n+        new MaterialDialog.Builder(getContext())\n             .content(R.string.confirm_will_delete_messages)\n             .positiveText(android.R.string.ok)\n             .positiveColorRes(R.color.button_danger)\n             .onPositive(new MaterialDialog.SingleButtonCallback() {\n                 @Override\n                 public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n-                    Context ctx \u003d getActivity();\n-                    for (int i \u003d 0, c \u003d getListView().getCount()+getListView().getHeaderViewsCount(); i \u003c c; ++i) {\n-                        if (checked.get(i)) {\n-                            Cursor cursor \u003d (Cursor) getListView().getItemAtPosition(i);\n-                            // skip group command messages\n-                            if (!GroupCommandComponent.isCursor(cursor))\n-                                CompositeMessage.deleteFromCursor(ctx, cursor);\n-                        }\n+                    Context ctx \u003d dialog.getContext();\n+                    for (CompositeMessage.DeleteMessageHolder item : list) {\n+                        CompositeMessage.deleteFromCursor(ctx, item);\n                     }\n                     mListAdapter.notifyDataSetChanged();\n                 }"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ConversationListFragment.java",
          "patch": "@@ -18,6 +18,9 @@\n \n package org.kontalk.ui;\n \n+import java.util.LinkedList;\n+import java.util.List;\n+\n import com.afollestad.materialdialogs.DialogAction;\n import com.afollestad.materialdialogs.MaterialDialog;\n import com.akalipetis.fragment.ActionModeListFragment;\n@@ -271,16 +274,18 @@ public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n         return true;\n     }\n \n-    private void deleteSelectedThreads(final SparseBooleanArray checked) {\n+    private void deleteSelectedThreads(SparseBooleanArray checked) {\n         boolean addGroupCheckbox \u003d false;\n         int checkedCount \u003d 0;\n+        final List\u003cConversation.DeleteThreadHolder\u003e list \u003d new LinkedList\u003c\u003e();\n         for (int i \u003d 0, c \u003d mListAdapter.getCount(); i \u003c c; ++i) {\n             if (checked.get(i)) {\n                 checkedCount++;\n-                if (!addGroupCheckbox \u0026\u0026 Conversation.isGroup((Cursor) mListAdapter.getItem(i),\n-                        MyMessages.Groups.MEMBERSHIP_MEMBER)) {\n+                Cursor item \u003d (Cursor) mListAdapter.getItem(i);\n+                if (!addGroupCheckbox \u0026\u0026 Conversation.isGroup(item, MyMessages.Groups.MEMBERSHIP_MEMBER)) {\n                     addGroupCheckbox \u003d true;\n                 }\n+                list.add(new Conversation.DeleteThreadHolder(item));\n             }\n         }\n \n@@ -295,18 +300,16 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n                     Context ctx \u003d getContext();\n                     boolean promptCheckBoxChecked \u003d false;\n                     if (hasGroupCheckbox) {\n-                        CheckBox promptCheckbox \u003d (CheckBox) dialog.getCustomView().findViewById(R.id.promptCheckbox);\n+                        CheckBox promptCheckbox \u003d (CheckBox) dialog\n+                            .getCustomView().findViewById(R.id.promptCheckbox);\n                         promptCheckBoxChecked \u003d promptCheckbox.isChecked();\n                     }\n \n-                    for (int i \u003d 0, c \u003d mListAdapter.getCount(); i \u003c c; ++i) {\n-                        if (checked.get(i)) {\n-                            Cursor cursor \u003d (Cursor) mListAdapter.getItem(i);\n-                            boolean hasLeftGroup \u003d Conversation.isGroup(cursor, MyMessages.Groups.MEMBERSHIP_PARTED) ||\n-                                Conversation.isGroup(cursor, MyMessages.Groups.MEMBERSHIP_KICKED);\n-                            Conversation.deleteFromCursor(ctx, cursor,\n-                                hasGroupCheckbox ? promptCheckBoxChecked : hasLeftGroup);\n-                        }\n+                    for (Conversation.DeleteThreadHolder item : list) {\n+                        boolean hasLeftGroup \u003d Conversation.isGroup(item, MyMessages.Groups.MEMBERSHIP_PARTED) ||\n+                            Conversation.isGroup(item, MyMessages.Groups.MEMBERSHIP_KICKED);\n+                        Conversation.deleteFromCursor(ctx, item,\n+                            hasGroupCheckbox ? promptCheckBoxChecked : hasLeftGroup);\n                     }\n                     mListAdapter.notifyDataSetChanged();\n                 }"
        }
      ]
    }
  },
  {
    "name": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027com.fasterxml.jackson.databind.JsonNode ",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/465",
    "description": "```\r\n01-15 19:54:43.567 20140-20140/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                   Process: openfoodfacts.github.scrachx.openfood, PID: 20140\r\n                                                   java.lang.NullPointerException: Attempt to invoke virtual method \u0027com.fasterxml.jackson.databind.JsonNode com.fasterxml.jackson.databind.JsonNode.get(java.lang.String)\u0027 on a null object reference\r\n                                                       at openfoodfacts.github.scrachx.openfood.network.OpenFoodAPIClient$6.onResponse(OpenFoodAPIClient.java:416)\r\n                                                       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:66)\r\n                                                       at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                       at android.os.Looper.loop(Looper.java:148)\r\n                                                       at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "com",
      "handler",
      "os",
      "method",
      "android",
      "main",
      "invoke",
      "databind",
      "jackson",
      "java",
      "fasterxml",
      "lang",
      "jsonnode",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/64777fafb608f3c5d0ffc3fef79afbaf291bdc00",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/network/OpenFoodAPIClient.java",
          "patch": "@@ -386,10 +386,13 @@ public void onResponse(Call\u003cJsonNode\u003e call, Response\u003cJsonNode\u003e response) {\n                 if(!response.isSuccess()) {\n                     Toast.makeText(context, context.getString(R.string.errorWeb), Toast.LENGTH_LONG).show();\n                     lt.error();\n+                    return;\n                 }\n \n                 JsonNode body \u003d response.body();\n-                if (body.get(\"status\").asText().contains(\"status not ok\")) {\n+                if (body \u003d\u003d null || !body.isObject()) {\n+                    lt.error();\n+                } else if (body.get(\"status\").asText().contains(\"status not ok\")) {\n                     Toast.makeText(context, body.get(\"error\").asText(), Toast.LENGTH_LONG).show();\n                     lt.error();\n                 } else {"
        }
      ]
    }
  },
  {
    "name": "Падение при удалении слоя",
    "url": "https://github.com/nextgis/android_gisapp/issues/459",
    "description": "```\njava.lang.NullPointerException\n    at com.nextgis.maplibui.overlay.EditLayerOverlay.setHasEdits(EditLayerOverlay.java:337)\n    at com.nextgis.maplibui.overlay.EditLayerOverlay.onLayerDeleted(EditLayerOverlay.java:1262)\n    at com.nextgis.maplib.map.MapEventSource$1.handleMessage(MapEventSource.java:317)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:137)\n    at android.app.ActivityThread.main(ActivityThread.java:4744)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:511)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n",
    "keywords": [
      "com",
      "java",
      "os",
      "method",
      "nextgis",
      "android",
      "main",
      "editlayeroverlay",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/1a7a8137bf6193c4829d51b550a5e70f932bdea2",
      "files": [
        {
          "file_name": "app/app.iml",
          "patch": "@@ -64,14 +64,6 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/jni\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/rs\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/shaders\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/assets\" type\u003d\"java-test-resource\" /\u003e\n@@ -80,24 +72,26 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/assets\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/blame\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/builds\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/bundles\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/classes\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/dependency-cache\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-classes\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-runtime-classes\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-safeguard\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-verifier\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/instant-run-support\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/jniLibs\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/manifests\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/pre-dexed\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/reload-dex\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/res\" /\u003e\n-      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/restart-dex\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/rs\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/shaders\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/symbols\" /\u003e"
        }
      ]
    }
  },
  {
    "name": "Fix Orientation change crash on Tablets.",
    "url": "https://github.com/michael-rapp/AndroidPreferenceActivity/pull/18",
    "description": "On Tablets greater then 7\"s on the second orientation change the fragment would not be null however would not be added to the fragment manager causing a crash.\n\n```\n09-11 20:08:40.180 6675-6675/de.mrapp.android.preference.activity.example E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                                            Process: de.mrapp.android.preference.activity.example, PID: 6675\n                                                                                            java.lang.IllegalStateException: Fragment IntroductionPreferenceFragment{10220286} is not currently in the FragmentManager\n                                                                                                at android.app.FragmentManagerImpl.putFragment(FragmentManager.java:568)\n                                                                                                at de.mrapp.android.preference.activity.PreferenceActivity.onSaveInstanceState(PreferenceActivity.java:2653)\n                                                                                                at android.app.Activity.performSaveInstanceState(Activity.java:1298)\n                                                                                                at android.app.Instrumentation.callActivityOnSaveInstanceState(Instrumentation.java:1288)\n                                                                                                at android.app.ActivityThread.callCallActivityOnSaveInstanceState(ActivityThread.java:3958)\n                                                                                                at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3921)\n                                                                                                at android.app.ActivityThread.access$900(ActivityThread.java:151)\n                                                                                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1309)\n                                                                                                at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                                at android.os.Looper.loop(Looper.java:135)\n                                                                                                at android.app.ActivityThread.main(ActivityThread.java:5254)\n                                                                                                at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                at java.lang.reflect.Method.invoke(Method.java:372)\n                                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n                                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n```\n",
    "keywords": [
      "app",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "preference",
      "mrapp",
      "main",
      "java lang",
      "activitythread",
      "fragment",
      "not",
      "java",
      "android app",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/michael-rapp/AndroidPreferenceActivity/commit/fefaaeddbf4b4f79ee7677605bb77f5d0a30018b",
      "files": [
        {
          "file_name": "library/src/main/java/de/mrapp/android/preference/activity/PreferenceActivity.java",
          "patch": "@@ -2649,7 +2649,7 @@ protected void onSaveInstanceState(final Bundle outState) {\n         outState.putParcelable(CURRENT_PREFERENCE_HEADER_EXTRA, currentHeader);\n         outState.putParcelableArrayList(PREFERENCE_HEADERS_EXTRA, getListAdapter().getAllItems());\n \n-        if (preferenceScreenFragment !\u003d null) {\n+        if (preferenceScreenFragment !\u003d null \u0026\u0026 preferenceScreenFragment.isAdded()) {\n             getFragmentManager().putFragment(outState, PREFERENCE_SCREEN_FRAGMENT_EXTRA,\n                     preferenceScreenFragment);\n         }"
        }
      ]
    }
  },
  {
    "name": "CRASH when clicking on deleted product",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/380",
    "description": "This happens in the product history when clicking on a deleted product.\r\n\r\n```\r\n01-02 13:55:58.344 17934-17934/openfoodfacts.github.scrachx.openfood E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                                       Process: openfoodfacts.github.scrachx.openfood, PID: 17934\r\n                                                                                       java.lang.StringIndexOutOfBoundsException: length\u003d13; index\u003d-1\r\n                                                                                           at java.lang.String.indexAndLength(String.java:294)\r\n                                                                                           at java.lang.String.substring(String.java:1067)\r\n                                                                                           at openfoodfacts.github.scrachx.openfood.fragments.IngredientsProductFragment.onViewCreated(IngredientsProductFragment.java:78)\r\n                                                                                           at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1132)\r\n                                                                                           at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1295)\r\n                                                                                           at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:801)\r\n                                                                                           at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:1643)\r\n                                                                                           at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:679)\r\n                                                                                           at android.support.v4.app.FragmentStatePagerAdapter.finishUpdate(FragmentStatePagerAdapter.java:166)\r\n                                                                                           at android.support.v4.view.ViewPager.populate(ViewPager.java:1272)\r\n                                                                                           at android.support.v4.view.ViewPager.populate(ViewPager.java:1120)\r\n                                                                                           at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1646)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                                                           at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                                                           at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                                                           at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                                                           at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                                                           at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                                                           at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                                                           at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                                                           at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                                                           at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                                                           at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                                                           at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                                                           at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                                                           at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                                                           at com.android.internal.policy.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2643)\r\n                                                                                           at android.view.View.measure(View.java:18794)\r\n                                                                                           at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2100)\r\n                                                                                           at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1216)\r\n                                                                                           at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1452)\r\n                                                                                           at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1107)\r\n                                                                                           at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6013)\r\n                                                                                           at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\r\n                                                                                           at android.view.Choreographer.doCallbacks(Choreographer.java:670)\r\n                                                                                           at android.view.Choreographer.doFrame(Choreographer.java:606)\r\n                                                                                           at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\r\n                                                                                           at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                                           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                           at android.os.Looper.loop(Looper.java:148)\r\n                                                                                           at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                                                           at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "com",
      "measurevertical",
      "handler",
      "scrachx",
      "choreographer",
      "framelayout",
      "view view",
      "measurechildwithmargins viewgroup",
      "view viewgroup",
      "support v4",
      "main",
      "run",
      "java:5951",
      "linearlayout",
      "java:18794",
      "view",
      "java",
      "view java:18794",
      "measure view",
      "viewpager",
      "app",
      "github",
      "measure",
      "measurechildbeforelayout",
      "viewrootimpl",
      "v4 app",
      "fragmentmanager",
      "support",
      "measurechildwithmargins",
      "internal",
      "widget",
      "onmeasure",
      "string",
      "viewgroup measurechildwithmargins",
      "android",
      "android support",
      "android widget",
      "viewgroup",
      "android view",
      "openfood",
      "lang",
      "zygoteinit",
      "product",
      "viewgroup java:5951",
      "os",
      "java:748",
      "backstackrecord",
      "widget linearlayout",
      "java:1465",
      "view measure",
      "java:194",
      "fragmentmanagerimpl",
      "java:630",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/43be34ef571ca6a496aaee9460f28f17584120bb",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/fragments/IngredientsProductFragment.java",
          "patch": "@@ -1,6 +1,7 @@\n package openfoodfacts.github.scrachx.openfood.fragments;\n \n import android.content.Intent;\n+import android.graphics.Typeface;\n import android.os.Bundle;\n import android.support.annotation.Nullable;\n import android.text.Html;\n@@ -73,10 +74,11 @@ public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n         }\n \n         if(mState !\u003d null \u0026\u0026 product.getIngredientsText() !\u003d null) {\n-            SpannableStringBuilder txtIngredients \u003d new SpannableStringBuilder(Html.fromHtml(product.getIngredientsText().replace(\"_\",\"\")));\n-            txtIngredients \u003d setSpanBoldBetweenTokens(txtIngredients);\n-            if(!txtIngredients.toString().substring(txtIngredients.toString().indexOf(\":\")).trim().isEmpty()) {\n-                ingredientsProduct.setText(txtIngredients);\n+            //TODO The API doesn\u0027t return ingredients text with the _ token. the replace method could be removed\n+            String txtIngredients \u003d product.getIngredientsText().replace(\"_\",\"\").trim();\n+            if(!txtIngredients.isEmpty()) {\n+                String ingredientsValue \u003d setSpanBoldBetweenTokens(txtIngredients).toString();\n+                ingredientsProduct.setText(ingredientsValue);\n             } else {\n                 ingredientsProduct.setVisibility(View.GONE);\n             }\n@@ -167,7 +169,7 @@ private SpannableStringBuilder setSpanBoldBetweenTokens(CharSequence text) {\n             final String tm \u003d m.group();\n             for (String l: cleanAllergensMultipleOccurrences()) {\n                 if(l.equalsIgnoreCase(tm.replaceAll(\"[(),.-]+\", \"\"))) {\n-                    StyleSpan bold \u003d new StyleSpan(android.graphics.Typeface.BOLD);\n+                    StyleSpan bold \u003d new StyleSpan(Typeface.BOLD);\n                     if(tm.contains(\"(\")) {\n                         ssb.setSpan(bold, m.start()+1, m.end(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n                     } else if(tm.contains(\")\")) {"
        }
      ]
    }
  },
  {
    "name": "NPE when rendering Navigation Drawer",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/640",
    "description": "**Summary:** \n\nFrom Android Developer Console for v2.1.1:\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.LayoutInflater android.support.v4.app.FragmentActivity.getLayoutInflater()\u0027 on a null object reference\n    at org.onebusaway.android.ui.NavigationDrawerFragment.makeNavDrawerItem(NavigationDrawerFragment.java:396)\n    at org.onebusaway.android.ui.NavigationDrawerFragment.createNavDrawerItems(NavigationDrawerFragment.java:380)\n    at org.onebusaway.android.ui.NavigationDrawerFragment.populateNavDrawer(NavigationDrawerFragment.java:363)\n    at org.onebusaway.android.ui.HomeActivity.redrawNavigationDrawerFragment(HomeActivity.java:1036)\n    at org.onebusaway.android.ui.HomeActivity.onRegionTaskFinished(HomeActivity.java:1179)\n    at org.onebusaway.android.region.ObaRegionsTask$2.run(ObaRegionsTask.java:268)\n    at android.os.Handler.handleCallback(Handler.java:746)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5443)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n```\n\n**Steps to reproduce:** \n\nUnknown.  It looks like the Regions Task is finishing and then trying to render the Navigation Drawer, and that is failing.  So I\u0027m guessing the task is finishing earlier or later than the normal lifecycle (e.g., maybe the user is closing the app fast).\n\n**Expected behavior:** \n\nNot crash\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\nTwo devices:\n\n```\nMoto X (2nd Gen) (victara)\nManufacturer Motorola \nAndroid version Android 4.4 \nRAM (MB) 2000 \nScreen size 1080 × 1920 \nScreen density (dpi) 480 \nOpenGL ES version 3.0 \nNative platform armeabi-v7a \nCPU make Qualcomm \nCPU model MSM8974\n```\n\n```\nDROID Turbo 2 (kinzie)\nManufacturer Motorola \nAndroid version Android 5.1 \nRAM (MB) 3000 \nScreen size 1440 × 2560 \nScreen density (dpi) 640 \nOpenGL ES version 3.1 \nNative platform armeabi-v7a \nCPU make Qualcomm \nCPU model MSM8994\n```\n",
    "keywords": [
      "app",
      "handler",
      "method",
      "os",
      "org",
      "android",
      "cpu",
      "screen",
      "onebusaway",
      "homeactivity",
      "onebusaway android",
      "version",
      "org onebusaway",
      "1",
      "android ui",
      "navigationdrawerfragment",
      "ui",
      "native",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/df2bd669cac42611f50d16e57d7b9955e462c1fe",
      "files": [
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/HomeActivity.java",
          "patch": "@@ -1033,7 +1033,9 @@ public void onBackPressed() {\n      * \"Plan A Trip\" option until a region is selected.\n      */\n     private void redrawNavigationDrawerFragment() {\n-        mNavigationDrawerFragment.populateNavDrawer();\n+        if (mNavigationDrawerFragment !\u003d null) {\n+            mNavigationDrawerFragment.populateNavDrawer();\n+        }\n     }\n \n     /**"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/NavigationDrawerFragment.java",
          "patch": "@@ -366,7 +366,7 @@ public void populateNavDrawer() {\n     }\n \n     private void createNavDrawerItems() {\n-        if (mDrawerItemsListContainer \u003d\u003d null) {\n+        if (mDrawerItemsListContainer \u003d\u003d null || getActivity() \u003d\u003d null) {\n             return;\n         }\n "
        }
      ]
    }
  },
  {
    "name": "NPE crash on startup on Android N",
    "url": "https://github.com/barbeau/gpstest/issues/61",
    "description": "**Summary:** \n\nWhen starting master branch or v2.1.4 on Android N device, it crashes with following stack trace:\n\n```\n FATAL EXCEPTION: main\n Process: com.android.gpstest, PID: 26801\n java.lang.RuntimeException: Unable to resume activity {com.android.gpstest/com.android.gpstest.GpsTestActivity}: java.lang.NullPointerException\n     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3400)\n     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3440)\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2713)\n     at android.app.ActivityThread.-wrap12(ActivityThread.java)\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n     at android.os.Handler.dispatchMessage(Handler.java:102)\n     at android.os.Looper.loop(Looper.java:154)\n     at android.app.ActivityThread.main(ActivityThread.java:6077)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n  Caused by: java.lang.NullPointerException\n     at com.android.internal.util.Preconditions.checkNotNull(Preconditions.java:94)\n     at android.location.LocalListenerHelper.remove(LocalListenerHelper.java:76)\n     at android.location.LocationManager.unregisterGnssNavigationMessageCallback(LocationManager.java:2171)\n     at com.android.gpstest.GpsTestActivity.removeNavMessageListener(GpsTestActivity.java:503)\n     at com.android.gpstest.GpsTestActivity.checkNavMessageOutput(GpsTestActivity.java:604)\n     at com.android.gpstest.GpsTestActivity.onResume(GpsTestActivity.java:295)\n     at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1269)\n     at android.app.Activity.performResume(Activity.java:6768)\n     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3377)\n     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3440) \n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2713) \n     at android.app.ActivityThread.-wrap12(ActivityThread.java) \n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460) \n     at android.os.Handler.dispatchMessage(Handler.java:102) \n     at android.os.Looper.loop(Looper.java:154) \n     at android.app.ActivityThread.main(ActivityThread.java:6077) \n     at java.lang.reflect.Method.invoke(Native Method) \n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n```\n\n**Steps to reproduce:** \n\nStart app on Android N device\n\n**Expected behavior:** \n\nStart up as normal\n\n**Observed behavior:** \n\nApp crashes\n\n**Device and Android version:** \n\nNexus 5X with Android N\n",
    "keywords": [
      "com",
      " ",
      "app",
      "handler",
      "internal",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "android n",
      "main",
      "com android",
      "looper",
      "n",
      "gpstest gpstestactivity",
      "activitythread",
      "java",
      "gpstest",
      "android app",
      "gpstestactivity",
      "lang",
      "internal os",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/barbeau/gpstest/commit/b13cb0006e4ab6c330315d02fccadef17e71b282",
      "files": [
        {
          "file_name": "GPSTest/src/main/java/com/android/gpstest/GpsTestActivity.java",
          "patch": "@@ -474,9 +474,13 @@ public void onNmeaReceived(long timestamp, String nmea) {\n \n     private void removeNmeaListener() {\n         if (GpsTestUtil.isGnssStatusListenerSupported()) {\n-            mLocationManager.removeNmeaListener(mOnNmeaMessageListener);\n+            if (mLocationManager !\u003d null \u0026\u0026 mOnNmeaMessageListener !\u003d null) {\n+                mLocationManager.removeNmeaListener(mOnNmeaMessageListener);\n+            }\n         } else {\n-            mLocationManager.removeNmeaListener(mLegacyNmeaListener);\n+            if (mLocationManager !\u003d null \u0026\u0026 mLegacyNmeaListener !\u003d null) {\n+                mLocationManager.removeNmeaListener(mLegacyNmeaListener);\n+            }\n         }\n     }\n \n@@ -500,7 +504,9 @@ public void onStatusChanged(int status) {\n \n     @RequiresApi(api \u003d Build.VERSION_CODES.N)\n     private void removeNavMessageListener() {\n-        mLocationManager.unregisterGnssNavigationMessageCallback(mGnssNavMessageListener);\n+        if (mLocationManager !\u003d null \u0026\u0026 mGnssNavMessageListener !\u003d null) {\n+            mLocationManager.unregisterGnssNavigationMessageCallback(mGnssNavMessageListener);\n+        }\n     }\n \n     /**\n@@ -607,7 +613,12 @@ private void checkNavMessageOutput(SharedPreferences settings) {\n \n     @Override\n     protected void onDestroy() {\n+        // Remove all listeners\n         removeStatusListener();\n+        removeNmeaListener();\n+        if (GpsTestUtil.isGnssStatusListenerSupported()) {\n+            removeNavMessageListener();\n+        }\n         mLocationManager.removeUpdates(this);\n         super.onDestroy();\n     }"
        }
      ]
    }
  },
  {
    "name": "Crash on draw",
    "url": "https://github.com/nextgis/android_gisapp/issues/496",
    "description": "```\njava.util.ConcurrentModificationException\n    at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:569)\n    at com.nextgis.maplib.map.LayerGroup.cancelDraw(LayerGroup.java:297)\n    at com.nextgis.maplib.map.MapDrawable.cancelDraw(MapDrawable.java:318)\n    at com.nextgis.maplib.map.MapDrawable.runDraw(MapDrawable.java:278)\n    at com.nextgis.maplibui.mapui.MapView.drawMapDrawable(MapView.java:627)\n    at com.nextgis.maplibui.mapui.MapView.onLayerAdded(MapView.java:588)\n    at com.nextgis.maplib.map.MapEventSource$1.handleMessage(MapEventSource.java:314)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:137)\n    at android.app.ActivityThread.main(ActivityThread.java:5041)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:511)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n",
    "keywords": [
      "com",
      "maplib",
      "java",
      "os",
      "method",
      "com nextgis",
      "nextgis",
      "android",
      "main",
      "mapdrawable",
      "map",
      "mapview",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/8bc651bab6742e1e2c1e9c9291db798268a4ff20",
      "files": [
        {
          "file_name": "maplib",
          "patch": "@@ -1 +1 @@\n-Subproject commit 2f194cb848622d2bbf2451dc2a9e286eff2abde5\n+Subproject commit 94163f8464844264aa6c45950aa0de1fcf966671"
        }
      ]
    }
  },
  {
    "name": "Crash on resume",
    "url": "https://github.com/nextgis/android_gisapp/issues/505",
    "description": "version from google play\n\n```\njava.lang.RuntimeException: Unable to resume activity {com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}: java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d1, result\u003d-1, data\u003dIntent { (has extras) }} to activity {com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.nextgis.maplib.map.VectorLayer.showFeature(long)\u0027 on a null object reference\n    at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3239)\n    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3270)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2613)\n    at android.app.ActivityThread.access$800(ActivityThread.java:178)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1470)\n    at android.os.Handler.dispatchMessage(Handler.java:111)\n    at android.os.Looper.loop(Looper.java:194)\n    at android.app.ActivityThread.main(ActivityThread.java:5637)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\nCaused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d1, result\u003d-1, data\u003dIntent { (has extras) }} to activity {com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.nextgis.maplib.map.VectorLayer.showFeature(long)\u0027 on a null object reference\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:3839)\n    at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3221)\n    ... 11 more\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.nextgis.maplib.map.VectorLayer.showFeature(long)\u0027 on a null object reference\n    at com.nextgis.mobile.fragment.MapFragment.onActivityResult(MapFragment.java:289)\n    at com.nextgis.mobile.activity.MainActivity.onActivityResult(MainActivity.java:430)\n    at android.app.Activity.dispatchActivityResult(Activity.java:6294)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:3835)\n    ... 12 more\n```\n",
    "keywords": [
      "com",
      "virtual",
      "activity",
      "app activitythread",
      "android",
      "invoke",
      "attempt",
      "long",
      "reference",
      "mobile/com",
      "mainactivity}",
      "java",
      "showfeature",
      "runtimeexception",
      "lang",
      "map",
      "zygoteinit",
      "{com",
      "app",
      "maplib",
      "os",
      "method",
      "nextgis",
      "\u0027void",
      "mobile",
      "nullpointerexception",
      "vectorlayer",
      "activitythread",
      "null",
      "com nextgis",
      "android app",
      "object"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/9629839ce50a842dfb8e1da31c91787e028acdda",
      "files": [
        {
          "file_name": "app/app.iml",
          "patch": "@@ -64,14 +64,6 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/jni\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/rs\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/shaders\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/jni\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n@@ -80,6 +72,14 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/jni\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/assets\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/blame\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/bundles\" /\u003e"
        },
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/fragment/MapFragment.java",
          "patch": "@@ -24,6 +24,7 @@\n package com.nextgis.mobile.fragment;\n \n \n+import android.app.Activity;\n import android.content.ContentUris;\n import android.content.ContentValues;\n import android.content.Context;\n@@ -278,15 +279,16 @@ public boolean saveEdits() {\n     public void onActivityResult(int requestCode, int resultCode, Intent data) {\n         super.onActivityResult(requestCode, resultCode, data);\n \n-        if (mMode \u003d\u003d MODE_INFO)\n+        if (mMode \u003d\u003d MODE_INFO || resultCode !\u003d Activity.RESULT_OK)\n             return;\n \n         if (requestCode \u003d\u003d IVectorLayerUI.MODIFY_REQUEST \u0026\u0026 data !\u003d null) {\n             long id \u003d data.getLongExtra(ConstantsUI.KEY_FEATURE_ID, NOT_FOUND);\n \n             if (id !\u003d NOT_FOUND) {\n                 mEditLayerOverlay.setSelectedFeature(id);\n-                mSelectedLayer.showFeature(id);\n+                if (mSelectedLayer !\u003d null)\n+                    mSelectedLayer.showFeature(id);\n                 setMode(MODE_SELECT_ACTION);\n             }\n         } else if (mEditLayerOverlay.getSelectedFeatureGeometry() !\u003d null)"
        }
      ]
    }
  },
  {
    "name": "App crashes on clicking Sensor Quick View tile when device isn\u0027t connected",
    "url": "https://github.com/fossasia/pslab-android/issues/453",
    "description": "**Actual Behaviour**\r\n\r\nApp crashes when device isn\u0027t connected.\r\n\r\n**Expected Behaviour**\r\n\r\nApp shouldn\u0027t crash when device isn\u0027t connected instead user should be provided with appropriate message.\r\n\r\n**Steps to reproduce it**\r\n\r\nNavDrawer -\u003e Application Fragment-\u003e Sensor Quick View\r\n\r\n**LogCat for the issue**\r\n\r\n```\r\n                                                                    Process: org.fossasia.pslab, PID: 21939\r\n                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{org.fossasia.pslab/org.fossasia.pslab.activity.SensorActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.util.ArrayList org.fossasia.pslab.communication.peripherals.I2C.scan(java.lang.Integer)\u0027 on a null object reference\r\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2449)\r\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2509)\r\n                                                                        at android.app.ActivityThread.access$1000(ActivityThread.java:153)\r\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1373)\r\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                        at android.os.Looper.loop(Looper.java:154)\r\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:5529)\r\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:739)\r\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:629)\r\n                                                                     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.util.ArrayList org.fossasia.pslab.communication.peripherals.I2C.scan(java.lang.Integer)\u0027 on a null object reference\r\n                                                                        at org.fossasia.pslab.sensorfragment.SensorFragmentMain.onCreate(SensorFragmentMain.java:66)\r\n                                                                        at android.support.v4.app.Fragment.performCreate(Fragment.java:2180)\r\n                                                                        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1244)\r\n                                                                        at android.support.v4.app.FragmentTransition.addToFirstInLastOut(FragmentTransition.java:1085)\r\n                                                                        at android.support.v4.app.FragmentTransition.calculateFragments(FragmentTransition.java:976)\r\n                                                                        at android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:95)\r\n                                                                        at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2146)\r\n                                                                        at android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(FragmentManager.java:2103)\r\n                                                                        at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2013)\r\n                                                                        at android.support.v4.app.FragmentController.execPendingActions(FragmentController.java:388)\r\n                                                                        at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:607)\r\n                                                                        at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\r\n                                                                        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1238)\r\n                                                                        at android.app.Activity.performStart(Activity.java:6320)\r\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2412)\r\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2509) \r\n                                                                        at android.app.ActivityThread.access$1000(ActivityThread.java:153) \r\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1373) \r\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                        at android.os.Looper.loop(Looper.java:154) \r\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:5529) \r\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\r\n```\r\n\r\n**Screenshots of the issue**\r\n\r\nNA\r\n\r\n**Would you like to work on the issue?**\r\n\r\nYes",
    "keywords": [
      "handler",
      "activity",
      "app activitythread",
      "fragmenttransition",
      "android",
      "support v4",
      "android support",
      "invoke",
      "main",
      "looper",
      "pslab",
      "app fragmentmanagerimpl",
      "java",
      "lang",
      "zygoteinit",
      " ",
      "app",
      "android os",
      "method",
      "os",
      "org",
      "org fossasia",
      "connected",
      "activitythread",
      "v4 app",
      "fossasia",
      "android app",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "support",
      "device",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/pslab-android/commit/82331ae220a7af524f1ce26c41ee8a82d6f600bf",
      "files": [
        {
          "file_name": "app/src/main/java/org/fossasia/pslab/activity/SensorActivity.java",
          "patch": "@@ -42,9 +42,6 @@ protected void onCreate(@Nullable Bundle savedInstanceState) {\n         timegapLabel \u003d (TextView) findViewById(R.id.tv_timegap_label);\n         playPauseButton \u003d (ImageButton) findViewById(R.id.imageButton_play_pause_sensor);\n         play \u003d false;\n-\n-\n-        sensorDock.setVisibility(View.INVISIBLE);\n         playPauseButton.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n@@ -57,6 +54,7 @@ public void onClick(View v) {\n                 }\n             }\n         });\n+        sensorDock.setVisibility(View.GONE);\n \n         FragmentManager fragmentManager \u003d getSupportFragmentManager();\n         FragmentTransaction transaction \u003d fragmentManager.beginTransaction();"
        },
        {
          "file_name": "app/src/main/java/org/fossasia/pslab/sensorfragment/SensorFragmentMain.java",
          "patch": "@@ -1,7 +1,10 @@\n package org.fossasia.pslab.sensorfragment;\n \n+import android.graphics.Color;\n import android.os.Bundle;\n import android.support.annotation.Nullable;\n+import android.support.design.widget.CoordinatorLayout;\n+import android.support.design.widget.Snackbar;\n import android.support.v4.app.Fragment;\n import android.support.v4.app.FragmentManager;\n import android.support.v4.app.FragmentTransaction;\n@@ -22,6 +25,7 @@\n import java.io.IOException;\n import java.util.ArrayList;\n import java.util.HashMap;\n+import java.util.LinkedHashMap;\n \n /**\n  * Created by asitava on 13/7/17.\n@@ -31,7 +35,7 @@\n \n     private I2C i2c;\n     private ScienceLab scienceLab;\n-    private HashMap\u003cInteger, String\u003e sensorAddr \u003d new HashMap\u003c\u003e();\n+    private LinkedHashMap\u003cInteger, String\u003e sensorAddr \u003d new LinkedHashMap\u003c\u003e();\n     private ArrayList\u003cInteger\u003e data \u003d new ArrayList\u003c\u003e();\n     private ArrayList\u003cString\u003e dataAddress \u003d new ArrayList\u003c\u003e();\n     private ArrayList\u003cString\u003e dataName \u003d new ArrayList\u003c\u003e();\n@@ -50,49 +54,51 @@ public static SensorFragmentMain newInstance() {\n     public void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         scienceLab \u003d ScienceLabCommon.scienceLab;\n-        i2c \u003d scienceLab.i2c;\n-\n-        sensorAddr.put(0x60, \"MCP4728\");\n-        sensorAddr.put(0x48, \"ADS1115\");\n-        sensorAddr.put(0x23, \"BH1750\");\n-        sensorAddr.put(0x77, \"BMP180\");\n-        sensorAddr.put(0x5A, \"MLX90614\");\n-        sensorAddr.put(0x1E, \"HMC5883L\");\n-        sensorAddr.put(0x68, \"MPU6050\");\n-        sensorAddr.put(0x40, \"SHT21\");\n-        sensorAddr.put(0x39, \"TSL2561\");\n-\n-        try {\n-            data \u003d i2c.scan(null);\n-        } catch (IOException e) {\n-            e.printStackTrace();\n-        }\n-        if (data !\u003d null) {\n-            for (Integer myInt : data) {\n-                if (sensorAddr.get(myInt) !\u003d null) {\n-                    dataAddress.add(String.valueOf(myInt));\n-                    dataName.add(sensorAddr.get(myInt));\n-                }\n+\n+        if (scienceLab.isConnected()) {\n+            i2c \u003d scienceLab.i2c;\n+            sensorAddr.put(0x60, \"MCP4728\");\n+            sensorAddr.put(0x48, \"ADS1115\");\n+            sensorAddr.put(0x23, \"BH1750\");\n+            sensorAddr.put(0x77, \"BMP180\");\n+            sensorAddr.put(0x5A, \"MLX90614\");\n+            sensorAddr.put(0x1E, \"HMC5883L\");\n+            sensorAddr.put(0x68, \"MPU6050\");\n+            sensorAddr.put(0x40, \"SHT21\");\n+            sensorAddr.put(0x39, \"TSL2561\");\n+\n+            try {\n+                data \u003d i2c.scan(null);\n+            } catch (IOException e) {\n+                e.printStackTrace();\n             }\n-            for (String s : dataAddress) {\n-                tvData +\u003d s + \":\" + sensorAddr.get(Integer.parseInt(s)) + \"\\n\";\n+            if (data !\u003d null) {\n+                for (Integer myInt : data) {\n+                    if (sensorAddr.get(myInt) !\u003d null) {\n+                        dataAddress.add(String.valueOf(myInt));\n+                        dataName.add(sensorAddr.get(myInt));\n+                    }\n+                }\n+                for (String s : dataAddress) {\n+                    tvData +\u003d s + \":\" + sensorAddr.get(Integer.parseInt(s)) + \"\\n\";\n+                }\n             }\n+            String[] dataDisp \u003d dataName.toArray(new String[dataName.size()]);\n+            adapter \u003d new ArrayAdapter\u003c\u003e(getContext(), R.layout.sensor_list_item, R.id.tv_sensor_list_item, dataDisp);\n         }\n-        String[] dataDisp \u003d dataName.toArray(new String[dataName.size()]);\n-        adapter \u003d new ArrayAdapter\u003c\u003e(getContext(), R.layout.sensor_list_item, R.id.tv_sensor_list_item, dataDisp);\n     }\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n         View view \u003d inflater.inflate(R.layout.sensor_main, container, false);\n-\n-        Button buttonSensorAutoscan \u003d (Button) view.findViewById(R.id.button_sensor_autoscan);\n+        final CoordinatorLayout coordinatorLayout \u003d (CoordinatorLayout) view.findViewById(R.id.layout_container);\n+        Button buttonSensorAutoScan \u003d (Button) view.findViewById(R.id.button_sensor_autoscan);\n         tvSensorScan \u003d (TextView) view.findViewById(R.id.tv_sensor_scan);\n         tvSensorScan.setText(tvData);\n         lvSensor \u003d (ListView) view.findViewById(R.id.lv_sensor);\n         lvSensor.setAdapter(adapter);\n \n-        buttonSensorAutoscan.setOnClickListener(new View.OnClickListener() {\n+        buttonSensorAutoScan.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n                 if (scienceLab.isConnected()) {\n@@ -104,7 +110,7 @@ public void onClick(View v) {\n \n                     if (data !\u003d null) {\n                         for (Integer myInt : data) {\n-                            if (myInt !\u003d null \u0026\u0026 sensorAddr.get(myInt) !\u003d null ) {\n+                            if (myInt !\u003d null \u0026\u0026 sensorAddr.get(myInt) !\u003d null) {\n                                 dataAddress.add(String.valueOf(myInt));\n                                 dataName.add(sensorAddr.get(myInt));\n                             }\n@@ -119,6 +125,12 @@ public void onClick(View v) {\n                     String[] dataDisp \u003d dataName.toArray(new String[dataName.size()]);\n                     adapter \u003d new ArrayAdapter\u003c\u003e(getContext(), R.layout.sensor_list_item, R.id.tv_sensor_list_item, dataDisp);\n                     lvSensor.setAdapter(adapter);\n+                } else {\n+                    Snackbar snackbar \u003d Snackbar.make(coordinatorLayout, \"Device not connected\", Snackbar.LENGTH_SHORT);\n+                    View snackBarView \u003d snackbar.getView();\n+                    TextView snackbarTextView \u003d (TextView) snackBarView.findViewById(android.support.design.R.id.snackbar_text);\n+                    snackbarTextView.setTextColor(Color.YELLOW);\n+                    snackbar.show();\n                 }\n             }\n         });"
        },
        {
          "file_name": "app/src/main/res/layout/activity_sensor.xml",
          "patch": "@@ -2,7 +2,7 @@\n \u003cRelativeLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n     xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\n     android:layout_width\u003d\"match_parent\"\n-    android:layout_height\u003d\"wrap_content\"\n+    android:layout_height\u003d\"match_parent\"\n     android:focusable\u003d\"true\"\n     android:focusableInTouchMode\u003d\"true\"\n     app:layout_behavior\u003d\"@string/appbar_scrolling_view_behavior\"\u003e\n@@ -41,6 +41,7 @@\n             android:layout_height\u003d\"wrap_content\"\n             android:layout_alignParentTop\u003d\"true\"\n             android:layout_marginLeft\u003d\"5dp\"\n+            android:layout_marginStart\u003d\"5dp\"\n             android:layout_toEndOf\u003d\"@+id/imageButton_play_pause_sensor\"\n             android:layout_toLeftOf\u003d\"@+id/tv_timegap_label\"\n             android:layout_toRightOf\u003d\"@+id/imageButton_play_pause_sensor\""
        },
        {
          "file_name": "app/src/main/res/layout/sensor_main.xml",
          "patch": "@@ -1,11 +1,14 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\n-\u003cScrollView xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+\u003candroid.support.design.widget.CoordinatorLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+    android:id\u003d\"@+id/layout_container\"\n     android:layout_width\u003d\"match_parent\"\n-    android:layout_height\u003d\"match_parent\"\u003e\n+    android:layout_height\u003d\"match_parent\"\n+    android:fitsSystemWindows\u003d\"true\"\n+    android:orientation\u003d\"vertical\"\u003e\n \n     \u003cLinearLayout\n         android:layout_width\u003d\"match_parent\"\n-        android:layout_height\u003d\"wrap_content\"\n+        android:layout_height\u003d\"match_parent\"\n         android:layout_marginEnd\u003d\"10dp\"\n         android:layout_marginLeft\u003d\"10dp\"\n         android:layout_marginRight\u003d\"10dp\"\n@@ -39,10 +42,10 @@\n                 android:layout_width\u003d\"match_parent\"\n                 android:layout_height\u003d\"match_parent\"\n                 android:background\u003d\"@drawable/control_custom_border\"\n-                android:textSize\u003d\"@dimen/sensor_body_font\"\n+                android:gravity\u003d\"center\"\n                 android:textAlignment\u003d\"center\"\n-                android:textStyle\u003d\"bold\"\n-                android:gravity\u003d\"center\"/\u003e\n+                android:textSize\u003d\"@dimen/sensor_body_font\"\n+                android:textStyle\u003d\"bold\" /\u003e\n         \u003c/android.support.v4.widget.NestedScrollView\u003e\n \n         \u003cTextView\n@@ -59,8 +62,7 @@\n         \u003cListView\n             android:id\u003d\"@+id/lv_sensor\"\n             android:layout_width\u003d\"match_parent\"\n-            android:layout_height\u003d\"200dp\"\n-            android:layout_marginBottom\u003d\"10dp\"\n+            android:layout_height\u003d\"match_parent\"\n             android:layout_marginTop\u003d\"10dp\" /\u003e\n     \u003c/LinearLayout\u003e\n-\u003c/ScrollView\u003e\n\\ No newline at end of file\n+\u003c/android.support.design.widget.CoordinatorLayout\u003e\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "ArithmeticException (Division by zero)",
    "url": "https://github.com/cgeo/cgeo/issues/6447",
    "description": "Starting with December 2016 release on Google Play:\r\n\r\n```\r\njava.lang.ArithmeticException: divide by zero\r\n\tat cgeo.geocaching.maps.CGeoMap$LoadDetailsHandler.handleRegularMessage(CGeoMap.java:328)\r\n\tat cgeo.geocaching.utils.DisposableHandler.handleMessage(DisposableHandler.java:58)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:145)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5942)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\r\n```\r\n\r\nRare occurence\r\nUser note: \"when offline downloaded\"",
    "keywords": [
      "java",
      "os",
      "method",
      "android",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/1f7c0d32112e10664617ad2e75a78cab0a936982",
      "files": [
        {
          "file_name": "main/res/values/changelog_release.xml",
          "patch": "@@ -9,6 +9,7 @@\n     · Fix: Prevent crash when logging a trackable on some Xiaomi devices\\n\n     · Fix: Correctly display user name containing \u0026amp; on main screen\\n\n     · Fix: Fix crash when dismissing cache popup dialog at the wrong time\\n\n+    · Fix: Fix rare crash when downloading caches\\n\n     \\n\n     \\n\n     \u003cb\u003e2017.03.19:\u003c/b\u003e\\n"
        },
        {
          "file_name": "main/src/cgeo/geocaching/maps/CGeoMap.java",
          "patch": "@@ -325,7 +325,10 @@ public void handleRegularMessage(final Message msg) {\n             if (waitDialog !\u003d null) {\n                 if (msg.what \u003d\u003d UPDATE_PROGRESS) {\n                     final int secondsElapsed \u003d (int) ((System.currentTimeMillis() - detailProgressTime) / 1000);\n-                    final int secondsRemaining \u003d (detailTotal - detailProgress) * secondsElapsed / detailProgress;\n+                    // FIXME: the Math.max below is purely defensive programming around an issue reported\n+                    // in https://github.com/cgeo/cgeo/issues/6447. This code should be rewritten to, at least,\n+                    // no longer use global variables to pass information between the handler and its user.\n+                    final int secondsRemaining \u003d (detailTotal - detailProgress) * secondsElapsed / Math.max(detailProgress, 1);\n \n                     waitDialog.setProgress(detailProgress);\n                     if (secondsRemaining \u003c 40) {"
        }
      ]
    }
  },
  {
    "name": "Crash on tabbing out while answering street surface",
    "url": "https://github.com/westnordost/StreetComplete/issues/285",
    "description": "Error report that was sent to me.\r\n\r\nWährend beim Beantworten eine Straßenbelag Frage in die Android App Übersicht gewechselt. Nicht ganz stabil reproduzierbar. \r\n\r\nBtw. Coole App: der Gamification Faktor hat mich zum Gelegenheitsmapper gemacht. Für mehr Motivation/ Gamifikation ist ganz dringend eine Bestenliste notwendig :-)\r\n\r\nDevice: OnePlus OnePlus3T, Android 7.1.1\r\nThread: main\r\nStack trace:\r\njava.lang.IllegalStateException: Can not perform this action after onSaveInstanceState\r\n\tat android.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1434)\r\n\tat android.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1452)\r\n\tat android.app.FragmentManagerImpl.popBackStack(FragmentManager.java:584)\r\n\tat de.westnordost.streetcomplete.MainActivity.closeQuestDetails(MainActivity.java:681)\r\n\tat de.westnordost.streetcomplete.MainActivity.access$1200(MainActivity.java:86)\r\n\tat de.westnordost.streetcomplete.MainActivity$13.run(MainActivity.java:672)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6290)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)",
    "keywords": [
      "app",
      "de",
      "handler",
      "os",
      "westnordost",
      "mainactivity",
      "android",
      "main",
      "streetcomplete",
      "de westnordost",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/a7956319d93a36096a5e044f695bc3c024e5ee78",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/MainActivity.java",
          "patch": "@@ -678,7 +678,13 @@ private void removeQuests(Collection\u003cLong\u003e questIds, QuestGroup group)\n \n \t@UiThread private void closeQuestDetails()\n \t{\n-\t\tgetFragmentManager().popBackStack(BOTTOM_SHEET, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n+\t\t// #285: This method may be called after the user tapped the home button from removeQuests().\n+\t\t// At this point, it wouldn\u0027t be legal to pop the fragment back stack etc.\n+\t\t// I am not entirely sure if checking for these things will solve #285 though\n+\t\t// some more info here http://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html\n+\t\tif(isDestroyed() || isFinishing() || isChangingConfigurations()) return;\n+\n+\t\tgetFragmentManager().popBackStackImmediate(BOTTOM_SHEET, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n \n \t\tmapFragment.removeQuestGeometry();\n "
        }
      ]
    }
  },
  {
    "name": "Sometimes crashes with an IndexOutOfBoundsException if there\u0027s too many log messages.",
    "url": "https://github.com/jraska/Console/issues/9",
    "description": "The console widget crashes my app whenever I have too many log messages call.\nThe stack-trace is as follows:\n\n```\nFATAL EXCEPTION: main\n    Process: com.example.sample.debug, PID: 9708\n    java.lang.IndexOutOfBoundsException: getChars (0 ... 16098) ends beyond length 16001\n        at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1265)\n        at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:1147)\n        at android.text.TextUtils.getChars(TextUtils.java:89)\n        at android.text.SpannableStringBuilder.\u003cinit\u003e(SpannableStringBuilder.java:66)\n        at android.text.SpannableStringBuilder.\u003cinit\u003e(SpannableStringBuilder.java:50)\n        at android.text.Editable$Factory.newEditable(Editable.java:143)\n        at android.widget.TextView.setText(TextView.java:4391)\n        at android.widget.TextView.setText(TextView.java:4332)\n        at android.widget.TextView.setText(TextView.java:4307)\n        at com.jraska.console.ConsoleBuffer.printTo(ConsoleBuffer.java:59)\n        at com.jraska.console.Console.printBuffer(Console.java:273)\n        at com.jraska.console.Console.printScroll(Console.java:268)\n        at com.jraska.console.Console.runBufferPrint(Console.java:304)\n        at com.jraska.console.Console.access$300(Console.java:29)\n        at com.jraska.console.Console$BufferPrintRunnable.run(Console.java:318)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n```\n\nI\u0027d recommend either:\n1. Debouncing the `printBuffer()` calls to every 2 seconds (configurable by the user), or\n2. Moving to a simple `RecyclerView`, that way you don\u0027t have a massive `TextView` object with lots of `Spannable`s, and only show logs that are visible. Which will be more memory efficient.\n\nOption 2 is what I\u0027d prefer going forward, but I\u0027m aware it\u0027s likely a big refactoring job.\n",
    "keywords": [
      "com",
      "console",
      "handler",
      "widget",
      "getchars",
      "os",
      "jraska",
      "android",
      "main",
      "console console",
      "textview",
      "settext",
      "android text",
      "2",
      "text",
      "spannablestringbuilder",
      "com jraska",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/jraska/Console/commit/8f4bba250c1e773f5dea833b4a31d49621887121",
      "files": [
        {
          "file_name": "console/src/main/java/com/jraska/console/ConsoleBuffer.java",
          "patch": "@@ -56,7 +56,10 @@ ConsoleBuffer clear() {\n   }\n \n   ConsoleBuffer printTo(TextView textView) {\n-    textView.setText(buffer);\n+    synchronized (lock) {\n+      textView.setText(buffer);\n+    }\n+\n     return this;\n   }\n "
        },
        {
          "file_name": "console/src/test/java/com/jraska/console/ConsoleBufferTest.java",
          "patch": "@@ -0,0 +1,55 @@\n+package com.jraska.console;\n+\n+import android.widget.TextView;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.robolectric.RobolectricGradleTestRunner;\n+import org.robolectric.RuntimeEnvironment;\n+import org.robolectric.annotation.Config;\n+\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.TimeUnit;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+@RunWith(RobolectricGradleTestRunner.class)\n+@Config(constants \u003d BuildConfig.class, sdk \u003d 21)\n+public class ConsoleBufferTest {\n+  static final int ATTEMPTS_COUNT \u003d 1000;\n+\n+  @Test\n+  public void failsOnWrongBufferConcurrency() throws Exception {\n+    final ConsoleBuffer buffer \u003d new ConsoleBuffer();\n+    buffer.setSize(10);\n+\n+    TextView testTextView \u003d new TextView(RuntimeEnvironment.application);\n+\n+    CountDownLatch finishLatch \u003d new CountDownLatch(1);\n+    AppendRunnable appendRunnable \u003d new AppendRunnable(buffer, finishLatch);\n+    new Thread(appendRunnable).start();\n+\n+    for (int i \u003d 0; i \u003c ATTEMPTS_COUNT; i++) {\n+      buffer.printTo(testTextView);\n+    }\n+\n+    boolean await \u003d finishLatch.await(1, TimeUnit.SECONDS);\n+    assertThat(await).isTrue();\n+  }\n+\n+  static class AppendRunnable implements Runnable {\n+    private final ConsoleBuffer buffer;\n+    private final CountDownLatch latch;\n+\n+    AppendRunnable(ConsoleBuffer buffer, CountDownLatch latch) {\n+      this.buffer \u003d buffer;\n+      this.latch \u003d latch;\n+    }\n+\n+    @Override public void run() {\n+      for (int i \u003d 0; i \u003c ATTEMPTS_COUNT; i++) {\n+        buffer.append(\"textToAppend\");\n+        latch.countDown();\n+      }\n+    }\n+  }\n+}\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "Intermittent crash when switching to Locus",
    "url": "https://github.com/cgeo/cgeo/issues/5874",
    "description": "With current `master`. I may have switched to another application in the meantime, and then switched back to cgeo. I\u0027m not certain.\n\n```\n08-03 11:18:40.913 E/AndroidRuntime(26556): FATAL EXCEPTION: main\n08-03 11:18:40.913 E/AndroidRuntime(26556): Process: cgeo.geocaching, PID: 26556\n08-03 11:18:40.913 E/AndroidRuntime(26556): Theme: themes:{}\n08-03 11:18:40.913 E/AndroidRuntime(26556): java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String android.content.Context.getPackageName()\u0027 on a null object reference\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.os.Parcel.readException(Parcel.java:1626)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:183)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.content.ContentProviderProxy.query(ContentProviderNative.java:421)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.content.ContentResolver.query(ContentResolver.java:493)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.content.ContentResolver.query(ContentResolver.java:435)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at locus.api.android.ActionTools.getLocusInfo(ActionTools.java:854)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at locus.api.android.utils.LocusUtils.getActiveVersion(LocusUtils.java:321)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at locus.api.android.utils.LocusUtils.getActiveVersion(LocusUtils.java:293)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.apps.AbstractLocusApp.isInstalled(AbstractLocusApp.java:48)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.apps.navi.NavigationAppFactory.getInstalledNavigationApps(NavigationAppFactory.java:206)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.apps.navi.NavigationAppFactory.getNavigationAppForId(NavigationAppFactory.java:344)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.apps.navi.NavigationAppFactory.getDefaultNavigationApplication(NavigationAppFactory.java:304)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.apps.navi.NavigationAppFactory.getDefaultNavigationApplication(NavigationAppFactory.java:339)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.CacheMenuHandler.onPrepareOptionsMenu(CacheMenuHandler.java:99)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.CacheMenuHandler.addMenuItems(CacheMenuHandler.java:112)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.CacheMenuHandler.addMenuItems(CacheMenuHandler.java:116)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at cgeo.geocaching.CacheDetailActivity.onCreateOptionsMenu(CacheDetailActivity.java:570)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.app.Activity.onCreatePanelMenu(Activity.java:2852)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.support.v4.app.FragmentActivity.onCreatePanelMenu(FragmentActivity.java:262)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.support.v7.app.ActionBarActivity.superOnCreatePanelMenu(ActionBarActivity.java:233)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.support.v7.app.ActionBarActivityDelegateICS.onCreatePanelMenu(ActionBarActivityDelegateICS.java:146)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.support.v7.app.ActionBarActivity.onCreatePanelMenu(ActionBarActivity.java:200)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.support.v7.app.ActionBarActivityDelegateICS$WindowCallbackWrapper.onCreatePanelMenu(ActionBarActivityDelegateICS.java:293)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at com.android.internal.policy.PhoneWindow.preparePanel(PhoneWindow.java:617)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at com.android.internal.policy.PhoneWindow.doInvalidatePanelMenu(PhoneWindow.java:989)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at com.android.internal.policy.PhoneWindow$1.run(PhoneWindow.java:320)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.view.Choreographer.doCallbacks(Choreographer.java:670)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.view.Choreographer.doFrame(Choreographer.java:603)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.os.Handler.handleCallback(Handler.java:739)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.os.Handler.dispatchMessage(Handler.java:95)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.os.Looper.loop(Looper.java:148)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at android.app.ActivityThread.main(ActivityThread.java:5461)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at java.lang.reflect.Method.invoke(Native Method)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n08-03 11:18:40.913 E/AndroidRuntime(26556):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "internal",
      "choreographer",
      "android",
      "android support",
      "actionbaractivitydelegateics",
      "locusutils",
      "main",
      "run",
      "e/androidruntime",
      "26556",
      "11:18:40 913",
      "content",
      "navigationappfactory",
      "cachemenuhandler",
      "view",
      "android content",
      "oncreatepanelmenu",
      "android internal",
      "navi",
      "08-03",
      "e/androidruntime 26556",
      "actionbaractivity",
      "913",
      "api",
      "lang",
      "zygoteinit",
      "policy",
      "apps",
      "cgeo",
      "app",
      "method",
      "os",
      "11:18:40",
      "cgeo geocaching",
      "geocaching apps",
      "query",
      "26556 ",
      "phonewindow",
      "geocaching",
      "913 e/androidruntime",
      "databaseutils",
      "08-03 11:18:40",
      "locus",
      "contentresolver",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/2fd0fc9f5f3b7e1cfcc1713962eae3018ce10e87",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/apps/AbstractLocusApp.java",
          "patch": "@@ -44,7 +44,12 @@ protected AbstractLocusApp(@NonNull final String text, @NonNull final String int\n \n     @Override\n     public boolean isInstalled() {\n-        return LocusUtils.getActiveVersion(CgeoApplication.getInstance()) !\u003d null;\n+        try {\n+            return LocusUtils.getActiveVersion(CgeoApplication.getInstance()) !\u003d null;\n+        } catch (final Exception ignored) {\n+            Log.w(\"Couldn\u0027t get active Locus version\", ignored);\n+        }\n+        return false;\n     }\n \n     /**"
        }
      ]
    }
  },
  {
    "name": "Documentation or implementation bug. Custom ViewHolder cannot be cast to eu.davidea.viewholders.FlexibleViewHolder",
    "url": "https://github.com/davideas/FlexibleAdapter/issues/117",
    "description": "Issue is correct for the current snapshot.\n\nI\u0027m dealing with sticky headers. Nowhere in docs mentioned, that instead of custom `ViewHolder` inheritance there should be `FlexibleViewHolder` used. And generic constraints of interfaces of provided abstract classes, like `AbstractHeaderItem` and `AbstractSectionableItem` expect to get classes inherited from `RecyclerView.ViewHolder`\n\nHowever `StickyHeaderHelper` class\u0027s method `getHeaderViewHolder(int position)` have direct casting to FlexibleViewHeader and of course will failed if there is simple ViewHolders used with error similar to this one: \n\n```\nFATAL EXCEPTION: main\nProcess: test, PID: 29504\njava.lang.ClassCastException: Fragments.HeaderViewHolder cannot be cast to eu.davidea.viewholders.FlexibleViewHolder\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.getHeaderViewHolder(StickyHeaderHelper.java:266)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.updateHeader(StickyHeaderHelper.java:153)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.updateOrClearHeader(StickyHeaderHelper.java:143)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.initStickyHeadersHolder(StickyHeaderHelper.java:122)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper.access$000(StickyHeaderHelper.java:40)\nat eu.davidea.flexibleadapter.helpers.StickyHeaderHelper$1.run(StickyHeaderHelper.java:80)\nat android.os.Handler.handleCallback(Handler.java:739)\n at android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:148)\n at android.app.ActivityThread.main(ActivityThread.java:5417)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n\nSo i think either it\u0027s need to fix docs and probably introduce new abstractions which will be statically checking correct typing, or fix the code to not assume it\u0027s use FlexibleViewHolder items.  \n",
    "keywords": [
      "handler",
      "helpers",
      "os",
      "method",
      "flexibleadapter",
      "android",
      "main",
      "viewholders",
      "eu davidea",
      "eu",
      "davidea flexibleadapter",
      "flexibleadapter helpers",
      "davidea",
      "flexibleviewholder",
      "stickyheaderhelper",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/davideas/FlexibleAdapter/commit/69ef3194cbe6bf5489ab783c0300e0547bf31b0b",
      "files": [
        {
          "file_name": "flexible-adapter-app/src/main/java/eu/davidea/samples/flexibleadapter/models/AbstractModelItem.java",
          "patch": "@@ -1,18 +1,17 @@\n package eu.davidea.samples.flexibleadapter.models;\n \n-import android.support.v7.widget.RecyclerView;\n-\n import java.io.Serializable;\n \n import eu.davidea.flexibleadapter.items.AbstractFlexibleItem;\n+import eu.davidea.viewholders.FlexibleViewHolder;\n \n /**\n  * This class will benefit of the already implemented methods (getter and setters) in\n  * {@link eu.davidea.flexibleadapter.items.AbstractFlexibleItem}.\n  *\n  * It is used as Base item for all example models.\n  */\n-public abstract class AbstractModelItem\u003cVH extends RecyclerView.ViewHolder\u003e\n+public abstract class AbstractModelItem\u003cVH extends FlexibleViewHolder\u003e\n \t\textends AbstractFlexibleItem\u003cVH\u003e\n \t\timplements Serializable {\n "
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/helpers/StickyHeaderHelper.java",
          "patch": "@@ -33,6 +33,7 @@\n \n /**\n  * A sticky header helper, to use only with {@link FlexibleAdapter}.\n+ * \u003cp\u003eHeader ViewHolders must be of type {@link FlexibleViewHolder}.\u003c/p\u003e\n  *\n  * @since 25/03/2016 Created\n  */\n@@ -45,8 +46,6 @@\n \tprivate ViewGroup mStickyHolderLayout;\n \tprivate FlexibleViewHolder mStickyHeaderViewHolder;\n \tprivate OnStickyHeaderChangeListener mStickyHeaderChangeListener;\n-\n-\t/* Header state, used to not call getSectionHeader() all the time */\n \tprivate int mHeaderPosition \u003d RecyclerView.NO_POSITION;\n \n \n@@ -146,10 +145,8 @@ private void updateHeader(int headerPosition, boolean updateHeaderContent) {\n \t\tif (mHeaderPosition !\u003d headerPosition) {\n \t\t\tmHeaderPosition \u003d headerPosition;\n \t\t\tFlexibleViewHolder holder \u003d getHeaderViewHolder(headerPosition);\n-\t\t\tif (mStickyHeaderViewHolder !\u003d holder \u0026\u0026 holder.isStickyHeader()) {\n-\t\t\t\tif (FlexibleAdapter.DEBUG) Log.v(TAG, \"swapHeader newPosition\u003d\" + mHeaderPosition);\n-\t\t\t\tswapHeader(holder);\n-\t\t\t}\n+\t\t\tif (FlexibleAdapter.DEBUG) Log.v(TAG, \"swapHeader newHeaderPosition\u003d\" + mHeaderPosition);\n+\t\t\tswapHeader(holder);\n \t\t} else if (updateHeaderContent \u0026\u0026 mStickyHeaderViewHolder !\u003d null) {\n \t\t\tmAdapter.onBindViewHolder(mStickyHeaderViewHolder, mHeaderPosition);\n \t\t\tensureHeaderParent();\n@@ -226,22 +223,26 @@ public void clearHeader() {\n \t\t}\n \t}\n \n-\t@SuppressWarnings({\"unchecked\", \"ConstantConditions\"})\n+\t@SuppressWarnings(\"unchecked\")\n \tprivate int getHeaderPosition(int adapterPosHere) {\n \t\tif (adapterPosHere \u003d\u003d RecyclerView.NO_POSITION) {\n \t\t\tView firstChild \u003d mRecyclerView.getChildAt(0);\n \t\t\tadapterPosHere \u003d mRecyclerView.getChildAdapterPosition(firstChild);\n \t\t}\n \t\tIHeader header \u003d mAdapter.getSectionHeader(adapterPosHere);\n+\t\t//Header cannot be sticky if it\u0027s also an Expandable in collapsed status, RV will raise an exception\n+\t\tif (header \u003d\u003d null || mAdapter.isExpandable(header) \u0026\u0026 !mAdapter.isExpanded(header)) {\n+\t\t\treturn RecyclerView.NO_POSITION;\n+\t\t}\n \t\treturn mAdapter.getGlobalPositionOf(header);\n \t}\n \n \t/**\n-\t * Gets the header view for the associated position. If it doesn\u0027t exist\n-\t * yet, it will be created, measured, and laid out.\n+\t * Gets the header view for the associated header position. If it doesn\u0027t exist yet, it will\n+\t * be created, measured, and laid out.\n \t *\n-\t * @param position the adapter position to get the header view for\n-\t * @return Header ViewHolder of the associated header position\n+\t * @param position the adapter position to get the header view\n+\t * @return ViewHolder of type FlexibleViewHolder of the associated header position\n \t */\n \t@SuppressWarnings(\"unchecked\")\n \tprivate FlexibleViewHolder getHeaderViewHolder(int position) {"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/AbstractExpandableHeaderItem.java",
          "patch": "@@ -15,20 +15,23 @@\n  */\n package eu.davidea.flexibleadapter.items;\n \n-import android.support.v7.widget.RecyclerView;\n+import eu.davidea.viewholders.ExpandableViewHolder;\n \n /**\n  * Generic implementation of {@link IExpandable} interface combined with {@link IHeader} interface\n  * with most useful methods to manage expandable sections with sticky headers and sub items of\n- * type {@link ISectionable}.\u003cbr/\u003e\n- * This abstract class extends also {@link AbstractExpandableItem}.\n- * \u003cp\u003eCall {@code super()} in the constructor to auto-configure the section status as shown,\n- * expanded, not selectable.\u003c/p\u003e\n+ * type {@link ISectionable}.\n+ * \u003cp\u003eThis abstract class extends {@link AbstractExpandableItem}.\u003c/p\u003e\n+ * Call {@code super()} in the constructor to auto-configure the section status as: shown,\n+ * expanded, not selectable.\n  *\n+ * @param \u003cVH\u003e {@link ExpandableViewHolder}\n+ * @param \u003cS\u003e  The sub item of type {@link ISectionable}\n  * @author Davide Steduto\n  * @since 01/04/2016 Created\n+ * \u003cbr/\u003e18/06/2016 Changed signature with ExpandableViewHolder\n  */\n-public abstract class AbstractExpandableHeaderItem\u003cVH extends RecyclerView.ViewHolder, S extends ISectionable\u003e\n+public abstract class AbstractExpandableHeaderItem\u003cVH extends ExpandableViewHolder, S extends ISectionable\u003e\n \t\textends AbstractExpandableItem\u003cVH, S\u003e\n \t\timplements IHeader\u003cVH\u003e {\n "
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/AbstractExpandableItem.java",
          "patch": "@@ -15,20 +15,23 @@\n  */\n package eu.davidea.flexibleadapter.items;\n \n-import android.support.v7.widget.RecyclerView;\n-\n import java.util.ArrayList;\n import java.util.List;\n \n+import eu.davidea.viewholders.ExpandableViewHolder;\n+\n /**\n  * Generic implementation of {@link IExpandable} interface with most useful methods to manage\n- * expansion and sub items.\u003cbr/\u003e\n- * This abstract class extends also {@link AbstractFlexibleItem}.\n+ * expansion and sub items.\n+ * \u003cp\u003eThis abstract class extends {@link AbstractFlexibleItem}.\u003c/p\u003e\n  *\n+ * @param \u003cVH\u003e {@link ExpandableViewHolder}\n+ * @param \u003cS\u003e  The sub item of type {@link IFlexible}\n  * @author Davide Steduto\n  * @since 17/01/2016 Created\n+ * \u003cbr/\u003e18/06/2016 Changed signature with ExpandableViewHolder\n  */\n-public abstract class AbstractExpandableItem\u003cVH extends RecyclerView.ViewHolder, S extends IFlexible\u003e\n+public abstract class AbstractExpandableItem\u003cVH extends ExpandableViewHolder, S extends IFlexible\u003e\n \t\textends AbstractFlexibleItem\u003cVH\u003e\n \t\timplements IExpandable\u003cVH, S\u003e {\n \n@@ -67,7 +70,7 @@ public int getExpansionLevel() {\n \t}\n \n \tpublic final boolean hasSubItems() {\n-\t\treturn mSubItems!\u003d null \u0026\u0026 mSubItems.size() \u003e 0;\n+\t\treturn mSubItems !\u003d null \u0026\u0026 mSubItems.size() \u003e 0;\n \t}\n \n \tpublic IFlexible setSubItems(List\u003cS\u003e subItem) {"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/AbstractFlexibleItem.java",
          "patch": "@@ -27,6 +27,7 @@\n  * Generic implementation of {@link IFlexible} interface with most useful methods to manage\n  * selection and view holder methods.\n  *\n+ * @param \u003cVH\u003e {@link RecyclerView.ViewHolder}\n  * @author Davide Steduto\n  * @since 20/01/2016 Created\n  */\n@@ -37,22 +38,26 @@\n \n \t/* Item flags recognized by the FlexibleAdapter */\n \tprotected boolean mEnabled \u003d true, mHidden \u003d false,\n-\t\t\tmSelectable \u003d true,\tmDraggable \u003d false, mSwipeable \u003d false;\n+\t\t\tmSelectable \u003d true, mDraggable \u003d false, mSwipeable \u003d false;\n \n \t/*---------------*/\n \t/* BASIC METHODS */\n \t/*---------------*/\n \n \t/**\n-\t * You \u003cb\u003emust\u003c/b\u003e implement this method to compare items Identifiers.\n+\t * You \u003cb\u003emust\u003c/b\u003e implement this method to compare items identifiers.\n \t * \u003cp\u003eAdapter needs this method to distinguish them and pick up correct items.\u003c/p\u003e\n-\t * See \u003ca href\u003d\"http://developer.android.com/reference/java/lang/Object.html#writing_equals\"\u003eWriting a correct\n-\t * {@code equals} method\u003c/a\u003e to implement your own {@code equals} method.\n-\t * \u003cp\u003eThe general contract for the {@code equals} and {@link\n-\t * #hashCode()} methods is that if {@code equals} returns {@code true} for\n-\t * any two objects, then {@code hashCode()} must return the same value for\n-\t * these objects. This means that subclasses of {@code Object} usually\n-\t * override either both methods or neither of them.\n+\t * See \u003ca href\u003d\"http://developer.android.com/reference/java/lang/Object.html#writing_equals\"\u003e\n+\t * Writing a correct {@code equals} method\u003c/a\u003e to implement your own {@code equals} method.\n+\t * \u003cp\u003eBasic Java implementation:\n+\t * \u003cpre\u003e\n+\t * public boolean equals(Object o) {\n+\t *     return this \u003d\u003d o;\n+\t * }\u003c/pre\u003e\u003c/p\u003e\n+\t * \u003cp\u003eWhen used with {@code HashMap}, the general contract for the {@code equals} and\n+\t * {@link #hashCode()} methods is that if {@code equals} returns {@code true} for any two\n+\t * objects, then {@code hashCode()} must return the same value for these objects. This means\n+\t * that subclasses of {@code Object} usually override either both methods or neither of them.\n \t *\n \t * @param o instance to compare\n \t * @return true if items are equals, false otherwise."
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/AbstractHeaderItem.java",
          "patch": "@@ -15,17 +15,21 @@\n  */\n package eu.davidea.flexibleadapter.items;\n \n-import android.support.v7.widget.RecyclerView;\n+import eu.davidea.viewholders.FlexibleViewHolder;\n \n /**\n- * Generic implementation of {@link IHeader} interface.\n- * \u003cp\u003eBy default this item is hidden, not selectable.\u003c/p\u003e\n- * This abstract class extends also {@link AbstractFlexibleItem}.\n+ * Generic implementation of {@link IHeader} interface. By default this item is hidden and not\n+ * selectable.\n+ * \u003cp\u003eThis abstract class extends {@link AbstractFlexibleItem}.\u003c/p\u003e\n+ * The ViewHolder must be of type {@link FlexibleViewHolder} to assure correct StickyHeader\n+ * behaviours.\n  *\n+ * @param \u003cVH\u003e {@link FlexibleViewHolder}\n  * @author Davide Steduto\n  * @since 17/01/2016 Created\n+ * \u003cbr/\u003e18/06/2016 Changed signature with FlexibleViewHolder\n  */\n-public abstract class AbstractHeaderItem\u003cVH extends RecyclerView.ViewHolder\u003e\n+public abstract class AbstractHeaderItem\u003cVH extends FlexibleViewHolder\u003e\n \t\textends AbstractFlexibleItem\u003cVH\u003e\n \t\timplements IHeader\u003cVH\u003e {\n "
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/AbstractSectionableItem.java",
          "patch": "@@ -18,31 +18,35 @@\n import android.support.v7.widget.RecyclerView;\n \n /**\n- * Abstract class for items that holds a header item.\n+ * Generic implementation of {@link ISectionable} interface for items that holds a header item.\n+ * This class represents an item in the section.\n+ * \u003cp\u003eThis abstract class extends {@link AbstractFlexibleItem}.\u003c/p\u003e\n  *\n- * @param \u003cVH\u003e\n- * @param \u003cT\u003e\n+ * @param \u003cVH\u003e {@link RecyclerView.ViewHolder}\n+ * @param \u003cH\u003e  The header item of type {@link IHeader}\n+ * @author Davide Steduto\n+ * @since 20/01/2016 Created\n  */\n-public abstract class AbstractSectionableItem\u003cVH extends RecyclerView.ViewHolder, T extends IHeader\u003e\n+public abstract class AbstractSectionableItem\u003cVH extends RecyclerView.ViewHolder, H extends IHeader\u003e\n \t\textends AbstractFlexibleItem\u003cVH\u003e\n-\t\timplements ISectionable\u003cVH, T\u003e {\n+\t\timplements ISectionable\u003cVH, H\u003e {\n \n \t/**\n \t * The header of this item\n \t */\n-\tprotected T header;\n+\tprotected H header;\n \n-\tpublic AbstractSectionableItem(T header) {\n+\tpublic AbstractSectionableItem(H header) {\n \t\tthis.header \u003d header;\n \t}\n \n \t@Override\n-\tpublic T getHeader() {\n+\tpublic H getHeader() {\n \t\treturn header;\n \t}\n \n \t@Override\n-\tpublic void setHeader(T header) {\n+\tpublic void setHeader(H header) {\n \t\tthis.header \u003d header;\n \t}\n "
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/IExpandable.java",
          "patch": "@@ -15,10 +15,10 @@\n  */\n package eu.davidea.flexibleadapter.items;\n \n-import android.support.v7.widget.RecyclerView;\n-\n import java.util.List;\n \n+import eu.davidea.viewholders.ExpandableViewHolder;\n+\n /**\n  * Interface to manage expanding operations on items with\n  * {@link eu.davidea.flexibleadapter.FlexibleAdapter}.\n@@ -31,8 +31,9 @@\n  * @see IHolder\n  * @see ISectionable\n  * @since 17/01/2016 Created\n+ * \u003cbr/\u003e18/06/2016 Changed signature with ExpandableViewHolder\n  */\n-public interface IExpandable\u003cVH extends RecyclerView.ViewHolder, S extends IFlexible\u003e\n+public interface IExpandable\u003cVH extends ExpandableViewHolder, S extends IFlexible\u003e\n \t\textends IFlexible\u003cVH\u003e {\n \n \t/*--------------------*/"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/items/IHeader.java",
          "patch": "@@ -15,7 +15,7 @@\n  */\n package eu.davidea.flexibleadapter.items;\n \n-import android.support.v7.widget.RecyclerView;\n+import eu.davidea.viewholders.FlexibleViewHolder;\n \n /**\n  * Wrapper empty interface to identify if the current item is a header.\n@@ -27,7 +27,8 @@\n  * @see IHolder\n  * @see ISectionable\n  * @since 15/02/2016 Created\n+ * \u003cbr/\u003e18/06/2016 Changed signature with FlexibleViewHolder\n  */\n-public interface IHeader\u003cVH extends RecyclerView.ViewHolder\u003e extends IFlexible\u003cVH\u003e {\n+public interface IHeader\u003cVH extends FlexibleViewHolder\u003e extends IFlexible\u003cVH\u003e {\n \n }\n\\ No newline at end of file"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/viewholders/ContentViewHolder.java",
          "patch": "@@ -0,0 +1,75 @@\n+package eu.davidea.viewholders;\n+\n+import android.support.v7.widget.RecyclerView;\n+import android.view.View;\n+import android.widget.FrameLayout;\n+\n+import eu.davidea.flexibleadapter.FlexibleAdapter;\n+\n+/**\n+ * This Class separates the initialization of an eventual StickyHeader ViewHolder from a Normal\n+ * ViewHolder. It improves code readability of FlexibleViewHolder.\n+ *\n+ * @author Davide Steduto\n+ * @since 18/06/2016 Created\n+ */\n+abstract class ContentViewHolder extends RecyclerView.ViewHolder {\n+\n+\tprivate int mBackupPosition \u003d RecyclerView.NO_POSITION;\n+\tprivate View contentView;\n+\n+\tpublic ContentViewHolder(View view, FlexibleAdapter adapter, boolean stickyHeader) {\n+\t\t//Since itemView is declared \"final\", the split is done before the View is initialized\n+\t\tsuper(stickyHeader ? new FrameLayout(view.getContext()) : view);\n+\n+\t\tif (stickyHeader) {\n+\t\t\titemView.setLayoutParams(adapter.getRecyclerView().getLayoutManager()\n+\t\t\t\t\t.generateLayoutParams(view.getLayoutParams()));\n+\t\t\t((FrameLayout) itemView).addView(view);//Add View after setLayoutParams\n+\t\t\tcontentView \u003d view;\n+\t\t}\n+\t}\n+\n+\t/*-----------------------*/\n+\t/* STICKY HEADER METHODS */\n+\t/*-----------------------*/\n+\n+\t/**\n+\t * In case this ViewHolder represents a Header Item, this method returns the contentView of the\n+\t * FrameLayout, otherwise it returns the basic itemView.\n+\t *\n+\t * @return the real contentView\n+\t */\n+\tpublic View getContentView() {\n+\t\treturn contentView !\u003d null ? contentView : itemView;\n+\t}\n+\n+\t/**\n+\t * Overcomes the situation of returning an unknown position (-1) of ViewHolders created out of\n+\t * the LayoutManager (ex. StickyHeaders).\n+\t * \u003cp\u003e\u003cb\u003eNOTE:\u003c/b\u003e Always call this method, instead of {@code getAdapterPosition()}, in case\n+\t * of StickyHeaders use case.\u003c/p\u003e\n+\t *\n+\t * @return the Adapter position result of {@link #getAdapterPosition()} OR the backup position\n+\t * preset and known, if the previous result was {@link RecyclerView#NO_POSITION}.\n+\t * @see #setBackupPosition(int)\n+\t */\n+\tpublic int getFlexibleAdapterPosition() {\n+\t\tint position \u003d getAdapterPosition();\n+\t\tif (position \u003d\u003d RecyclerView.NO_POSITION) {\n+\t\t\tposition \u003d mBackupPosition;\n+\t\t}\n+\t\treturn position;\n+\t}\n+\n+\t/**\n+\t * Restore the Adapter position if the original Adapter position is unknown.\n+\t * \u003cp\u003eCalled by StickyHeaderHelper to support the clickListeners events.\u003c/p\u003e\n+\t *\n+\t * @param backupPosition the known position of this ViewHolder\n+\t */\n+\tpublic void setBackupPosition(int backupPosition) {\n+\t\tmBackupPosition \u003d backupPosition;\n+\t}\n+\n+}\n\\ No newline at end of file"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/viewholders/ExpandableViewHolder.java",
          "patch": "@@ -25,7 +25,7 @@\n /**\n  * ViewHolder for a Expandable Items. Holds callbacks which can be used to trigger expansion events.\n  * \u003cp\u003eThis class extends {@link FlexibleViewHolder}, which means it will benefit of all implemented\n- * methods the lower class holds.\u003c/p\u003e\n+ * methods the super class holds.\u003c/p\u003e\n  *\n  * @author Davide Steduto\n  * @since 16/01/2016 Created\n@@ -151,15 +151,6 @@ public boolean onLongClick(View view) {\n \t\treturn super.onLongClick(view);\n \t}\n \n-//\t@Override\n-//\tpublic boolean onTouch(View view, MotionEvent event) {\n-//\t\t//We don\u0027t allow Drag of Children if a parent is selected\n-//\t\tboolean expandable \u003d mAdapter.isExpandable(getFlexibleAdapterPosition());\n-//\t\tif (expandable \u0026\u0026 !mAdapter.isAnyChildSelected() || !expandable \u0026\u0026 !mAdapter.isAnyParentSelected())\n-//\t\t\treturn super.onTouch(view, event);\n-//\t\treturn false;\n-//\t}\n-\n \t/**\n \t * {@inheritDoc}\n \t * \u003cp\u003e\u003cb\u003eNote:\u003c/b\u003e In the Expandable version, expanded items are forced to collapse.\u003c/p\u003e"
        },
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/viewholders/FlexibleViewHolder.java",
          "patch": "@@ -42,23 +42,25 @@\n  * @since 03/01/2016 Created\n  * \u003cbr/\u003e23/01/2016 ItemTouch with Drag\u0026Drop, Swipe\n  * \u003cbr/\u003e26/01/2016 Constructor revisited\n- * \u003cbr/\u003e04/06/2016 Added StickyHeader flag\n+ * \u003cbr/\u003e18/06/2016 StickyHeader flag is delegated to the super class (ContentViewHolder)\n  */\n-public abstract class FlexibleViewHolder extends RecyclerView.ViewHolder\n+public abstract class FlexibleViewHolder extends ContentViewHolder\n \t\timplements View.OnClickListener, View.OnLongClickListener,\n \t\tView.OnTouchListener, ItemTouchHelperCallback.ViewHolderCallback {\n \n \tprivate static final String TAG \u003d FlexibleViewHolder.class.getSimpleName();\n \n+\t//FlexibleAdapter is needed to retrieve listeners and item status\n \tprotected final FlexibleAdapter mAdapter;\n-\tprivate int mBackupPosition \u003d RecyclerView.NO_POSITION;\n \n-\t/* These 2 fields avoid double tactile feedback triggered by Android and allow to Drag an\n-\t   item maintaining LongClick events for ActionMode, all at the same time */\n-\tprotected int mActionState \u003d ItemTouchHelper.ACTION_STATE_IDLE;\n+\t//These 2 fields avoid double tactile feedback triggered by Android during the touch event\n+\t// (Drag or Swipe), also assure the LongClick event is correctly fired for ActionMode if that\n+\t// was the user intention.\n \tprivate boolean mLongClickSkipped \u003d false;\n \tprivate boolean alreadySelected \u003d false;\n-\tprivate View contentView;\n+\n+\t//State for Dragging \u0026 Swiping actions\n+\tprotected int mActionState \u003d ItemTouchHelper.ACTION_STATE_IDLE;\n \n \t/*--------------*/\n \t/* CONSTRUCTORS */\n@@ -84,19 +86,11 @@ public FlexibleViewHolder(View view, FlexibleAdapter adapter) {\n \t * @param stickyHeader true if the View can be a Sticky Header, false otherwise\n \t */\n \tpublic FlexibleViewHolder(View view, FlexibleAdapter adapter, boolean stickyHeader) {\n-\t\tsuper(stickyHeader ? new FrameLayout(view.getContext()) : view);\n+\t\tsuper(view, adapter, stickyHeader);\n \t\tthis.mAdapter \u003d adapter;\n-\t\tif (stickyHeader) {\n-\t\t\titemView.setLayoutParams(mAdapter.getRecyclerView().getLayoutManager()\n-\t\t\t\t\t.generateLayoutParams(view.getLayoutParams()));\n-\t\t\t((FrameLayout) itemView).addView(view);//Add View after setLayoutParams\n-\t\t\tcontentView \u003d view;\n-\t\t\tcontentView.setOnClickListener(this);\n-\t\t\tcontentView.setOnLongClickListener(this);\n-\t\t} else {\n-\t\t\titemView.setOnClickListener(this);\n-\t\t\titemView.setOnLongClickListener(this);\n-\t\t}\n+\n+\t\tgetContentView().setOnClickListener(this);\n+\t\tgetContentView().setOnLongClickListener(this);\n \t}\n \n \t/*--------------------------------*/\n@@ -352,44 +346,64 @@ public View getRearRightView() {\n \t\treturn null;\n \t}\n \n-\t/*---------------*/\n-\t/* STICKY HEADER */\n-\t/*---------------*/\n+\tprivate static class ContentViewHolder extends RecyclerView.ViewHolder {\n \n-\tpublic View getContentView() {\n-\t\treturn contentView !\u003d null ? contentView : itemView;\n-\t}\n+\t\tprivate int mBackupPosition \u003d RecyclerView.NO_POSITION;\n+\t\tprivate View contentView;\n \n-\tpublic boolean isStickyHeader() {\n-\t\treturn contentView !\u003d null;\n-\t}\n+\t\tpublic ContentViewHolder(View view, FlexibleAdapter adapter, boolean stickyHeader) {\n+\t\t\t//Since itemView is declared \"final\", the split is done before the View is initialized\n+\t\t\tsuper(stickyHeader ? new FrameLayout(view.getContext()) : view);\n \n-\t/**\n-\t * Overcomes the situation of returning an unknown position (-1) of ViewHolders created out of\n-\t * the LayoutManager (ex. StickyHeaders).\n-\t * \u003cp\u003e\u003cb\u003eNOTE:\u003c/b\u003e Always call this method, instead of {@code getAdapterPosition()}, in case\n-\t * of StickyHeaders use case.\u003c/p\u003e\n-\t *\n-\t * @return the Adapter position result of {@link #getAdapterPosition()} OR the backup position\n-\t * preset and known, if the previous result was {@link RecyclerView#NO_POSITION}.\n-\t * @see #setBackupPosition(int)\n-\t */\n-\tpublic int getFlexibleAdapterPosition() {\n-\t\tint position \u003d getAdapterPosition();\n-\t\tif (position \u003d\u003d RecyclerView.NO_POSITION) {\n-\t\t\tposition \u003d mBackupPosition;\n+\t\t\tif (stickyHeader) {\n+\t\t\t\titemView.setLayoutParams(adapter.getRecyclerView().getLayoutManager()\n+\t\t\t\t\t\t.generateLayoutParams(view.getLayoutParams()));\n+\t\t\t\t((FrameLayout) itemView).addView(view);//Add View after setLayoutParams\n+\t\t\t\tcontentView \u003d view;\n+\t\t\t}\n \t\t}\n-\t\treturn position;\n-\t}\n \n-\t/**\n-\t * Restore the Adapter position if the original Adapter position is unknown.\n-\t * \u003cp\u003eCalled by StickyHeaderHelper to support the clickListeners events.\u003c/p\u003e\n-\t *\n-\t * @param backupPosition the known position of this ViewHolder\n-\t */\n-\tpublic void setBackupPosition(int backupPosition) {\n-\t\tmBackupPosition \u003d backupPosition;\n+\t/*-----------------------*/\n+\t/* STICKY HEADER METHODS */\n+\t/*-----------------------*/\n+\n+\t\t/**\n+\t\t * In case this ViewHolder represents a Header Item, this method returns the contentView of the\n+\t\t * FrameLayout, otherwise it returns the basic itemView.\n+\t\t *\n+\t\t * @return the real contentView\n+\t\t */\n+\t\tpublic View getContentView() {\n+\t\t\treturn contentView !\u003d null ? contentView : itemView;\n+\t\t}\n+\n+\t\t/**\n+\t\t * Overcomes the situation of returning an unknown position (-1) of ViewHolders created out of\n+\t\t * the LayoutManager (ex. StickyHeaders).\n+\t\t * \u003cp\u003e\u003cb\u003eNOTE:\u003c/b\u003e Always call this method, instead of {@code getAdapterPosition()}, in case\n+\t\t * of StickyHeaders use case.\u003c/p\u003e\n+\t\t *\n+\t\t * @return the Adapter position result of {@link #getAdapterPosition()} OR the backup position\n+\t\t * preset and known, if the previous result was {@link RecyclerView#NO_POSITION}.\n+\t\t * @see #setBackupPosition(int)\n+\t\t */\n+\t\tpublic int getFlexibleAdapterPosition() {\n+\t\t\tint position \u003d getAdapterPosition();\n+\t\t\tif (position \u003d\u003d RecyclerView.NO_POSITION) {\n+\t\t\t\tposition \u003d mBackupPosition;\n+\t\t\t}\n+\t\t\treturn position;\n+\t\t}\n+\n+\t\t/**\n+\t\t * Restore the Adapter position if the original Adapter position is unknown.\n+\t\t * \u003cp\u003eCalled by StickyHeaderHelper to support the clickListeners events.\u003c/p\u003e\n+\t\t *\n+\t\t * @param backupPosition the known position of this ViewHolder\n+\t\t */\n+\t\tpublic void setBackupPosition(int backupPosition) {\n+\t\t\tmBackupPosition \u003d backupPosition;\n+\t\t}\n \t}\n \n }\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "App crashes on selecting some contacts",
    "url": "https://github.com/midhunhk/trip-o-meter/issues/16",
    "description": "The app crashes when adding some contacts with the below stack trace\r\n\r\n`  Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String com.ae.apps.common.vo.ContactVo.getId()\u0027 on a null object reference\r\n\t at com.ae.apps.tripmeter.fragments.AddTripDialogFragment.onActivityResult(AddTripDialogFragment.java:175)\r\n\t at android.support.v4.app.FragmentActivity.onActivityResult(FragmentActivity.java:164)\r\n\t at android.app.Activity.dispatchActivityResult(Activity.java:6218)\r\n\t at android.app.ActivityThread.deliverResults(ActivityThread.java:3655)\r\n\t at android.app.ActivityThread.handleSendResult(ActivityThread.java:3702) \r\n\t at android.app.ActivityThread.access$1300(ActivityThread.java:155) \r\n\t at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1366) \r\n\t at android.os.Handler.dispatchMessage(Handler.java:102) \r\n\t at android.os.Looper.loop(Looper.java:135) \r\n\t at android.app.ActivityThread.main(ActivityThread.java:5343) \r\n\t at java.lang.reflect.Method.invoke(Native Method) \r\n\t at java.lang.reflect.Method.invoke(Method.java:372) \r\n\t at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905) \r\n\t at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700) \r\n`",
    "keywords": [
      "com",
      " ",
      "app",
      "activitythread",
      "java",
      "os",
      "method",
      "app activitythread",
      "android",
      "invoke",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/midhunhk/trip-o-meter/commit/4f93bd2f722f68365dcaab2cdc26e12a14b804e2",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -11,8 +11,8 @@ android {\n         applicationId \"com.ae.apps.tripmeter\"\n         minSdkVersion 16\n         targetSdkVersion 25\n-        versionCode 11\n-        versionName \"2.0.18\"\n+        versionCode 12\n+        versionName \"2.0.19\"\n         testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n         vectorDrawables.useSupportLibrary \u003d true\n     }"
        },
        {
          "file_name": "app/src/main/java/com/ae/apps/tripmeter/managers/ExpenseContactManager.java",
          "patch": "@@ -40,18 +40,21 @@\n     /**\n      * Return a reference to the ExpenseContactManager implementation\n      *\n-     * @param contentResolver\n-     * @return\n+     * @param contentResolver content resolver\n+     * @return instance of {@link ExpenseContactManager}\n      */\n-    public static ExpenseContactManager newInstance(ContentResolver contentResolver){\n-        if(null \u003d\u003d instance){\n-            instance \u003d new ExpenseContactManager(contentResolver);\n+    public static ExpenseContactManager newInstance(ContentResolver contentResolver) {\n+        if (null \u003d\u003d instance) {\n+            ContactManager.Config config \u003d new ContactManager.Config();\n+            config.contentResolver \u003d contentResolver;\n+            config.addContactsWithPhoneNumbers \u003d false;\n+            instance \u003d new ExpenseContactManager(config);\n         }\n         return instance;\n     }\n \n-    public ExpenseContactManager(ContentResolver contentResolver) {\n-        super(contentResolver);\n+    private ExpenseContactManager(ContactManager.Config config) {\n+        super(config);\n     }\n \n     @Override\n@@ -61,15 +64,16 @@ public ExpenseContactManager(ContentResolver contentResolver) {\n \n     /**\n      * Returns a list of ContactVos from contactIds\n+     *\n      * @param memberIds comma separated member ids\n-     * @return\n+     * @return contactsList\n      */\n     public List\u003cContactVo\u003e getContactsFromIds(String memberIds) {\n         List\u003cContactVo\u003e contacts \u003d new ArrayList\u003c\u003e();\n-        if(null !\u003d memberIds \u0026\u0026 !TextUtils.isEmpty(memberIds)){\n+        if (null !\u003d memberIds \u0026\u0026 !TextUtils.isEmpty(memberIds)) {\n             ContactVo contactVo;\n-            String [] contactIds \u003d memberIds.split(\",\");\n-            for(String contactId : contactIds){\n+            String[] contactIds \u003d memberIds.split(\",\");\n+            for (String contactId : contactIds) {\n                 contactVo \u003d getContactInfo(contactId);\n                 contacts.add(contactVo);\n             }\n@@ -80,24 +84,24 @@ public ExpenseContactManager(ContentResolver contentResolver) {\n \n     /**\n      * Finds and returns the default Profile (current user)\n-     *\n+     * \u003cp\u003e\n      * Owner details are stored in ContactsContract.Profile for ICS and up\n      *\n-     * @return\n+     * @return ContactVO\n      */\n-    public ContactVo getDefaultContact(){\n+    public ContactVo getDefaultContact() {\n         ContactVo contactVo \u003d new ContactVo();\n \n         boolean userFound \u003d false;\n-        Cursor cursor \u003d contentResolver.query( ContactsContract.Profile.CONTENT_URI, null, null, null, null);\n-        if(cursor.moveToFirst()){\n-            contactVo.setName(cursor.getString(cursor.getColumnIndex( ContactsContract.Profile.DISPLAY_NAME)));\n-            contactVo.setId(cursor.getString(cursor.getColumnIndex( ContactsContract.Profile._ID)));\n+        Cursor cursor \u003d contentResolver.query(ContactsContract.Profile.CONTENT_URI, null, null, null, null);\n+        if (null !\u003d cursor \u0026\u0026 cursor.moveToFirst()) {\n+            contactVo.setName(cursor.getString(cursor.getColumnIndex(ContactsContract.Profile.DISPLAY_NAME)));\n+            contactVo.setId(cursor.getString(cursor.getColumnIndex(ContactsContract.Profile._ID)));\n             userFound \u003d true;\n+            cursor.close();\n         }\n-        cursor.close();\n \n-        if(!userFound){\n+        if (!userFound) {\n             contactVo.setName(\"You\");\n             contactVo.setId(\"0\");\n         }"
        },
        {
          "file_name": "app/src/main/java/com/ae/apps/tripmeter/managers/ExpenseManager.java",
          "patch": "@@ -77,7 +77,7 @@ public static ExpenseManager newInstance(final Context context) {\n     private ExpenseManager(final Context context) {\n         mContext \u003d context;\n         mExpensesDatabase \u003d new TripExpensesDatabase(mContext);\n-        mContactManager \u003d new ExpenseContactManager(mContext.getContentResolver());\n+        mContactManager \u003d ExpenseContactManager.newInstance(mContext.getContentResolver());\n \n         mDefaultProfilePic \u003d BitmapFactory.decodeResource(mContext.getResources(), R.drawable.default_profile_image);\n     }"
        },
        {
          "file_name": "app/src/main/res/values/strings.xml",
          "patch": "@@ -1,8 +1,8 @@\n \u003cresources\u003e\n     \u003cstring name\u003d\"app_name\"\u003eTrip O Meter\u003c/string\u003e\n-    \u003cstring name\u003d\"app_version_name\"\u003e2.0.18 (Balanjar)\u003c/string\u003e\n+    \u003cstring name\u003d\"app_version_name\"\u003e2.0.19 (Balanjar)\u003c/string\u003e\n     \u003cstring name\u003d\"app_version_code\"\u003eBalanjar was a medieval city located in the North Caucasus region, between the cities of Derbent and Samandar, which flourished from the seventh to the tenth centuries CE.\u003c/string\u003e\n-    \u003cstring name\u003d\"app_release_date\"\u003eMar 2017\u003c/string\u003e\n+    \u003cstring name\u003d\"app_release_date\"\u003eApr 2017\u003c/string\u003e\n     \u003cstring name\u003d\"app_disclaim\"\u003eThe data shown in this app is approximate and should be used for a rough estimate only and may vary with actually observed values.\u003c/string\u003e\n     \u003cstring name\u003d\"app_desc\"\u003eThis app calculates an estimate of fuel and cost needed for a trip\u003c/string\u003e\n     \u003cstring name\u003d\"app_developer_info\"\u003eDesigned \u0026amp; Developed at ae labs\u003c/string\u003e"
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -5,7 +5,7 @@ buildscript {\n         jcenter()\n     }\n     dependencies {\n-        classpath \u0027com.android.tools.build:gradle:2.3.0\u0027\n+        classpath \u0027com.android.tools.build:gradle:2.3.1\u0027\n \n         // NOTE: Do not place your application dependencies here; they belong\n         // in the individual module build.gradle files"
        }
      ]
    }
  },
  {
    "name": "401 on closing changeset (ChangesetAutoCloserService)",
    "url": "https://github.com/westnordost/StreetComplete/issues/283",
    "description": "Error report with stack trace that was sent to me.\r\n\r\nDevice: Lenovo A2016a40, Android 6.0\r\nThread: IntentService[ChangesetAutoCloserService]\r\nStack trace:\r\nde.westnordost.osmapi.common.errors.OsmAuthorizationException: Unauthorized (401) - Couldn\u0027t authenticate you\r\nat de.westnordost.osmapi.OsmApiErrorFactory.createError(OsmApiErrorFactory.java:33)\r\nat de.westnordost.osmapi.OsmConnection.handleResponseCode(OsmConnection.java:343)\r\nat de.westnordost.osmapi.OsmConnection.makeRequest(OsmConnection.java:189)\r\nat de.westnordost.osmapi.OsmConnection.makeAuthenticatedRequest(OsmConnection.java:161)\r\nat de.westnordost.osmapi.map.MapDataDao.closeChangeset(MapDataDao.java:170)\r\nat de.westnordost.streetcomplete.data.osm.upload.OsmQuestChangesUpload.closeOpenChangesets(OsmQuestChangesUpload.java:114)\r\nat de.westnordost.streetcomplete.data.osm.upload.ChangesetAutoCloserService.onHandleIntent(ChangesetAutoCloserService.java:26)\r\nat android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\r\nat android.os.Handler.dispatchMessage(Handler.java:111)\r\nat android.os.Looper.loop(Looper.java:207)\r\nat android.os.HandlerThread.run(HandlerThread.java:61)",
    "keywords": [
      "osmapi",
      "changesetautocloserservice",
      "de",
      "os",
      "westnordost",
      "osmconnection",
      "android",
      "westnordost osmapi"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/9707340c7982a688de36d686d9fc3674e4919e56",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/osm/upload/ChangesetAutoCloserService.java",
          "patch": "@@ -6,6 +6,7 @@\n \n import javax.inject.Inject;\n \n+import de.westnordost.osmapi.common.errors.OsmAuthorizationException;\n import de.westnordost.osmapi.common.errors.OsmConnectionException;\n import de.westnordost.streetcomplete.Injector;\n \n@@ -30,6 +31,11 @@ public ChangesetAutoCloserService()\n \t\t\t// wasn\u0027t able to connect to the server (i.e. connection timeout). Oh well, then,\n \t\t\t// never mind.\n \t\t}\n+\t\tcatch(OsmAuthorizationException e)\n+\t\t{\n+\t\t\t// the user may not be authorized yet (or not be authorized anymore) #283\n+\t\t\t// nothing we can do about here. He will have to reauthenticate when he next opens the app\n+\t\t}\n \t\tChangesetAutoCloserReceiver.completeWakefulIntent(intent);\n \t}\n }\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "Вылет при попытке открыть ссылку без установленного браузера",
    "url": "https://github.com/TheDrHax/mosmetro-android/issues/117",
    "description": "Проблема, аналогичная #116. Система не может найти Activity для открытия ссылки.\r\n\r\n```\r\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act\u003dandroid.intent.action.VIEW dat\u003dhttps://thedrhax.pw }\r\n\tat android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1765)\r\n\tat android.app.Instrumentation.execStartActivity(Instrumentation.java:1485)\r\n\tat android.app.Activity.startActivityForResult(Activity.java:3810)\r\n\tat android.app.Activity.startActivityForResult(Activity.java:3752)\r\n\tat android.app.Activity.startActivity(Activity.java:4081)\r\n\tat android.app.Activity.startActivity(Activity.java:4049)\r\n\tat android.preference.Preference.performClick(Preference.java:1001)\r\n\tat android.preference.PreferenceScreen.onItemClick(PreferenceScreen.java:214)\r\n\tat android.widget.AdapterView.performItemClick(AdapterView.java:300)\r\n\tat android.widget.AbsListView.performItemClick(AbsListView.java:1143)\r\n\tat android.widget.AbsListView$PerformClick.run(AbsListView.java:3048)\r\n\tat android.widget.AbsListView$3.run(AbsListView.java:3837)\r\n\tat android.os.Handler.handleCallback(Handler.java:739)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:135)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5261)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:939)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:734)\r\n```",
    "keywords": [
      "app",
      "handler",
      "abslistview",
      "widget",
      "os",
      "activity",
      "method",
      "android",
      "preference",
      "android app",
      "run",
      "instrumentation",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/TheDrHax/mosmetro-android/commit/d64f1faf19010256192866adb740772488bf6b54",
      "files": [
        {
          "file_name": "AndroidManifest.xml",
          "patch": "@@ -61,6 +61,18 @@\n         \u003c/activity\u003e\n \n         \u003cactivity\n+            android:name\u003d\".activities.SafeViewActivity\"\n+            android:autoRemoveFromRecents\u003d\"true\"\n+            android:excludeFromRecents\u003d\"true\"\n+            android:theme\u003d\"@android:style/Theme.NoDisplay\"\n+            tools:ignore\u003d\"UnusedAttribute\"\u003e\n+            \u003cintent-filter\u003e\n+                \u003caction android:name\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"/\u003e\n+                \u003ccategory android:name\u003d\"android.intent.category.DEFAULT\"/\u003e\n+            \u003c/intent-filter\u003e\n+        \u003c/activity\u003e\n+\n+        \u003cactivity\n             android:name\u003d\".activities.ShortcutActivity\"\n             android:label\u003d\"@string/manual_connection_shortcut\"\n             android:theme\u003d\"@style/AppBaseTheme.Dialog\"\u003e"
        },
        {
          "file_name": "res/values-ru/strings.xml",
          "patch": "@@ -198,4 +198,5 @@\n     \u003cstring name\u003d\"pref_timeout\"\u003eТаймаут соединения\u003c/string\u003e\n     \u003cstring name\u003d\"pref_timeout_summary\"\u003eКоличество миллисекунд, в течение которого приложение ожидает ответа от сервера. Если установлен 0, приложеие будет ждать до тех пор пока не будет поймана одна из ошибок (по умолчанию: 0).\u003c/string\u003e\n     \u003cstring name\u003d\"toast_unsupported_function\"\u003eПохоже эта функция не поддерживается вашим устройством :(\u003c/string\u003e\n+    \u003cstring name\u003d\"toast_view_exception\"\u003eПохоже, у вас не установлено ни одного браузера\u003c/string\u003e\n \u003c/resources\u003e"
        },
        {
          "file_name": "res/values/strings.xml",
          "patch": "@@ -214,4 +214,5 @@\n     \u003cstring name\u003d\"pref_timeout\"\u003eConnection timeout\u003c/string\u003e\n     \u003cstring name\u003d\"pref_timeout_summary\"\u003eNumber of milliseconds to wait for server answer. If 0 is set, application will wait until connection error is caught (default: 0).\u003c/string\u003e\n     \u003cstring name\u003d\"toast_unsupported_function\"\u003eThis function seems to be unsupported on your device. Sorry :(\u003c/string\u003e\n+    \u003cstring name\u003d\"toast_view_exception\"\u003eLooks like you don\\\u0027t have any browsers installed\u003c/string\u003e\n \u003c/resources\u003e"
        },
        {
          "file_name": "res/xml/about.xml",
          "patch": "@@ -14,38 +14,38 @@\n         android:title\u003d\"@string/developer_github_repo\"\n         android:summary\u003d\"@string/developer_github_repo_summary\"\u003e\n \n-        \u003cintent\n-            android:action\u003d\"android.intent.action.VIEW\"\n-            android:data\u003d\"@string/developer_github_repo_link\" /\u003e\n+        \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+            \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/developer_github_repo_link\" /\u003e\n+        \u003c/intent\u003e\n \n     \u003c/PreferenceScreen\u003e\n \n     \u003cPreferenceScreen\n         android:title\u003d\"@string/developer_vkontakte\"\n         android:summary\u003d\"@string/developer_vkontakte_summary\"\u003e\n \n-        \u003cintent\n-            android:action\u003d\"android.intent.action.VIEW\"\n-            android:data\u003d\"@string/developer_vkontakte_link\" /\u003e\n+        \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+            \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/developer_vkontakte_link\" /\u003e\n+        \u003c/intent\u003e\n \n     \u003c/PreferenceScreen\u003e\n \n     \u003cPreferenceScreen\n         android:title\u003d\"@string/developer_site\"\n         android:summary\u003d\"@string/developer_site_link\"\u003e\n \n-        \u003cintent\n-            android:action\u003d\"android.intent.action.VIEW\"\n-            android:data\u003d\"@string/developer_site_link\" /\u003e\n+        \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+            \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/developer_site_link\" /\u003e\n+        \u003c/intent\u003e\n \n     \u003c/PreferenceScreen\u003e\n \n     \u003cPreferenceScreen\n         android:title\u003d\"@string/developer_google_play\"\u003e\n \n-        \u003cintent\n-            android:action\u003d\"android.intent.action.VIEW\"\n-            android:data\u003d\"@string/developer_google_play_link\" /\u003e\n+        \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+            \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/developer_google_play_link\" /\u003e\n+        \u003c/intent\u003e\n \n     \u003c/PreferenceScreen\u003e\n \n@@ -56,29 +56,29 @@\n             android:title\u003d\"@string/contirutor_revertron\"\n             android:summary\u003d\"@string/contributor_revertron_summary\"\u003e\n \n-            \u003cintent\n-                android:action\u003d\"android.intent.action.VIEW\"\n-                android:data\u003d\"@string/contributor_revertron_link\" /\u003e\n+            \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+                \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/contributor_revertron_link\" /\u003e\n+            \u003c/intent\u003e\n \n         \u003c/PreferenceScreen\u003e\n \n         \u003cPreferenceScreen\n             android:title\u003d\"@string/contributor_Mikhail_Kuropatkin\"\n             android:summary\u003d\"@string/contrinutor_Mikhail_Kuropatkin_summary\"\u003e\n \n-            \u003cintent\n-                android:action\u003d\"android.intent.action.VIEW\"\n-                android:data\u003d\"@string/contributor_Mikhail_Kuropatkin_link\" /\u003e\n+            \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+                \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/contributor_Mikhail_Kuropatkin_link\" /\u003e\n+            \u003c/intent\u003e\n \n         \u003c/PreferenceScreen\u003e\n \n         \u003cPreferenceScreen\n             android:title\u003d\"@string/contributor_Alexander_Krotov\"\n             android:summary\u003d\"@string/contributor_Alexander_Krotov_summary\"\u003e\n \n-            \u003cintent\n-                android:action\u003d\"android.intent.action.VIEW\"\n-                android:data\u003d\"@string/contributor_Alexander_Krotov_link\" /\u003e\n+            \u003cintent android:action\u003d\"pw.thedrhax.mosmetro.activities.SafeViewActivity\"\u003e\n+                \u003cextra android:name\u003d\"data\" android:value\u003d\"@string/contributor_Alexander_Krotov_link\" /\u003e\n+            \u003c/intent\u003e\n \n         \u003c/PreferenceScreen\u003e\n     \u003c/PreferenceCategory\u003e"
        },
        {
          "file_name": "src/pw/thedrhax/mosmetro/activities/SafeViewActivity.java",
          "patch": "@@ -0,0 +1,31 @@\n+package pw.thedrhax.mosmetro.activities;\n+\n+import android.app.Activity;\n+import android.content.ActivityNotFoundException;\n+import android.content.Intent;\n+import android.net.Uri;\n+import android.os.Bundle;\n+import android.widget.Toast;\n+\n+import pw.thedrhax.mosmetro.R;\n+\n+/**\n+ * Activity used to call ACTION_VIEW safely\n+ * (it will not crash if no browsers are installed)\n+ * @author Dmitry Karikh \u003cthe.dr.hax@gmail.com\u003e\n+ */\n+public class SafeViewActivity extends Activity {\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        try {\n+            startActivity(new Intent(\n+                    Intent.ACTION_VIEW,\n+                    Uri.parse(getIntent().getStringExtra(\"data\"))\n+            ));\n+        } catch (ActivityNotFoundException ex) {\n+            Toast.makeText(this, R.string.toast_view_exception, Toast.LENGTH_LONG).show();\n+        }\n+        finish();\n+    }\n+}"
        },
        {
          "file_name": "src/pw/thedrhax/mosmetro/activities/SettingsActivity.java",
          "patch": "@@ -26,7 +26,6 @@\n import android.content.DialogInterface;\n import android.content.Intent;\n import android.content.SharedPreferences;\n-import android.net.Uri;\n import android.os.Build;\n import android.os.Bundle;\n import android.preference.CheckBoxPreference;\n@@ -74,9 +73,9 @@ private void donate_dialog() {\n             public void onClick(DialogInterface dialogInterface, int i) {\n                 switch (i) {\n                     case 0: // Yandex.Money\n-                        Intent yandex \u003d new Intent(Intent.ACTION_VIEW);\n-                        yandex.setData(Uri.parse(getString(R.string.donate_yandex_data)));\n-                        startActivity(yandex);\n+                        startActivity(new Intent(SettingsActivity.this, SafeViewActivity.class)\n+                                .putExtra(\"data\", getString(R.string.donate_yandex_data))\n+                        );\n                         break;\n \n                     case 1: // WebMoney\n@@ -95,21 +94,21 @@ public void onClick(DialogInterface dialogInterface, int i) {\n                         break;\n \n                     case 2: // GitHub\n-                        Intent github \u003d new Intent(Intent.ACTION_VIEW);\n-                        github.setData(Uri.parse(getString(R.string.developer_github_repo_link)));\n-                        startActivity(github);\n+                        startActivity(new Intent(SettingsActivity.this, SafeViewActivity.class)\n+                                .putExtra(\"data\", getString(R.string.developer_github_repo_link))\n+                        );\n                         break;\n \n                     case 3: // VK\n-                        Intent vk \u003d new Intent(Intent.ACTION_VIEW);\n-                        vk.setData(Uri.parse(getString(R.string.developer_vkontakte_link)));\n-                        startActivity(vk);\n+                        startActivity(new Intent(SettingsActivity.this, SafeViewActivity.class)\n+                                .putExtra(\"data\", getString(R.string.developer_vkontakte_link))\n+                        );\n                         break;\n \n                     case 4: // Google Play\n-                        Intent google \u003d new Intent(Intent.ACTION_VIEW);\n-                        google.setData(Uri.parse(getString(R.string.developer_google_play_link)));\n-                        startActivity(google);\n+                        startActivity(new Intent(SettingsActivity.this, SafeViewActivity.class)\n+                                .putExtra(\"data\", getString(R.string.developer_google_play_link))\n+                        );\n                         break;\n                 }\n             }"
        },
        {
          "file_name": "src/pw/thedrhax/mosmetro/services/ConnectionService.java",
          "patch": "@@ -22,7 +22,6 @@\n import android.app.PendingIntent;\n import android.content.Intent;\n import android.content.SharedPreferences;\n-import android.net.Uri;\n import android.os.SystemClock;\n import android.preference.PreferenceManager;\n \n@@ -31,6 +30,7 @@\n \n import pw.thedrhax.mosmetro.R;\n import pw.thedrhax.mosmetro.activities.DebugActivity;\n+import pw.thedrhax.mosmetro.activities.SafeViewActivity;\n import pw.thedrhax.mosmetro.authenticator.Provider;\n import pw.thedrhax.mosmetro.authenticator.Task;\n import pw.thedrhax.util.Logger;\n@@ -132,8 +132,8 @@ private void notify (Provider.RESULT result) {\n                             .text(getString(R.string.notification_not_registered_register))\n                             .icon(R.drawable.ic_notification_register)\n                             .onClick(PendingIntent.getActivity(this, 0,\n-                                    new Intent(Intent.ACTION_VIEW)\n-                                            .setData(Uri.parse(\"http://wi-fi.ru\")),\n+                                    new Intent(this, SafeViewActivity.class)\n+                                            .putExtra(\"data\", \"http://wi-fi.ru\"),\n                                     PendingIntent.FLAG_UPDATE_CURRENT\n                             ))\n                             .id(2).show().id(1);"
        },
        {
          "file_name": "src/pw/thedrhax/mosmetro/updater/NewsChecker.java",
          "patch": "@@ -22,7 +22,6 @@\n import android.content.Context;\n import android.content.Intent;\n import android.content.SharedPreferences;\n-import android.net.Uri;\n import android.preference.PreferenceManager;\n import android.support.annotation.NonNull;\n \n@@ -32,6 +31,7 @@\n \n import pw.thedrhax.mosmetro.BuildConfig;\n import pw.thedrhax.mosmetro.R;\n+import pw.thedrhax.mosmetro.activities.SafeViewActivity;\n import pw.thedrhax.mosmetro.httpclient.CachedRetriever;\n import pw.thedrhax.util.Notify;\n import pw.thedrhax.util.Version;\n@@ -56,14 +56,13 @@ public void check() {\n         }\n \n         long id, max_version;\n-        String title, message;\n-        Uri url;\n+        String title, message, url;\n         try {\n             id \u003d Integer.parseInt((String)data.get(\"id\"));\n             max_version \u003d Integer.parseInt((String)data.get(\"max_version\"));\n             title \u003d (String)data.get(\"title\");\n             message \u003d (String)data.get(\"message\");\n-            url \u003d Uri.parse((String)data.get(\"url\"));\n+            url \u003d (String)data.get(\"url\");\n         } catch (Exception ex) {\n             return;\n         }\n@@ -77,7 +76,8 @@ public void check() {\n         new Notify(context).id(255)\n                 .icon(R.drawable.ic_notification_message)\n                 .onClick(PendingIntent.getActivity(context, 255,\n-                        new Intent(Intent.ACTION_VIEW).setData(url),\n+                        new Intent(context, SafeViewActivity.class)\n+                                .putExtra(\"data\", url),\n                         PendingIntent.FLAG_UPDATE_CURRENT\n                 ))\n                 .title(title)"
        },
        {
          "file_name": "src/pw/thedrhax/mosmetro/updater/UpdateCheckTask.java",
          "patch": "@@ -23,7 +23,6 @@\n import android.content.DialogInterface;\n import android.content.Intent;\n import android.content.SharedPreferences;\n-import android.net.Uri;\n import android.os.AsyncTask;\n import android.preference.PreferenceManager;\n \n@@ -36,6 +35,7 @@\n \n import pw.thedrhax.mosmetro.BuildConfig;\n import pw.thedrhax.mosmetro.R;\n+import pw.thedrhax.mosmetro.activities.SafeViewActivity;\n import pw.thedrhax.mosmetro.httpclient.CachedRetriever;\n import pw.thedrhax.util.Version;\n \n@@ -211,7 +211,7 @@ public void download() {\n                     .putInt(\"pref_updater_build\", version)\n                     .apply();\n \n-            context.startActivity(new Intent(Intent.ACTION_VIEW).setData(Uri.parse(url)));\n+            context.startActivity(new Intent(context, SafeViewActivity.class).putExtra(\"data\", url));\n         }\n     }\n }"
        }
      ]
    }
  },
  {
    "name": "Crash When Opening Event From Team@District",
    "url": "https://github.com/the-blue-alliance/the-blue-alliance-android/issues/804",
    "description": "Repro: go to 2016 MAR rankings, select team 869, try and hit the button to open an Event detail\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.thebluealliance.androidclient/com.thebluealliance.androidclient.activities.ViewEventActivity}: java.lang.IllegalArgumentException: ViewEventActivity must be given a valid event key\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\r\n\tat android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:148)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5422)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\nCaused by: java.lang.IllegalArgumentException: ViewEventActivity must be given a valid event key\r\n\tat com.thebluealliance.androidclient.activities.ViewEventActivity.onCreate(ViewEventActivity.java:80)\r\n\tat android.app.Activity.performCreate(Activity.java:6251)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\r\n\t... 9 more\r\n```",
    "keywords": [
      "com",
      "app",
      "os",
      "activity",
      "android",
      "java lang",
      "vieweventactivity",
      "activitythread",
      "java",
      "android app",
      "thebluealliance",
      "lang",
      "event",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/the-blue-alliance/the-blue-alliance-android/commit/4c9278ea5e5f5543efc4e0e7ae1782a30c51e733",
      "files": [
        {
          "file_name": "android/src/main/java/com/thebluealliance/androidclient/listitems/LabelValueDetailListItem.java",
          "patch": "@@ -1,7 +1,7 @@\n package com.thebluealliance.androidclient.listitems;\n \n import com.thebluealliance.androidclient.R;\n-import com.thebluealliance.androidclient.listeners.EventClickListener;\n+import com.thebluealliance.androidclient.listeners.EventTeamClickListener;\n \n import android.content.Context;\n import android.view.LayoutInflater;\n@@ -63,7 +63,7 @@ public View getView(Context c, LayoutInflater inflater, View convertView) {\n             holder.container.addView(listItem.getView(c, inflater, null), 2);\n         }\n \n-        holder.detail.setOnClickListener(new EventClickListener(c, key));\n+        holder.detail.setOnClickListener(new EventTeamClickListener(c, key));\n \n         return convertView;\n     }"
        }
      ]
    }
  },
  {
    "name": "Crash on profile click",
    "url": "https://github.com/gitskarios/Gitskarios/issues/592",
    "description": "Hello,\nI\u0027m quite new to GitSkarios so I\u0027m not really sure this is the right way to post this kind of issues.\nBasically, the application crashed and went to the bug view after pressing on any profile picture from the main view.\nNot quite sure this is a known issue, but thought I could post it anyway.\nBtw, I\u0027m posting this from GitSkarios, so this is no fatal bug IMO.\n\nHere\u0027s the stack trace produced by GitSkarios:\n\n```\nBuild version: 4.4.4 \nBuild date: 1979-11-30 00:00:00 \nCurrent date: 2016-10-14 19:09:36 \nDevice: OnePlus ONE A2003 \n\nStack trace:  \njava.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.lang.String.equals(java.lang.Object)\u0027 on a null object reference\n    at com.alorma.github.ui.view.UserAvatarView.onClick(UserAvatarView.java:77)\n    at android.view.View.performClick(View.java:5233)\n    at android.view.View$PerformClick.run(View.java:21209)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:152)\n    at android.app.ActivityThread.main(ActivityThread.java:5497)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "com",
      "handler",
      "view",
      "java",
      "os",
      "method",
      "4",
      "gitskarios",
      "android",
      "main",
      "lang",
      "java lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/gitskarios/Gitskarios/commit/9607eca20c0716c04b107b6fb21fc03ddc76bef1",
      "files": [
        {
          "file_name": "app/src/main/java/com/alorma/github/sdk/services/user/events/EventsService.java",
          "patch": "@@ -7,9 +7,6 @@\n import retrofit.http.Path;\n import retrofit.http.Query;\n \n-/**\n- * Created by Bernat on 03/10/2014.\n- */\n public interface EventsService {\n \n   //Async"
        },
        {
          "file_name": "app/src/main/java/com/alorma/github/sdk/services/user/events/GetUserEventsClient.java",
          "patch": "@@ -5,9 +5,6 @@\n import java.util.List;\n import retrofit.RestAdapter;\n \n-/**\n- * Created by Bernat on 03/10/2014.\n- */\n public class GetUserEventsClient extends GithubListClient\u003cList\u003cGithubEvent\u003e\u003e {\n   private String username;\n   private int page \u003d 0;"
        },
        {
          "file_name": "app/src/main/java/com/alorma/github/ui/activity/ProfileActivity.java",
          "patch": "@@ -261,7 +261,8 @@ public boolean onPrepareOptionsMenu(Menu menu) {\n \n       StoreCredentials settings \u003d new StoreCredentials(this);\n \n-      if (user !\u003d null \u0026\u0026 !settings.getUserName().equals(user.getLogin()) \u0026\u0026 user.getType().equals(UserType.User.name())) {\n+      if (user !\u003d null \u0026\u0026 !settings.getUserName().equals(user.getLogin())\n+          \u0026\u0026 UserType.User.name().equals(user.getType())) {\n         MenuItem item;\n         if (followingUser) {\n           item \u003d menu.add(0, R.id.action_menu_unfollow_user, 0, R.string.action_menu_unfollow_user);"
        },
        {
          "file_name": "app/src/main/java/com/alorma/github/ui/view/UserAvatarView.java",
          "patch": "@@ -74,7 +74,7 @@ public void onClick(final View v) {\n       Answers.getInstance().logContentView(new ContentViewEvent().putContentName(\"UserAvatarViewClick\"));\n     }\n \n-    if (user.getType().equals(UserType.Organization.name())) {\n+    if (UserType.Organization.name().equals(user.getType())) {\n       v.getContext().startActivity(OrganizationActivity.launchIntent(v.getContext(), user.getLogin()));\n     } else {\n       final Intent intent \u003d ProfileActivity.createLauncherIntent(v.getContext(), user);"
        }
      ]
    }
  },
  {
    "name": "Compose Crash bug",
    "url": "https://github.com/3Einstens/IronChef/issues/118",
    "description": "How to reporoduce \"Click publish button\"\n```java\n04-26 05:08:35.304 32367-32367/com.einstens3.ironchef E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.einstens3.ironchef, PID: 32367\n    java.lang.ClassCastException: android.support.design.widget.TextInputLayout cannot be cast to android.widget.EditText\n        at com.einstens3.ironchef.fragments.ComposeFragment.getDataFromDynamicEditText(ComposeFragment.java:459)\n        at com.einstens3.ironchef.fragments.ComposeFragment$9.onClick(ComposeFragment.java:353)\n        at android.view.View.performClick(View.java:5198)\n        at com.einstens3.ironchef.fragments.ComposeFragment.clickPublishButton(ComposeFragment.java:131)\n        at com.einstens3.ironchef.activities.ComposeActivity.onOptionsItemSelected(ComposeActivity.java:55)\n        at android.app.Activity.onMenuItemSelected(Activity.java:2908)\n        at android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:408)\n        at android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:195)\n        at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:113)\n        at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:113)\n        at android.support.v7.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:69)\n        at android.support.v7.widget.Toolbar$1.onMenuItemClick(Toolbar.java:206)\n        at android.support.v7.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:776)\n        at android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:822)\n        at android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:156)\n        at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:969)\n        at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:959)\n        at android.support.v7.widget.ActionMenuView.invokeItem(ActionMenuView.java:623)\n        at android.support.v7.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:154)\n        at android.view.View.performClick(View.java:5198)\n        at android.view.View$PerformClick.run(View.java:21147)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:148)\n        at android.app.ActivityThread.main(ActivityThread.java:5417)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```",
    "keywords": [
      "com",
      "app",
      "v7",
      "handler",
      "widget",
      "os",
      "menu menubuilder",
      "ironchef",
      "android",
      "android support",
      "actionmenuview",
      "main",
      "menu",
      "einstens3",
      "com einstens3",
      "v7 view",
      "view",
      "composefragment",
      "menubuilder",
      "windowcallbackwrapper",
      "support v7",
      "onmenuitemselected",
      "fragments",
      "support",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/3Einstens/IronChef/commit/d865ddef827e133890a3c2d96c0cb6f481d95b2f",
      "files": [
        {
          "file_name": "app/src/main/java/com/einstens3/ironchef/fragments/ComposeFragment.java",
          "patch": "@@ -49,6 +49,8 @@\n import java.util.List;\n import java.util.Locale;\n \n+import static com.einstens3.ironchef.R.id.llStepListCompose;\n+\n /**\n  * A placeholder fragment containing a simple view.\n  */\n@@ -215,7 +217,7 @@ public void success(final Recipe recipe) {\n                     etServing.setText(String.valueOf(recipe.getServing()));\n                     if (recipe.getSteps() !\u003d null) {\n                         for (String step : recipe.getSteps()) {\n-                            EditText et \u003d addDynamicEditTexts(R.id.llStepListCompose, \"Add Step\");\n+                            EditText et \u003d addDynamicEditTexts(llStepListCompose, \"Add Step\");\n                             et.setText(step);\n                         }\n                     }\n@@ -289,7 +291,7 @@ public void onClick(View v) {\n                 if (Integer.parseInt(v.getTag().toString()) \u003d\u003d 1) {\n                     Toast.makeText(getContext(), \"ADD\", Toast.LENGTH_SHORT).show();\n                     v.setTag(2);\n-                    addDynamicEditTexts(R.id.llStepListCompose, \"Step(s)\");\n+                    addDynamicEditTexts(llStepListCompose, \"Step(s)\");\n                     v.setBackgroundResource(R.drawable.cancel);\n                 } else {\n                     LinearLayout linearParent \u003d (LinearLayout) v.getParent().getParent();\n@@ -329,7 +331,7 @@ public void onClick(View v) {\n             public void onClick(View v) {\n                 // TODO: Required field value check\n \n-                if (validateFields(R.id.llStepListCompose)) {\n+                if (validateFields(llStepListCompose)) {\n                     return;\n                 }\n \n@@ -350,7 +352,7 @@ public void onClick(View v) {\n                 //iterarte over the linear layout and get steps added\n \n \n-                ArrayList\u003cString\u003e steps \u003d getDataFromDynamicEditText(R.id.llStepListCompose);\n+                ArrayList\u003cString\u003e steps \u003d getDataFromDynamicEditText(llStepListCompose);\n                 ArrayList\u003cString\u003e ingridients \u003d getDataFromDynamicEditText(R.id.llIngridentsCompose);\n \n                 recipe.setSteps(steps);\n@@ -450,19 +452,18 @@ public void onClick(View v) {\n     }\n \n     public ArrayList\u003cString\u003e getDataFromDynamicEditText(int llResourceId) {\n-\n-        ArrayList\u003cString\u003e steps \u003d new ArrayList\u003c\u003e();\n+        ArrayList\u003cString\u003e list \u003d new ArrayList\u003c\u003e();\n         LinearLayout ll \u003d (LinearLayout) view.findViewById(llResourceId);\n         for (int i \u003d 0; i \u003c ll.getChildCount(); i++) {\n             View llView \u003d ll.getChildAt(i);\n             if (llView instanceof LinearLayout) {\n-                EditText et \u003d (EditText) ((LinearLayout) llView).getChildAt(0);\n+                TextInputLayout til \u003d (TextInputLayout) ((LinearLayout) llView).getChildAt(0);\n+                EditText et \u003d til.getEditText();\n                 if (et !\u003d null \u0026\u0026 !et.getText().toString().isEmpty())\n-                    steps.add(et.getText().toString());\n+                    list.add(et.getText().toString());\n             }\n         }\n-\n-        return steps;\n+        return list;\n     }\n \n     public boolean validateFields(int linearLayoutResourceId) {"
        },
        {
          "file_name": "app/src/main/res/layout/fragment_compose.xml",
          "patch": "@@ -467,7 +467,6 @@\n             android:layout_alignParentStart\u003d\"true\"\n             android:layout_alignParentEnd\u003d\"true\"\n             android:layout_alignParentRight\u003d\"true\"\n-            android:layout_alignTop\u003d\"@+id/btnCancel\"\n             android:layout_below\u003d\"@+id/vBorder\"\n             android:background\u003d\"@color/colorPrimary\"\n             android:text\u003d\"Publish\""
        }
      ]
    }
  },
  {
    "name": "crash while resuming with auto-upload on",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/359",
    "description": "Build 218, Nexus 5X. To replicate\r\n1. Turn on airplane mode\r\n1. Make sure auto-upload is on\r\n1. Make an obs with a photo\r\n1. Close the app\r\n1. Turn off airplane mode\r\n1. Open the app. Crash should happen right as the obs list appears\r\n\r\nHere\u0027s the log:\r\n\r\n```\r\n--------- beginning of system\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: Activity org.inaturalist.android.ObservationEditor has leaked ServiceConnection android.media.MediaScannerConnection@7911549 that was originally bound here\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: android.app.ServiceConnectionLeaked: Activity org.inaturalist.android.ObservationEditor has leaked ServiceConnection android.media.MediaScannerConnection@7911549 that was originally bound here\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.app.LoadedApk$ServiceDispatcher.\u003cinit\u003e(LoadedApk.java:1336)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:1231)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.app.ContextImpl.bindServiceCommon(ContextImpl.java:1450)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.app.ContextImpl.bindService(ContextImpl.java:1422)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.content.ContextWrapper.bindService(ContextWrapper.java:636)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.media.MediaScannerConnection.connect(MediaScannerConnection.java:119)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat android.media.MediaScannerConnection.scanFile(MediaScannerConnection.java:243)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat org.inaturalist.android.ObservationEditor.addPhotoToGallery(ObservationEditor.java:3058)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat org.inaturalist.android.ObservationEditor.access$3700(ObservationEditor.java:118)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat org.inaturalist.android.ObservationEditor$22.run(ObservationEditor.java:2071)\r\n06-03 19:47:14.516 29919 29919 E ActivityThread: \tat java.lang.Thread.run(Thread.java:761)\r\n06-05 10:20:56.237 14780 14780 W ViewRootImpl[ObservationListActivity]: Dropping event due to root view being removed: MotionEvent { action\u003dACTION_UP, actionButton\u003d0, id[0]\u003d0, x[0]\u003d374.0, y[0]\u003d-547.0, toolType[0]\u003dTOOL_TYPE_FINGER, buttonState\u003d0, metaState\u003d0, flags\u003d0x0, edgeFlags\u003d0x0, pointerCount\u003d1, historySize\u003d0, eventTime\u003d56835989, downTime\u003d56835965, deviceId\u003d7, source\u003d0x1002 }\r\n--------- beginning of crash\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: FATAL EXCEPTION: main\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: Process: org.inaturalist.android, PID: 2271\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: java.lang.RuntimeException: Unable to start activity ComponentInfo{org.inaturalist.android/org.inaturalist.android.ObservationListActivity}: java.util.IllegalFormatConversionException: d !\u003d java.lang.Boolean\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2666)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2727)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1478)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:154)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6121)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: Caused by: java.util.IllegalFormatConversionException: d !\u003d java.lang.Boolean\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4135)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2832)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.util.Formatter$FormatSpecifier.print(Formatter.java:2786)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.util.Formatter.format(Formatter.java:2491)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.util.Formatter.format(Formatter.java:2426)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat java.lang.String.format(String.java:2626)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat org.inaturalist.android.ObservationListActivity.triggerSyncIfNeeded(ObservationListActivity.java:506)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat org.inaturalist.android.ObservationListActivity.onCreate(ObservationListActivity.java:348)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.Activity.performCreate(Activity.java:6682)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2619)\r\n06-05 18:03:51.008  2271  2271 E AndroidRuntime: \t... 9 more\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: FATAL EXCEPTION: main\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: Process: org.inaturalist.android, PID: 2415\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: java.lang.RuntimeException: Unable to start activity ComponentInfo{org.inaturalist.android/org.inaturalist.android.ObservationListActivity}: java.util.IllegalFormatConversionException: d !\u003d java.lang.Boolean\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2666)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2727)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1478)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:154)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6121)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: Caused by: java.util.IllegalFormatConversionException: d !\u003d java.lang.Boolean\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4135)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2832)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.util.Formatter$FormatSpecifier.print(Formatter.java:2786)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.util.Formatter.format(Formatter.java:2491)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.util.Formatter.format(Formatter.java:2426)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat java.lang.String.format(String.java:2626)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat org.inaturalist.android.ObservationListActivity.triggerSyncIfNeeded(ObservationListActivity.java:506)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat org.inaturalist.android.ObservationListActivity.onCreate(ObservationListActivity.java:348)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.Activity.performCreate(Activity.java:6682)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n06-05 18:03:57.661  2415  2415 E AndroidRuntime: \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2619)\r\n```",
    "keywords": [
      "com",
      "handler",
      "format formatter",
      "main",
      "run",
      "2271",
      "observationlistactivity",
      "06-03 19:47:14",
      "crash",
      "util formatter",
      "06-05",
      "java",
      "06-03",
      "2415 2415",
      "06-05 18:03:51",
      "06-05 18:03:57",
      "516",
      "instrumentation",
      "performlaunchactivity",
      "app",
      "29919",
      "method",
      "contextimpl",
      "2271 2271",
      "19:47:14 516",
      "mediascannerconnection",
      "format",
      "performlaunchactivity activitythread",
      "formatter",
      "1",
      "661 2415",
      "util",
      "008",
      "18:03:57 661",
      "516 29919",
      "18:03:51 008",
      "29919 29919",
      "internal",
      "string",
      "activity",
      "app activitythread",
      "android",
      "29919 e",
      "looper",
      "18:03:57",
      "media",
      "18:03:51",
      "008 2271",
      "e activitythread",
      "loadedapk",
      "boolean 06-05",
      "lang",
      "org inaturalist",
      "internal os",
      "zygoteinit",
      "illegalformatconversionexception",
      "util illegalformatconversionexception",
      "android observationeditor",
      "os",
      "19:47:14",
      "d",
      "org",
      "e",
      "com android",
      "formatter$formatspecifier",
      "androidruntime",
      "2415 e",
      "java lang",
      "661",
      "activitythread",
      "2415",
      "util formatter$formatspecifier",
      "boolean",
      "2271 e",
      "inaturalist",
      "e androidruntime",
      "inaturalist android",
      "observationeditor"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/f7c45688e5c2de4795c2af079744a15dbae0ae8a",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationListActivity.java",
          "patch": "@@ -503,7 +503,7 @@ private void triggerSyncIfNeeded() {\n                 getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n                 startService(serviceIntent);\n \n-                Log.d(TAG, String.format(\"triggerSyncIfNeeded: hasOldOBs: %d; syncCount: %d; photoSyncCount: %d; mUserCanceledSync: %s\",\n+                Log.d(TAG, String.format(\"triggerSyncIfNeeded: hasOldOBs: %b; syncCount: %d; photoSyncCount: %d; mUserCanceledSync: %b\",\n                         hasOldObs, syncCount, photoSyncCount, mUserCanceledSync));\n \n "
        }
      ]
    }
  },
  {
    "name": "crash after login",
    "url": "https://github.com/schaal/ocreader/issues/67",
    "description": "## Description of the issue\r\nApp crashes after login.\r\n\r\n## Expected behavior\r\nDisplay feeds.\r\n\r\n## Steps to reproduce\r\n* Nextcloud 11.0.3 (stable)\r\n* setup app password\r\n* try to login in ocreader\r\n* crash\r\n\r\n## Your Environment\r\n\r\n* OCReader version: 0.35\r\n* Nextcloud news version: 11.0.3 (stable)\r\n* Android version: 6.0.1\r\n\r\n### Logcat (crash report)\r\n\r\n```\r\nUSER_COMMENT\u003d\r\nANDROID_VERSION\u003d6.0.1\r\nAPP_VERSION_NAME\u003d0.35\r\nBRAND\u003dgoogle\r\nPHONE_MODEL\u003dNexus 5X\r\nCUSTOM_DATA\u003d\r\nSTACK_TRACE\u003djava.lang.StringIndexOutOfBoundsException: length\u003d0; regionStart\u003d0; regionLength\u003d1\r\nat java.lang.String.startEndAndLength(String.java:298)\r\nat java.lang.String.substring(String.java:1087)\r\nat email.schaal.ocreader.util.FaviconLoader.getDrawable(FaviconLoader.java:68)\r\nat email.schaal.ocreader.view.drawer.TreeItemDrawerItem.bindViewHelper(TreeItemDrawerItem.java:72)\r\nat com.mikepenz.materialdrawer.model.AbstractBadgeableDrawerItem.bindView(AbstractBadgeableDrawerItem.java:71)\r\nat com.mikepenz.materialdrawer.model.AbstractBadgeableDrawerItem.bindView(AbstractBadgeableDrawerItem.java:18)\r\nat com.mikepenz.fastadapter.FastAdapter$OnBindViewHolderListenerImpl.onBindViewHolder(FastAdapter.java:1895)\r\nat com.mikepenz.fastadapter.FastAdapter.onBindViewHolder(FastAdapter.java:585)\r\nat android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6389)\r\nat android.support.v7.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5335)\r\nat android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:5598)\r\nat android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5440)\r\nat android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5436)\r\nat android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2224)\r\nat android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1551)\r\nat android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1511)\r\nat android.support.v7.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:595)\r\nat android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3583)\r\nat android.support.v7.widget.RecyclerView.dispatchLayout(RecyclerView.java:3312)\r\nat android.support.v7.widget.RecyclerView.onLayout(RecyclerView.java:3844)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.widget.RelativeLayout.onLayout(RelativeLayout.java:1079)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.support.v4.widget.DrawerLayout.onLayout(DrawerLayout.java:1217)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)\r\nat android.widget.FrameLayout.onLayout(FrameLayout.java:273)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)\r\nat android.widget.FrameLayout.onLayout(FrameLayout.java:273)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)\r\nat android.widget.FrameLayout.onLayout(FrameLayout.java:273)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1735)\r\nat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1579)\r\nat android.widget.LinearLayout.onLayout(LinearLayout.java:1488)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:336)\r\nat android.widget.FrameLayout.onLayout(FrameLayout.java:273)\r\nat com.android.internal.policy.PhoneWindow$DecorView.onLayout(PhoneWindow.java:2693)\r\nat android.view.View.layout(View.java:16636)\r\nat android.view.ViewGroup.layout(ViewGroup.java:5437)\r\nat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2179)\r\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1939)\r\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1115)\r\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6023)\r\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\r\nat android.view.Choreographer.doCallbacks(Choreographer.java:670)\r\nat android.view.Choreographer.doFrame(Choreographer.java:606)\r\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\r\nat android.os.Handler.handleCallback(Handler.java:739)\r\nat android.os.Handler.dispatchMessage(Handler.java:95)\r\nat android.os.Looper.loop(Looper.java:148)\r\nat android.app.ActivityThread.main(ActivityThread.java:5422)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```\r\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "abstractbadgeabledraweritem",
      "choreographer",
      "framelayout",
      "view view",
      "run",
      "java:5437",
      "linearlayout",
      "crash",
      "view",
      "java",
      "support v7",
      "layoutchildren framelayout",
      "app",
      "onlayout",
      "framelayout onlayout",
      "viewgroup layout",
      "*",
      "version",
      "0",
      "layout view",
      "viewrootimpl",
      "java:336",
      "support",
      "internal",
      "widget",
      "string",
      "recyclerview",
      "android",
      "android support",
      "login",
      "android widget",
      "fastadapter",
      "viewgroup",
      "android view",
      "lang",
      "java:16636",
      "widget framelayout",
      "mikepenz",
      "zygoteinit",
      "##",
      "viewgroup java:5437",
      "os",
      "ocreader",
      "framelayout java:273",
      "layout",
      "java:273",
      "linearlayoutmanager",
      "v7 widget",
      "layoutchildren",
      "recyclerview$recycler"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/schaal/ocreader/commit/c30aee32950525e9c02d24547d72e3f456bd3d03",
      "files": [
        {
          "file_name": "app/src/main/java/email/schaal/ocreader/util/FaviconLoader.java",
          "patch": "@@ -66,7 +66,7 @@ public static Drawable getDrawable(Context context, @Nullable Feed feed) {\n             drawable \u003d faviconCache.get(feed.getId());\n \n             if(drawable \u003d\u003d null) {\n-                drawable \u003d new TextDrawable.Builder(feed.getName().substring(0, 1), getFeedColor(context, feed))\n+                drawable \u003d new TextDrawable.Builder(feed.getName().length() \u003e 0 ? feed.getName().substring(0, 1) : \"?\", getFeedColor(context, feed))\n                         .textColor(ContextCompat.getColor(context, R.color.textdrawable_text))\n                         .build();\n                 faviconCache.put(feed.getId(), drawable);"
        }
      ]
    }
  },
  {
    "name": "Broken sorting in FOSS build",
    "url": "https://github.com/federicoiosue/Omni-Notes/issues/329",
    "description": "```\n02-20 19:32:49.154 E/ACRA    (4716): ACRA caught a NotFoundException for it.feio.android.omninotes.foss\n02-20 19:32:49.154 E/ACRA    (4716): android.content.res.Resources$NotFoundException: Unable to find resource ID #0x2\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.content.res.ResourcesImpl.getResourceEntryName(ResourcesImpl.java:252)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.content.res.Resources.getResourceEntryName(Resources.java:1948)\n02-20 19:32:49.154 E/ACRA    (4716): \tat it.feio.android.analitica.PiwikAnalyticsHelper.trackActionFromResourceId(PiwikAnalyticsHelper.java:63)\n02-20 19:32:49.154 E/ACRA    (4716): \tat it.feio.android.omninotes.ListFragment.performAction(ListFragment.java:833)\n02-20 19:32:49.154 E/ACRA    (4716): \tat it.feio.android.omninotes.ListFragment.onOptionsItemSelected(ListFragment.java:745)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v4.app.Fragment.performOptionsItemSelected(Fragment.java:2085)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v4.app.FragmentManagerImpl.dispatchOptionsItemSelected(FragmentManager.java:2163)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v4.app.FragmentController.dispatchOptionsItemSelected(FragmentController.java:304)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:410)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:185)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:100)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:100)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:69)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.widget.Toolbar$1.onMenuItemClick(Toolbar.java:169)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:760)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:811)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.menu.SubMenuBuilder.dispatchMenuItemSelected(SubMenuBuilder.java:84)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:958)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:948)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.support.v7.view.menu.MenuPopupHelper.onItemClick(MenuPopupHelper.java:191)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.widget.AdapterView.performItemClick(AdapterView.java:310)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.widget.AbsListView.performItemClick(AbsListView.java:1171)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.widget.AbsListView$PerformClick.run(AbsListView.java:3136)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.widget.AbsListView$3.run(AbsListView.java:4051)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.os.Handler.handleCallback(Handler.java:751)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.os.Handler.dispatchMessage(Handler.java:95)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.os.Looper.loop(Looper.java:154)\n02-20 19:32:49.154 E/ACRA    (4716): \tat android.app.ActivityThread.main(ActivityThread.java:6169)\n02-20 19:32:49.154 E/ACRA    (4716): \tat java.lang.reflect.Method.invoke(Native Method)\n02-20 19:32:49.154 E/ACRA    (4716): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\n02-20 19:32:49.154 E/ACRA    (4716): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)\n02-20 19:32:49.326 E/ACRA    (4716): Not adding buildConfig to log. Class Not found : it.feio.android.omninotes.foss.BuildConfig. Please configure \u0027buildConfigClass\u0027 in your ACRA config\n```",
    "keywords": [
      "v7",
      "handler",
      "widget",
      "android",
      "android support",
      "run",
      "feio",
      "listfragment",
      "e/acra 4716",
      "4716 ",
      "content",
      "154 e/acra",
      "154",
      "02-20",
      "view",
      "19:32:49",
      "support v7",
      "onmenuitemselected",
      "foss",
      "19:32:49 154",
      "zygoteinit",
      "omninotes",
      "app",
      "res",
      "os",
      "02-20 19:32:49",
      "e/acra",
      "menu",
      "4716",
      "abslistview",
      "menubuilder",
      "windowcallbackwrapper",
      "view menu",
      "support",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/federicoiosue/Omni-Notes/commit/a3940f9e7ffd74f2f56698e5a59f2eed75b189b8",
      "files": [
        {
          "file_name": "omniNotes/src/main/java/it/feio/android/omninotes/ListFragment.java",
          "patch": "@@ -830,8 +830,6 @@ public boolean performAction(MenuItem item, ActionMode actionMode) {\n             }\n         }\n \n-\t\t((OmniNotes)getActivity().getApplication()).getAnalyticsHelper().trackActionFromResourceId(getActivity(), item.getItemId());\n-\n         checkSortActionPerformed(item);\n \n         return super.onOptionsItemSelected(item);\n@@ -944,7 +942,7 @@ void onActivityResult(int requestCode, final int resultCode, Intent intent) {\n     private void checkSortActionPerformed(MenuItem item) {\n         if (item.getGroupId() \u003d\u003d Constants.MENU_SORT_GROUP_ID) {\n             final String[] arrayDb \u003d getResources().getStringArray(R.array.sortable_columns);\n-            prefs.edit().putString(Constants.PREF_SORTING_COLUMN, arrayDb[item.getOrder()]).commit();\n+            prefs.edit().putString(Constants.PREF_SORTING_COLUMN, arrayDb[item.getOrder()]).apply();\n             initNotesList(mainActivity.getIntent());\n             // Resets list scrolling position\n             listViewPositionOffset \u003d 16;\n@@ -953,7 +951,10 @@ private void checkSortActionPerformed(MenuItem item) {\n \t\t\ttoggleSearchLabel(false);\n             // Updates app widgets\n             BaseActivity.notifyAppWidgets(mainActivity);\n-        }\n+        } else {\n+\t\t\t((OmniNotes) getActivity().getApplication()).getAnalyticsHelper().trackActionFromResourceId(getActivity(),\n+\t\t\t\t\titem.getItemId());\n+\t\t}\n     }\n \n "
        }
      ]
    }
  },
  {
    "name": "Measuring capacitance crashes the app",
    "url": "https://github.com/fossasia/pslab-android/issues/316",
    "description": "**Actual Behaviour**\r\n\r\nWhen there is nothing connected to measure capacitance, the app crashed if the `Capacitance` button is clicked for a while in control read UI\r\n\r\n**Expected Behaviour**\r\n\r\nApp shouldn\u0027t crash if the capacitance button is clicked.\r\n\r\n**Steps to reproduce it**\r\n\r\n1. Open app\r\n2. Connect device\r\n3. Go to `Control`\r\n4. Select `Read` tab\r\n5. Without connecting anything to measure capacitance, try clicking the `Capacitance` button for two three times\r\n\r\n**LogCat for the issue**\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                    Process: org.fossasia.pslab, PID: 17977\r\n                                                                    java.lang.ArithmeticException: divide by zero\r\n                                                                        at org.fossasia.pslab.communication.ScienceLab.getCapacitance(ScienceLab.java:2240)\r\n                                                                        at org.fossasia.pslab.fragment.ControlFragmentRead$2.onClick(ControlFragmentRead.java:94)\r\n                                                                        at android.view.View.performClick(View.java:5213)\r\n                                                                        at android.view.View$PerformClick.run(View.java:21172)\r\n                                                                        at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                        at android.os.Looper.loop(Looper.java:148)\r\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:5418)\r\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```\r\n\r\n**Screenshots of the issue**\r\n\r\n\u003e Crash screen\r\n\r\n**Would you like to work on the issue?**\r\n\r\nYes\r\n",
    "keywords": [
      "button",
      "app",
      "handler",
      "view",
      "capacitance",
      "os",
      "org",
      "android",
      "fossasia",
      "main",
      "pslab",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/pslab-android/commit/a959c034772b10f5f6a44b70474d99d3308d998d",
      "files": [
        {
          "file_name": "app/src/main/java/org/fossasia/pslab/communication/ScienceLab.java",
          "patch": "@@ -2237,7 +2237,11 @@ public Double getCapacitance() {\n                 return C;\n             else if (V \u003c GOOD_VOLTS[0] \u0026\u0026 V \u003e 0.01 \u0026\u0026 CT \u003c 40000) {\n                 if (GOOD_VOLTS[0] / V \u003e 1.1 \u0026\u0026 iterations \u003c 10) {\n-                    CT \u003d CT * (int) GOOD_VOLTS[0] / (int) V;\n+                    try {\n+                        CT \u003d CT * (int) GOOD_VOLTS[0] / (int) V;\n+                    } catch (ArithmeticException e) {\n+                        Log.e(TAG, \"No capacitor connected or a short circuit!\");\n+                    }\n                     iterations +\u003d 1;\n                     Log.v(TAG, \"Increased CT \" + CT);\n                 } else if (iterations \u003d\u003d 10)"
        }
      ]
    }
  },
  {
    "name": "Logcat is getting spammed by telemetry code when authority is not passed in",
    "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/issues/148",
    "description": "\r\n05-03 17:37:55.628 31003-31003/com.microsoft.identity.client.developersample E/MsalUtils: MSAL 0.1.0 Android 23 [2017-05-04 00:37:55] Url is invalid java.net.MalformedURLException\r\n                                                                                              at java.net.URL.\u003cinit\u003e(URL.java:152)\r\n                                                                                              at java.net.URL.\u003cinit\u003e(URL.java:125)\r\n                                                                                              at com.microsoft.identity.client.MsalUtils.getUrl(MsalUtils.java:409)\r\n                                                                                              at com.microsoft.identity.client.HttpEvent.sanitizeUrlForTelemetry(HttpEvent.java:55)\r\n                                                                                              at com.microsoft.identity.client.ApiEvent.\u003cinit\u003e(ApiEvent.java:47)\r\n                                                                                              at com.microsoft.identity.client.ApiEvent.\u003cinit\u003e(ApiEvent.java:35)\r\n                                                                                              at com.microsoft.identity.client.ApiEvent$Builder.build(ApiEvent.java:273)\r\n                                                                                              at com.microsoft.identity.client.PublicClientApplication.getUsers(PublicClientApplication.java:234)\r\n                                                                                              at com.microsoft.identity.client.developersample.MainActivity.onCreate(MainActivity.java:117)\r\n                                                                                              at android.app.Activity.performCreate(Activity.java:6272)\r\n                                                                                              at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\r\n                                                                                              at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2387)\r\n                                                                                              at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2494)\r\n                                                                                              at android.app.ActivityThread.access$900(ActivityThread.java:157)\r\n                                                                                              at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1356)\r\n                                                                                              at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                              at android.os.Looper.loop(Looper.java:148)\r\n                                                                                              at android.app.ActivityThread.main(ActivityThread.java:5551)\r\n                                                                                              at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                              at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\r\n                                                                                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)",
    "keywords": [
      "com",
      "app",
      "microsoft identity",
      "os",
      "android",
      "microsoft",
      "\u003cinit\u003e",
      "com microsoft",
      "url",
      "activitythread",
      "java",
      "identity",
      "client",
      "android app",
      "net",
      "identity client",
      "zygoteinit",
      "apievent"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/eeb97b8aa15118deba09f5d3481835f4889e1ae4",
      "files": [
        {
          "file_name": "msal/src/telemetry/java/com/microsoft/identity/client/ApiEvent.java",
          "patch": "@@ -44,7 +44,9 @@ private ApiEvent(Builder builder) {\n         if (null !\u003d builder.mRequestId) {\n             setProperty(EventProperty.REQUEST_ID, builder.mRequestId);\n         }\n-        setProperty(EventProperty.AUTHORITY_NAME, HttpEvent.sanitizeUrlForTelemetry(builder.mAuthority));\n+        if (!MsalUtils.isEmpty(builder.mAuthority)) {\n+            setProperty(EventProperty.AUTHORITY_NAME, HttpEvent.sanitizeUrlForTelemetry(builder.mAuthority));\n+        }\n         setAuthorityType(builder.mAuthorityType);\n         setProperty(EventProperty.UI_BEHAVIOR, builder.mUiBehavior);\n         setProperty(EventProperty.API_ID, builder.mApiId);"
        },
        {
          "file_name": "msal/src/telemetry/java/com/microsoft/identity/client/HttpEvent.java",
          "patch": "@@ -41,7 +41,9 @@ private HttpEvent(Builder builder) {\n         setProperty(EventProperty.HTTP_API_VERSION, builder.mApiVersion);\n         setProperty(EventProperty.OAUTH_ERROR_CODE, builder.mOAuthErrorCode);\n         setProperty(EventProperty.REQUEST_ID_HEADER, builder.mRequestIdHeader);\n-        setHttpPath(builder.mHttpPath);\n+        if (null !\u003d builder.mHttpPath) {\n+            setHttpPath(builder.mHttpPath);\n+        }\n         setProperty(EventProperty.HTTP_RESPONSE_CODE, String.valueOf(builder.mResponseCode));\n     }\n "
        }
      ]
    }
  },
  {
    "name": "Background manager should be cleaned up when fragment or activity stops.",
    "url": "https://github.com/amardeshbd/android-daily-headlines/issues/131",
    "description": "BackgroundManager holds references to potentially large bitmap Drawables. Call {@link #release} to release these references when the Activity is not visible.\r\n\r\n```\r\n11-10 21:16:27.013 4768-4768/info.hossainkhan.dailynewsheadlines E/AndroidRuntime: FATAL EXCEPTION: main\r\n   Process: info.hossainkhan.dailynewsheadlines, PID: 4768\r\n   java.lang.IllegalStateException: Must attach before setting background drawable\r\n       at android.support.v17.leanback.app.BackgroundManager.setDrawableInternal(BackgroundManager.java:993)\r\n       at android.support.v17.leanback.app.BackgroundManager.setBitmap(BackgroundManager.java:1076)\r\n       at info.hossainkhan.dailynewsheadlines.utils.PicassoImageTarget.onBitmapLoaded(PicassoImageTarget.java:55)\r\n       at com.squareup.picasso.TargetAction.complete(TargetAction.java:36)\r\n       at com.squareup.picasso.Picasso.deliverAction(Picasso.java:558)\r\n       at com.squareup.picasso.Picasso.complete(Picasso.java:510)\r\n       at com.squareup.picasso.Picasso$1.handleMessage(Picasso.java:117)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n       at java.lang.reflect.Method.invoke(Native Method)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "com",
      "app",
      "squareup",
      "backgroundmanager",
      "os",
      "hossainkhan",
      "android",
      "squareup picasso",
      "dailynewsheadlines",
      "main",
      "zygoteinit",
      "picasso"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/amardeshbd/android-daily-headlines/commit/d1b1d1389f9d521da67ea405028e50f5fcba0232",
      "files": [
        {
          "file_name": "tv/src/main/java/info/hossainkhan/dailynewsheadlines/browser/HeadlinesBrowseFragment.java",
          "patch": "@@ -105,7 +105,7 @@ public void onDestroy() {\n         mHeadlinesPresenter.detachView();\n         if (null !\u003d mPicassoBackgroundManager) {\n             Timber.d(\"onDestroy: \" + mPicassoBackgroundManager.toString());\n-            //mPicassoBackgroundManager.cancel();\n+            mPicassoBackgroundManager.destroy();\n         }\n     }\n "
        },
        {
          "file_name": "tv/src/main/java/info/hossainkhan/dailynewsheadlines/details/HeadlinesDetailsFragment.java",
          "patch": "@@ -110,6 +110,17 @@ public void onStart() {\n         CoreApplication.getAnalyticsReporter().reportScreenLoadedEvent(ANALYTICS_SCREEN_NAME);\n     }\n \n+\n+    @Override\n+    public void onDestroy() {\n+        super.onDestroy();\n+        mPresenter.detachView();\n+        if (null !\u003d mPicassoBackgroundManager) {\n+            Timber.d(\"onDestroy: \" + mPicassoBackgroundManager.toString());\n+            mPicassoBackgroundManager.destroy();\n+        }\n+    }\n+\n     private void setupEventListeners(final DetailsViewInteractionListener listener) {\n         setOnItemViewSelectedListener(listener);\n         setOnItemViewClickedListener(listener);"
        },
        {
          "file_name": "tv/src/main/java/info/hossainkhan/dailynewsheadlines/utils/PicassoBackgroundManager.java",
          "patch": "@@ -91,6 +91,20 @@ private void startBackgroundTimer() {\n         mBackgroundTimer.schedule(new UpdateBackgroundTask(), BACKGROUND_UPDATE_DELAY);\n     }\n \n+    /**\n+     * Should be called to stop and cleanup resources\n+     */\n+    public void destroy() {\n+        Timber.d(\"Stopping background manager.\");\n+        if (mBackgroundTimer !\u003d null) {\n+            mBackgroundTimer.cancel();\n+        }\n+        mBackgroundManager.release();\n+        mBackgroundManager \u003d null;\n+        mBackgroundTarget \u003d null;\n+        mActivity \u003d null;\n+    }\n+\n \n     private class UpdateBackgroundTask extends TimerTask {\n         @Override"
        }
      ]
    }
  },
  {
    "name": "Crash on audio attachment played",
    "url": "https://github.com/federicoiosue/Omni-Notes/issues/330",
    "description": "https://app.tracepot.com/app/1664/release/e0338b9300000680?ftfield\u003dlogcat\u0026ftvalue\u003d\u0026page\u003d1\u0026fbpage\u003d1\r\n\r\n`java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.View android.view.View.findViewById(int)\u0027 on a null object reference\r\n\tat it.feio.android.omninotes.DetailFragment.lambda$startPlaying$16(DetailFragment.java:1862)\r\n\tat it.feio.android.omninotes.DetailFragment.access$lambda$15(DetailFragment.java)\r\n\tat it.feio.android.omninotes.DetailFragment$$Lambda$16.onCompletion(Unknown Source)\r\n\tat android.media.MediaPlayer$EventHandler.handleMessage(MediaPlayer.java:2943)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6176)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)`",
    "keywords": [
      "omninotes",
      "view",
      "os",
      "method",
      "android",
      "feio",
      "detailfragment",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/federicoiosue/Omni-Notes/commit/36cebfcd3d9564656baeeae51b9bfa7fcc64fa6c",
      "files": [
        {
          "file_name": "omniNotes/src/main/java/it/feio/android/omninotes/DetailFragment.java",
          "patch": "@@ -1859,10 +1859,12 @@ private void startPlaying(Uri uri) {\n \t\t\tmPlayer.start();\n \t\t\tmPlayer.setOnCompletionListener(mp -\u003e {\n \t\t\t\tmPlayer \u003d null;\n-\t\t\t\t((ImageView) isPlayingView.findViewById(R.id.gridview_item_picture)).setImageBitmap\n-\t\t\t\t\t\t(recordingBitmap);\n-\t\t\t\trecordingBitmap \u003d null;\n-\t\t\t\tisPlayingView \u003d null;\n+\t\t\t\tif (isPlayingView !\u003d null) {\n+\t\t\t\t\t((ImageView) isPlayingView.findViewById(R.id.gridview_item_picture)).setImageBitmap\n+\t\t\t\t\t\t\t(recordingBitmap);\n+\t\t\t\t\trecordingBitmap \u003d null;\n+\t\t\t\t\tisPlayingView \u003d null;\n+\t\t\t\t}\n \t\t\t});\n \t\t} catch (IOException e) {\n \t\t\tLog.e(Constants.TAG, \"prepare() failed\", e);\n@@ -1873,7 +1875,9 @@ private void startPlaying(Uri uri) {\n \n \tprivate void stopPlaying() {\n \t\tif (mPlayer !\u003d null) {\n-\t\t\t((ImageView) isPlayingView.findViewById(R.id.gridview_item_picture)).setImageBitmap(recordingBitmap);\n+\t\t\tif (isPlayingView !\u003d null) {\n+\t\t\t\t((ImageView) isPlayingView.findViewById(R.id.gridview_item_picture)).setImageBitmap(recordingBitmap);\n+\t\t\t}\n \t\t\tisPlayingView \u003d null;\n \t\t\trecordingBitmap \u003d null;\n \t\t\tmPlayer.release();"
        }
      ]
    }
  },
  {
    "name": "NPE in PreviewMediaFragment.onSaveInstanceState",
    "url": "https://github.com/nextcloud/android/issues/252",
    "description": "From the Play store developer console.\n### Environment data\n\nAndroid version: 6.0\n\nDevice model: OnePlus One (A0001)\n\nStock or customized system: -\n\nNextcloud app version: 1.2.0 stable\n\nNextcloud server version: - \n### Logs\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027int com.owncloud.android.media.MediaServiceBinder.getCurrentPosition()\u0027 on a null object reference\n    at com.owncloud.android.ui.preview.PreviewMediaFragment.onSaveInstanceState(PreviewMediaFragment.java:259)\n    at android.support.v4.app.Fragment.performSaveInstanceState(Fragment.java:2124)\n    at android.support.v4.app.FragmentManagerImpl.saveFragmentBasicState(FragmentManager.java:1771)\n    at android.support.v4.app.FragmentManagerImpl.saveAllState(FragmentManager.java:1839)\n    at android.support.v4.app.FragmentController.saveAllState(FragmentController.java:134)\n    at android.support.v4.app.FragmentActivity.onSaveInstanceState(FragmentActivity.java:565)\n    at android.support.v7.app.AppCompatActivity.onSaveInstanceState(AppCompatActivity.java:502)\n    at com.owncloud.android.ui.activity.DrawerActivity.onSaveInstanceState(DrawerActivity.java:511)\n    at com.owncloud.android.ui.activity.FileActivity.onSaveInstanceState(FileActivity.java:226)\n    at com.owncloud.android.ui.activity.FileDisplayActivity.onSaveInstanceState(FileDisplayActivity.java:822)\n    at android.app.Activity.performSaveInstanceState(Activity.java:1302)\n    at android.app.Instrumentation.callActivityOnSaveInstanceState(Instrumentation.java:1290)\n    at android.app.ActivityThread.callCallActivityOnSaveInstanceState(ActivityThread.java:4122)\n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4084)\n    at android.app.ActivityThread.-wrap15(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1369)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5461)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "com",
      "app",
      "os",
      "activity",
      "method",
      "ui activity",
      "app activitythread",
      "previewmediafragment",
      "android",
      "android support",
      "support v4",
      "owncloud",
      "version",
      "activitythread",
      "java",
      "ui",
      "owncloud android",
      "onsaveinstancestate",
      "android app",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextcloud/android/commit/7b400995c92027718b3b50d54098a7b7eacda691",
      "files": [
        {
          "file_name": "src/com/owncloud/android/ui/preview/PreviewMediaFragment.java",
          "patch": "@@ -248,17 +248,21 @@ public void onSaveInstanceState(Bundle outState) {\n         outState.putParcelable(PreviewMediaFragment.EXTRA_ACCOUNT, mAccount);\n \n         if (getFile().isVideo()) {\n-            mSavedPlaybackPosition \u003d mVideoPreview.getCurrentPosition();\n-            mAutoplay \u003d mVideoPreview.isPlaying();\n-            outState.putInt(PreviewMediaFragment.EXTRA_PLAY_POSITION, mSavedPlaybackPosition);\n-            outState.putBoolean(PreviewMediaFragment.EXTRA_PLAYING, mAutoplay);\n+            if (mVideoPreview !\u003d null) {\n+                mSavedPlaybackPosition \u003d mVideoPreview.getCurrentPosition();\n+                mAutoplay \u003d mVideoPreview.isPlaying();\n+                outState.putInt(PreviewMediaFragment.EXTRA_PLAY_POSITION, mSavedPlaybackPosition);\n+                outState.putBoolean(PreviewMediaFragment.EXTRA_PLAYING, mAutoplay);\n+            }\n         }\n         else {\n-            outState.putInt(\n-                    PreviewMediaFragment.EXTRA_PLAY_POSITION,\n-                    mMediaServiceBinder.getCurrentPosition());\n-            outState.putBoolean(\n-                    PreviewMediaFragment.EXTRA_PLAYING, mMediaServiceBinder.isPlaying());\n+            if (mMediaServiceBinder !\u003d null) {\n+                outState.putInt(\n+                        PreviewMediaFragment.EXTRA_PLAY_POSITION,\n+                        mMediaServiceBinder.getCurrentPosition());\n+                outState.putBoolean(\n+                        PreviewMediaFragment.EXTRA_PLAYING, mMediaServiceBinder.isPlaying());\n+            }\n         }\n     }\n "
        }
      ]
    }
  },
  {
    "name": "Set MIME Image Type",
    "url": "https://github.com/ubien/MuzeiGooglePhotos/issues/9",
    "description": "```\ncom.google.android.apps.muzei.util.IOUtil$OpenUriException: OK\n at com.google.android.apps.muzei.util.IOUtil.openUri(IOUtil.java:129)\n    at com.google.android.apps.muzei.ArtworkCache.maybeDownloadCurrentArtworkSync(ArtworkCache.java:109)\n    at com.google.android.apps.muzei.TaskQueueService.onHandleIntent(TaskQueueService.java:56)\n    at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:67)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.os.HandlerThread.run(HandlerThread.java:61)\n Caused by: java.io.IOException: HTTP content type \u0027video/mp4\u0027 didn\u0027t match \u0027image/\u0027.\n    at com.google.android.apps.muzei.util.IOUtil.openUri(IOUtil.java:121)\n    ... 6 more\n```\n",
    "keywords": [
      "com",
      "muzei",
      "os",
      "util",
      "android",
      "ioutil",
      "google android",
      "google",
      "apps muzei",
      "apps"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/ubien/MuzeiGooglePhotos/commit/d537122cbef2b713a27dcd5d7a7476e7d09c0c67",
      "files": [
        {
          "file_name": "app/src/main/java/porqueno/muzeigooglephotos/util/PhotosFetchAsyncTask.java",
          "patch": "@@ -72,6 +72,7 @@ private FileList getDataFromApi(String pageToken) throws IOException {\n \t\t\t\t.setSpaces(\"photos\")\n \t\t\t\t.setOrderBy(\"createdTime\")\n \t\t\t\t.setFields(PHOTO_FIELDS)\n+\t\t\t\t.setQ(\"mimeType contains \u0027image/\u0027\")\n \t\t\t\t.setPageSize(1000);\n \t\tif (pageToken !\u003d null) {\n \t\t\tapiCall.setPageToken(pageToken);"
        }
      ]
    }
  },
  {
    "name": "Make sure standard round rounds cannot be deleted on the UI",
    "url": "https://github.com/DreierF/MyTargets/issues/163",
    "description": "java.lang.IllegalStateException: Only practice rounds may be deleted!\n    at de.dreier.mytargets.managers.dao.RoundDataSource.delete(RoundDataSource.java:120)\n    at de.dreier.mytargets.managers.dao.RoundDataSource.delete(RoundDataSource.java:28)\n    at de.dreier.mytargets.fragments.EditableListFragmentBase$2.onDismissed(EditableListFragmentBase.java:137)\n    at android.support.design.widget.Snackbar.onViewHidden(Snackbar.java:633)\n    at android.support.design.widget.Snackbar.hideView(Snackbar.java:617)\n    at android.support.design.widget.Snackbar$1.handleMessage(Snackbar.java:170)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:158)\n    at android.app.ActivityThread.main(ActivityThread.java:7229)\n    at java.lang.reflect.Method.invoke(Method.java)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n",
    "keywords": [
      "de",
      "rounddatasource",
      "widget",
      "java",
      "os",
      "dreier",
      "design",
      "android",
      "mytargets",
      "de dreier",
      "snackbar",
      "support",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/DreierF/MyTargets/commit/433366eb512a81aa550b295d6914d986c7ef2a2d",
      "files": [
        {
          "file_name": "app/src/main/java/de/dreier/mytargets/fragments/EditableListFragmentBase.java",
          "patch": "@@ -37,6 +37,7 @@\n         implements OnCardClickListener\u003cT\u003e, LoaderManager.LoaderCallbacks\u003cList\u003cT\u003e\u003e {\n \n     protected boolean supportsStatistics \u003d false;\n+    protected boolean supportsDeletion \u003d true;\n     @State(SelectorBundler.class)\n     MultiSelector mSelector \u003d new MultiSelector();\n     @PluralsRes\n@@ -48,8 +49,8 @@\n         public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n             MenuItem edit \u003d menu.findItem(R.id.action_edit);\n             edit.setVisible(mSelector.getSelectedIds().size() \u003d\u003d 1);\n-            MenuItem stats \u003d menu.findItem(R.id.action_statistics);\n-            stats.setVisible(supportsStatistics);\n+            menu.findItem(R.id.action_statistics).setVisible(supportsStatistics);\n+            menu.findItem(R.id.action_delete).setVisible(supportsDeletion);\n             return false;\n         }\n "
        },
        {
          "file_name": "app/src/main/java/de/dreier/mytargets/fragments/TrainingFragment.java",
          "patch": "@@ -29,7 +29,6 @@\n import java.util.List;\n import java.util.Locale;\n \n-import de.dreier.mytargets.ApplicationInstance;\n import de.dreier.mytargets.R;\n import de.dreier.mytargets.activities.ScoreboardActivity;\n import de.dreier.mytargets.activities.SimpleFragmentActivityBase;\n@@ -127,8 +126,8 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n     public void onLoadFinished(Loader\u003cList\u003cRound\u003e\u003e loader, List\u003cRound\u003e data) {\n         // Hide fab for standard rounds\n         StandardRound standardRound \u003d standardRoundDataSource.get(training.standardRoundId);\n-        binding.fab.setVisibility(\n-                standardRound.club \u003d\u003d StandardRoundFactory.CUSTOM_PRACTICE ? View.VISIBLE : View.GONE);\n+        supportsDeletion \u003d standardRound.club \u003d\u003d StandardRoundFactory.CUSTOM_PRACTICE;\n+        binding.fab.setVisibility(supportsDeletion ? View.VISIBLE : View.GONE);\n \n         // Set round info\n         int weatherDrawable \u003d R.drawable.ic_house_24dp;\n@@ -210,7 +209,7 @@ protected void onStatistics(List\u003cLong\u003e roundIds) {\n         @Override\n         public void bindItem() {\n             binding.title.setText(String.format(Locale.ENGLISH, \"%s %d\",\n-                    ApplicationInstance.getContext().getString(R.string.round),\n+                    getContext().getString(R.string.round),\n                     mItem.info.index + 1));\n             binding.subtitle.setText(HtmlUtils.fromHtml(HtmlUtils.getRoundInfo(mItem, equals)));\n             if (binding.subtitle.getText().toString().isEmpty()) {"
        }
      ]
    }
  },
  {
    "name": "Crash on nextgis.com connect",
    "url": "https://github.com/nextgis/android_gisapp/issues/480",
    "description": "```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String java.lang.String.toLowerCase()\u0027 on a null object reference\n    at com.nextgis.maplibui.dialog.SelectNGWResourceDialog.fillConnections(SelectNGWResourceDialog.java:211)\n    at com.nextgis.maplibui.dialog.SelectNGWResourceDialog.onCreateDialog(SelectNGWResourceDialog.java:114)\n    at android.support.v4.app.DialogFragment.getLayoutInflater(DialogFragment.java:307)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1286)\n    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:758)\n    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1671)\n    at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:532)\n    at android.os.Handler.handleCallback(Handler.java:815)\n    at android.os.Handler.dispatchMessage(Handler.java:104)\n    at android.os.Looper.loop(Looper.java:194)\n    at android.app.ActivityThread.main(ActivityThread.java:5624)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\n```\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String java.lang.String.toLowerCase()\u0027 on a null object reference\n    at com.nextgis.maplibui.GISApplication.getAccountUrl(GISApplication.java:240)\n    at com.nextgis.maplib.map.NGWLookupTable.setAccountCacheData(NGWLookupTable.java:126)\n    at com.nextgis.maplib.map.NGWLookupTable.setAccountName(NGWLookupTable.java:197)\n    at com.nextgis.maplibui.service.LayerFillService$NGWVectorLayerFillTask.execute(LayerFillService.java:665)\n    at com.nextgis.maplibui.service.LayerFillService$2.run(LayerFillService.java:253)\n    at java.lang.Thread.run(Thread.java:818)\n```\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "maplibui",
      "os",
      "string",
      "method",
      "nextgis",
      "android",
      "android support",
      "support v4",
      "run",
      "invoke",
      "ngwlookuptable",
      "java lang",
      "java",
      "com nextgis",
      "selectngwresourcedialog",
      "v4 app",
      "fragmentmanager",
      "lang",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/c994e35ac17d5774c421ad31378348b47ed6ab47",
      "files": [
        {
          "file_name": "app/app.iml",
          "patch": "@@ -64,14 +64,6 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/jni\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/rs\" isTestSource\u003d\"false\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/main/shaders\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/res\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/resources\" type\u003d\"java-test-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/assets\" type\u003d\"java-test-resource\" /\u003e\n@@ -80,6 +72,14 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTest/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/assets\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/blame\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/bundles\" /\u003e"
        },
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit b1e7a733ea16c5a26a1b7fcd224f17c207884144\n+Subproject commit 89d2b29a57800c7e37a6fccb5d09a8b269faf468"
        }
      ]
    }
  },
  {
    "name": "Crash on clicking play on audio messages",
    "url": "https://github.com/kontalk/androidclient/issues/995",
    "description": "This AudioFragment thing is making me crazy...\r\n\r\n```\r\njava.lang.NullPointerException\r\n       at org.kontalk.ui.AbstractComposeFragment.playAudio(AbstractComposeFragment.java:2132)\r\n       at org.kontalk.ui.AbstractComposeFragment.buttonClick(AbstractComposeFragment.java:2078)\r\n       at org.kontalk.ui.view.AudioContentView.onClick(AudioContentView.java:145)\r\n       at android.view.View.performClick(View.java:4442)\r\n       at android.view.View$PerformClick.run(View.java:18473)\r\n       at android.os.Handler.handleCallback(Handler.java:733)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5103)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:606)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```",
    "keywords": [
      "handler",
      "os",
      "method",
      "org",
      "android",
      "abstractcomposefragment",
      "main",
      "org kontalk",
      "view",
      "java",
      "ui",
      "lang",
      "kontalk",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/56423eea7bdf6c48d661e818b7a6417ecdf68108",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -67,7 +67,6 @@\n import android.provider.ContactsContract.Contacts;\n import android.provider.MediaStore;\n import android.support.annotation.NonNull;\n-import android.support.v4.app.FragmentActivity;\n import android.support.v4.app.FragmentManager;\n import android.support.v4.content.ContextCompat;\n import android.support.v4.content.LocalBroadcastManager;\n@@ -195,6 +194,7 @@ public int getValue() {\n     private Handler mHandler;\n     private Runnable mMediaPlayerUpdater;\n     private AudioContentViewControl mAudioControl;\n+    private AudioFragment mAudioFragment;\n \n     /** Audio recording dialog. */\n     private AudioDialog mAudioDialog;\n@@ -1071,25 +1071,21 @@ void selectAudioAttachment() {\n     }\n \n     private AudioFragment getAudioFragment() {\n-        AudioFragment fragment \u003d findAudioFragment();\n-        if (fragment \u003d\u003d null) {\n-            FragmentActivity parent \u003d getActivity();\n-            if (parent !\u003d null) {\n-                fragment \u003d new AudioFragment();\n-                FragmentManager fm \u003d getFragmentManager();\n+        FragmentManager fm \u003d getFragmentManager();\n+        if (fm !\u003d null) {\n+            AudioFragment found \u003d (AudioFragment) fm.findFragmentByTag(\"audio\");\n+            if (found !\u003d null) {\n+                mAudioFragment \u003d found;\n+            }\n+            else {\n+                mAudioFragment \u003d new AudioFragment();\n                 fm.beginTransaction()\n-                    .add(fragment, \"audio\")\n+                    .add(mAudioFragment, \"audio\")\n                     .commit();\n             }\n         }\n \n-        return fragment;\n-    }\n-\n-    private AudioFragment findAudioFragment() {\n-        FragmentManager fm \u003d getFragmentManager();\n-        return fm !\u003d null ? (AudioFragment) fm\n-            .findFragmentByTag(\"audio\") : null;\n+        return mAudioFragment;\n     }\n \n     protected abstract void deleteConversation();\n@@ -1891,7 +1887,7 @@ public void onPause() {\n         MessageCenterService.release(getActivity());\n \n         // release audio player\n-        AudioFragment audio \u003d findAudioFragment();\n+        AudioFragment audio \u003d getAudioFragment();\n         if (audio !\u003d null) {\n             stopMediaPlayerUpdater();\n \n@@ -2109,7 +2105,7 @@ private boolean prepareAudio(File audioFile, final AudioContentViewControl view,\n                 public void onCompletion(MediaPlayer mp) {\n                     stopMediaPlayerUpdater();\n                     view.end();\n-                    AudioFragment audio \u003d findAudioFragment();\n+                    AudioFragment audio \u003d getAudioFragment();\n                     if (audio !\u003d null) {\n                         // this is mainly to get the wake lock released\n                         audio.pausePlaying();\n@@ -2129,20 +2125,20 @@ public void onCompletion(MediaPlayer mp) {\n     @Override\n     public void playAudio(AudioContentViewControl view, long messageId) {\n         view.play();\n-        findAudioFragment().startPlaying();\n+        getAudioFragment().startPlaying();\n         setAudioStatus(AudioContentView.STATUS_PLAYING);\n         startMediaPlayerUpdater(view);\n     }\n \n     private void updatePosition(AudioContentViewControl view) {\n         // we don\u0027t use getElapsedTime() here because it might get moved by seeking\n-        view.updatePosition(findAudioFragment().getPlayer().getCurrentPosition());\n+        view.updatePosition(getAudioFragment().getPlayer().getCurrentPosition());\n     }\n \n     @Override\n     public void pauseAudio(AudioContentViewControl view) {\n         view.pause();\n-        findAudioFragment().pausePlaying();\n+        getAudioFragment().pausePlaying();\n         stopMediaPlayerUpdater();\n         setAudioStatus(AudioContentView.STATUS_PAUSED);\n     }\n@@ -2152,7 +2148,7 @@ private void resetAudio(AudioContentViewControl view) {\n             stopMediaPlayerUpdater();\n             view.end();\n         }\n-        AudioFragment audio \u003d findAudioFragment();\n+        AudioFragment audio \u003d getAudioFragment();\n         if (audio !\u003d null) {\n             audio.resetPlayer();\n             audio.setMessageId(-1);\n@@ -2170,7 +2166,7 @@ public void stopAllSounds() {\n \n     @Override\n     public void onBind(long messageId, final AudioContentViewControl view) {\n-        final AudioFragment audio \u003d findAudioFragment();\n+        final AudioFragment audio \u003d getAudioFragment();\n         if (audio !\u003d null \u0026\u0026 audio.getMessageId() \u003d\u003d messageId) {\n             mAudioControl \u003d view;\n             audio.getPlayer().setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n@@ -2197,7 +2193,7 @@ public void onCompletion(MediaPlayer mp) {\n \n     @Override\n     public void onUnbind(long messageId, AudioContentViewControl view) {\n-        AudioFragment audio \u003d findAudioFragment();\n+        AudioFragment audio \u003d getAudioFragment();\n         if (audio !\u003d null \u0026\u0026 audio.getMessageId() \u003d\u003d messageId) {\n             mAudioControl \u003d null;\n             MediaPlayer player \u003d audio.getPlayer();\n@@ -2224,13 +2220,13 @@ public void onCompletion(MediaPlayer mp) {\n \n     @Override\n     public boolean isPlaying() {\n-        AudioFragment audio \u003d findAudioFragment();\n+        AudioFragment audio \u003d getAudioFragment();\n         return audio !\u003d null \u0026\u0026 audio.isPlaying();\n     }\n \n     @Override\n     public void seekTo(int position) {\n-        AudioFragment audio \u003d findAudioFragment();\n+        AudioFragment audio \u003d getAudioFragment();\n         if (audio !\u003d null)\n             audio.seekPlayerTo(position);\n     }"
        }
      ]
    }
  },
  {
    "name": "Crash on pending outgoing group message",
    "url": "https://github.com/kontalk/androidclient/issues/976",
    "description": "```\r\njava.lang.ArrayIndexOutOfBoundsException: length\u003d4; index\u003d4\r\n       at org.kontalk.service.msgcenter.group.KontalkGroupController.beforeEncryption(KontalkGroupController.java:87)\r\n       at org.kontalk.service.msgcenter.group.KontalkGroupController.beforeEncryption(KontalkGroupController.java:40)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.sendMessage(MessageCenterService.java:2452)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.sendMessages(MessageCenterService.java:1978)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.resendPendingMessages(MessageCenterService.java:1834)\r\n       at org.kontalk.service.msgcenter.MessageCenterService.resendPendingMessages(MessageCenterService.java:1748)\r\n       at org.kontalk.service.msgcenter.MessageCenterService$6$1.run(MessageCenterService.java:1491)\r\n       at android.os.Handler.handleCallback(Handler.java:746)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5443)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n```",
    "keywords": [
      "handler",
      "java",
      "kontalkgroupcontroller",
      "os",
      "messagecenterservice",
      "org",
      "service",
      "android",
      "kontalk service",
      "msgcenter",
      "kontalk",
      "zygoteinit",
      "group"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/446fe2109e627a31489e43411a8a5ed6ec0eb95f",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/service/msgcenter/group/KontalkGroupController.java",
          "patch": "@@ -18,6 +18,9 @@\n \n package org.kontalk.service.msgcenter.group;\n \n+import java.util.HashSet;\n+import java.util.Set;\n+\n import org.jivesoftware.smack.XMPPConnection;\n import org.jivesoftware.smack.packet.Message;\n import org.jivesoftware.smack.packet.Stanza;\n@@ -77,18 +80,15 @@ else if (command instanceof AddRemoveMembersCommand) {\n             KontalkAddRemoveMembersCommand addRemove \u003d (KontalkAddRemoveMembersCommand) command;\n             String[] added \u003d addRemove.getAddedMembers();\n             String[] members \u003d addRemove.getMembers();\n-            String[] filteredMembers \u003d members;\n-            if (added !\u003d null) {\n-                // remove added users from members list\n-                filteredMembers \u003d new String[members.length - added.length];\n-                int fi \u003d 0;\n-                for (String member : members) {\n-                    if (!SystemUtils.contains(added, member)) {\n-                        filteredMembers[fi++] \u003d member;\n-                    }\n+            Set\u003cString\u003e filteredMembers \u003d new HashSet\u003c\u003e();\n+            for (String member : members) {\n+                // do not include added users in members list\n+                if (added \u003d\u003d null || !SystemUtils.contains(added, member)) {\n+                    filteredMembers.add(member);\n                 }\n             }\n-            group.addRemoveMembers(addRemove.getSubject(), filteredMembers,\n+            group.addRemoveMembers(addRemove.getSubject(),\n+                filteredMembers.toArray(new String[filteredMembers.size()]),\n                 addRemove.getAddedMembers(), addRemove.getRemovedMembers(), packet);\n         }\n         else if (command instanceof PartCommand) {"
        }
      ]
    }
  },
  {
    "name": "Example Android App crash",
    "url": "https://github.com/requery/requery/issues/329",
    "description": "Hi there,\r\n\r\nthe example Android App crashes immediately after installation. Tested on the emulator with Android API 22 and the latest source code.\r\n\r\n```Java\r\n java.lang.RuntimeException: Unable to start activity ComponentInfo{io.requery.android.example.app/io.requery.android.example.app.PeopleActivity}: rx.exceptions.OnErrorNotImplementedException: java.sql.SQLException: android.database.sqlite.SQLiteException: near \"Group\": syntax error (code 1): , while compiling: create table Group (id integer primary key autoincrement not null, name varchar(255))\r\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n     at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n     at android.os.Looper.loop(Looper.java:135)\r\n     at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at java.lang.reflect.Method.invoke(Method.java:372)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n  Caused by: rx.exceptions.OnErrorNotImplementedException: java.sql.SQLException: android.database.sqlite.SQLiteException: near \"Group\": syntax error (code 1): , while compiling: create table Group (id integer primary key autoincrement not null, name varchar(255))\r\n     at rx.Single$15.onError(Single.java:1637)\r\n     at rx.observers.SafeSubscriber._onError(SafeSubscriber.java:152)\r\n     at rx.observers.SafeSubscriber.onError(SafeSubscriber.java:115)\r\n     at rx.Single$1$1.onError(Single.java:84)\r\n     at io.requery.rx.SingleOnSubscribeFromSupplier.call(SingleOnSubscribeFromSupplier.java:37)\r\n     at io.requery.rx.SingleOnSubscribeFromSupplier.call(SingleOnSubscribeFromSupplier.java:23)\r\n     at rx.Single$1.call(Single.java:89)\r\n     at rx.Single$1.call(Single.java:69)\r\n     at rx.Single.subscribe(Single.java:1824)\r\n     at rx.Single.subscribe(Single.java:1628)\r\n     at io.requery.android.example.app.PeopleActivity.onCreate(PeopleActivity.java:72)\r\n     at android.app.Activity.performCreate(Activity.java:5990)\r\n     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\r\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\r\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \r\n     at android.app.ActivityThread.access$800(ActivityThread.java:151) \r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \r\n     at android.os.Handler.dispatchMessage(Handler.java:102) \r\n     at android.os.Looper.loop(Looper.java:135) \r\n     at android.app.ActivityThread.main(ActivityThread.java:5254) \r\n     at java.lang.reflect.Method.invoke(Native Method) \r\n     at java.lang.reflect.Method.invoke(Method.java:372) \r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \r\n  Caused by: io.requery.sql.TableModificationException: java.sql.SQLException: android.database.sqlite.SQLiteException: near \"Group\": syntax error (code 1): , while compiling: create table Group (id integer primary key autoincrement not null, name varchar(255))\r\n     at io.requery.sql.SchemaModifier.createTables(SchemaModifier.java:142)\r\n     at io.requery.android.sqlite.DatabaseSource.onCreate(DatabaseSource.java:201)\r\n     at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:251)\r\n     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:163)\r\n     at io.requery.android.sqlite.DatabaseSource.getConnection(DatabaseSource.java:230)\r\n     at io.requery.sql.EntityDataStore$DataContext.getConnection(EntityDataStore.java:607)\r\n     at io.requery.sql.EntityDataStore.checkConnectionMetadata(EntityDataStore.java:546)\r\n     at io.requery.sql.EntityDataStore$DataContext.getPlatform(EntityDataStore.java:685)\r\n     at io.requery.sql.EntityDataStore$DataContext.getStatementGenerator(EntityDataStore.java:692)\r\n     at io.requery.sql.gen.DefaultOutput.\u003cinit\u003e(DefaultOutput.java:65)\r\n     at io.requery.sql.SelectResult.createQuery(SelectResult.java:97)\r\n     at io.requery.sql.SelectResult.iterator(SelectResult.java:106)\r\n     at io.requery.query.BaseResult.iterator(BaseResult.java:123)\r\n     at io.requery.query.BaseResult.first(BaseResult.java:87)\r\n     at io.requery.sql.SelectCountOperation$1.evaluate(SelectCountOperation.java:42)\r\n     at io.requery.sql.SelectCountOperation$1.evaluate(SelectCountOperation.java:38)\r\n     at io.requery.query.BaseScalar.value(BaseScalar.java:49)\r\n     at io.requery.query.BaseScalar$2.get(BaseScalar.java:98)\r\n     at io.requery.rx.SingleOnSubscribeFromSupplier.call(SingleOnSubscribeFromSupplier.java:34)\r\n     at io.requery.rx.SingleOnSubscribeFromSupplier.call(SingleOnSubscribeFromSupplier.java:23) \r\n     at rx.Single$1.call(Single.java:89) \r\n     at rx.Single$1.call(Single.java:69) \r\n     at rx.Single.subscribe(Single.java:1824) \r\n     at rx.Single.subscribe(Single.java:1628) \r\n     at io.requery.android.example.app.PeopleActivity.onCreate(PeopleActivity.java:72) \r\n     at android.app.Activity.performCreate(Activity.java:5990) \r\n     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106) \r\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278) \r\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \r\n     at android.app.ActivityThread.access$800(ActivityThread.java:151) \r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \r\n     at android.os.Handler.dispatchMessage(Handler.java:102) \r\n     at android.os.Looper.loop(Looper.java:135) \r\n     at android.app.ActivityThread.main(ActivityThread.java:5254) \r\n     at java.lang.reflect.Method.invoke(Native Method) \r\n     at java.lang.reflect.Method.invoke(Method.java:372) \r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \r\n```",
    "keywords": [
      "handler",
      "singleonsubscribefromsupplier",
      "compiling",
      "invoke",
      "reflect",
      "java",
      "entitydatastore",
      "reflect method",
      "basescalar",
      "instrumentation",
      "id",
      "near",
      "safesubscriber",
      "app",
      "android os",
      "method",
      "io",
      "sql entitydatastore$datacontext",
      "access$800",
      "1",
      "android app",
      "requery",
      "java:698",
      "io requery",
      "primary",
      "dispatchmessage",
      "internal",
      "activity",
      "rx",
      "sqliteexception",
      "requery query",
      "sqlexception",
      "example",
      "databasesource",
      "255",
      "native",
      "entitydatastore$datacontext",
      "table",
      "key",
      "zygoteinit",
      "java:1303",
      "oncreate",
      "java lang",
      "single",
      "call",
      "activitythread",
      "java:151",
      "handlelaunchactivity",
      "baseresult",
      "com",
      "database sqlite",
      "peopleactivity",
      "main",
      "run",
      "integer",
      "requery android",
      "loop",
      "create",
      "performlaunchactivity",
      "group",
      " ",
      "selectresult",
      "singleonsubscribefromsupplier call",
      "sqlite",
      "requery sql",
      "query",
      "sqliteopenhelper",
      "performlaunchactivity activitythread",
      "java:372",
      "null",
      "name",
      "java:135",
      "handlemessage",
      "code",
      "java:5254",
      "onerror",
      "app activitythread",
      "android",
      "looper",
      "error",
      "java:2387",
      "sql",
      "database",
      "not",
      "android internal",
      "autoincrement",
      "activitythread$h",
      "lang",
      "java:102",
      "internal os",
      "single subscribe",
      "java:903",
      "os",
      "subscribe",
      "single$1 call",
      "varchar",
      "zygoteinit$methodandargscaller",
      "com android",
      "requery rx",
      "syntax",
      "single$1"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/requery/requery/commit/8136aea9134bc13a470d3c8d387ec22181c2fa9a",
      "files": [
        {
          "file_name": "requery-android/example/src/main/java/io/requery/android/example/app/model/Group.java",
          "patch": "@@ -1,45 +0,0 @@\n-/*\n- * Copyright 2016 requery.io\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *     http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n-package io.requery.android.example.app.model;\n-\n-\n-import android.databinding.Bindable;\n-import android.databinding.Observable;\n-import android.os.Parcelable;\n-import io.requery.CascadeAction;\n-import io.requery.Entity;\n-import io.requery.Generated;\n-import io.requery.JunctionTable;\n-import io.requery.Key;\n-import io.requery.ManyToMany;\n-import io.requery.Persistable;\n-\n-import java.util.List;\n-\n-@Entity\n-public interface Group extends Observable, Parcelable, Persistable {\n-\n-    @Key @Generated\n-    int getId();\n-\n-    @Bindable\n-    String getName();\n-\n-    @JunctionTable\n-    @ManyToMany(mappedBy \u003d \"groups\", cascade \u003d {CascadeAction.DELETE, CascadeAction.SAVE})\n-    List\u003cPerson\u003e getMembers();\n-}"
        },
        {
          "file_name": "requery-android/example/src/main/java/io/requery/android/example/app/model/Person.java",
          "patch": "@@ -26,7 +26,6 @@\n import io.requery.Generated;\n import io.requery.Index;\n import io.requery.Key;\n-import io.requery.ManyToMany;\n import io.requery.OneToMany;\n import io.requery.OneToOne;\n import io.requery.Persistable;\n@@ -69,7 +68,4 @@\n \n     @OneToMany(mappedBy \u003d \"owner\", cascade \u003d {CascadeAction.DELETE, CascadeAction.SAVE})\n     List\u003cPhone\u003e getPhoneNumberList();\n-\n-    @ManyToMany(mappedBy \u003d \"members\", cascade \u003d {CascadeAction.DELETE, CascadeAction.SAVE})\n-    List\u003cGroup\u003e getGroups();\n }"
        }
      ]
    }
  },
  {
    "name": "ConcurrentModificationException",
    "url": "https://github.com/airbnb/lottie-android/issues/148",
    "description": "I have two animations playing in concurrently in a viewpager. Each animation contains images. Using via xml only. When my app exits I get the following crash:\r\n\r\nProcess: com.medicomip.eagle2, PID: 4287\r\n                  java.util.ConcurrentModificationException\r\n                      at java.util.HashMap$HashIterator.nextEntry(HashMap.java:851)\r\n                      at java.util.HashMap$KeyIterator.next(HashMap.java:885)\r\n                      at com.airbnb.lottie.ImageAssetBitmapManager.recycleBitmaps(ImageAssetBitmapManager.java:68)\r\n                      at com.airbnb.lottie.LottieDrawable.recycleBitmaps(LottieDrawable.java:114)\r\n                      at com.airbnb.lottie.LottieAnimationView.recycleBitmaps(LottieAnimationView.java:170)\r\n                      at com.airbnb.lottie.LottieAnimationView.onDetachedFromWindow(LottieAnimationView.java:161)\r\n                      at android.view.View.dispatchDetachedFromWindow(View.java:15446)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewGroup.dispatchDetachedFromWindow(ViewGroup.java:3216)\r\n                      at android.view.ViewRootImpl.dispatchDetachedFromWindow(ViewRootImpl.java:3255)\r\n                      at android.view.ViewRootImpl.doDie(ViewRootImpl.java:5881)\r\n                      at android.view.ViewRootImpl.die(ViewRootImpl.java:5858)\r\n                      at android.view.WindowManagerGlobal.removeViewLocked(WindowManagerGlobal.java:446)\r\n                      at android.view.WindowManagerGlobal.removeView(WindowManagerGlobal.java:384)\r\n                      at android.view.WindowManagerImpl.removeViewImmediate(WindowManagerImpl.java:124)\r\n                      at android.app.ActivityThread.handleDestroyActivity(ActivityThread.java:4207)\r\n                      at android.app.ActivityThread.-wrap6(ActivityThread.java)\r\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1521)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                      at android.os.Looper.loop(Looper.java:154)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n\r\nAny suggestions?\r\n\r\nBest regards Christian",
    "keywords": [
      "com",
      "app",
      "lottie",
      "os",
      "airbnb lottie",
      "viewgroup java:3216",
      "view viewgroup",
      "android",
      "java:3216",
      "viewgroup dispatchdetachedfromwindow",
      "airbnb",
      "activitythread",
      "view",
      "recyclebitmaps",
      "dispatchdetachedfromwindow viewgroup",
      "java",
      "util",
      "viewgroup",
      "viewrootimpl",
      "lottieanimationview",
      "dispatchdetachedfromwindow",
      "android view",
      "windowmanagerglobal",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/airbnb/lottie-android/commit/99d578754d314414c5c816906ea73c645e55cb23",
      "files": [
        {
          "file_name": "lottie/src/main/java/com/airbnb/lottie/ImageAssetBitmapManager.java",
          "patch": "@@ -11,6 +11,7 @@\n import java.io.IOException;\n import java.io.InputStream;\n import java.util.HashMap;\n+import java.util.Iterator;\n import java.util.Map;\n \n import static junit.framework.Assert.assertNotNull;\n@@ -69,9 +70,11 @@ Bitmap bitmapForId(String id) {\n   }\n \n   void recycleBitmaps() {\n-    for (String key : bitmaps.keySet()) {\n-      Bitmap bitmap \u003d bitmaps.remove(key);\n-      bitmap.recycle();\n+    Iterator\u003cMap.Entry\u003cString, Bitmap\u003e\u003e it \u003d bitmaps.entrySet().iterator();\n+    while (it.hasNext()) {\n+      Map.Entry\u003cString, Bitmap\u003e entry \u003d it.next();\n+      entry.getValue().recycle();\n+      it.remove();\n     }\n   }\n "
        }
      ]
    }
  },
  {
    "name": "takePicture failed",
    "url": "https://github.com/google/cameraview/issues/80",
    "description": "``` Java\r\njava.lang.RuntimeException: takePicture failed\r\nat android.hardware.Camera.native_takePicture(Native Method)\r\nat android.hardware.Camera.takePicture(Camera.java:1561)\r\nat com.google.android.cameraview.Camera1.takePictureInternal(Camera1.java:230)\r\nat com.google.android.cameraview.Camera1$2.onAutoFocus(Camera1.java:221)\r\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1199)\r\nat android.os.Handler.dispatchMessage(Handler.java:102)\r\nat android.os.Looper.loop(Looper.java:135)\r\nat android.app.ActivityThread.main(ActivityThread.java:5593)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat java.lang.reflect.Method.invoke(Method.java:372)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:967)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:762)\r\n```\r\nDevice: Honor SCL-AL00\r\nOS: EMUI3.1.1(Android 5.1.1)\r\nother problem:call back `onPictureTaken` and save picture always.\r\n\r\n\r\n\r\nCamera1.java\r\n``` Java\r\n   @Override\r\n    void takePicture() {\r\n        if (!isCameraOpened()) {\r\n            throw new IllegalStateException(\r\n                    \"Camera is not ready. Call start() before takePicture().\");\r\n        }\r\n        if (getAutoFocus()) {\r\n            mCamera.cancelAutoFocus();\r\n            mCamera.autoFocus(new Camera.AutoFocusCallback() {\r\n                @Override\r\n                public void onAutoFocus(boolean success, Camera camera) {\r\n                    takePictureInternal();\r\n                }\r\n            });\r\n        } else {\r\n            takePictureInternal();\r\n        }\r\n    }\r\n```\r\ntakePictureInternal();\r\nmCamera.cancelAutoFocus();\r\nit is work.",
    "keywords": [
      "com",
      "takepicture",
      "os",
      "method",
      "android",
      "java lang",
      "1",
      "mcamera",
      "camera1",
      "java",
      "takepictureinternal",
      ";",
      "lang",
      "camera",
      "zygoteinit",
      "hardware"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/google/cameraview/commit/475546b638d5dbfddfcb5ac4c694185a0c7b73ba",
      "files": [
        {
          "file_name": "library/src/main/api14/com/google/android/cameraview/Camera1.java",
          "patch": "@@ -231,6 +231,7 @@ void takePictureInternal() {\n             @Override\n             public void onPictureTaken(byte[] data, Camera camera) {\n                 mCallback.onPictureTaken(data);\n+                camera.cancelAutoFocus();\n                 camera.startPreview();\n             }\n         });"
        }
      ]
    }
  },
  {
    "name": "Drop support for upgrading from users database version \u003c 9",
    "url": "https://github.com/kontalk/androidclient/issues/964",
    "description": "We don\u0027t want that :-)\r\n\r\n```\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{org.kontalk/org.kontalk.ui.CodeValidation}: android.database.sqlite.SQLiteException: table users_backup has 10 columns but 12 values were supplied (code 1): , while compiling: INSERT INTO users_backup SELECT _id, jid, number, display_name, lookup_key, contact_id, registered, status, last_seen, public_key, fingerprint, blocked FROM users\r\n#################################################################\r\nError Code : 1 (SQLITE_ERROR)\r\nCaused By : SQL(query) error or missing database.\r\n\t(table users_backup has 10 columns but 12 values were supplied (code 1): , while compiling: INSERT INTO users_backup SELECT _id, jid, number, display_name, lookup_key, contact_id, registered, status, last_seen, public_key, fingerprint, blocked FROM users)\r\n#################################################################\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\r\n       at android.app.ActivityThread.access$1100(ActivityThread.java:221)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:158)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7224)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\nCaused by android.database.sqlite.SQLiteException: table users_backup has 10 columns but 12 values were supplied (code 1): , while compiling: INSERT INTO users_backup SELECT _id, jid, number, display_name, lookup_key, contact_id, registered, status, last_seen, public_key, fingerprint, blocked FROM users\r\n#################################################################\r\nError Code : 1 (SQLITE_ERROR)\r\nCaused By : SQL(query) error or missing database.\r\n\t(table users_backup has 10 columns but 12 values were supplied (code 1): , while compiling: INSERT INTO users_backup SELECT _id, jid, number, display_name, lookup_key, contact_id, registered, status, last_seen, public_key, fingerprint, blocked FROM users)\r\n#################################################################\r\n       at android.database.sqlite.SQLiteConnection.nativePrepareStatement(SQLiteConnection.java)\r\n       at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1058)\r\n       at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:623)\r\n       at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\r\n       at android.database.sqlite.SQLiteProgram.\u003cinit\u003e(SQLiteProgram.java:59)\r\n       at android.database.sqlite.SQLiteStatement.\u003cinit\u003e(SQLiteStatement.java:31)\r\n       at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1812)\r\n       at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1743)\r\n       at org.kontalk.provider.UsersProvider$DatabaseHelper.onUpgrade(UsersProvider.java:209)\r\n       at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:256)\r\n       at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:163)\r\n       at org.kontalk.provider.UsersProvider.resync(UsersProvider.java:600)\r\n       at org.kontalk.provider.UsersProvider.update(UsersProvider.java:512)\r\n       at android.content.ContentProvider$Transport.update(ContentProvider.java:368)\r\n       at android.content.ContentResolver.update(ContentResolver.java:1415)\r\n       at org.kontalk.provider.UsersProvider.resync(UsersProvider.java:1108)\r\n       at org.kontalk.ui.CodeValidation.onStart(CodeValidation.java:249)\r\n       at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1265)\r\n       at android.app.Activity.performStart(Activity.java:6915)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3216)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\r\n       at android.app.ActivityThread.access$1100(ActivityThread.java:221)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:158)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7224)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n```\r\n\r\nFor upgrades from versions lesser than 9, just drop everything and start from scratch.",
    "keywords": [
      "com",
      "public_key",
      "handler",
      "select",
      "jid",
      "last_seen",
      "registered",
      "compiling",
      "main",
      "org kontalk",
      "number",
      "java",
      "#################################################################",
      "fingerprint",
      "lookup_key",
      "sqlite sqliteconnection",
      "10",
      "app",
      "sqlitedatabase",
      "12",
      "method",
      "sqlite",
      "sqliteopenhelper",
      "display_name",
      "users",
      "1",
      "android app",
      "_id",
      "status",
      "internal",
      "code",
      "activity",
      "columns",
      "app activitythread",
      "values",
      "sqliteconnection",
      "android",
      "insert",
      "update",
      "looper",
      "contact_id",
      "error",
      "android database",
      "database",
      "blocked",
      "provider",
      "lang",
      "table",
      "kontalk",
      "zygoteinit",
      "os",
      "supplied",
      "org",
      "caused",
      "users_backup",
      "activitythread",
      "provider usersprovider",
      "usersprovider"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/ef386c356ccbba3a293d61f0f68b2ddd4d08f6c6",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/provider/UsersProvider.java",
          "patch": "@@ -132,24 +132,6 @@\n         private static final String SCHEMA_KEYS \u003d\n             \"CREATE TABLE \" + TABLE_KEYS + \" \" + CREATE_TABLE_KEYS;\n \n-        private static final String[] SCHEMA_UPGRADE_V7 \u003d {\n-            SCHEMA_KEYS,\n-            \"INSERT INTO \" + TABLE_KEYS + \" SELECT jid, public_key, fingerprint FROM \" + TABLE_USERS,\n-        };\n-\n-        private static final String[] SCHEMA_UPGRADE_V8 \u003d {\n-            // online table\n-            \"CREATE TABLE users_backup \" + CREATE_TABLE_USERS,\n-            \"INSERT INTO users_backup SELECT _id, jid, number, display_name, lookup_key, contact_id, registered, status, last_seen, public_key, fingerprint, blocked FROM \" + TABLE_USERS,\n-            \"DROP TABLE \" + TABLE_USERS,\n-            \"ALTER TABLE users_backup RENAME TO \" + TABLE_USERS,\n-            // offline table\n-            \"CREATE TABLE users_backup \" + CREATE_TABLE_USERS,\n-            \"INSERT INTO users_backup SELECT _id, jid, number, display_name, lookup_key, contact_id, registered, status, last_seen, public_key, fingerprint, blocked FROM \" + TABLE_USERS_OFFLINE,\n-            \"DROP TABLE \" + TABLE_USERS_OFFLINE,\n-            \"ALTER TABLE users_backup RENAME TO \" + TABLE_USERS_OFFLINE,\n-        };\n-\n         private static final String[] SCHEMA_UPGRADE_V9 \u003d {\n             // online table\n             \"CREATE TABLE users_backup \" + CREATE_TABLE_USERS,\n@@ -168,12 +150,14 @@\n             \"ALTER TABLE keys_backup RENAME TO \" + TABLE_KEYS,\n         };\n \n-        // any upgrade - just replace the table\n+        // any upgrade - just re-create all tables\n         private static final String[] SCHEMA_UPGRADE \u003d {\n             \"DROP TABLE IF EXISTS \" + TABLE_USERS,\n             SCHEMA_USERS,\n             \"DROP TABLE IF EXISTS \" + TABLE_USERS_OFFLINE,\n             SCHEMA_USERS_OFFLINE,\n+            \"DROP TABLE IF EXISTS \" + TABLE_KEYS,\n+            SCHEMA_KEYS,\n         };\n \n         private Context mContext;\n@@ -199,15 +183,6 @@ public void onCreate(SQLiteDatabase db) {\n         @Override\n         public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n             switch (oldVersion) {\n-                case 7:\n-                    // create keys table and trust anyone\n-                    for (String sql : SCHEMA_UPGRADE_V7)\n-                        db.execSQL(sql);\n-                    // go on with next version\n-                case 8:\n-                    for (String sql : SCHEMA_UPGRADE_V8)\n-                        db.execSQL(sql);\n-                    // go on with next version\n                 case 9:\n                     // new keys management\n                     for (String sql : SCHEMA_UPGRADE_V9)"
        }
      ]
    }
  },
  {
    "name": "NullPointerException releasing camera",
    "url": "https://github.com/mWater/cordova-plugin-wezka-nativecamera/issues/7",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.hardware.Camera.release()\u0027 on a null object reference\r\n\tat com.tmantman.nativecamera.CameraActivity.restartPreview(CameraActivity.java:351)\r\n\tat com.tmantman.nativecamera.CameraActivity$2.onClick(CameraActivity.java:213)\r\n\tat android.view.View.performClick(View.java:4798)\r\n\tat android.view.View$PerformClick.run(View.java:19891)\r\n\tat android.os.Handler.handleCallback(Handler.java:739)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:135)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5345)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:947)\r\n\tat com.android.internal.os.Zygote\r\n```",
    "keywords": [
      "com",
      "handler",
      "view",
      "cameraactivity",
      "java",
      "os",
      "method",
      "android",
      "invoke",
      "lang"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/mWater/cordova-plugin-wezka-nativecamera/commit/aff4dcd75e6abc540735feb347e888d7449e93ee",
      "files": [
        {
          "file_name": "src/android/CameraActivity.java",
          "patch": "@@ -348,10 +348,12 @@ private float pxFromDp(float dp) {\n     }\n \n     void restartPreview(int isFront) {\n-        if (inPreview) {\n-            camera.stopPreview();\n+        if (camera !\u003d null) {\n+            if (inPreview) {\n+                camera.stopPreview();\n+            }\n+            camera.release();\n         }\n-        camera.release();\n         camera \u003d Camera.open(isFront);\n         initPreview(preview.getHeight());\n         startPreview();"
        }
      ]
    }
  },
  {
    "name": "Crash rotation écran article",
    "url": "https://github.com/AnaelMobilia/NextINpact-Unofficial/issues/207",
    "description": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.View android.view.LayoutInflater.inflate(int, android.view.ViewGroup, boolean)\u0027 on a null object reference\n    at com.pcinpact.adapters.ItemsAdapter.getView(ItemsAdapter.java:191)\n    at android.widget.AbsListView.obtainView(AbsListView.java:2929)\n    at android.widget.ListView.onMeasure(ListView.java:1180)\n    at android.view.View.measure(View.java:20166)\n    at android.widget.ScrollView.measureChildWithMargins(ScrollView.java:2104)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n    at android.widget.ScrollView.onMeasure(ScrollView.java:510)\n    at android.view.View.measure(View.java:20166)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6328)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n    at android.view.View.measure(View.java:20166)\n    at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1456)\n    at android.view.View.measure(View.java:20166)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6328)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n    at android.view.View.measure(View.java:20166)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6328)\n    at com.android.internal.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:446)\n    at android.view.View.measure(View.java:20166)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6328)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n    at com.android.internal.policy.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:3143)\n    at android.view.View.measure(View.java:20166)\n    at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2644)\n    at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1599)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1891)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1487)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7450)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:920)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:695)\n    at android.view.Choreographer.doFrame(Choreographer.java:631)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:906)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:158)\n    at android.app.ActivityThread.main(ActivityThread.java:7229)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n",
    "keywords": [
      "com",
      "measurechildwithmargins",
      "handler",
      "internal",
      "java:6328",
      "widget",
      "onmeasure",
      "framelayout",
      "choreographer",
      "view view",
      "android",
      "run",
      "view java:20166",
      "view",
      "android internal",
      "measure view",
      "android widget",
      "viewgroup",
      "android view",
      "zygoteinit",
      "os",
      "method",
      "view measure",
      "scrollview",
      "java:194",
      "measure",
      "java:20166",
      "viewrootimpl"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/AnaelMobilia/NextINpact-Unofficial/commit/0924c1cb23a8e1966fe9c426a6ff6bc6ae103beb",
      "files": [
        {
          "file_name": "app/src/main/java/com/pcinpact/ArticleFragment.java",
          "patch": "@@ -59,13 +59,15 @@ public void initialisation(Context unContext, LayoutInflater unLayoutInflater, i\n         idArticle \u003d articleID;\n         monContext \u003d unContext;\n         monLayoutInflater \u003d unLayoutInflater;\n+\n+        // Ne pas recréer le Fragment en cas de rotation d\u0027écran pour ne pas perdre les paramètres\n+        this.setRetainInstance(true);\n     }\n \n     @Override\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n         View maView;\n-        maView \u003d inflater.inflate(R.layout.article_fragment, null, false);\n-\n+        maView \u003d inflater.inflate(R.layout.article_fragment, container, false);\n         // Liste des commentaires\n         ListView monListView \u003d (ListView) maView.findViewById(R.id.contenuArticle);\n "
        }
      ]
    }
  },
  {
    "name": "Fatal Exception: java.lang.NullPointerException at com.bedrock.padder.helper.FirebaseHelper.removeLocalPreset",
    "url": "https://github.com/berict/Tapad/issues/154",
    "description": "```\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke interface method \u0027void java.lang.Runnable.run()\u0027 on a null object reference\r\n       at com.bedrock.padder.helper.FirebaseHelper.removeLocalPreset(FirebaseHelper.java:473)\r\n       at com.bedrock.padder.model.preset.Preset.removePreset(Preset.java:139)\r\n       at com.bedrock.padder.adapter.PresetStoreAdapter$5$1.onClick(PresetStoreAdapter.java:252)\r\n       at com.afollestad.materialdialogs.MaterialDialog.onClick(MaterialDialog.java:364)\r\n       at android.view.View.performClick(View.java:5246)\r\n       at android.widget.TextView.performClick(TextView.java:10618)\r\n       at android.view.View$PerformClick.run(View.java:21256)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:145)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6934)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)\r\n```",
    "keywords": [
      "com",
      "firebasehelper",
      "handler",
      "com bedrock",
      "os",
      "method",
      "android",
      "run",
      "invoke",
      "preset",
      "java lang",
      "view",
      "java",
      "bedrock",
      "padder",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/berict/Tapad/commit/45cdca80d94d4e4f332842d2075fc3fffc7751df",
      "files": [
        {
          "file_name": "app/src/main/java/com/bedrock/padder/helper/FirebaseHelper.java",
          "patch": "@@ -89,11 +89,11 @@ public FileDownloadTask saveFromFirebase(StorageReference storageReference,\n         }\n     }\n \n-    public void saveFromFirebase(StorageReference storageReference,\n-                                 final String fileLocation,\n-                                 final Runnable onSuccess,\n-                                 final Runnable onFailure,\n-                                 Activity activity) {\n+    private void saveFromFirebase(StorageReference storageReference,\n+                                  final String fileLocation,\n+                                  final Runnable onSuccess,\n+                                  final Runnable onFailure,\n+                                  Activity activity) {\n         // permission check\n         boolean hasPermission \u003d ContextCompat.checkSelfPermission(\n                 activity,\n@@ -502,10 +502,14 @@ public void removeLocalPreset(String presetName) {\n     public void removeLocalPreset(String presetName, Runnable onSuccess, Runnable onFailure) {\n         if (fileHelper.deleteRecursive(new File(PROJECT_LOCATION_PRESETS + \"/\" + presetName))) {\n             Log.d(TAG, \"Successfully removed preset folder\");\n-            onSuccess.run();\n+            if (onSuccess !\u003d null) {\n+                onSuccess.run();\n+            }\n         } else {\n             Log.d(TAG, \"Failed to remove preset folder\");\n-            onFailure.run();\n+            if (onFailure !\u003d null) {\n+                onFailure.run();\n+            }\n         }\n     }\n "
        }
      ]
    }
  },
  {
    "name": "Crash on concurrent access in message center",
    "url": "https://github.com/kontalk/androidclient/issues/984",
    "description": "cancelIdleAlarm() is called from IdleThread while mAlarmManager was destroyed.\r\n\r\n```\r\njava.lang.NullPointerException\r\n       at org.kontalk.service.msgcenter.MessageCenterService.cancelIdleAlarm(MessageCenterService.java:3264)\r\n       at org.kontalk.service.msgcenter.MessageCenterService$IdleConnectionHandler.abortIdle(MessageCenterService.java:581)\r\n       at org.kontalk.service.msgcenter.MessageCenterService$IdleConnectionHandler$1.run(MessageCenterService.java:543)\r\n       at android.os.Handler.handleCallback(Handler.java:808)\r\n       at android.os.Handler.dispatchMessage(Handler.java:103)\r\n       at android.os.Looper.loop(Looper.java:193)\r\n       at android.os.HandlerThread.run(HandlerThread.java:61)\r\n```",
    "keywords": [
      "handler",
      "os",
      "messagecenterservice",
      "org",
      "service",
      "android",
      "msgcenter",
      "kontalk"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/f0346a928e2139d689b37360c043cfd30d0749a8",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/service/msgcenter/MessageCenterService.java",
          "patch": "@@ -3259,11 +3259,17 @@ private void ensureIdleAlarm() {\n     }\n \n     void cancelIdleAlarm() {\n-        ensureIdleAlarm();\n-        mAlarmManager.cancel(mIdleIntent);\n+        // synchronized access since we might get a call from IdleThread\n+        final AlarmManager alarms \u003d mAlarmManager;\n+        if (alarms !\u003d null) {\n+            ensureIdleAlarm();\n+            alarms.cancel(mIdleIntent);\n+        }\n     }\n \n     private void setIdleAlarm() {\n+        // even if this is called from IdleThread, we don\u0027t need to synchronize\n+        // because at that point mConnection is null so we never get called\n         long delay \u003d Preferences.getIdleTimeMillis(this, 0);\n         if (delay \u003e 0) {\n             ensureIdleAlarm();"
        }
      ]
    }
  },
  {
    "name": "java.util.ConcurrentModificationException with Undo after multiple rapid swipe removals",
    "url": "https://github.com/davideas/FlexibleAdapter/issues/373",
    "description": "It seems that there may be a race condition or similar issue with multiple removals and then pressing \"undo\" on the snackbar if it coincides with the end of the timer before automated dismissal. I\u0027m not able to easily replicate this but it has occurred about half a dozen times. It comes up most if I remove items quickly, then pause, then remove several more, then pause briefly, and click undo.\r\n\r\nError message:\r\n\r\n05-25 12:52:41.784 21321-21321/com.SCME.GestureNotes E/SERVER_SYNC: outbound property change event: java.beans.PropertyChangeEvent[source\u003dWebSocketManager{xxxxxxx #0 SERVER_DATA_SYNC}]\r\n05-25 12:52:41.789 21321-21321/com.SCME.GestureNotes D/AndroidRuntime: Shutting down VM\r\n05-25 12:52:41.789 21321-21321/com.SCME.GestureNotes E/AndroidRuntime: FATAL EXCEPTION: `main`\r\n                                                                       Process: com.SCME.GestureNotes, PID: 21321\r\n                                                                       java.util.ConcurrentModificationException\r\n                                                                           at java.util.TreeMap$MapIterator.stepForward(TreeMap.java:883)\r\n                                                                           at java.util.TreeMap$KeySet$1.next(TreeMap.java:959)\r\n                                                                           at eu.davidea.flexibleadapter.SelectableAdapter.clearSelection(SelectableAdapter.java:426)\r\n                                                                           at eu.davidea.flexibleadapter.FlexibleAdapter.clearSelection(FlexibleAdapter.java:470)\r\n                                                                           at eu.davidea.flexibleadapter.FlexibleAdapter.restoreDeletedItems(FlexibleAdapter.java:3736)\r\n                                                                           at com.SCME.GestureNotes.Fragment.SingleExpandableRecyclerViewListFragment.onUndoConfirmed(SingleExpandableRecyclerViewListFragment.java:438)\r\n                                                                           at eu.davidea.flexibleadapter.helpers.UndoHelper$1.onClick(UndoHelper.java:165)\r\n                                                                           at android.support.design.widget.Snackbar$1.onClick(Snackbar.java:255)\r\n                                                                           at android.view.View.performClick(View.java:5721)\r\n                                                                           at android.widget.TextView.performClick(TextView.java:10930)\r\n                                                                           at android.view.View$PerformClick.run(View.java:22620)\r\n                                                                           at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                           at android.os.Looper.loop(Looper.java:148)\r\n                                                                           at android.app.ActivityThread.main(ActivityThread.java:7331)\r\n                                                                           at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n\r\n**Relevant code:**\r\n```\r\n\tprivate FlexibleAdapter\u003cIExpandableFlexibleState\u003e mAdapter;\r\n\r\n\t@Override\r\n\tpublic void onUndoConfirmed(int action) {\r\n\t\tif (action \u003d\u003d UndoHelper.ACTION_UPDATE) {\r\n\t\t\t//TODO: Complete click animation on swiped item\r\n//\t\t\tfinal RecyclerView.ViewHolder holder \u003d mRecyclerView.findViewHolderForLayoutPosition(mSwipedPosition);\r\n//\t\t\tif (holder instanceof ItemTouchHelperCallback.ViewHolderCallback) {\r\n//\t\t\t\tfinal View view \u003d ((ItemTouchHelperCallback.ViewHolderCallback) holder).getFrontView();\r\n//\t\t\t\tAnimator animator \u003d ObjectAnimator.ofFloat(view, \"translationX\", view.getTranslationX(), 0);\r\n//\t\t\t\tanimator.addListener(new SimpleAnimatorListener() {\r\n//\t\t\t\t\t@Override\r\n//\t\t\t\t\tpublic void onAnimationCancel(Animator animation) {\r\n//\t\t\t\t\t\tview.setTranslationX(0);\r\n//\t\t\t\t\t}\r\n//\t\t\t\t});\r\n//\t\t\t\tanimator.start();\r\n//\t\t\t}\r\n\t\t} else if (action \u003d\u003d UndoHelper.ACTION_REMOVE) {\r\n\t\t\t// Custom action is restore deleted items\r\n\t\t\t**mAdapter.restoreDeletedItems();**\r\n\t\t\t// Disable Refreshing\r\n//\t\t\tmSwipeRefreshLayout.setRefreshing(false);\r\n\t\t\t// Check also selection restoration\r\n\t\t\tif (mAdapter.isRestoreWithSelection()) {\r\n\t\t\t\t// TODO: Implement the mActionModeHelper!!!!\r\n\t\t\t\t// TODO: Implement the mActionModeHelper!!!!\r\n\t\t\t\t// TODO: Implement the mActionModeHelper!!!!\r\n//\t\t\t\tmActionModeHelper.restoreSelection(this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI can wrap in a try/catch at the very least but wanted to bring it to your attention in case there is a more robust approach you would like to include in the library or in case I\u0027ve just missed something.\r\n\r\nThank you very much for your help! This is an AWESOME library! It has been a pleasure to build on top of this.",
    "keywords": [
      "com",
      "handler",
      "mactionmodehelper",
      "android",
      "view",
      "undo",
      "java",
      "action",
      "implement",
      "scme",
      "zygoteinit",
      "os",
      "flexibleadapter",
      "gesturenotes",
      "undohelper",
      "holder",
      "12:52:41",
      "davidea flexibleadapter",
      "eu",
      "todo",
      "21321-21321/com",
      "util",
      "davidea",
      "05-25",
      "21321-21321/com scme",
      ";",
      "animator"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/davideas/FlexibleAdapter/commit/512353f04393dd3bd1fd9c0f15a8dfdf7836beed",
      "files": [
        {
          "file_name": "flexible-adapter/src/main/java/eu/davidea/flexibleadapter/SelectableAdapter.java",
          "patch": "@@ -48,9 +48,9 @@\n  * @see FlexibleAdapter\n  * @see AnimatorAdapter\n  * @since 03/05/2015 Created\n- * \u003cbr/\u003e27/01/2016 Improved Selection, SelectAll, FastScroller\n- * \u003cbr/\u003e29/05/2016 Use of TreeSet instead of ArrayList\n- * \u003cbr/\u003e04/04/2017 Use of FastScrollerDelegate\n+ * \u003cbr\u003e27/01/2016 Improved Selection, SelectAll, FastScroller\n+ * \u003cbr\u003e29/05/2016 Use of TreeSet instead of ArrayList\n+ * \u003cbr\u003e04/04/2017 Use of FastScrollerDelegate\n  */\n @SuppressWarnings({\"unused\", \"unchecked\", \"ConstantConditions\", \"WeakerAccess\"})\n public abstract class SelectableAdapter extends RecyclerView.Adapter\n@@ -60,8 +60,8 @@\n \tpublic static boolean DEBUG \u003d false;\n \n \t/**\n-\t * - MODE_IDLE: Adapter will not keep track of selections\u003cbr/\u003e\n-\t * - MODE_SINGLE: Select only one per time\u003cbr/\u003e\n+\t * - MODE_IDLE: Adapter will not keep track of selections\u003cbr\u003e\n+\t * - MODE_SINGLE: Select only one per time\u003cbr\u003e\n \t * - MODE_MULTI: Multi selection will be activated\n \t */\n \tpublic static final int MODE_IDLE \u003d 0, MODE_SINGLE \u003d 1, MODE_MULTI \u003d 2;\n@@ -75,8 +75,8 @@\n \tpublic @interface Mode {\n \t}\n \n-\tprivate Set\u003cInteger\u003e mSelectedPositions;\n-\tprivate Set\u003cFlexibleViewHolder\u003e mBoundViewHolders;\n+\tprivate final Set\u003cInteger\u003e mSelectedPositions;\n+\tprivate final Set\u003cFlexibleViewHolder\u003e mBoundViewHolders;\n \tprivate int mMode;\n \tprivate IFlexibleLayoutManager mFlexibleLayoutManager;\n \tprotected RecyclerView mRecyclerView;\n@@ -176,7 +176,7 @@ public RecyclerView getRecyclerView() {\n \t * Current instance of the wrapper class for LayoutManager suitable for FlexibleAdapter.\n \t * LayoutManager must be already initialized in the RecyclerView.\n \t *\n-\t * return wrapper class for any non-conventional LayoutManagers or {@code null} if not initialized.\n+\t * @return wrapper class for any non-conventional LayoutManagers or {@code null} if not initialized\n \t * @since 5.0.0-rc2\n \t */\n \tpublic IFlexibleLayoutManager getFlexibleLayoutManager() {\n@@ -411,32 +411,36 @@ public void selectAll(Integer... viewTypes) {\n \n \t/**\n \t * Clears the selection status for all items one by one and it doesn\u0027t stop animations in the items.\n-\t * \u003cbr/\u003e\u003cbr/\u003e\n-\t * \u003cb\u003eNote 1:\u003c/b\u003e Items are invalidated and rebound!\u003cbr/\u003e\n-\t * \u003cb\u003eNote 2:\u003c/b\u003e This method use java.util.Iterator to avoid java.util.ConcurrentModificationException.\n+\t * \u003cp\u003e\n+\t * \u003cb\u003eNote 1:\u003c/b\u003e Items are not rebound, so an eventual animation is not stopped!\u003cbr\u003e\n+\t * \u003cb\u003eNote 2:\u003c/b\u003e This method use {@code java.util.Iterator} on synchronized collection to\n+\t * avoid {@code java.util.ConcurrentModificationException}.\u003c/p\u003e\n \t *\n \t * @since 1.0.0\n \t */\n \tpublic void clearSelection() {\n \t\tif (DEBUG) Log.d(TAG, \"clearSelection \" + mSelectedPositions);\n-\t\tIterator\u003cInteger\u003e iterator \u003d mSelectedPositions.iterator();\n-\t\tint positionStart \u003d 0, itemCount \u003d 0;\n-\t\t// The notification is done only on items that are currently selected.\n-\t\twhile (iterator.hasNext()) {\n-\t\t\tint position \u003d iterator.next();\n-\t\t\titerator.remove();\n-\t\t\t// Optimization for ItemRangeChanged\n-\t\t\tif (positionStart + itemCount \u003d\u003d position) {\n-\t\t\t\titemCount++;\n-\t\t\t} else {\n-\t\t\t\t// Notify previous items in range\n-\t\t\t\tnotifySelectionChanged(positionStart, itemCount);\n-\t\t\t\tpositionStart \u003d position;\n-\t\t\t\titemCount \u003d 1;\n+\t\t// #373 - ConcurrentModificationException with Undo after multiple rapid swipe removals\n+\t\tsynchronized (mSelectedPositions) {\n+\t\t\tIterator\u003cInteger\u003e iterator \u003d mSelectedPositions.iterator();\n+\t\t\tint positionStart \u003d 0, itemCount \u003d 0;\n+\t\t\t// The notification is done only on items that are currently selected.\n+\t\t\twhile (iterator.hasNext()) {\n+\t\t\t\tint position \u003d iterator.next();\n+\t\t\t\titerator.remove();\n+\t\t\t\t// Optimization for ItemRangeChanged\n+\t\t\t\tif (positionStart + itemCount \u003d\u003d position) {\n+\t\t\t\t\titemCount++;\n+\t\t\t\t} else {\n+\t\t\t\t\t// Notify previous items in range\n+\t\t\t\t\tnotifySelectionChanged(positionStart, itemCount);\n+\t\t\t\t\tpositionStart \u003d position;\n+\t\t\t\t\titemCount \u003d 1;\n+\t\t\t\t}\n \t\t\t}\n+\t\t\t// Notify remaining items in range\n+\t\t\tnotifySelectionChanged(positionStart, itemCount);\n \t\t}\n-\t\t// Notify remaining items in range\n-\t\tnotifySelectionChanged(positionStart, itemCount);\n \t}\n \n \tprivate void notifySelectionChanged(int positionStart, int itemCount) {\n@@ -581,7 +585,7 @@ public FastScroller getFastScroller() {\n \t * \u003cb\u003eNOTE:\u003c/b\u003e If the device has at least Lollipop, the Accent color is fetched, otherwise\n \t * for previous version, the default value is used.\n \t *\n-\t * @param fastScroller        instance of {@link FastScroller}\n+\t * @param fastScroller instance of {@link FastScroller}\n \t * @since 5.0.0-b6\n \t */\n \tpublic void setFastScroller(@NonNull FastScroller fastScroller) {"
        }
      ]
    }
  },
  {
    "name": "No SIM card?",
    "url": "https://github.com/kontalk/androidclient/issues/998",
    "description": "Null SimCountryIso might be caused by SIM card not present.\r\n\r\n```\r\njava.lang.NullPointerException\r\n       at org.kontalk.ui.NumberValidation.onCreate(NumberValidation.java:261)\r\n       at android.app.Activity.performCreate(Activity.java:5122)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1150)\r\n       at com.lord.a.a.a.callActivityOnCreate(Unknown Source)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2315)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2403)\r\n       at android.app.ActivityThread.access$600(ActivityThread.java:165)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1373)\r\n       at android.os.Handler.dispatchMessage(Handler.java:107)\r\n       at android.os.Looper.loop(Looper.java:194)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5370)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:525)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```",
    "keywords": [
      "com",
      "app",
      "activitythread",
      "java",
      "os",
      "method",
      "android",
      "android app",
      "main",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/779556280c429270ef8af11679e5493fef5196be",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/NumberValidation.java",
          "patch": "@@ -258,11 +258,14 @@ public void onNothingSelected(AdapterView\u003c?\u003e parent) {\n         }\n         else {\n             final TelephonyManager tm \u003d (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n-            final String regionCode \u003d tm.getSimCountryIso().toUpperCase(Locale.US);\n-            CountryCode cc \u003d new CountryCode();\n-            cc.regionCode \u003d regionCode;\n-            cc.countryCode \u003d util.getCountryCodeForRegion(regionCode);\n-            mCountryCode.setSelection(ccList.getPositionForId(cc));\n+            String country \u003d tm.getSimCountryIso();\n+            if (country !\u003d null) {\n+                final String regionCode \u003d country.toUpperCase(Locale.US);\n+                CountryCode cc \u003d new CountryCode();\n+                cc.regionCode \u003d regionCode;\n+                cc.countryCode \u003d util.getCountryCodeForRegion(regionCode);\n+                mCountryCode.setSelection(ccList.getPositionForId(cc));\n+            }\n         }\n \n         // listener for autoselecting country code from typed phone number"
        }
      ]
    }
  },
  {
    "name": "Build 808 Crash when opening settings",
    "url": "https://github.com/wasdennnoch/AndroidN-ify/issues/1304",
    "description": "**Description**\r\nCrash when opening settings\r\n\r\n**Module version (build version)**\r\n808\r\n\r\n**Xposed log / logcat**\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String java.lang.String.replace(java.lang.CharSequence, java.lang.CharSequence)\u0027 on a null object reference\r\nat tk.wasdennnoch.androidn_ify.utils.MiscUtils.checkValidJSONArray(MiscUtils.java:36)\r\nat tk.wasdennnoch.androidn_ify.ui.SettingsActivity$Fragment$1.onLoadFinished(SettingsActivity.java:195)\r\nat tk.wasdennnoch.androidn_ify.ui.SettingsActivity$Fragment$1.onLoadFinished(SettingsActivity.java:165)\r\nat android.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:483)\r\nat android.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:451)\r\nat android.content.Loader.deliverResult(Loader.java:144)\r\nat android.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:265)\r\nat android.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:92)\r\nat android.os.AsyncTask.finish(AsyncTask.java:651)\r\nat android.os.AsyncTask.-wrap1(AsyncTask.java)\r\nat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)\r\nat android.os.Handler.dispatchMessage(Handler.java:102)\r\nat android.os.Looper.loop(Looper.java:148)\r\nat android.app.ActivityThread.main(ActivityThread.java:5461)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\nat de.robv.android.xposed.XposedBridge.main(XposedBridge.java:102)",
    "keywords": [
      "app",
      "os",
      "asynctask",
      "method",
      "android",
      "main",
      "content",
      "asynctaskloader",
      "wasdennnoch",
      "androidn_ify",
      "java",
      "tk",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/wasdennnoch/AndroidN-ify/commit/3b36c8aefe8e7fbe87073e4bc2889cbc1fb60c6e",
      "files": [
        {
          "file_name": "app/src/main/java/tk/wasdennnoch/androidn_ify/ui/SettingsActivity.java",
          "patch": "@@ -193,7 +193,7 @@ public String loadInBackground() {\n             public void onLoadFinished(Loader loader, String data) {\n                 try {\n                     prefs.edit().putString(PreferenceKeys.GOOGLE_APP_HOOK_CONFIGS, MiscUtils.checkValidJSONArray(data).toString()).commit();\n-                } catch (JSONException e) {\n+                } catch (JSONException | NullPointerException e) {\n                     e.printStackTrace();\n                 }\n             }\n@@ -449,4 +449,4 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         return super.onOptionsItemSelected(item);\n     }\n \n-}\n\\ No newline at end of file\n+}"
        }
      ]
    }
  },
  {
    "name": "Invalid Argument Exception",
    "url": "https://github.com/cgeo/cgeo/issues/5903",
    "description": "Google play report with 2016.08.14:\n\n```\njava.lang.IllegalArgumentException: invalid pixelY coordinate 1024: -406.73785414891347\n    at org.mapsforge.core.util.MercatorProjection.pixelYToLatitude(MercatorProjection.java:409)\n    at org.mapsforge.core.util.MercatorProjection.fromPixels(MercatorProjection.java:91)\n    at cgeo.geocaching.maps.mapsforge.v6.MfMapView.getLatitudeSpan(MfMapView.java:46)\n    at cgeo.geocaching.maps.mapsforge.v6.MfMapView.getViewport(MfMapView.java:34)\n    at cgeo.geocaching.maps.mapsforge.v6.caches.AbstractCachesOverlay.getVisibleItemsCount(AbstractCachesOverlay.java:54)\n    at cgeo.geocaching.maps.mapsforge.v6.caches.CachesBundle.getVisibleItemsCount(CachesBundle.java:156)\n    at cgeo.geocaching.maps.mapsforge.v6.NewMap.countVisibleCaches(NewMap.java:872)\n    at cgeo.geocaching.maps.mapsforge.v6.NewMap.calculateSubtitle(NewMap.java:852)\n    at cgeo.geocaching.maps.mapsforge.v6.NewMap.setSubtitle(NewMap.java:832)\n    at cgeo.geocaching.maps.mapsforge.v6.NewMap.access$300(NewMap.java:99)\n    at cgeo.geocaching.maps.mapsforge.v6.NewMap$DisplayHandler.handleMessage(NewMap.java:795)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:145)\n    at android.app.ActivityThread.main(ActivityThread.java:6117)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1399)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1194)\n```\n",
    "keywords": [
      "v6",
      "newmap",
      "cgeo",
      "mfmapview",
      "mercatorprojection",
      "maps",
      "os",
      "method",
      "cgeo geocaching",
      "android",
      "mapsforge",
      "geocaching",
      "maps mapsforge",
      "v6 newmap",
      "java",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/77bffd62ea4b74d3e2a3c4bf6855aaffdb70e1e1",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/maps/mapsforge/v6/MfMapView.java",
          "patch": "@@ -5,11 +5,7 @@\n import cgeo.geocaching.maps.CGeoMap.MapMode;\n import cgeo.geocaching.maps.interfaces.OnMapDragListener;\n import cgeo.geocaching.settings.Settings;\n-\n-import org.mapsforge.core.model.LatLong;\n-import org.mapsforge.core.model.Point;\n-import org.mapsforge.core.util.MercatorProjection;\n-import org.mapsforge.map.android.view.MapView;\n+import cgeo.geocaching.utils.Log;\n \n import android.annotation.SuppressLint;\n import android.content.Context;\n@@ -18,6 +14,11 @@\n import android.view.GestureDetector.SimpleOnGestureListener;\n import android.view.MotionEvent;\n \n+import org.mapsforge.core.model.LatLong;\n+import org.mapsforge.core.model.Point;\n+import org.mapsforge.core.util.MercatorProjection;\n+import org.mapsforge.map.android.view.MapView;\n+\n public class MfMapView extends MapView {\n \n     private final GestureDetector gestureDetector;\n@@ -43,10 +44,14 @@ public double getLatitudeSpan() {\n \n         if (getHeight() \u003e 0) {\n \n-            final LatLong low \u003d MercatorProjection.fromPixels(center.x, center.y - getHeight() / 2, mapSize);\n-            final LatLong high \u003d MercatorProjection.fromPixels(center.x, center.y + getHeight() / 2, mapSize);\n+            try {\n+                final LatLong low \u003d MercatorProjection.fromPixels(center.x, center.y - getHeight() / 2, mapSize);\n+                final LatLong high \u003d MercatorProjection.fromPixels(center.x, center.y + getHeight() / 2, mapSize);\n \n-            span \u003d Math.abs(high.latitude - low.latitude);\n+                span \u003d Math.abs(high.latitude - low.latitude);\n+            } catch (final IllegalArgumentException ex) {\n+                Log.w(\"Exception when calculating latitude span\", ex);\n+            }\n         }\n \n         return span;\n@@ -60,10 +65,14 @@ public double getLongitudeSpan() {\n         final Point center \u003d MercatorProjection.getPixelAbsolute(getModel().mapViewPosition.getCenter(), mapSize);\n \n         if (getWidth() \u003e 0) {\n-            final LatLong low \u003d MercatorProjection.fromPixels(center.x - getWidth() / 2, center.y, mapSize);\n-            final LatLong high \u003d MercatorProjection.fromPixels(center.x + getWidth() / 2, center.y, mapSize);\n+            try {\n+                final LatLong low \u003d MercatorProjection.fromPixels(center.x - getWidth() / 2, center.y, mapSize);\n+                final LatLong high \u003d MercatorProjection.fromPixels(center.x + getWidth() / 2, center.y, mapSize);\n \n-            span \u003d Math.abs(high.longitude - low.longitude);\n+                span \u003d Math.abs(high.longitude - low.longitude);\n+            } catch (final IllegalArgumentException ex) {\n+                Log.w(\"Exception when calculating longitude span\", ex);\n+            }\n         }\n \n         return span;"
        }
      ]
    }
  },
  {
    "name": "Crash on android 2.3.6",
    "url": "https://github.com/nextgis/android_gisapp/issues/513",
    "description": "```\njava.lang.NoSuchMethodError: android.view.MenuItem.getActionView\n    at com.nextgis.mobile.activity.MainActivity$1.run(MainActivity.java:352)\n    at android.os.Handler.handleCallback(Handler.java:587)\n    at android.os.Handler.dispatchMessage(Handler.java:92)\n    at android.os.Looper.loop(Looper.java:130)\n    at android.app.ActivityThread.main(ActivityThread.java:3687)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:507)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n\nabi armeabi\nabi2    unknown\napiLevel    10\nboard   torino\nbootloader  unknown\nbrand   samsung\ncpuCores    1\ndevice  GT-S6102\ndeviceId    GINGERBREAD\ndeviceModel GT-S6102\ndisplay GINGERBREAD.XXMA1\nisRoot  false\nlocaleCountry   RU\nlocaleLanguage  ru\nmanufacturer    samsung\nmemorySize  296360\nosRelease   2.3.6\nosVersion   2.6.35.7\nproduct GT-S6102\nscreenDensity   120\nscreenHeight    320\nscreenWidth 240\nDisk Info  \n/sdcard     1,779 MB / 3,716 MB\n",
    "keywords": [
      "com",
      "handler",
      "2",
      "gt-s6102",
      "3",
      "java",
      "os",
      "method",
      "6",
      "android",
      "main",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/afff7758167a672bb9ffaa7174bd19e275864a0f",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/activity/MainActivity.java",
          "patch": "@@ -347,6 +347,9 @@ public synchronized void onRefresh(boolean isRefresh) {\n     }\n \n     protected void stopRefresh(final MenuItem refreshItem) {\n+        if (Build.VERSION.SDK_INT \u003c Build.VERSION_CODES.HONEYCOMB)\n+            return;\n+\n         Handler handler \u003d new Handler(Looper.getMainLooper());\n         final Runnable r \u003d new Runnable() {\n             @TargetApi(Build.VERSION_CODES.HONEYCOMB)"
        }
      ]
    }
  },
  {
    "name": "Crash",
    "url": "https://github.com/ubien/MuzeiGooglePhotos/issues/3",
    "description": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.app.job.IJobCallback android.app.job.JobParameters.getCallback()\u0027 on a null object reference\n    at android.app.job.JobService$JobHandler.handleMessage(JobService.java:161)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n",
    "keywords": [
      "app",
      "os",
      "method",
      "android",
      "android app",
      "job",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/ubien/MuzeiGooglePhotos/commit/7f213732b90d54e4f6bd91872b6810eaba5d04b6",
      "files": [
        {
          "file_name": "app/src/main/java/porqueno/muzeigooglephotos/services/PhotosFetchJobService.java",
          "patch": "@@ -77,7 +77,7 @@ public void onCancel(Exception exception){\n \t\tif (exception !\u003d null) {\n \t\t\tLog.e(TAG, exception.getMessage());\n \t\t}\n-\t\tjobFinished(null, false);\n+\t\tjobFinished(mParams, false);\n \t}\n \n \tpublic void onStartFetch(){"
        }
      ]
    }
  },
  {
    "name": "[Bug] VN \u003d\u003d null in VNDetailsActivity.onCreate() ",
    "url": "https://github.com/herbeth1u/VNDB-Android/issues/80",
    "description": "Build version: 2.0.2 \nBuild date: 1979-11-30 00:00:00 \nCurrent date: 2016-10-14 22:57:02 \nDevice: TURKCELL T60 \nAndroid version: 5.0.2\n\nStack trace:  \njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.booboot.vndbandroid/com.booboot.vndbandroid.activity.VNDetailsActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027int com.booboot.vndbandroid.bean.vndb.Item.getId()\u0027 on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2298)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2357)\n    at android.app.ActivityThread.access$800(ActivityThread.java:144)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1278)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5218)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027int com.booboot.vndbandroid.bean.vndb.Item.getId()\u0027 on a null object reference\n    at com.booboot.vndbandroid.activity.VNDetailsActivity.init(VNDetailsActivity.java:129)\n    at com.booboot.vndbandroid.activity.VNDetailsActivity.onCreate(VNDetailsActivity.java:125)\n    at android.app.Activity.performCreate(Activity.java:5976)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\n    ... 10 more\n",
    "keywords": [
      "com",
      "app",
      "booboot",
      "os",
      "activity",
      "method",
      "android",
      "vndetailsactivity",
      "invoke",
      "activitythread",
      "2",
      "java",
      "null",
      "vndbandroid",
      "android app",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/herbeth1u/VNDB-Android/commit/95545585abed54cbc26f9d112b5fb4a5a9ed0ec8",
      "files": [
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/activity/VNTypeFragment.java",
          "patch": "@@ -1,7 +1,6 @@\n package com.booboot.vndbandroid.activity;\n \n import android.app.Fragment;\n-import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.widget.SwipeRefreshLayout;\n import android.util.Log;\n@@ -78,10 +77,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa\n         materialListView.addOnItemTouchListener(new RecyclerItemClickListener.OnItemClickListener() {\n             @Override\n             public void onItemClick(Card card, int position) {\n-                Intent intent \u003d new Intent(getActivity(), VNDetailsActivity.class);\n-                intent.putExtra(VN_ARG, (int) card.getTag());\n-                startActivity(intent);\n-                getActivity().overridePendingTransition(R.anim.slide_in, R.anim.slide_out);\n+                Cache.openVNDetails(getActivity(), (int) card.getTag());\n             }\n \n             @Override"
        },
        {
          "file_name": "app/src/main/java/com/booboot/vndbandroid/factory/ProgressiveResultLoader.java",
          "patch": "@@ -70,10 +70,7 @@ public void init() {\n         materialListView.addOnItemTouchListener(new RecyclerItemClickListener.OnItemClickListener() {\n             @Override\n             public void onItemClick(Card card, int position) {\n-                Intent intent \u003d new Intent(activity, VNDetailsActivity.class);\n-                intent.putExtra(VNTypeFragment.VN_ARG, (int) card.getTag());\n-                activity.startActivity(intent);\n-                activity.overridePendingTransition(R.anim.slide_in, R.anim.slide_out);\n+                Cache.openVNDetails(activity, (int) card.getTag());\n             }\n \n             @Override"
        }
      ]
    }
  },
  {
    "name": "woes while uploading under poor network conditions",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/294",
    "description": "Still testing with build 187 on a Samsung Galaxy S4 running Android 4.4.2. For some reason it\u0027s much worse at connecting to the local wifi than almost any other device I\u0027ve used. The wifi at the office is particularly bad, but not this bad with other devices.\r\n\r\nAnyway, when I try to upload under very bad wifi conditions, I get\r\n\r\n```\r\n01-19 15:52:57.156 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:52:57.216 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:27.055 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://www.inaturalist.org/users/edit.json\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://www.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530)\r\n                                                                                 at org.inaturalist.android.INaturalistService.getUserDetails(INaturalistService.java:1726)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:564)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /166.78.84.170 (port 443): connect failed: ETIMEDOUT (Connection timed out)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530) \r\n                                                                                 at org.inaturalist.android.INaturalistService.getUserDetails(INaturalistService.java:1726) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:564) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: ETIMEDOUT (Connection timed out)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530) \r\n                                                                                 at org.inaturalist.android.INaturalistService.getUserDetails(INaturalistService.java:1726) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:564) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:27.055 28498-28498/org.inaturalist.android I/BaseFragmentActivity: Got GET_USER_DETAILS_RESULT\r\n01-19 15:53:27.065 28498-10300/org.inaturalist.android D/INaturalistService: Service: sync\r\n01-19 15:53:27.065 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (is_deleted \u003d 1 AND user_login \u003d \u0027inara\u0027) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:27.135 28498-10300/org.inaturalist.android D/INaturalistService: URL: get - https://www.inaturalist.org/observations/inara.json?updated_since\u003d1969-12-31T16%3A00%3A00-0800\u0026order_by\u003ddate_added\u0026order\u003ddesc\u0026extra\u003dobservation_photos,projects,fields\u0026locale\u003den (null)\r\n01-19 15:53:27.165 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:27.165 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:27.235 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:27.235 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:30.148 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://www.inaturalist.org/observations/inara.json?updated_since\u003d1969-12-31T16%3A00%3A00-0800\u0026order_by\u003ddate_added\u0026order\u003ddesc\u0026extra\u003dobservation_photos,projects,fields\u0026locale\u003den\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://www.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530)\r\n                                                                                 at org.inaturalist.android.INaturalistService.getUserObservations(INaturalistService.java:2261)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:797)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /166.78.84.170 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530) \r\n                                                                                 at org.inaturalist.android.INaturalistService.getUserObservations(INaturalistService.java:2261) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:797) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530) \r\n                                                                                 at org.inaturalist.android.INaturalistService.getUserObservations(INaturalistService.java:2261) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:797) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:30.148 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL AND user_login \u003d \u0027inara\u0027) ORDER BY _created_at ASC\r\n01-19 15:53:30.158 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:30.168 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:30.178 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((id IS NULL) AND (_updated_at \u003e _created_at)) ORDER BY _created_at ASC\r\n01-19 15:53:30.188 28498-10300/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:53:30.188 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:30.198 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:30.238 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 15:53:30.238 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 15:53:30.238 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 105\r\n01-19 15:53:30.238 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 105\r\n01-19 15:53:30.238 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:30.248 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:30.268 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:30.268 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:30.268 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:30.278 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:30.308 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:30.308 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:33.141 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://api.inaturalist.org/v1/observations\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://api.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521)\r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /23.253.221.72 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:33.151 28498-10300/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:53:33.151 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:33.161 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:33.171 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:33.181 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:33.231 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 15:53:33.231 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 15:53:33.231 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 105\r\n01-19 15:53:33.231 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 105\r\n01-19 15:53:33.241 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:33.241 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:36.144 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://api.inaturalist.org/v1/observations\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://api.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521)\r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /23.253.221.72 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:36.154 28498-10300/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:53:36.164 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:36.174 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:36.184 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:36.194 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:36.244 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 15:53:36.244 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 15:53:36.244 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 105\r\n01-19 15:53:36.244 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 105\r\n01-19 15:53:36.254 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:36.254 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:39.147 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://api.inaturalist.org/v1/observations\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://api.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521)\r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /23.253.221.72 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:39.157 28498-10300/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:53:39.167 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:39.177 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:39.177 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:39.187 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:39.237 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 15:53:39.237 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 15:53:39.237 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 105\r\n01-19 15:53:39.237 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 105\r\n01-19 15:53:39.277 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:39.277 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:42.139 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://api.inaturalist.org/v1/observations\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://api.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521)\r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /23.253.221.72 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:42.149 28498-10300/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:53:42.169 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:42.179 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:42.189 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:42.189 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:42.230 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 15:53:42.230 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 15:53:42.230 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 105\r\n01-19 15:53:42.230 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 105\r\n01-19 15:53:42.260 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:42.260 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:45.142 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://api.inaturalist.org/v1/observations\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://api.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521)\r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /23.253.221.72 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2521) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postObservations(INaturalistService.java:1392) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:798) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:45.152 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (id IS NULL) ORDER BY _created_at ASC\r\n01-19 15:53:45.162 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL AND user_login \u003d \u0027inara\u0027) ORDER BY _created_at ASC\r\n01-19 15:53:45.172 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:45.182 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (_synced_at IS NULL) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:45.182 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:45.192 28498-10300/org.inaturalist.android D/INaturalistService: URL: post - http://www.inaturalist.org/observation_photos.json ([observation_photo[position]\u003d0, observation_photo[uuid]\u003daf09a21a-61b8-42d0-8bcd-4c0c83460da3, file\u003d/storage/emulated/0/Android/data/org.inaturalist.android/cache/c9f9baef-198a-4cdf-9d7f-76c5474aba2b.jpeg, site_id\u003d1])\r\n01-19 15:53:45.192 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:45.202 28498-10300/org.inaturalist.android D/dalvikvm: DexOpt: couldn\u0027t find static field Lorg/apache/http/message/BasicHeaderValueParser;.INSTANCE\r\n01-19 15:53:45.202 28498-10300/org.inaturalist.android W/dalvikvm: VFY: unable to resolve static field 5307 (INSTANCE) in Lorg/apache/http/message/BasicHeaderValueParser;\r\n01-19 15:53:45.202 28498-10300/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x62 at 0x001b\r\n01-19 15:53:45.202 28498-10300/org.inaturalist.android D/dalvikvm: DexOpt: couldn\u0027t find static field Lorg/apache/http/message/BasicHeaderValueFormatter;.INSTANCE\r\n01-19 15:53:45.202 28498-10300/org.inaturalist.android W/dalvikvm: VFY: unable to resolve static field 5306 (INSTANCE) in Lorg/apache/http/message/BasicHeaderValueFormatter;\r\n01-19 15:53:45.202 28498-10300/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x62 at 0x0015\r\n01-19 15:53:45.212 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:45.222 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:45.272 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:45.272 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:45.293 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:45.303 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:45.303 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:45.313 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:45.343 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:45.343 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:48.145 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL http://www.inaturalist.org/observation_photos.json\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to http://www.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2517)\r\n                                                                                 at org.inaturalist.android.INaturalistService.postPhotos(INaturalistService.java:1552)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:799)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /166.78.84.170 (port 80): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2517) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postPhotos(INaturalistService.java:1552) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:799) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.post(INaturalistService.java:2517) \r\n                                                                                 at org.inaturalist.android.INaturalistService.postPhotos(INaturalistService.java:1552) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:799) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:48.145 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (_synced_at IS NULL) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:48.155 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (is_deleted \u003d 1) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:48.165 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:48.175 28498-10300/org.inaturalist.android D/INaturalistService: URL: delete - https://www.inaturalist.org/observation_photos/null.json (null)\r\n01-19 15:53:48.175 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:48.185 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:48.195 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:48.245 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:48.245 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:51.148 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://www.inaturalist.org/observation_photos/null.json\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://www.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.delete(INaturalistService.java:2509)\r\n                                                                                 at org.inaturalist.android.INaturalistService.deleteObservationPhotos(INaturalistService.java:1096)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:800)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /166.78.84.170 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.delete(INaturalistService.java:2509) \r\n                                                                                 at org.inaturalist.android.INaturalistService.deleteObservationPhotos(INaturalistService.java:1096) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:800) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.delete(INaturalistService.java:2509) \r\n                                                                                 at org.inaturalist.android.INaturalistService.deleteObservationPhotos(INaturalistService.java:1096) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:800) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:51.168 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:51.168 28498-10300/org.inaturalist.android D/INaturalistService: URL: get - https://www.inaturalist.org/projects/user/inara.json (null)\r\n01-19 15:53:51.168 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:51.188 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:51.198 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:51.238 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:51.238 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:54.171 28498-10300/org.inaturalist.android W/INaturalistService: Error for URL https://www.inaturalist.org/projects/user/inara.json\r\n                                                                             org.apache.http.conn.HttpHostConnectException: Connection to https://www.inaturalist.org refused\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:183)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)\r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509)\r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)\r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625)\r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530)\r\n                                                                                 at org.inaturalist.android.INaturalistService.getJoinedProjects(INaturalistService.java:2212)\r\n                                                                                 at org.inaturalist.android.INaturalistService.saveJoinedProjects(INaturalistService.java:1033)\r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:801)\r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                 at android.os.Looper.loop(Looper.java:157)\r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61)\r\n                                                                              Caused by: java.net.ConnectException: failed to connect to /166.78.84.170 (port 443): connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:114)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460)\r\n                                                                                 at java.net.Socket.connect(Socket.java:833)\r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119)\r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144)\r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530) \r\n                                                                                 at org.inaturalist.android.INaturalistService.getJoinedProjects(INaturalistService.java:2212) \r\n                                                                                 at org.inaturalist.android.INaturalistService.saveJoinedProjects(INaturalistService.java:1033) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:801) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n                                                                              Caused by: libcore.io.ErrnoException: connect failed: EHOSTUNREACH (No route to host)\r\n                                                                                 at libcore.io.Posix.connect(Native Method)\r\n                                                                                 at libcore.io.BlockGuardOs.connect(BlockGuardOs.java:85)\r\n                                                                                 at libcore.io.IoBridge.connectErrno(IoBridge.java:127)\r\n                                                                                 at libcore.io.IoBridge.connect(IoBridge.java:112)\r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:192) \r\n                                                                                 at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:460) \r\n                                                                                 at java.net.Socket.connect(Socket.java:833) \r\n                                                                                 at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:119) \r\n                                                                                 at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:144) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) \r\n                                                                                 at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) \r\n                                                                                 at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:670) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:509) \r\n                                                                                 at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) \r\n                                                                                 at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2625) \r\n                                                                                 at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530) \r\n                                                                                 at org.inaturalist.android.INaturalistService.getJoinedProjects(INaturalistService.java:2212) \r\n                                                                                 at org.inaturalist.android.INaturalistService.saveJoinedProjects(INaturalistService.java:1033) \r\n                                                                                 at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:801) \r\n                                                                                 at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758) \r\n                                                                                 at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65) \r\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                 at android.os.Looper.loop(Looper.java:157) \r\n                                                                                 at android.os.HandlerThread.run(HandlerThread.java:61) \r\n01-19 15:53:54.171 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, observation_id, field_id, value, _synced_at, _updated_at, created_at, id, updated_at FROM project_field_values WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) ORDER BY _id DESC\r\n01-19 15:53:54.181 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, project_id, observation_id, is_deleted, is_new FROM project_observations WHERE (is_deleted \u003d 1) ORDER BY _id DESC\r\n01-19 15:53:54.191 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, project_id, observation_id, is_deleted, is_new FROM project_observations WHERE (is_new \u003d 1) ORDER BY _id DESC\r\n01-19 15:53:54.191 28498-10300/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:54.211 28498-10300/org.inaturalist.android I/INaturalistService: Sending ACTION_SYNC_COMPLETE\r\n01-19 15:53:54.211 28498-28498/org.inaturalist.android I/INAT:ObservationListActivity: Got ACTION_SYNC_COMPLETE\r\n01-19 15:53:54.221 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:54.231 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:54.231 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:53:54.241 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:53:54.241 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (((_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) OR (_synced_at IS NULL)) AND (_updated_at \u003e _created_at)) ORDER BY _created_at ASC\r\n01-19 15:53:54.241 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NULL)) OR ((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NOT NULL) AND (_updated_at \u003e _synced_at)) OR (is_deleted \u003d 1)) ORDER BY _id\r\n01-19 15:53:54.291 28498-28498/org.inaturalist.android D/PullToRefresh: onSizeChanged. W: 1080, H: 1482\r\n01-19 15:53:54.291 28498-28498/org.inaturalist.android D/PullToRefresh: Setting Padding. L: 0, T: -889, R: 0, B: 0\r\n01-19 15:53:54.321 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:54.321 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:53:54.401 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:53:54.401 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n```\r\n\r\nThis results in an obs list where all the obs are still marked as \"Waiting to upload...\" but there is no upload bar at the top (probably just #288). Rotating brings back the bar.\r\n\r\n![screenshot_2017-01-19-15-54-43](https://cloud.githubusercontent.com/assets/22691/22130415/ad8ce162-de60-11e6-863e-cdf7f1309b20.png)\r\n\r\nAfter rotating to get the bar back, I try uploading again under slightly better conditions. This time the observations upload but when it gets to the photos I see this error in the log and the UI is stuck on \"Posting 1 of 6 new photos...\"\r\n\r\n```\r\n01-19 15:56:07.321 28498-16571/org.inaturalist.android D/INaturalistService: Service: sync\r\n01-19 15:56:07.321 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (is_deleted \u003d 1 AND user_login \u003d \u0027inara\u0027) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:07.341 28498-16571/org.inaturalist.android D/INaturalistService: URL: get - https://www.inaturalist.org/observations/inara.json?updated_since\u003d2017-01-19T15%3A53%3A54-0800\u0026order_by\u003ddate_added\u0026order\u003ddesc\u0026extra\u003dobservation_photos,projects,fields\u0026locale\u003den (null)\r\n01-19 15:56:07.381 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:07.381 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:07.441 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:07.441 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:07.691 28498-16571/org.inaturalist.android D/INaturalistService: RESP: []\r\n01-19 15:56:07.691 28498-16571/org.inaturalist.android W/System.err: org.json.JSONException: Index 0 out of range [0..0)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.json.JSONArray.get(JSONArray.java:282)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.json.JSONArray.getJSONObject(JSONArray.java:510)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2655)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.getUserObservations(INaturalistService.java:2261)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.syncObservations(INaturalistService.java:797)\r\n01-19 15:56:07.701 28498-16571/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:758)\r\n01-19 15:56:07.711 28498-16571/org.inaturalist.android W/System.err:     at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n01-19 15:56:07.711 28498-16571/org.inaturalist.android W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n01-19 15:56:07.711 28498-16571/org.inaturalist.android W/System.err:     at android.os.Looper.loop(Looper.java:157)\r\n01-19 15:56:07.711 28498-16571/org.inaturalist.android W/System.err:     at android.os.HandlerThread.run(HandlerThread.java:61)\r\n01-19 15:56:07.711 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL AND user_login \u003d \u0027inara\u0027) ORDER BY _created_at ASC\r\n01-19 15:56:07.731 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:07.741 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:07.741 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((id IS NULL) AND (_updated_at \u003e _created_at)) ORDER BY _created_at ASC\r\n01-19 15:56:07.761 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:07.782 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:07.782 28498-16571/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:56:07.842 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 15:56:07.842 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 15:56:07.842 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 105\r\n01-19 15:56:07.842 28498-28498/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 105\r\n01-19 15:56:07.852 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:07.852 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:07.942 28498-15950/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 9140K, 26% free 61379K/82376K, paused 81ms, total 81ms\r\n01-19 15:56:07.942 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:07.952 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:07.962 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:07.962 28498-28507/org.inaturalist.android W/CursorWrapperInner: Cursor finalized without prior close()\r\n01-19 15:56:07.962 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (0,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:08.022 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:08.022 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:08.182 28498-15950/org.inaturalist.android W/FlurryAgent: FlurryDataSender: report e11a9e7a-8eb9-43f7-9bb4-15fc145b0d19 sent. HTTP response: 200\r\n01-19 15:56:09.003 28498-15950/org.inaturalist.android W/FlurryAgent: FlurryDataSender: report b8e7e377-b378-457f-8d91-67ac25583d06 sent. HTTP response: 200\r\n01-19 15:56:09.223 28498-16571/org.inaturalist.android D/INaturalistService: RESP: {\"id\":4973651,\"uuid\":\"d8e3947d-8c74-451c-a161-0086e59c7c85\",\"site_id\":1,\"created_at\":\"2017-01-19T15:56:09-08:00\",\"created_at_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"observed_on\":\"2017-01-19\",\"observed_on_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"time_observed_at\":\"2017-01-19T15:40:31-08:00\",\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"quality_grade\":\"casual\",\"captive\":true,\"user\":{\"id\":9812,\"login\":\"inara\",\"login_autocomplete\":\"inara\",\"name\":\"Ken-ichi the Space Courtesan\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"icon\":\"https://static.inaturalist.org/attachments/users/icons/9812/thumb.jpeg?1475603064\",\"observations_count\":3,\"identifications_count\":1,\"journal_posts_count\":0,\"activity_count\":4,\"icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/medium.jpeg?1475603064\"},\"taxon\":{\"is_active\":true,\"name\":\"Ceanothus\",\"endemic\":false,\"default_photo\":{\"square_url\":\"https://farm4.staticflickr.com/3614/3521235027_b9eecd307f_s.jpg\",\"attribution\":\"(c) Jim Frazee, some rights reserved (CC BY-NC-ND)\",\"medium_url\":\"https://farm4.staticflickr.com/3614/3521235027_b9eecd307f.jpg\",\"id\":11014,\"license_code\":\"cc-by-nc-nd\",\"url\":\"https://farm4.staticflickr.com/3614/3521235027_b9eecd307f_s.jpg\"},\"parent_id\":49041,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,49041,49674\",\"ancestry\":\"48460/47126/211194/47125/47124/47132/49041\",\"native\":false,\"rank_level\":20,\"threatened\":false,\"introduced\":false,\"id\":49674,\"rank\":\"genus\",\"observations_count\":2810,\"taxon_schemes_count\":2,\"iconic_taxon_id\":47126,\"taxon_changes_count\":0,\"created_at\":\"2009-02-15T19:16:12+00:00\",\"ancestor_ids\":[48460,47126,211194,47125,47124,47132,49041,49674],\"iconic_taxon_name\":\"Plantae\",\"preferred_common_name\":\"Ceanothus\"},\"created_time_zone\":\"America/Los_Angeles\",\"updated_at\":\"2017-01-19T15:56:09-08:00\",\"observed_time_zone\":\"America/Los_Angeles\",\"time_zone_offset\":\"-08:00\",\"uri\":\"https://www.inaturalist.org/observations/4973651\",\"description\":null,\"mappable\":true,\"species_guess\":\"Ceanothus\",\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"observed_on_string\":\"2017-01-19 3:40:31 PM PST\",\"id_please\":false,\"out_of_range\":null,\"license_code\":null,\"geoprivacy\":null,\"faves_count\":0,\"cached_votes_total\":0,\"num_identification_agreements\":0,\"num_identification_disagreements\":0,\"identifications_most_agree\":false,\"identifications_some_agree\":false,\"identifications_most_disagree\":false,\"project_ids\":[],\"project_ids_with_curator_id\":[],\"project_ids_without_curator_id\":[],\"project_observations\":[],\"reviewed_by\":[9812],\"tags\":[],\"ofvs\":[],\"annotations\":[],\"photos\":[],\"observation_photos\":[],\"sounds\":[],\"non_owner_ids\":[],\"identifications_count\":0,\"comments\":[],\"comments_count\":0,\"obscured\":false,\"field_change_times\":[],\"location\":\"37.76950378,-122.46528374\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46528374\",\"37.76950378\"]},\"identifications\":[{\"id\":10045508,\"uuid\":\"0d68403c-3d15-4d6d-87ff-06259f42f312\",\"observation_id\":4973651,\"body\":null,\"created_at\":\"2017-01-19T23:56:09+00:00\",\"updated_at\":\"2017-01-19T23:56:09+00:00\",\"current\":true,\"taxon\":{\"observations_count\":2810,\"taxon_schemes_count\":2,\"is_active\":true,\"ancestry\":\"48460/47126/211194/47125/47124/47132/49041\",\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,49041,49674\",\"iconic_taxon_id\":47126,\"created_at\":\"2009-02-15T19:16:12+00:00\",\"rank_level\":20,\"taxon_changes_count\":0,\"parent_id\":49041,\"name\":\"Ceanothus\",\"rank\":\"genus\",\"id\":49674,\"default_photo\":{\"square_url\":\"https://farm4.staticflickr.com/3614/3521235027_b9eecd307f_s.jpg\",\"attribution\":\"(c) Jim Frazee, some rights reserved (CC BY-NC-ND)\",\"medium_url\":\"https://farm4.staticflickr.com/3614/3521235027_b9eecd307f.jpg\",\"id\":11014,\"license_code\":\"cc-by-nc-nd\",\"url\":\"https://farm4.staticflickr.com/3614/3521235027_b9eecd307f_s.jpg\"}\r\n01-19 15:56:09.243 28498-16571/org.inaturalist.android E/INaturalistService: Failed to create JSONArray, JSONException: org.json.JSONException: Value {\"obscured\":false,\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"location\":\"37.76950378,-122.46528374\",\"quality_metrics\":[{\"id\":583742,\"created_at\":\"2017-01-19T23:56:09+00:00\",\"observation_id\":4973651,\"updated_at\":\"2017-01-19T23:56:09+00:00\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"agree\":false,\"metric\":\"wild\"}],\"captive\":true,\"identifications\":[{\"id\":10045508,\"body\":null,\"updated_at\":\"2017-01-19T23:56:09+00:00\",\"current\":true,\"created_at\":\"2017-01-19T23:56:09+00:00\",\"observation_id\":4973651,\"uuid\":\"0d68403c-3d15-4d6d-87ff-06259f42f312\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"taxon\":{\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/47132\\/49041\",\"observations_count\":2810,\"ancestor_ids\":[48460,47126,211194,47125,47124,47132,49041,49674],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Ceanothus\",\"taxon_changes_count\":0,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,49041,49674\",\"id\":49674,\"rank\":\"genus\",\"rank_level\":20,\"taxon_schemes_count\":2,\"name\":\"Ceanothus\",\"default_photo\":{\"license_code\":\"cc-by-nc-nd\",\"id\":11014,\"medium_url\":\"https:\\/\\/farm4.staticflickr.com\\/3614\\/3521235027_b9eecd307f.jpg\",\"square_url\":\"https:\\/\\/farm4.staticflickr.com\\/3614\\/3521235027_b9eecd307f_s.jpg\",\"url\":\"https:\\/\\/farm4.staticflickr.com\\/3614\\/3521235027_b9eecd307f_s.jpg\",\"attribution\":\"(c) Jim Frazee, some rights reserved (CC BY-NC-ND)\"},\"created_at\":\"2009-02-15T19:16:12+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":49041}}],\"ofvs\":[],\"cached_votes_total\":0,\"project_ids_with_curator_id\":[],\"description\":null,\"identifications_count\":0,\"taxon\":{\"observations_count\":2810,\"threatened\":false,\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/47132\\/49041\",\"ancestor_ids\":[48460,47126,211194,47125,47124,47132,49041,49674],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Ceanothus\",\"taxon_changes_count\":0,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,49041,49674\",\"id\":49674,\"rank\":\"genus\",\"rank_level\":20,\"endemic\":false,\"native\":false,\"taxon_schemes_count\":2,\"name\":\"Ceanothus\",\"introduced\":false,\"default_photo\":{\"license_code\":\"cc-by-nc-nd\",\"id\":11014,\"medium_url\":\"https:\\/\\/farm4.staticflickr.com\\/3614\\/3521235027_b9eecd307f.jpg\",\"square_url\":\"https:\\/\\/farm4.staticflickr.com\\/3614\\/3521235027_b9eecd307f_s.jpg\",\"url\":\"https:\\/\\/farm4.staticflickr.com\\/3614\\/3521235027_b9eecd307f_s.jpg\",\"attribution\":\"(c) Jim Frazee, some rights reserved (CC BY-NC-ND)\"},\"created_at\":\"2009-02-15T19:16:12+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":49041},\"id_please\":false,\"quality_grade\":\"casual\",\"field_change_times\":[],\"non_owner_ids\":[],\"uri\":\"https:\\/\\/www.inaturalist.org\\/observations\\/4973651\",\"project_observations\":[],\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46528374\",\"37.76950378\"]},\"updated_at\":\"2017-01-19T15:56:09-08:00\",\"observed_time_zone\":\"America\\/Los_Angeles\",\"project_ids_without_curator_id\":[],\"faves\":[],\"uuid\":\"d8e3947d-8c74-451c-a161-0086e59c7c85\",\"pr\r\n01-19 15:56:09.263 28498-16571/org.inaturalist.android D/ObservationProvider: Update observations; last_identifications_count\u003dnull preferred_common_name\u003dCeanothus captive\u003dtrue positioning_method\u003dnull _updated_at\u003d1484870169271 positioning_device\u003dnull private_positional_accuracy\u003dnull taxon_id\u003d49674 observed_on\u003d1484812800000 id\u003d4973651 description\u003dnull identifications_count\u003d0 created_at\u003d1484870169000 _synced_at\u003d1484870169271 user_id\u003d9812 private_longitude\u003dnull longitude\u003d-122.46528374 private_latitude\u003dnull species_guess\u003dCeanothus id_please\u003dfalse comments_count\u003d0 quality_grade\u003dcasual user_login\u003dinara out_of_range\u003dnull iconic_taxon_id\u003d47126 geoprivacy\u003dnull time_observed_at\u003d1484869231000 place_guess\u003dGolden Gate Park, San Francisco County, US-CA, US is_deleted\u003dfalse positional_accuracy\u003dnull observed_on_string\u003d2017-01-19 3:40:31 PM PST updated_at\u003d1484870169000 last_comments_count\u003dnull user_agent\u003dnull uuid\u003dd8e3947d-8c74-451c-a161-0086e59c7c85 latitude\u003d37.76950378 iconic_taxon_name\u003dPlantae\r\n01-19 15:56:09.273 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation_photos; observation_id\u003d4973651\r\n01-19 15:56:09.273 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation from 1to 4973651\r\n01-19 15:56:09.283 28498-16571/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:56:09.293 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:09.293 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (1,5,4,3,2) OR observation_id IN (4973651,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:09.303 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:09.303 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (1,5,4,3,2) OR observation_id IN (4973651,0,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:09.323 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:09.353 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:09.353 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:09.373 28498-15950/org.inaturalist.android W/FlurryAgent: FlurryDataSender: report 72c17ac9-9b80-4ce6-a971-6f9bcb0cb701 sent. HTTP response: 200\r\n01-19 15:56:10.354 28498-16571/org.inaturalist.android D/INaturalistService: RESP: {\"id\":4973652,\"uuid\":\"419c8b31-dd3c-4b4b-9188-c262346c4480\",\"site_id\":1,\"created_at\":\"2017-01-19T15:56:10-08:00\",\"created_at_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"observed_on\":\"2017-01-19\",\"observed_on_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"time_observed_at\":\"2017-01-19T15:41:33-08:00\",\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"quality_grade\":\"casual\",\"captive\":true,\"user\":{\"id\":9812,\"login\":\"inara\",\"login_autocomplete\":\"inara\",\"name\":\"Ken-ichi the Space Courtesan\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"icon\":\"https://static.inaturalist.org/attachments/users/icons/9812/thumb.jpeg?1475603064\",\"observations_count\":3,\"identifications_count\":1,\"journal_posts_count\":0,\"activity_count\":4,\"icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/medium.jpeg?1475603064\"},\"taxon\":{\"is_active\":true,\"name\":\"Fragaria\",\"endemic\":false,\"default_photo\":{\"square_url\":\"https://farm4.staticflickr.com/3875/14718011498_8e8c2c84ca_s.jpg\",\"attribution\":\"(c) Björn S..., some rights reserved (CC BY-SA)\",\"medium_url\":\"https://farm4.staticflickr.com/3875/14718011498_8e8c2c84ca.jpg\",\"id\":3594183,\"license_code\":\"cc-by-sa\",\"url\":\"https://farm4.staticflickr.com/3875/14718011498_8e8c2c84ca_s.jpg\"},\"parent_id\":47148,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,47148,50299\",\"ancestry\":\"48460/47126/211194/47125/47124/47132/47148\",\"native\":false,\"rank_level\":20,\"threatened\":false,\"introduced\":false,\"id\":50299,\"rank\":\"genus\",\"observations_count\":2444,\"taxon_schemes_count\":2,\"iconic_taxon_id\":47126,\"taxon_changes_count\":1,\"created_at\":\"2009-03-15T14:20:53+00:00\",\"ancestor_ids\":[48460,47126,211194,47125,47124,47132,47148,50299],\"iconic_taxon_name\":\"Plantae\",\"preferred_common_name\":\"Strawberries\"},\"created_time_zone\":\"America/Los_Angeles\",\"updated_at\":\"2017-01-19T15:56:10-08:00\",\"observed_time_zone\":\"America/Los_Angeles\",\"time_zone_offset\":\"-08:00\",\"uri\":\"https://www.inaturalist.org/observations/4973652\",\"description\":null,\"mappable\":true,\"species_guess\":\"Strawberries\",\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"observed_on_string\":\"2017-01-19 3:41:33 PM PST\",\"id_please\":false,\"out_of_range\":null,\"license_code\":null,\"geoprivacy\":null,\"faves_count\":0,\"cached_votes_total\":0,\"num_identification_agreements\":0,\"num_identification_disagreements\":0,\"identifications_most_agree\":false,\"identifications_some_agree\":false,\"identifications_most_disagree\":false,\"project_ids\":[],\"project_ids_with_curator_id\":[],\"project_ids_without_curator_id\":[],\"project_observations\":[],\"reviewed_by\":[9812],\"tags\":[],\"ofvs\":[],\"annotations\":[],\"photos\":[],\"observation_photos\":[],\"sounds\":[],\"non_owner_ids\":[],\"identifications_count\":0,\"comments\":[],\"comments_count\":0,\"obscured\":false,\"field_change_times\":[],\"location\":\"37.76942152,-122.46522463\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46522463\",\"37.76942152\"]},\"identifications\":[{\"id\":10045509,\"uuid\":\"12443eff-b58b-4760-ab6c-54695c9e13da\",\"observation_id\":4973652,\"body\":null,\"created_at\":\"2017-01-19T23:56:10+00:00\",\"updated_at\":\"2017-01-19T23:56:10+00:00\",\"current\":true,\"taxon\":{\"observations_count\":2444,\"taxon_schemes_count\":2,\"is_active\":true,\"ancestry\":\"48460/47126/211194/47125/47124/47132/47148\",\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,47148,50299\",\"iconic_taxon_id\":47126,\"created_at\":\"2009-03-15T14:20:53+00:00\",\"rank_level\":20,\"taxon_changes_count\":1,\"parent_id\":47148,\"name\":\"Fragaria\",\"rank\":\"genus\",\"id\":50299,\"default_photo\":{\"square_url\":\"https://farm4.staticflickr.com/3875/14718011498_8e8c2c84ca_s.jpg\",\"attribution\":\"(c) Björn S..., some rights reserved (CC BY-SA)\",\"medium_url\":\"https://farm4.staticflickr.com/3875/14718011498_8e8c2c84ca.jpg\",\"id\":3594183,\"license_code\":\"cc-by-sa\",\"url\":\"https://farm4.staticflickr.com/3875/14718011498_8e8c2c84ca_s.j\r\n01-19 15:56:10.374 28498-16571/org.inaturalist.android E/INaturalistService: Failed to create JSONArray, JSONException: org.json.JSONException: Value {\"obscured\":false,\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"location\":\"37.76942152,-122.46522463\",\"quality_metrics\":[{\"id\":583743,\"created_at\":\"2017-01-19T23:56:10+00:00\",\"observation_id\":4973652,\"updated_at\":\"2017-01-19T23:56:10+00:00\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"agree\":false,\"metric\":\"wild\"}],\"captive\":true,\"identifications\":[{\"id\":10045509,\"body\":null,\"updated_at\":\"2017-01-19T23:56:10+00:00\",\"current\":true,\"created_at\":\"2017-01-19T23:56:10+00:00\",\"observation_id\":4973652,\"uuid\":\"12443eff-b58b-4760-ab6c-54695c9e13da\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"taxon\":{\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/47132\\/47148\",\"observations_count\":2444,\"ancestor_ids\":[48460,47126,211194,47125,47124,47132,47148,50299],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Strawberries\",\"taxon_changes_count\":1,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,47148,50299\",\"id\":50299,\"rank\":\"genus\",\"rank_level\":20,\"taxon_schemes_count\":2,\"name\":\"Fragaria\",\"default_photo\":{\"license_code\":\"cc-by-sa\",\"id\":3594183,\"medium_url\":\"https:\\/\\/farm4.staticflickr.com\\/3875\\/14718011498_8e8c2c84ca.jpg\",\"square_url\":\"https:\\/\\/farm4.staticflickr.com\\/3875\\/14718011498_8e8c2c84ca_s.jpg\",\"url\":\"https:\\/\\/farm4.staticflickr.com\\/3875\\/14718011498_8e8c2c84ca_s.jpg\",\"attribution\":\"(c) Björn S..., some rights reserved (CC BY-SA)\"},\"created_at\":\"2009-03-15T14:20:53+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":47148}}],\"ofvs\":[],\"cached_votes_total\":0,\"project_ids_with_curator_id\":[],\"description\":null,\"identifications_count\":0,\"taxon\":{\"observations_count\":2444,\"threatened\":false,\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/47132\\/47148\",\"ancestor_ids\":[48460,47126,211194,47125,47124,47132,47148,50299],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Strawberries\",\"taxon_changes_count\":1,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47132,47148,50299\",\"id\":50299,\"rank\":\"genus\",\"rank_level\":20,\"endemic\":false,\"native\":false,\"taxon_schemes_count\":2,\"name\":\"Fragaria\",\"introduced\":false,\"default_photo\":{\"license_code\":\"cc-by-sa\",\"id\":3594183,\"medium_url\":\"https:\\/\\/farm4.staticflickr.com\\/3875\\/14718011498_8e8c2c84ca.jpg\",\"square_url\":\"https:\\/\\/farm4.staticflickr.com\\/3875\\/14718011498_8e8c2c84ca_s.jpg\",\"url\":\"https:\\/\\/farm4.staticflickr.com\\/3875\\/14718011498_8e8c2c84ca_s.jpg\",\"attribution\":\"(c) Björn S..., some rights reserved (CC BY-SA)\"},\"created_at\":\"2009-03-15T14:20:53+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":47148},\"id_please\":false,\"quality_grade\":\"casual\",\"field_change_times\":[],\"non_owner_ids\":[],\"uri\":\"https:\\/\\/www.inaturalist.org\\/observations\\/4973652\",\"project_observations\":[],\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46522463\",\"37.76942152\"]},\"updated_at\":\"2017-01-19T15:56:10-08:00\",\"observed_time_zone\":\"America\\/Los_Angeles\",\"project_ids_without_curator_id\":[],\"faves\":[],\"uuid\":\"419c8b31-dd3c-4b4b-9188-c262346c4480\"\r\n01-19 15:56:10.384 28498-16571/org.inaturalist.android D/ObservationProvider: Update observations; last_identifications_count\u003dnull preferred_common_name\u003dStrawberries captive\u003dtrue positioning_method\u003dnull _updated_at\u003d1484870170389 positioning_device\u003dnull private_positional_accuracy\u003dnull taxon_id\u003d50299 observed_on\u003d1484812800000 id\u003d4973652 description\u003dnull identifications_count\u003d0 created_at\u003d1484870170000 _synced_at\u003d1484870170389 user_id\u003d9812 private_longitude\u003dnull longitude\u003d-122.46522463 private_latitude\u003dnull species_guess\u003dStrawberries id_please\u003dfalse comments_count\u003d0 quality_grade\u003dcasual user_login\u003dinara out_of_range\u003dnull iconic_taxon_id\u003d47126 geoprivacy\u003dnull time_observed_at\u003d1484869293000 place_guess\u003dGolden Gate Park, San Francisco County, US-CA, US is_deleted\u003dfalse positional_accuracy\u003dnull observed_on_string\u003d2017-01-19 3:41:33 PM PST updated_at\u003d1484870170000 last_comments_count\u003dnull user_agent\u003dnull uuid\u003d419c8b31-dd3c-4b4b-9188-c262346c4480 latitude\u003d37.76942152 iconic_taxon_name\u003dPlantae\r\n01-19 15:56:10.384 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation_photos; observation_id\u003d4973652\r\n01-19 15:56:10.384 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation from 2to 4973652\r\n01-19 15:56:10.394 28498-16571/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:56:10.414 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:10.414 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (2,1,5,4,3) OR observation_id IN (4973652,4973651,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:10.424 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:10.434 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (2,1,5,4,3) OR observation_id IN (4973652,4973651,0,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:10.454 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:10.464 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:10.494 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:10.494 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:11.575 28498-16571/org.inaturalist.android D/INaturalistService: RESP: {\"id\":4973653,\"uuid\":\"d902f5c4-6ff8-4147-baf2-a4c464ab11e5\",\"site_id\":1,\"created_at\":\"2017-01-19T15:56:11-08:00\",\"created_at_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"observed_on\":\"2017-01-19\",\"observed_on_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"time_observed_at\":\"2017-01-19T15:44:19-08:00\",\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"quality_grade\":\"casual\",\"captive\":false,\"user\":{\"id\":9812,\"login\":\"inara\",\"login_autocomplete\":\"inara\",\"name\":\"Ken-ichi the Space Courtesan\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"icon\":\"https://static.inaturalist.org/attachments/users/icons/9812/thumb.jpeg?1475603064\",\"observations_count\":3,\"identifications_count\":1,\"journal_posts_count\":0,\"activity_count\":4,\"icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/medium.jpeg?1475603064\"},\"taxon\":{\"is_active\":true,\"name\":\"Geranium robertianum\",\"endemic\":false,\"default_photo\":{\"square_url\":\"https://farm3.staticflickr.com/2298/2526066396_5b2b55e67a_s.jpg\",\"attribution\":\"(c) Steve Chilton, some rights reserved (CC BY-NC-ND)\",\"medium_url\":\"https://farm3.staticflickr.com/2298/2526066396_5b2b55e67a.jpg\",\"id\":9981,\"license_code\":\"cc-by-nc-nd\",\"url\":\"https://farm3.staticflickr.com/2298/2526066396_5b2b55e67a_s.jpg\"},\"parent_id\":47701,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47690,47689,47701,55925\",\"ancestry\":\"48460/47126/211194/47125/47124/47690/47689/47701\",\"native\":false,\"rank_level\":10,\"threatened\":false,\"introduced\":true,\"id\":55925,\"rank\":\"species\",\"observations_count\":748,\"taxon_schemes_count\":5,\"iconic_taxon_id\":47126,\"taxon_changes_count\":0,\"created_at\":\"2010-02-11T18:10:49+00:00\",\"ancestor_ids\":[48460,47126,211194,47125,47124,47690,47689,47701,55925],\"iconic_taxon_name\":\"Plantae\",\"preferred_common_name\":\"Herb Robert\"},\"created_time_zone\":\"America/Los_Angeles\",\"updated_at\":\"2017-01-19T15:56:12-08:00\",\"observed_time_zone\":\"America/Los_Angeles\",\"time_zone_offset\":\"-08:00\",\"uri\":null,\"description\":null,\"mappable\":true,\"species_guess\":\"Herb Robert\",\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"observed_on_string\":\"2017-01-19 3:44:19 PM PST\",\"id_please\":false,\"out_of_range\":null,\"license_code\":null,\"geoprivacy\":null,\"faves_count\":0,\"cached_votes_total\":0,\"num_identification_agreements\":0,\"num_identification_disagreements\":0,\"identifications_most_agree\":false,\"identifications_some_agree\":false,\"identifications_most_disagree\":false,\"project_ids\":[],\"project_ids_with_curator_id\":[],\"project_ids_without_curator_id\":[],\"project_observations\":[],\"reviewed_by\":[9812],\"tags\":[],\"ofvs\":[],\"annotations\":[],\"photos\":[],\"observation_photos\":[],\"sounds\":[],\"non_owner_ids\":[],\"identifications_count\":0,\"comments\":[],\"comments_count\":0,\"obscured\":false,\"field_change_times\":[],\"location\":\"37.76965754,-122.46489325\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46489325\",\"37.76965754\"]},\"identifications\":[{\"id\":10045510,\"uuid\":\"bdf10746-af82-467a-9373-543fe5bfcf65\",\"observation_id\":4973653,\"body\":null,\"created_at\":\"2017-01-19T23:56:12+00:00\",\"updated_at\":\"2017-01-19T23:56:12+00:00\",\"current\":true,\"taxon\":{\"observations_count\":748,\"taxon_schemes_count\":5,\"is_active\":true,\"ancestry\":\"48460/47126/211194/47125/47124/47690/47689/47701\",\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47690,47689,47701,55925\",\"iconic_taxon_id\":47126,\"created_at\":\"2010-02-11T18:10:49+00:00\",\"rank_level\":10,\"taxon_changes_count\":0,\"parent_id\":47701,\"name\":\"Geranium robertianum\",\"rank\":\"species\",\"id\":55925,\"default_photo\":{\"square_url\":\"https://farm3.staticflickr.com/2298/2526066396_5b2b55e67a_s.jpg\",\"attribution\":\"(c) Steve Chilton, some rights reserved (CC BY-NC-ND)\",\"medium_url\":\"https://farm3.staticflickr.com/2298/2526066396_5b2b55e67a.jpg\",\"id\":9981,\"license_code\":\"cc-by-nc-nd\",\"url\":\"https://farm3.staticflickr.com/2298/2526066396_5b\r\n01-19 15:56:11.575 28498-16571/org.inaturalist.android E/INaturalistService: Failed to create JSONArray, JSONException: org.json.JSONException: Value {\"obscured\":false,\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"location\":\"37.76965754,-122.46489325\",\"quality_metrics\":[],\"captive\":false,\"identifications\":[{\"id\":10045510,\"body\":null,\"updated_at\":\"2017-01-19T23:56:12+00:00\",\"current\":true,\"created_at\":\"2017-01-19T23:56:12+00:00\",\"observation_id\":4973653,\"uuid\":\"bdf10746-af82-467a-9373-543fe5bfcf65\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"taxon\":{\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/47690\\/47689\\/47701\",\"observations_count\":748,\"ancestor_ids\":[48460,47126,211194,47125,47124,47690,47689,47701,55925],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Herb Robert\",\"taxon_changes_count\":0,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47690,47689,47701,55925\",\"id\":55925,\"rank\":\"species\",\"rank_level\":10,\"taxon_schemes_count\":5,\"name\":\"Geranium robertianum\",\"default_photo\":{\"license_code\":\"cc-by-nc-nd\",\"id\":9981,\"medium_url\":\"https:\\/\\/farm3.staticflickr.com\\/2298\\/2526066396_5b2b55e67a.jpg\",\"square_url\":\"https:\\/\\/farm3.staticflickr.com\\/2298\\/2526066396_5b2b55e67a_s.jpg\",\"url\":\"https:\\/\\/farm3.staticflickr.com\\/2298\\/2526066396_5b2b55e67a_s.jpg\",\"attribution\":\"(c) Steve Chilton, some rights reserved (CC BY-NC-ND)\"},\"created_at\":\"2010-02-11T18:10:49+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":47701}}],\"ofvs\":[],\"cached_votes_total\":0,\"project_ids_with_curator_id\":[],\"description\":null,\"identifications_count\":0,\"taxon\":{\"observations_count\":748,\"threatened\":false,\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/47690\\/47689\\/47701\",\"ancestor_ids\":[48460,47126,211194,47125,47124,47690,47689,47701,55925],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Herb Robert\",\"taxon_changes_count\":0,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,47690,47689,47701,55925\",\"id\":55925,\"rank\":\"species\",\"rank_level\":10,\"endemic\":false,\"native\":false,\"taxon_schemes_count\":5,\"name\":\"Geranium robertianum\",\"introduced\":true,\"default_photo\":{\"license_code\":\"cc-by-nc-nd\",\"id\":9981,\"medium_url\":\"https:\\/\\/farm3.staticflickr.com\\/2298\\/2526066396_5b2b55e67a.jpg\",\"square_url\":\"https:\\/\\/farm3.staticflickr.com\\/2298\\/2526066396_5b2b55e67a_s.jpg\",\"url\":\"https:\\/\\/farm3.staticflickr.com\\/2298\\/2526066396_5b2b55e67a_s.jpg\",\"attribution\":\"(c) Steve Chilton, some rights reserved (CC BY-NC-ND)\"},\"created_at\":\"2010-02-11T18:10:49+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":47701},\"id_please\":false,\"quality_grade\":\"casual\",\"field_change_times\":[],\"non_owner_ids\":[],\"uri\":null,\"project_observations\":[],\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46489325\",\"37.76965754\"]},\"updated_at\":\"2017-01-19T15:56:12-08:00\",\"observed_time_zone\":\"America\\/Los_Angeles\",\"project_ids_without_curator_id\":[],\"faves\":[],\"uuid\":\"d902f5c4-6ff8-4147-baf2-a4c464ab11e5\",\"project_ids\":[],\"identifications_most_agree\":false,\"license_code\":null,\"reviewed_by\":[9812],\"observed_on\":\"2017-01-19\",\"id\":4973653,\"observed_on_details\":{\"month\":1,\"year\":2017,\"hour\":15,\"day\":19,\"date\":\"2017-01-19\",\"week\":3},\"created_at_details\":{\"month\":1,\"year\":2017,\"hour\":15,\"day\":19,\"date\":\"2017-01-19\",\"week\":3},\"created_at\":\"2017-01-19T15:56:11-08:00\",\"sounds\":[],\"species_guess\":\"Herb Robert\",\"tags\":[],\"comments_count\":0,\"out_of_range\":null,\"identifications_most_disagree\":false,\"site_id\":1,\"observation_photos\":[],\"geoprivacy\":null,\"num_identification_agreements\":0,\"\r\n01-19 15:56:11.595 28498-16571/org.inaturalist.android D/ObservationProvider: Update observations; last_identifications_count\u003dnull preferred_common_name\u003dHerb Robert captive\u003dfalse positioning_method\u003dnull _updated_at\u003d1484870171600 positioning_device\u003dnull private_positional_accuracy\u003dnull taxon_id\u003d55925 observed_on\u003d1484812800000 id\u003d4973653 description\u003dnull identifications_count\u003d0 created_at\u003d1484870171000 _synced_at\u003d1484870171600 user_id\u003d9812 private_longitude\u003dnull longitude\u003d-122.46489325 private_latitude\u003dnull species_guess\u003dHerb Robert id_please\u003dfalse comments_count\u003d0 quality_grade\u003dcasual user_login\u003dinara out_of_range\u003dnull iconic_taxon_id\u003d47126 geoprivacy\u003dnull time_observed_at\u003d1484869459000 place_guess\u003dGolden Gate Park, San Francisco County, US-CA, US is_deleted\u003dfalse positional_accuracy\u003dnull observed_on_string\u003d2017-01-19 3:44:19 PM PST updated_at\u003d1484870172000 last_comments_count\u003dnull user_agent\u003dnull uuid\u003dd902f5c4-6ff8-4147-baf2-a4c464ab11e5 latitude\u003d37.76965754 iconic_taxon_name\u003dPlantae\r\n01-19 15:56:11.605 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation_photos; observation_id\u003d4973653\r\n01-19 15:56:11.605 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation from 3to 4973653\r\n01-19 15:56:11.625 28498-16571/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:56:11.635 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:11.645 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:11.655 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:11.665 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:11.665 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:11.685 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:11.685 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (3,2,1,5,4) OR observation_id IN (4973653,4973652,4973651,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:11.695 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:11.695 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (3,2,1,5,4) OR observation_id IN (4973653,4973652,4973651,0,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:11.715 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:11.715 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:11.725 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:11.745 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:11.745 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:13.207 28498-16571/org.inaturalist.android D/INaturalistService: RESP: {\"id\":4973654,\"uuid\":\"0d5d618a-0030-4e64-922b-95f38d4d73ea\",\"site_id\":1,\"created_at\":\"2017-01-19T15:56:13-08:00\",\"created_at_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"observed_on\":\"2017-01-19\",\"observed_on_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"time_observed_at\":\"2017-01-19T15:45:26-08:00\",\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"quality_grade\":\"casual\",\"captive\":true,\"user\":{\"id\":9812,\"login\":\"inara\",\"login_autocomplete\":\"inara\",\"name\":\"Ken-ichi the Space Courtesan\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"icon\":\"https://static.inaturalist.org/attachments/users/icons/9812/thumb.jpeg?1475603064\",\"observations_count\":3,\"identifications_count\":1,\"journal_posts_count\":0,\"activity_count\":4,\"icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/medium.jpeg?1475603064\"},\"taxon\":{\"is_active\":true,\"name\":\"Woodwardia\",\"endemic\":false,\"default_photo\":{\"square_url\":\"https://farm3.staticflickr.com/2306/1501080401_6855463eb9_s.jpg\",\"attribution\":\"(c) Eric in SF, some rights reserved (CC BY-NC-ND)\",\"medium_url\":\"https://farm3.staticflickr.com/2306/1501080401_6855463eb9.jpg\",\"id\":15454,\"license_code\":\"cc-by-nc-nd\",\"url\":\"https://farm3.staticflickr.com/2306/1501080401_6855463eb9_s.jpg\"},\"parent_id\":48434,\"min_species_ancestry\":\"48460,47126,211194,311266,121943,47754,48434,52686\",\"ancestry\":\"48460/47126/211194/311266/121943/47754/48434\",\"native\":false,\"rank_level\":20,\"threatened\":false,\"introduced\":false,\"id\":52686,\"rank\":\"genus\",\"observations_count\":487,\"iconic_taxon_id\":47126,\"created_at\":\"2009-08-21T16:17:08+00:00\",\"ancestor_ids\":[48460,47126,211194,311266,121943,47754,48434,52686],\"iconic_taxon_name\":\"Plantae\"},\"created_time_zone\":\"America/Los_Angeles\",\"updated_at\":\"2017-01-19T15:56:13-08:00\",\"observed_time_zone\":\"America/Los_Angeles\",\"time_zone_offset\":\"-08:00\",\"uri\":\"https://www.inaturalist.org/observations/4973654\",\"description\":null,\"mappable\":true,\"species_guess\":\"Woodwardia\",\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"observed_on_string\":\"2017-01-19 3:45:26 PM PST\",\"id_please\":false,\"out_of_range\":null,\"license_code\":null,\"geoprivacy\":null,\"faves_count\":0,\"cached_votes_total\":0,\"num_identification_agreements\":0,\"num_identification_disagreements\":0,\"identifications_most_agree\":false,\"identifications_some_agree\":false,\"identifications_most_disagree\":false,\"project_ids\":[],\"project_ids_with_curator_id\":[],\"project_ids_without_curator_id\":[],\"project_observations\":[],\"reviewed_by\":[9812],\"tags\":[],\"ofvs\":[],\"annotations\":[],\"photos\":[],\"observation_photos\":[],\"sounds\":[],\"non_owner_ids\":[],\"identifications_count\":0,\"comments\":[],\"comments_count\":0,\"obscured\":false,\"field_change_times\":[],\"location\":\"37.76960712,-122.46506935\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46506935\",\"37.76960712\"]},\"identifications\":[{\"id\":10045511,\"uuid\":\"b5fee9d1-c266-4fa0-9562-b109659604cd\",\"observation_id\":4973654,\"body\":null,\"created_at\":\"2017-01-19T23:56:13+00:00\",\"updated_at\":\"2017-01-19T23:56:13+00:00\",\"current\":true,\"taxon\":{\"observations_count\":487,\"is_active\":true,\"ancestry\":\"48460/47126/211194/311266/121943/47754/48434\",\"min_species_ancestry\":\"48460,47126,211194,311266,121943,47754,48434,52686\",\"iconic_taxon_id\":47126,\"created_at\":\"2009-08-21T16:17:08+00:00\",\"rank_level\":20,\"parent_id\":48434,\"name\":\"Woodwardia\",\"rank\":\"genus\",\"id\":52686,\"default_photo\":{\"square_url\":\"https://farm3.staticflickr.com/2306/1501080401_6855463eb9_s.jpg\",\"attribution\":\"(c) Eric in SF, some rights reserved (CC BY-NC-ND)\",\"medium_url\":\"https://farm3.staticflickr.com/2306/1501080401_6855463eb9.jpg\",\"id\":15454,\"license_code\":\"cc-by-nc-nd\",\"url\":\"https://farm3.staticflickr.com/2306/1501080401_6855463eb9_s.jpg\"},\"ancestor_ids\":[48460,47126,211194,311266,121943,47754,48434,52686],\"iconic_taxon_name\":\"Plantae\"},\"user\":{\"id\":9812,\"lo\r\n01-19 15:56:13.217 28498-16571/org.inaturalist.android E/INaturalistService: Failed to create JSONArray, JSONException: org.json.JSONException: Value {\"obscured\":false,\"place_ids\":[50422,63279,6725,54321,114015,63549,96034,854,63097,14,62068,62332,54088,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"location\":\"37.76960712,-122.46506935\",\"quality_metrics\":[{\"id\":583744,\"created_at\":\"2017-01-19T23:56:13+00:00\",\"observation_id\":4973654,\"updated_at\":\"2017-01-19T23:56:13+00:00\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"agree\":false,\"metric\":\"wild\"}],\"captive\":true,\"identifications\":[{\"id\":10045511,\"body\":null,\"updated_at\":\"2017-01-19T23:56:13+00:00\",\"current\":true,\"created_at\":\"2017-01-19T23:56:13+00:00\",\"observation_id\":4973654,\"uuid\":\"b5fee9d1-c266-4fa0-9562-b109659604cd\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"taxon\":{\"ancestry\":\"48460\\/47126\\/211194\\/311266\\/121943\\/47754\\/48434\",\"observations_count\":487,\"ancestor_ids\":[48460,47126,211194,311266,121943,47754,48434,52686],\"is_active\":true,\"iconic_taxon_id\":47126,\"min_species_ancestry\":\"48460,47126,211194,311266,121943,47754,48434,52686\",\"id\":52686,\"rank\":\"genus\",\"rank_level\":20,\"name\":\"Woodwardia\",\"default_photo\":{\"license_code\":\"cc-by-nc-nd\",\"id\":15454,\"medium_url\":\"https:\\/\\/farm3.staticflickr.com\\/2306\\/1501080401_6855463eb9.jpg\",\"square_url\":\"https:\\/\\/farm3.staticflickr.com\\/2306\\/1501080401_6855463eb9_s.jpg\",\"url\":\"https:\\/\\/farm3.staticflickr.com\\/2306\\/1501080401_6855463eb9_s.jpg\",\"attribution\":\"(c) Eric in SF, some rights reserved (CC BY-NC-ND)\"},\"created_at\":\"2009-08-21T16:17:08+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":48434}}],\"ofvs\":[],\"cached_votes_total\":0,\"project_ids_with_curator_id\":[],\"description\":null,\"identifications_count\":0,\"taxon\":{\"observations_count\":487,\"threatened\":false,\"ancestry\":\"48460\\/47126\\/211194\\/311266\\/121943\\/47754\\/48434\",\"ancestor_ids\":[48460,47126,211194,311266,121943,47754,48434,52686],\"is_active\":true,\"iconic_taxon_id\":47126,\"min_species_ancestry\":\"48460,47126,211194,311266,121943,47754,48434,52686\",\"id\":52686,\"rank\":\"genus\",\"rank_level\":20,\"endemic\":false,\"native\":false,\"name\":\"Woodwardia\",\"introduced\":false,\"default_photo\":{\"license_code\":\"cc-by-nc-nd\",\"id\":15454,\"medium_url\":\"https:\\/\\/farm3.staticflickr.com\\/2306\\/1501080401_6855463eb9.jpg\",\"square_url\":\"https:\\/\\/farm3.staticflickr.com\\/2306\\/1501080401_6855463eb9_s.jpg\",\"url\":\"https:\\/\\/farm3.staticflickr.com\\/2306\\/1501080401_6855463eb9_s.jpg\",\"attribution\":\"(c) Eric in SF, some rights reserved (CC BY-NC-ND)\"},\"created_at\":\"2009-08-21T16:17:08+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":48434},\"id_please\":false,\"quality_grade\":\"casual\",\"field_change_times\":[],\"non_owner_ids\":[],\"uri\":\"https:\\/\\/www.inaturalist.org\\/observations\\/4973654\",\"project_observations\":[],\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46506935\",\"37.76960712\"]},\"updated_at\":\"2017-01-19T15:56:13-08:00\",\"observed_time_zone\":\"America\\/Los_Angeles\",\"project_ids_without_curator_id\":[],\"faves\":[],\"uuid\":\"0d5d618a-0030-4e64-922b-95f38d4d73ea\",\"project_ids\":[],\"identifications_most_agree\":false,\"license_code\":null,\"reviewed_by\":[9812],\"observed_on\":\"2017-01-19\",\"id\":4973654,\"observed_on_details\":{\"mo\r\n01-19 15:56:13.227 28498-16571/org.inaturalist.android D/ObservationProvider: Update observations; last_identifications_count\u003dnull preferred_common_name\u003dWoodwardia captive\u003dtrue positioning_method\u003dnull _updated_at\u003d1484870173234 positioning_device\u003dnull private_positional_accuracy\u003dnull taxon_id\u003d52686 observed_on\u003d1484812800000 id\u003d4973654 description\u003dnull identifications_count\u003d0 created_at\u003d1484870173000 _synced_at\u003d1484870173234 user_id\u003d9812 private_longitude\u003dnull longitude\u003d-122.46506935 private_latitude\u003dnull species_guess\u003dWoodwardia id_please\u003dfalse comments_count\u003d0 quality_grade\u003dcasual user_login\u003dinara out_of_range\u003dnull iconic_taxon_id\u003d47126 geoprivacy\u003dnull time_observed_at\u003d1484869526000 place_guess\u003dGolden Gate Park, San Francisco County, US-CA, US is_deleted\u003dfalse positional_accuracy\u003dnull observed_on_string\u003d2017-01-19 3:45:26 PM PST updated_at\u003d1484870173000 last_comments_count\u003dnull user_agent\u003dnull uuid\u003d0d5d618a-0030-4e64-922b-95f38d4d73ea latitude\u003d37.76960712 iconic_taxon_name\u003dPlantae\r\n01-19 15:56:13.237 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation_photos; observation_id\u003d4973654\r\n01-19 15:56:13.237 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation from 4to 4973654\r\n01-19 15:56:13.257 28498-16571/org.inaturalist.android D/INaturalistService: URL: post - https://api.inaturalist.org/v1/observations (null)\r\n01-19 15:56:13.267 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:13.277 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (4,3,2,1,5) OR observation_id IN (4973654,4973653,4973652,4973651,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:13.277 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:13.287 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (4,3,2,1,5) OR observation_id IN (4973654,4973653,4973652,4973651,0)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:13.297 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:13.307 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:13.317 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:13.327 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:13.337 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:13.337 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:14.068 28498-28498/org.inaturalist.android I/Choreographer: Skipped 40 frames!  The application may be doing too much work on its main thread.\r\n01-19 15:56:15.059 28498-16571/org.inaturalist.android D/INaturalistService: RESP: {\"id\":4973655,\"uuid\":\"b55f2fcb-2ca2-44c4-b0ed-e22bfd9ec7ad\",\"site_id\":1,\"created_at\":\"2017-01-19T15:56:15-08:00\",\"created_at_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"observed_on\":\"2017-01-19\",\"observed_on_details\":{\"date\":\"2017-01-19\",\"day\":19,\"month\":1,\"year\":2017,\"hour\":15,\"week\":3},\"time_observed_at\":\"2017-01-19T15:45:50-08:00\",\"place_ids\":[50422,63279,6725,54321,63549,96034,854,63097,14,62068,62332,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"quality_grade\":\"casual\",\"captive\":true,\"user\":{\"id\":9812,\"login\":\"inara\",\"login_autocomplete\":\"inara\",\"name\":\"Ken-ichi the Space Courtesan\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"icon\":\"https://static.inaturalist.org/attachments/users/icons/9812/thumb.jpeg?1475603064\",\"observations_count\":3,\"identifications_count\":1,\"journal_posts_count\":0,\"activity_count\":4,\"icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/medium.jpeg?1475603064\"},\"taxon\":{\"is_active\":true,\"name\":\"Ribes sanguineum\",\"endemic\":false,\"default_photo\":{\"square_url\":\"https://farm4.staticflickr.com/3383/3449868409_96601904a3_s.jpg\",\"attribution\":\"(c) Minette Layne, some rights reserved (CC BY-NC)\",\"medium_url\":\"https://farm4.staticflickr.com/3383/3449868409_96601904a3.jpg\",\"id\":5398,\"license_code\":\"cc-by-nc\",\"url\":\"https://farm4.staticflickr.com/3383/3449868409_96601904a3_s.jpg\"},\"parent_id\":47130,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,71289,47131,47130,53435\",\"ancestry\":\"48460/47126/211194/47125/47124/71289/47131/47130\",\"native\":true,\"rank_level\":10,\"threatened\":false,\"introduced\":false,\"id\":53435,\"rank\":\"species\",\"observations_count\":475,\"taxon_schemes_count\":4,\"iconic_taxon_id\":47126,\"taxon_changes_count\":0,\"created_at\":\"2009-09-26T06:02:45+00:00\",\"ancestor_ids\":[48460,47126,211194,47125,47124,71289,47131,47130,53435],\"iconic_taxon_name\":\"Plantae\",\"preferred_common_name\":\"Red-flowering Currant\"},\"created_time_zone\":\"America/Los_Angeles\",\"updated_at\":\"2017-01-19T15:56:15-08:00\",\"observed_time_zone\":\"America/Los_Angeles\",\"time_zone_offset\":\"-08:00\",\"uri\":\"https://www.inaturalist.org/observations/4973655\",\"description\":null,\"mappable\":true,\"species_guess\":\"Red-flowering Currant\",\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"observed_on_string\":\"2017-01-19 3:45:50 PM PST\",\"id_please\":false,\"out_of_range\":null,\"license_code\":null,\"geoprivacy\":null,\"faves_count\":0,\"cached_votes_total\":0,\"num_identification_agreements\":0,\"num_identification_disagreements\":0,\"identifications_most_agree\":false,\"identifications_some_agree\":false,\"identifications_most_disagree\":false,\"project_ids\":[],\"project_ids_with_curator_id\":[],\"project_ids_without_curator_id\":[],\"project_observations\":[],\"reviewed_by\":[9812],\"tags\":[],\"ofvs\":[],\"annotations\":[],\"photos\":[],\"observation_photos\":[],\"sounds\":[],\"non_owner_ids\":[],\"identifications_count\":0,\"comments\":[],\"comments_count\":0,\"obscured\":false,\"field_change_times\":[],\"location\":\"37.76928994,-122.46524189\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46524189\",\"37.76928994\"]},\"identifications\":[{\"id\":10045512,\"uuid\":\"f62125e2-1922-444d-b741-985e25d443da\",\"observation_id\":4973655,\"body\":null,\"created_at\":\"2017-01-19T23:56:15+00:00\",\"updated_at\":\"2017-01-19T23:56:15+00:00\",\"current\":true,\"taxon\":{\"observations_count\":475,\"taxon_schemes_count\":4,\"is_active\":true,\"ancestry\":\"48460/47126/211194/47125/47124/71289/47131/47130\",\"min_species_ancestry\":\"48460,47126,211194,47125,47124,71289,47131,47130,53435\",\"iconic_taxon_id\":47126,\"created_at\":\"2009-09-26T06:02:45+00:00\",\"rank_level\":10,\"taxon_changes_count\":0,\"parent_id\":47130,\"name\":\"Ribes sanguineum\",\"rank\":\"species\",\"id\":53435,\"default_photo\":{\"square_url\":\"https://farm4.staticflickr.com/3383/3449868409_96601904a3_s.jpg\",\"attribution\":\"(c) Minette Layne, some rights reserved (CC BY-NC)\",\"medium_url\":\"https://farm4.staticflickr.com/3383/3449868409_96601904a3.jpg\",\"id\":5398,\"license_code\":\"cc-by-nc\",\"url\":\"https://farm4.sta\r\n01-19 15:56:15.069 28498-16571/org.inaturalist.android E/INaturalistService: Failed to create JSONArray, JSONException: org.json.JSONException: Value {\"obscured\":false,\"place_ids\":[50422,63279,6725,54321,63549,96034,854,63097,14,62068,62332,62622,65360,66741,59613,82017,75752,75903,76975,76976,79780,92151,94045,92337,93467,96683,9853,96057,96687,1,97394],\"location\":\"37.76928994,-122.46524189\",\"quality_metrics\":[{\"id\":583745,\"created_at\":\"2017-01-19T23:56:15+00:00\",\"observation_id\":4973655,\"updated_at\":\"2017-01-19T23:56:15+00:00\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"agree\":false,\"metric\":\"wild\"}],\"captive\":true,\"identifications\":[{\"id\":10045512,\"body\":null,\"updated_at\":\"2017-01-19T23:56:15+00:00\",\"current\":true,\"created_at\":\"2017-01-19T23:56:15+00:00\",\"observation_id\":4973655,\"uuid\":\"f62125e2-1922-444d-b741-985e25d443da\",\"user\":{\"observations_count\":3,\"id\":9812,\"icon\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/thumb.jpeg?1475603064\",\"name_autocomplete\":\"Ken-ichi the Space Courtesan\",\"activity_count\":4,\"name\":\"Ken-ichi the Space Courtesan\",\"icon_url\":\"https:\\/\\/static.inaturalist.org\\/attachments\\/users\\/icons\\/9812\\/medium.jpeg?1475603064\",\"identifications_count\":1,\"login\":\"inara\",\"journal_posts_count\":0,\"login_autocomplete\":\"inara\"},\"taxon\":{\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/71289\\/47131\\/47130\",\"observations_count\":475,\"ancestor_ids\":[48460,47126,211194,47125,47124,71289,47131,47130,53435],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Red-flowering Currant\",\"taxon_changes_count\":0,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,71289,47131,47130,53435\",\"id\":53435,\"rank\":\"species\",\"rank_level\":10,\"taxon_schemes_count\":4,\"name\":\"Ribes sanguineum\",\"default_photo\":{\"license_code\":\"cc-by-nc\",\"id\":5398,\"medium_url\":\"https:\\/\\/farm4.staticflickr.com\\/3383\\/3449868409_96601904a3.jpg\",\"square_url\":\"https:\\/\\/farm4.staticflickr.com\\/3383\\/3449868409_96601904a3_s.jpg\",\"url\":\"https:\\/\\/farm4.staticflickr.com\\/3383\\/3449868409_96601904a3_s.jpg\",\"attribution\":\"(c) Minette Layne, some rights reserved (CC BY-NC)\"},\"created_at\":\"2009-09-26T06:02:45+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":47130}}],\"ofvs\":[],\"cached_votes_total\":0,\"project_ids_with_curator_id\":[],\"description\":null,\"identifications_count\":0,\"taxon\":{\"observations_count\":475,\"threatened\":false,\"ancestry\":\"48460\\/47126\\/211194\\/47125\\/47124\\/71289\\/47131\\/47130\",\"ancestor_ids\":[48460,47126,211194,47125,47124,71289,47131,47130,53435],\"is_active\":true,\"iconic_taxon_id\":47126,\"preferred_common_name\":\"Red-flowering Currant\",\"taxon_changes_count\":0,\"min_species_ancestry\":\"48460,47126,211194,47125,47124,71289,47131,47130,53435\",\"id\":53435,\"rank\":\"species\",\"rank_level\":10,\"endemic\":false,\"native\":true,\"taxon_schemes_count\":4,\"name\":\"Ribes sanguineum\",\"introduced\":false,\"default_photo\":{\"license_code\":\"cc-by-nc\",\"id\":5398,\"medium_url\":\"https:\\/\\/farm4.staticflickr.com\\/3383\\/3449868409_96601904a3.jpg\",\"square_url\":\"https:\\/\\/farm4.staticflickr.com\\/3383\\/3449868409_96601904a3_s.jpg\",\"url\":\"https:\\/\\/farm4.staticflickr.com\\/3383\\/3449868409_96601904a3_s.jpg\",\"attribution\":\"(c) Minette Layne, some rights reserved (CC BY-NC)\"},\"created_at\":\"2009-09-26T06:02:45+00:00\",\"iconic_taxon_name\":\"Plantae\",\"parent_id\":47130},\"id_please\":false,\"quality_grade\":\"casual\",\"field_change_times\":[],\"non_owner_ids\":[],\"uri\":\"https:\\/\\/www.inaturalist.org\\/observations\\/4973655\",\"project_observations\":[],\"place_guess\":\"Golden Gate Park, San Francisco County, US-CA, US\",\"geojson\":{\"type\":\"Point\",\"coordinates\":[\"-122.46524189\",\"37.76928994\"]},\"updated_at\":\"2017-01-19T15:56:15-08:00\",\"observed_time_zone\":\"America\\/Los_Angeles\",\"project_ids_without_curator_id\":[],\"fav\r\n01-19 15:56:15.089 28498-16571/org.inaturalist.android D/ObservationProvider: Update observations; last_identifications_count\u003dnull preferred_common_name\u003dRed-flowering Currant captive\u003dtrue positioning_method\u003dnull _updated_at\u003d1484870175094 positioning_device\u003dnull private_positional_accuracy\u003dnull taxon_id\u003d53435 observed_on\u003d1484812800000 id\u003d4973655 description\u003dnull identifications_count\u003d0 created_at\u003d1484870175000 _synced_at\u003d1484870175094 user_id\u003d9812 private_longitude\u003dnull longitude\u003d-122.46524189 private_latitude\u003dnull species_guess\u003dRed-flowering Currant id_please\u003dfalse comments_count\u003d0 quality_grade\u003dcasual user_login\u003dinara out_of_range\u003dnull iconic_taxon_id\u003d47126 geoprivacy\u003dnull time_observed_at\u003d1484869550000 place_guess\u003dGolden Gate Park, San Francisco County, US-CA, US is_deleted\u003dfalse positional_accuracy\u003dnull observed_on_string\u003d2017-01-19 3:45:50 PM PST updated_at\u003d1484870175000 last_comments_count\u003dnull user_agent\u003dnull uuid\u003db55f2fcb-2ca2-44c4-b0ed-e22bfd9ec7ad latitude\u003d37.76928994 iconic_taxon_name\u003dPlantae\r\n01-19 15:56:15.099 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation_photos; observation_id\u003d4973655\r\n01-19 15:56:15.109 28498-16571/org.inaturalist.android D/ObservationProvider: Update observation from 5to 4973655\r\n01-19 15:56:15.119 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (id IS NULL) ORDER BY _created_at ASC\r\n01-19 15:56:15.129 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL AND user_login \u003d \u0027inara\u0027) ORDER BY _created_at ASC\r\n01-19 15:56:15.139 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:15.149 28498-16571/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (_synced_at IS NULL) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:15.169 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.179 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.189 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.189 28498-16571/org.inaturalist.android D/INaturalistService: URL: post - http://www.inaturalist.org/observation_photos.json ([observation_photo[observation_id]\u003d4973651, observation_photo[position]\u003d0, observation_photo[uuid]\u003daf09a21a-61b8-42d0-8bcd-4c0c83460da3, file\u003d/storage/emulated/0/Android/data/org.inaturalist.android/cache/c9f9baef-198a-4cdf-9d7f-76c5474aba2b.jpeg, site_id\u003d1])\r\n01-19 15:56:15.199 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.209 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.219 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:15.219 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:56:15.239 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:15.249 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (4973655,4973654,4973653,4973652,4973651)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:15.249 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL OR user_login \u003d \u0027inara\u0027) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 15:56:15.259 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, photo_filename FROM observation_photos WHERE ((_observation_id IN (5,4,3,2,1) OR observation_id IN (4973655,4973654,4973653,4973652,4973651)  )) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:56:15.279 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.289 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.299 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.309 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.319 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _observation_id, _photo_id, photo_url, _updated_at, _synced_at FROM observation_photos WHERE (_observation_id \u003d ? AND photo_url IS NULL AND _synced_at IS NULL) ORDER BY _id\r\n01-19 15:56:15.329 28498-28498/org.inaturalist.android D/PullToRefresh: First Visible: 0. Visible Count: 7. Total Items:7\r\n01-19 15:56:15.329 28498-28498/org.inaturalist.android D/AbsListView: unregisterIRListener() is called \r\n01-19 15:57:11.273 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 15:57:11.344 28498-28498/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n```\r\n\r\n![screenshot_2017-01-19-15-59-29](https://cloud.githubusercontent.com/assets/22691/22130433/cc912dde-de60-11e6-8c2d-bbc9299ddf0b.png)\r\n\r\nAnyway, not a great or particularly reproducible bug, but I\u0027m hoping you can discern something form the log data. I re-opened the app a bit later and again had the opportunity to upload. It went through the same motions but didn\u0027t actually upload any of the photos, so maybe this is similar to https://groups.google.com/d/topic/inaturalist/ec6oP59ho-0/discussion",
    "keywords": [
      "uri ",
      "quality_grade",
      "year",
      "upload",
      ":52686",
      "96057 96687",
      "year :2017",
      "https://www inaturalist",
      "space courtesan",
      "52686]",
      "defaultrequestdirector execute",
      "java:164",
      "updatedrawablebounds: left",
      "introduced",
      "_updated_at \u003e",
      "run handlerthread",
      "user_login\u003dinara",
      "current :true",
      "65360",
      "https://api",
      "month :1",
      ":[] reviewed_by",
      "out_of_range\u003dnull",
      "id_please\u003dfalse",
      ":4973655",
      "0",
      ":4973654",
      "1",
      "name_autocomplete ",
      ":4973653",
      "2",
      ":4973652",
      "3",
      "4",
      "reserved",
      "left",
      "5",
      "comments_count",
      "7",
      "species_guess preferred_common_name",
      ":4973651",
      "\u003e",
      "taxon_id time_observed_at",
      ":[48460",
      "called 01-19",
      "0 0",
      "observed_time_zone",
      "project_ids :[]",
      "layne",
      "abstractpooledconnadapter",
      "ehostunreach",
      "com/3875/14718011498_8e8c2c84ca_s",
      "0 visible",
      "preferred_common_name taxon_id",
      "d/pulltorefresh",
      "getuserobservations",
      "last_comments_count last_identifications_count",
      "c jim",
      "body :null",
      "15:53:39",
      "user_agent user_id",
      "15:53:36",
      "observed_time_zone ",
      "jpeg",
      "15:53:33",
      "taxon",
      "updatedrawablebounds",
      "last_comments_count\u003dnull",
      "15:53:30",
      "org/v1/observations org",
      ":55925",
      "connect",
      "java:144",
      "plainsocketimpl",
      "get inaturalistservice",
      "c",
      ":null license_code",
      ":3}",
      "_updated_at created_at",
      ":[48460 47126",
      ":9812 icon",
      "fragaria",
      "79780",
      "observed_on\u003d1484812800000",
      "s",
      "15:53:27",
      "postphotos",
      "plantae parent_id",
      ":{ observations_count",
      "java:144  ",
      "java:157",
      ":{ type",
      "76942152",
      "place_guess\u003dgolden",
      "no route",
      "android d/progressbar",
      "org apache",
      "java:1392",
      "inaturalistservice java:2625",
      "defaultrequestdirector",
      "ribes",
      "java:65",
      "iconic_taxon_id\u003d47126",
      "w/inaturalistservice",
      "post",
      "java:61",
      ":1 login",
      "_updated_at",
      ":true identifications",
      "created_at_details",
      "jpg url",
      "icon_url",
      " ",
      "latitude longitude",
      "is_new",
      "url ",
      "loop looper",
      "place_ids :[50422",
      "7 total",
      "cc-by-nc-nd id",
      "port",
      "java:758  ",
      "842",
      "-08:00 uri",
      "d/inaturalistservice",
      "http",
      "connect blockguardos",
      "47124 47690",
      ":2017 hour",
      "faves",
      "non_owner_ids :[]",
      "impl conn",
      "org/v1/observations null",
      "java:2261",
      "37 76960712",
      "46524189",
      "name ",
      "  01-19",
      "positional_accuracy\u003dnull",
      "java:183",
      "java:85",
      "854",
      "inaturalist org\\/attachments\\/users\\/icons\\/9812\\/thumb",
      "onhandleintent inaturalistservice",
      "end",
      "java:460  ",
      ":[] ofvs",
      "94045 92337",
      "6725",
      "org\\/attachments\\/users\\/icons\\/9812\\/medium jpeg",
      "items:7",
      "license_code ",
      "\u0027inara\u0027 order",
      "private_positional_accuracy\u003dnull",
      "android inaturalistservice",
      "geojson",
      ":15454",
      "java:192",
      "week :3}",
      "intentservice",
      "android w/system",
      "49041",
      "71289 47131",
      "called",
      ":49674",
      "0 01-19",
      "private_longitude private_positional_accuracy",
      "os handler",
      "2017-01-19",
      "robertianum",
      "https:\\/\\/farm4",
      "https:\\/\\/farm3",
      "https://api inaturalist",
      "com\\/3875\\/14718011498_8e8c2c84ca_s",
      "defaultclientconnectionoperator openconnection",
      "casual",
      "\u0027inara\u0027",
      "abstractpooledconnadapter java:119",
      "java:564",
      "courtesan icon_url",
      "order",
      "6725 54321",
      "_id asc",
      "java:2212",
      "user_id",
      "flurrydatasender",
      "1 97394]",
      "abstracthttpclient java:509",
      ":[] observation_photos",
      "https:\\/\\/farm4 staticflickr",
      "dispatchmessage",
      "native method",
      "iconic_taxon_id\u003d47126 geoprivacy\u003dnull",
      "plainsocketimpl java:192",
      "47754",
      "created_at",
      "97394] quality_grade",
      "login",
      "defaultclientconnectionoperator java:183",
      "inaturalistservice postobservations",
      "identifications_count comments_count",
      "top",
      "_updated_at _synced_at",
      "connecterrno",
      "native",
      "50299",
      "rights",
      "place_ids",
      ":0 obscured",
      "inaturalistservice java:758",
      "err",
      "96034",
      ":4 name",
      "url: post",
      ":19 month",
      "uuid id",
      "species",
      "java:798",
      "sent http",
      "java:799",
      "java:102  ",
      "java:797",
      "francisco",
      "http impl",
      "java:119",
      "d/observationprovider: update",
      "java:1552",
      "body",
      "62622 65360",
      "photo_id position",
      ":[] faves",
      "_synced_at",
      "handlerthread run",
      "java:360",
      "java:127",
      "net",
      ":4 icon_url",
      "abstracthttpclient execute",
      "longitude",
      "captive place_guess",
      "select _id",
      "postobservations inaturalistservice",
      "37 76928994",
      "62068",
      "96057",
      ":false identifications_most_disagree",
      "inaturalistservice java:1392",
      "200",
      "443",
      "202",
      "geoprivacy\u003dnull",
      "inaturalistservice getuserobservations",
      "_id",
      "os handlerthread",
      "positioning_device",
      "name_autocomplete",
      "defaultclientconnectionoperator java:144",
      "connect iobridge",
      "plainsocketimpl connect",
      "-122 46489325",
      "65360 66741",
      "org/observations/inara",
      "java:157  ",
      "user_login\u003dinara out_of_range\u003dnull",
      "4973653 4973652",
      "captive :true",
      "java:102",
      "84 170",
      "jsonarray",
      "47701",
      "dispatchmessage handler",
      "comments",
      "observed_on_string out_of_range",
      "frazee",
      "9853",
      "93467 96683",
      "net plainsocketimpl",
      "221",
      "inaturalistservice java:2261",
      "63549 96034",
      "description :null",
      "96687 1",
      "private_latitude",
      "121943 47754",
      "java:114",
      ":{ is_active",
      ":11014",
      "java:112",
      "project_ids_without_curator_id",
      "46506935",
      "java:509  ",
      "org/observation_photos",
      "medium_url ",
      "photo_url is_deleted",
      "conn scheme",
      "01-19 15:53:54",
      "inara login_autocomplete",
      "java:833",
      "com/3383/3449868409_96601904a3_s",
      "28498-16571/org inaturalist",
      "230",
      "231",
      "impl",
      "java",
      "237",
      "238",
      "android d/abslistview",
      "by-sa",
      "49674",
      "identifications_most_agree",
      "01-19 15:53:51",
      "is_deleted\u003dfalse",
      ":9981",
      "total items:7",
      "conn abstractpoolentry",
      "app",
      "java:119  ",
      "e/inaturalistservice",
      ":[] annotations",
      "2017-01-19t23:56:10+00:00",
      "241",
      "comments_count\u003d0 quality_grade\u003dcasual",
      "82017",
      "244",
      "75903 76975",
      "_created_at _synced_at",
      ":[] project_observations",
      "field_change_times",
      ":5398",
      "sqlitequery",
      "01-19 15:53:33",
      ":1 year",
      "id :9812",
      "96687",
      "photo_id",
      "01-19 15:53:36",
      "96683",
      "abstracthttpclient java:670",
      "java:2625",
      "01-19 15:53:39",
      "coordinates :[",
      "cc-by-nc-nd",
      "253",
      "taxon_changes_count",
      "observed_on_string",
      ":false native",
      "captive",
      "java:2530  ",
      "org\\/attachments\\/users\\/icons\\/9812\\/thumb",
      "01-19 15:53:30",
      ":0 num_identification_agreements",
      "d/inaturalistservice: resp",
      "01-19 15:53:45",
      "2017-01-19 day",
      "01-19 15:53:42",
      "47131 47130",
      "refused",
      "01-19 15:53:48",
      "253 221",
      "1475603064 name_autocomplete",
      "iconic_taxon_id :47126",
      "75752",
      ":{ ancestry",
      "id :52686",
      "asc",
      "intentservice$servicehandler handlemessage",
      "quality_grade\u003dcasual",
      "https:\\/\\/www inaturalist",
      "268",
      "metric",
      "inaturalist",
      "geranium robertianum",
      "mappable",
      "org/attachments/users/icons/9812/medium",
      "cc by-nc",
      "jpg id",
      ":[] non_owner_ids",
      "visible count",
      "47689 47701",
      "92151 94045",
      "run",
      "94045",
      "63549",
      "273",
      "cached_votes_total :0",
      "2017-01-19t23:56:12+00:00",
      "cc-by-nc-nd url",
      "cc by-sa",
      "277",
      "app intentservice$servicehandler",
      "java:192  ",
      "conn abstractpooledconnadapter",
      ":748",
      "cached_votes_total",
      "47690",
      "io blockguardos",
      "55925",
      ":[] place_guess",
      "47689",
      "_id desc",
      "d/progressbar: updatedrawablebounds",
      "2017-01-19t15:56:15-08:00",
      "eric",
      "connectsocket",
      "plainsocketfactory",
      "socket connect",
      "4973655",
      "us observed_on_string",
      "https://static inaturalist",
      "4973654",
      "positional_accuracy",
      "4973653",
      "4973652",
      "4973651",
      "name",
      "java:61 caused",
      "reviewed_by",
      "c eric",
      "android",
      "iconic_taxon_id",
      "updated_at ",
      "description",
      "114015 63549",
      "293",
      "pst",
      "not",
      "httphostconnectexception",
      "java:1726",
      "items:7 01-19",
      "getjoinedprojects",
      "last_comments_count",
      "2017-01-19t23:56:15+00:00",
      "ofvs",
      "inaturalistservice java:798",
      "inaturalistservice java:797",
      "76950378",
      "com\\/3614\\/3521235027_b9eecd307f_s",
      "abstracthttpclient java:487",
      "abstractpoolentry",
      "endemic :false",
      "inara",
      "-122",
      "28498-10300/org inaturalist",
      "52686",
      "2017-01-19t15:56:13-08:00",
      "us is_deleted\u003dfalse",
      "java:2521  ",
      "handlemessage intentservice",
      "is_deleted uuid",
      "https:\\/\\/farm3 staticflickr",
      "15:56:11",
      "15:56:10",
      "http://www",
      "15:56:13",
      "15:56:15",
      ":false out_of_range",
      "5 4",
      "jim",
      "geoprivacy iconic_taxon_id",
      "desc 01-19",
      "position asc",
      "user_login",
      "golden",
      "client abstracthttpclient",
      "case",
      "android d/pulltorefresh",
      "identifications_most_disagree",
      "endemic",
      "ken-ichi",
      "handler java:102",
      "2017-01-19t23:56:13+00:00",
      "looper java:157",
      ":[] project_ids_with_curator_id",
      "observations_count :2444",
      "https:\\/\\/www",
      "android app",
      "last_comments_count\u003dnull user_agent\u003dnull",
      "os looper",
      "license_code",
      "conn defaultclientconnectionoperator",
      "login ",
      "quality_grade species_guess",
      "org/attachments/users/icons/9812/thumb",
      "abstractpoolentry java:164",
      "savejoinedprojects inaturalistservice",
      "activity_count",
      ":2017",
      "photo_url photo_filename",
      "place_guess positional_accuracy",
      "reserved cc",
      "62068 62332",
      "abstracthttpclient",
      "min_species_ancestry ",
      "user_agent\u003dnull",
      "com/2306/1501080401_6855463eb9_s jpg",
      "15:56:08",
      "/166 78",
      "15:56:07",
      "project_ids",
      "15:56:09",
      "_synced_at _updated_at",
      "time_zone_offset ",
      "taxon_changes_count :0",
      "login_autocomplete ",
      "observation_photos",
      "taxon_changes_count :1",
      "asc _id",
      "by-nc",
      "75903",
      "place_guess",
      "conn httphostconnectexception",
      "3 2",
      "observation_id :4973651",
      "_id 01-19",
      "out_of_range captive",
      "scheme plainsocketfactory",
      "uuid",
      "47690 47689",
      "https://farm4 staticflickr",
      ":true name",
      "observed_on_details",
      "day",
      "failed: ehostunreach",
      "date ",
      "701 28498-16571/org",
      "quality_grade ",
      "visible",
      ":null",
      "java net",
      "01-19 15:53:27",
      "java:800",
      "47132 47148",
      "java:801",
      ":50299",
      "jsonexception: org",
      "plainsocketimpl java:460",
      "62622",
      "connectexception: failed",
      ":true",
      "id_please :false",
      "inaturalist org\\/attachments\\/users\\/icons\\/9812\\/medium",
      "76975 76976",
      "parent_id",
      ":[50422 63279",
      "iconic_taxon_name id",
      "java:1392  ",
      "]}",
      "iconic_taxon_name",
      "request",
      "visible: 0",
      "point",
      "deleteobservationphotos",
      "square_url",
      "https:\\/\\/static",
      "open abstractpoolentry",
      "by-nc-nd",
      "sounds",
      "observed_on ",
      "1475603064 identifications_count",
      "intentservice java:65",
      "park",
      "obscured :false",
      "jpg",
      "san",
      "211194",
      "activity_count :4",
      "resp",
      "com\\/2298\\/2526066396_5b2b55e67a_s",
      "w/inaturalistservice: error",
      "28498-28498/org",
      "updatedrawablebounds: right",
      "plantae preferred_common_name",
      "4973651 0",
      "positioning_method private_latitude",
      "c minette",
      "user",
      "position updated_at",
      ":false project_ids",
      "projects",
      "bad",
      "1 5",
      "_created_at",
      "_id _observation_id",
      "private_positional_accuracy",
      "47126 211194",
      "private_latitude\u003dnull",
      "bar",
      "d/pulltorefresh: first",
      "https://static",
      ":null updated_at",
      "america\\/los_angeles",
      "impl client",
      "native :false",
      "rank",
      "positioning_method",
      "ancestor_ids",
      "geranium",
      "created_at end",
      "savejoinedprojects",
      "photo_filename",
      "-122 46524189",
      ":3 id",
      "taxon_schemes_count :2",
      "tags",
      "79780 92151",
      "211194 47125",
      "route",
      "/166",
      ":2444",
      "genus",
      "threatened :false",
      "47124 47132",
      "site_id",
      "jpg square_url",
      "d/sql",
      "post inaturalistservice",
      "java:1096",
      "scheme",
      "java:833  ",
      "icon",
      "handlerthread",
      "project_ids_with_curator_id",
      ":[50422",
      "id :11014",
      "ehostunreach no",
      "cc-by-sa",
      "com/3614/3521235027_b9eecd307f_s",
      "updated_at",
      "ancestry ",
      "384 28498-16571/org",
      "android d/inaturalistservice",
      "cc",
      ":true iconic_taxon_id",
      "63097",
      "gate park",
      "postobservations",
      "28498-15950/org",
      "time_observed_at updated_at",
      "54088 62622",
      "right",
      "rank_level",
      "java:2625  ",
      "chilton",
      "53435]",
      "d/inaturalistservice: url",
      "identifications_count",
      "county us-ca",
      "701",
      ":null faves_count",
      "d/abslistview: unregisterirlistener",
      "unregisterirlistener",
      "java:1033",
      ":[] comments_count",
      "min_species_ancestry",
      "d/dalvikvm",
      "w/flurryagent: flurrydatasender",
      "project_ids_with_curator_id :[]",
      "genus rank_level",
      "description\u003dnull",
      "plainsocketfactory connectsocket",
      "null order",
      "711",
      "4973652 4973651",
      "site_id :1",
      "photo_url",
      "37 76942152",
      "https://www",
      "observations;",
      "static",
      "count",
      "by: java",
      "sqlitequery: select",
      "net socket",
      ":[] identifications_count",
      "socket java:833",
      "59613",
      "month",
      "962",
      "observation_id",
      "_created_at else",
      "_created_at asc",
      ":0 num_identification_disagreements",
      "cc-by-nc",
      "private_latitude private_longitude",
      "48460 47126",
      "apache http",
      "handlemessage",
      "taxon_schemes_count",
      "looper loop",
      "]} updated_at",
      "not null",
      "inaturalistservice java:2521",
      "looper",
      "taxon :{",
      "https://farm4",
      "iobridge",
      "user :{",
      "https://farm3",
      "96034 854",
      "non_owner_ids",
      "443 ",
      "2009-02-15t19:16:12+00:00",
      ":{ license_code",
      "json",
      "client",
      "defaultrequestdirector java:360",
      "iobridge connecterrno",
      "posix",
      "76960712",
      "connectexception",
      "america/los_angeles",
      "response: 200",
      "attribution ",
      "identifications",
      "inaturalistservice java:2530",
      "14 62068",
      "1475603064",
      ":[] project_ids_without_curator_id",
      "project_observations",
      "231 28498-28498/org",
      "gate",
      ":false identifications_some_agree",
      "default_photo",
      "http conn",
      "connecterrno iobridge",
      "positional_accuracy positioning_device",
      "fields\u0026locale\u003den",
      "select",
      "america\\/los_angeles project_ids_without_curator_id",
      "blockguardos connect",
      "observation_photos;",
      "2017-01-19 observed_on_details",
      "getuserdetails",
      "observations_count :487",
      "else",
      "species_guess ",
      "id",
      "inaturalist org",
      "211194 311266",
      "preferred_common_name ",
      ":[]",
      "org/v1/observations",
      "id :5398",
      "asc id",
      "login_autocomplete",
      "io",
      "66741",
      "identifications_count\u003d0",
      "-122 46506935",
      "observations_count :475",
      "openconnection",
      "field",
      ":47126",
      "created_time_zone",
      "id_please",
      "53435",
      ":[{",
      "28498-16571/org",
      "plantae",
      "preferred_common_name",
      "java:61  ",
      "httphostconnectexception: connection",
      "2010-02-11t18:10:49+00:00",
      "jpeg 1475603064",
      "robert",
      "id asc",
      "created_at description",
      ":2810",
      "pst id_please",
      "steve",
      "comments_count last_comments_count",
      "currant",
      "uuid ",
      "square_url ",
      "is_active",
      "2017-01-19t15:56:10-08:00",
      "open abstractpooledconnadapter",
      "handler dispatchmessage",
      "longitude observed_on",
      "observed_on observed_on_string",
      "_id _created_at",
      "uri",
      "posix connect",
      "url",
      "iconic_taxon_name\u003dplantae",
      "711 28498-16571/org",
      "asc 01-19",
      "java:670",
      "obscured",
      "303",
      "report",
      "org/attachments/users/icons/9812/thumb jpeg",
      "woodwardia",
      "instance",
      "annotations",
      "rights reserved",
      "java:2521",
      "76976 79780",
      "photos",
      "62332 54088",
      "last_identifications_count is_deleted",
      "java:2517",
      "host",
      "quality_metrics :[{",
      "strawberries",
      "inaturalistservice syncobservations",
      "sanguineum",
      "species_guess",
      "java:487",
      "default_photo :{",
      "java:670  ",
      "observations_count",
      ":1 journal_posts_count",
      "d/observationprovider",
      "intentservice$servicehandler",
      "2009-03-15t14:20:53+00:00",
      ":0 comments",
      "connect plainsocketimpl",
      "d/progressbar",
      "field_change_times :[]",
      "63279",
      "114015",
      ":0 cached_votes_total",
      "java:2530",
      ":false field_change_times",
      "54321",
      "63097 14",
      "321",
      "null",
      "private_longitude\u003dnull longitude\u003d-122",
      "icon_url ",
      "position",
      "by-nc-nd medium_url",
      "com/2298/2526066396_5b2b55e67a_s",
      "no",
      "ceanothus",
      "request inaturalistservice",
      "identifications :[{",
      "time_zone_offset",
      "w/system",
      "50299]",
      ":0 identifications_most_agree",
      "inaturalistservice get",
      ":47126 created_at",
      "observed_on",
      "delete",
      "null 01-19",
      "java:460",
      "total",
      "hour",
      "org refused",
      ":[] sounds",
      "java:487  ",
      "2009-09-26t06:02:45+00:00",
      "1475603064 observations_count",
      "os",
      "end desc",
      "311266 121943",
      ":false",
      "red-flowering",
      "björn",
      ":[{ id",
      "observed_on_string\u003d2017-01-19",
      "105",
      "user_id\u003d9812",
      "attribution",
      "onhandleintent",
      "socket",
      "pm",
      "handler",
      "2009-08-21t16:17:08+00:00",
      ":false quality_grade",
      "last_identifications_count",
      "76928994",
      "time_observed_at",
      "county",
      "46522463",
      "courtesan",
      ":0 login_autocomplete",
      "9853 96057",
      "92337 93467",
      "positioning_device\u003dnull private_positional_accuracy\u003dnull",
      "47131",
      "47132",
      "positional_accuracy\u003dnull observed_on_string\u003d2017-01-19",
      "47130",
      "48460",
      "created_at_details :{",
      "android os",
      "json jsonexception",
      "14",
      "47126",
      "47124",
      "47125",
      "id :53435",
      "positioning_method\u003dnull",
      "execute",
      ":[] location",
      "rank_level :10",
      "311266",
      "]} identifications",
      "connect failed",
      "org\\/attachments\\/users\\/icons\\/9812\\/medium",
      "plainsocketfactory java:119",
      "conditions",
      "121943",
      "com\\/3383\\/3449868409_96601904a3_s",
      "quality_metrics",
      "observations_count :3",
      "client defaultrequestdirector",
      "org json",
      "libcore",
      "java:798  ",
      "latitude",
      "54321 114015",
      "47125 47124",
      "java:65  ",
      "59613 82017",
      "current",
      "sf",
      "303 28498-28498/org",
      "observation_id photo_id",
      "46489325",
      "comments_count\u003d0",
      "inaturalistservice onhandleintent",
      "execute defaultrequestdirector",
      "37",
      "72 port",
      "48434",
      "coordinates",
      "threatened",
      "-122 46522463",
      "private_longitude\u003dnull",
      "75752 75903",
      "384",
      "staticflickr",
      "java:2509",
      "jsonexception",
      "148",
      "num_identification_disagreements",
      "com/2306/1501080401_6855463eb9_s",
      "_photo_id _synced_at",
      "inaturalist android",
      "com\\/2306\\/1501080401_6855463eb9_s",
      "open",
      "out_of_range",
      "28498-10300/org",
      "java:758",
      "01-19 15:56:07",
      "62332",
      "abstractpooledconnadapter open",
      "private_positional_accuracy quality_grade",
      "71289",
      "01-19 15:56:09",
      "apache",
      "description geoprivacy",
      "jpg attribution",
      "loop",
      "105 01-19",
      "created_at uuid",
      "us",
      "01-19 15:56:15",
      "license_code :null",
      "iconic_taxon_id iconic_taxon_name",
      "01-19 15:56:13",
      "96683 9853",
      "syncobservations",
      "android e/inaturalistservice",
      "created_at ",
      "courtesan activity_count",
      "mappable :true",
      "introduced :false",
      "47132 49041",
      "165",
      "/23",
      "captive\u003dtrue",
      "positioning_device\u003dnull",
      "168",
      ":[9812]",
      "76975",
      "76976",
      "76965754",
      "01-19 15:56:11",
      "01-19 15:56:10",
      "desc",
      ":0 min_species_ancestry",
      "inaturalistservice post",
      "last_identifications_count\u003dnull",
      "update",
      "170",
      "171",
      "inara journal_posts_count",
      "https://farm3 staticflickr",
      "_photo_id",
      "49674]",
      "defaultclientconnectionoperator",
      "72",
      "journal_posts_count :0",
      "errnoexception: connect",
      "is_active :true",
      "java:509",
      "78",
      "first visible",
      "_observation_id _photo_id",
      "org",
      "cc by-nc-nd",
      "hour :15",
      "taxon_id",
      "182",
      "execute abstracthttpclient",
      "d/sql: sqlitequery",
      "188",
      "189",
      "create jsonarray",
      "abstractpoolentry open",
      "2017-01-19t23:56:09+00:00",
      "_photo_id photo_url",
      "w/flurryagent",
      "15:53:45 202",
      "location",
      "84",
      "io iobridge",
      "identifications_some_agree",
      "rank ",
      "conn",
      "_observation_id",
      "47754 48434",
      ":[9812] tags",
      "updated_at user_agent",
      "libcore io",
      "connectsocket plainsocketfactory",
      "type",
      "82017 75752",
      "iobridge java:127",
      ":{ date",
      "2017-01-19t15:56:09-08:00",
      "37 76965754",
      "66741 59613",
      "handlerthread java:61",
      "d/abslistview",
      "connection",
      "\u003e _synced_at",
      "io posix",
      "wifi",
      "latitude\u003d37",
      "id :3594183",
      "92337",
      "method",
      "iobridge java:112",
      "iobridge connect",
      "java:360  ",
      "agree",
      "longitude\u003d-122",
      "syncobservations inaturalistservice",
      "-08:00",
      "iobridge java:114",
      "icon ",
      "54088",
      "java:164  ",
      ":0",
      "positioning_device positioning_method",
      ":3 identifications_count",
      "55925]",
      ":1",
      ":2",
      ":null geoprivacy",
      ":3",
      ":4",
      ":5",
      "herb robert",
      "63279 6725",
      "w/system err",
      "4 3",
      "us-ca",
      "errnoexception",
      "0 order",
      "inaturalist org/attachments/users/icons/9812/medium",
      "c björn",
      "get",
      "openconnection defaultclientconnectionoperator",
      "iconic_taxon_name ",
      "journal_posts_count",
      ":[",
      "https:\\/\\/static inaturalist",
      "observation",
      "caused",
      "updated_at photo_url",
      "inaturalist org/v1/observations",
      "inaturalistservice request",
      "ancestor_ids :[48460",
      "day :19",
      ":15 week",
      ":47126 preferred_common_name",
      "geoprivacy",
      "id observation_id",
      "first",
      "else created_at",
      "date",
      "}]",
      ":{",
      ":475",
      "47124 71289",
      "_created_at _observation_id",
      "us geojson",
      "space",
      "238 28498-28498/org",
      "net connectexception",
      "user_id user_login",
      "create",
      "15:53:54",
      "android d/sql",
      ":[] photos",
      "15:53:51",
      "connect socket",
      "93467",
      "blockguardos",
      ":487",
      "inaturalistservice",
      "bottom",
      "failed",
      "sent",
      "photo_url _updated_at",
      "46528374",
      "location ",
      "count: 7",
      "15:53:48",
      ":[] uuid",
      "15:53:45",
      ":false metric",
      "15:53:42",
      "private_longitude",
      "connect native",
      "week",
      "ancestry",
      "2 1",
      "minette",
      ":53435",
      ":0 activity_count",
      "vfy",
      "rank_level :20",
      "error",
      "ofvs :[]",
      "28498-28498/org inaturalist",
      "97394]",
      "01-19",
      "is_deleted",
      "identifications_most_agree :false",
      "observations",
      ":10",
      "org\\/attachments\\/users\\/icons\\/9812\\/thumb jpeg",
      "medium_url",
      ":3594183",
      "}] captive",
      "faves_count",
      "herb",
      "value",
      "user_agent",
      ":15",
      "org inaturalist",
      "id id_please",
      "time_observed_at ",
      "san francisco",
      "num_identification_agreements",
      ":19",
      "47148",
      "reviewed_by :[9812]",
      "id_please latitude",
      "identifications_count :0",
      "blockguardos java:85",
      "identifications_count :1",
      "854 63097",
      "92151",
      "is_deleted photo_filename",
      "response",
      "observations; last_identifications_count\u003dnull",
      ":9812",
      ":20",
      "user_login identifications_count",
      "wild"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/86f1da7c27bae903ae7eb29a96e890a5f1e26590",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java",
          "patch": "@@ -44,6 +44,7 @@\n import org.apache.http.impl.client.DefaultHttpClient;\n import org.apache.http.impl.client.DefaultRedirectHandler;\n import org.apache.http.message.BasicNameValuePair;\n+import org.apache.http.params.CoreConnectionPNames;\n import org.apache.http.params.CoreProtocolPNames;\n import org.apache.http.protocol.HTTP;\n import org.apache.http.protocol.HttpContext;\n@@ -85,7 +86,9 @@\n public class INaturalistService extends IntentService implements ConnectionCallbacks, OnConnectionFailedListener {\n     // How many observations should we initially download for the user\n     private static final int INITIAL_SYNC_OBSERVATION_COUNT \u003d 100;\n-    \n+    // Timeout in MS for connections\n+    private static final int CONNECTION_TIMEOUT_MS \u003d 20000;\n+\n     private boolean mGetLocationForProjects \u003d false; // if true -\u003e we assume it\u0027s for near by guides\n     \n     \n@@ -129,6 +132,7 @@\n     public static final String REGISTER_USER_ERROR \u003d \"error\";\n     public static final String REGISTER_USER_STATUS \u003d \"status\";\n     public static final String SYNC_CANCELED \u003d \"sync_canceled\";\n+    public static final String SYNC_FAILED \u003d \"sync_failed\";\n     public static final String FIRST_SYNC \u003d \"first_sync\";\n \n \tpublic static final int NEAR_BY_OBSERVATIONS_PER_PAGE \u003d 25;\n@@ -262,6 +266,7 @@ public INaturalistService() {\n     @Override\n     protected void onHandleIntent(Intent intent) {\n         boolean cancelSyncRequested \u003d false;\n+        boolean syncFailed \u003d false;\n         boolean dontStopSync \u003d false;\n         mPreferences \u003d getSharedPreferences(\"iNaturalistPreferences\", MODE_PRIVATE);\n         mLogin \u003d mPreferences.getString(\"username\", null);\n@@ -273,8 +278,7 @@ protected void onHandleIntent(Intent intent) {\n         if (action \u003d\u003d null) return;\n         \n         mPassive \u003d action.equals(ACTION_PASSIVE_SYNC);\n-        \n-        \n+\n         Log.d(TAG, \"Service: \" + action);\n \n         try {\n@@ -286,7 +290,8 @@ protected void onHandleIntent(Intent intent) {\n                 mApp.setIsSyncing(mIsSyncing);\n \n                 saveJoinedProjects();\n-                getUserObservations(INITIAL_SYNC_OBSERVATION_COUNT);\n+                boolean success \u003d getUserObservations(INITIAL_SYNC_OBSERVATION_COUNT);\n+                if (!success) throw new SyncFailedException();\n                 syncObservationFields();\n                 postProjectObservations();\n \n@@ -750,12 +755,22 @@ protected void onHandleIntent(Intent intent) {\n                 mIsSyncing \u003d true;\n                 mApp.setIsSyncing(mIsSyncing);\n \n-                getUserObservations(0);\n+                boolean successful \u003d getUserObservations(0);\n+\n+                if (successful) {\n+                    // Update last sync time\n+                    long lastSync \u003d System.currentTimeMillis();\n+                    mPreferences.edit().putLong(\"last_sync_time\", lastSync).commit();\n+                    mPreferences.edit().putLong(\"last_user_details_refresh_time\", 0); // Force to refresh user details\n+                } else {\n+                    mHandler.post(new Runnable() {\n+                        @Override\n+                        public void run() {\n+                            Toast.makeText(getApplicationContext(), R.string.could_not_download_observations, Toast.LENGTH_LONG).show();\n+                        }\n+                    });\n \n-                 // Update last sync time\n-                long lastSync \u003d System.currentTimeMillis();\n-                mPreferences.edit().putLong(\"last_sync_time\", lastSync).commit();\n-                mPreferences.edit().putLong(\"last_user_details_refresh_time\", 0); // Force to refresh user details\n+                }\n \n             } else {\n                 if (!mIsSyncing) {\n@@ -777,6 +792,9 @@ protected void onHandleIntent(Intent intent) {\n             mApp.setCancelSync(false);\n             mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n \n+        } catch (SyncFailedException e) {\n+            syncFailed \u003d true;\n+\n         } catch (AuthenticationException e) {\n             if (!mPassive) {\n                 requestCredentials();\n@@ -791,16 +809,17 @@ protected void onHandleIntent(Intent intent) {\n                 // Notify the rest of the app of the completion of the sync\n                 Intent reply \u003d new Intent(ACTION_SYNC_COMPLETE);\n                 reply.putExtra(SYNC_CANCELED, cancelSyncRequested);\n+                reply.putExtra(SYNC_FAILED, syncFailed);\n                 reply.putExtra(FIRST_SYNC, action.equals(ACTION_FIRST_SYNC));\n                 sendBroadcast(reply);\n             }\n         }\n     }\n \n \n-    private void syncObservations() throws AuthenticationException, CancelSyncException {\n+    private void syncObservations() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         deleteObservations(); // Delete locally-removed observations\n-        getUserObservations(0); // First, download remote observations (new/updated)\n+        if (!getUserObservations(0)) throw new SyncFailedException(); // First, download remote observations (new/updated)\n         postObservations(); // Next, update local-to-remote observations\n         postPhotos();\n         deleteObservationPhotos(); // Delete locally-removed observation photos\n@@ -867,7 +886,7 @@ private BetterJSONObject getTaxon(int id) throws AuthenticationException {\n         return new BetterJSONObject(res);\n     }\n  \n-    private void postProjectObservations() throws AuthenticationException, CancelSyncException {\n+    private boolean postProjectObservations() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         // First, delete any project-observations that were deleted by the user\n         Cursor c \u003d getContentResolver().query(ProjectObservation.CONTENT_URI, \n                 ProjectObservation.PROJECTION, \n@@ -892,9 +911,15 @@ private void postProjectObservations() throws AuthenticationException, CancelSyn\n \n             try {\n                 // Remove obs from project\n-                removeObservationFromProject(projectObservation.observation_id, projectObservation.project_id);\n+                BetterJSONObject result \u003d removeObservationFromProject(projectObservation.observation_id, projectObservation.project_id);\n+                if (result \u003d\u003d null) {\n+                    c.close();\n+                    throw new SyncFailedException();\n+                }\n             } catch (Exception exc) {\n                 // In case we\u0027re trying to delete a project-observation that wasn\u0027t synced yet\n+                c.close();\n+                throw new SyncFailedException();\n             }\n \n             c.moveToNext();\n@@ -927,6 +952,11 @@ private void postProjectObservations() throws AuthenticationException, CancelSyn\n             ProjectObservation projectObservation \u003d new ProjectObservation(c);\n             BetterJSONObject result \u003d addObservationToProject(projectObservation.observation_id, projectObservation.project_id);\n \n+            if (result \u003d\u003d null) {\n+                c.close();\n+                throw new SyncFailedException();\n+            }\n+\n             mApp.setObservationIdBeingSynced(projectObservation.observation_id);\n \n             if (mResponseErrors !\u003d null) {\n@@ -1010,6 +1040,8 @@ public void run() {\n \n         // Finally, retrieve all project observations\n         storeProjectObservations();\n+\n+        return true;\n     }\n \n     private void storeProjectObservations() {\n@@ -1037,7 +1069,7 @@ private void storeProjectObservations() {\n         }\n     }\n     \n-    private void saveJoinedProjects() throws AuthenticationException, CancelSyncException {\n+    private boolean saveJoinedProjects() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         mApp.notify(SYNC_PHOTOS_NOTIFICATION,\n                 getString(R.string.projects),\n                 getString(R.string.syncing_projects),\n@@ -1048,7 +1080,7 @@ private void saveJoinedProjects() throws AuthenticationException, CancelSyncExce\n         checkForCancelSync();\n \n         if (projects \u003d\u003d null) {\n-            return;\n+            throw new SyncFailedException();\n         }\n \n         JSONArray arr \u003d projects.getJSONArray();\n@@ -1073,7 +1105,7 @@ private void saveJoinedProjects() throws AuthenticationException, CancelSyncExce\n             int count \u003d getContentResolver().delete(Project.CONTENT_URI, \"id not in (\" + StringUtils.join(projectIds, \u0027,\u0027) + \")\", null);\n         } catch (Exception exc) {\n             exc.printStackTrace();\n-            return;\n+            throw new SyncFailedException();\n         }\n \n         // Add any newly-joined projects\n@@ -1091,9 +1123,11 @@ private void saveJoinedProjects() throws AuthenticationException, CancelSyncExce\n             }\n             c.close();\n         }\n+\n+        return true;\n     }\n \n-    private void deleteObservationPhotos() throws AuthenticationException, CancelSyncException {\n+    private boolean deleteObservationPhotos() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         // Remotely delete any locally-removed observation photos\n         Cursor c \u003d getContentResolver().query(ObservationPhoto.CONTENT_URI,\n                 ObservationPhoto.PROJECTION,\n@@ -1106,7 +1140,11 @@ private void deleteObservationPhotos() throws AuthenticationException, CancelSyn\n         c.moveToFirst();\n         while (c.isAfterLast() \u003d\u003d false) {\n             ObservationPhoto op \u003d new ObservationPhoto(c);\n-            delete(HOST + \"/observation_photos/\" + op.id + \".json\", null);\n+            JSONArray result \u003d delete(HOST + \"/observation_photos/\" + op.id + \".json\", null);\n+            if (result \u003d\u003d null) {\n+                c.close();\n+                throw new SyncFailedException();\n+            }\n             obsIds.add(op.id);\n             c.moveToNext();\n         }\n@@ -1117,9 +1155,11 @@ private void deleteObservationPhotos() throws AuthenticationException, CancelSyn\n         getContentResolver().delete(ObservationPhoto.CONTENT_URI, \"is_deleted \u003d 1\", null);\n \n         checkForCancelSync();\n+\n+        return true;\n     }\n     \n-    private void deleteObservations() throws AuthenticationException, CancelSyncException {\n+    private boolean deleteObservations() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         // Remotely delete any locally-removed observations\n         Cursor c \u003d getContentResolver().query(Observation.CONTENT_URI, \n                 Observation.PROJECTION, \n@@ -1132,7 +1172,12 @@ private void deleteObservations() throws AuthenticationException, CancelSyncExce\n         c.moveToFirst();\n         while (c.isAfterLast() \u003d\u003d false) {\n             Observation observation \u003d new Observation(c);\n-            delete(HOST + \"/observations/\" + observation.id + \".json\", null);\n+            JSONArray results \u003d delete(HOST + \"/observations/\" + observation.id + \".json\", null);\n+            if (results \u003d\u003d null) {\n+                c.close();\n+                throw new SyncFailedException();\n+            }\n+\n             obsIds.add(observation.id);\n             c.moveToNext();\n         }\n@@ -1147,6 +1192,8 @@ private void deleteObservations() throws AuthenticationException, CancelSyncExce\n         int count3 \u003d getContentResolver().delete(ProjectFieldValue.CONTENT_URI, \"observation_id in (\" + StringUtils.join(obsIds, \",\") + \")\", null);\n \n         checkForCancelSync();\n+\n+        return true;\n     }\n \n     private void checkForCancelSync() throws CancelSyncException {\n@@ -1351,7 +1398,7 @@ private void addComment(int observationId, String body) throws AuthenticationExc\n         post(HOST + \"/comments.json\", params);\n     }\n \n-    private void postObservations() throws AuthenticationException, CancelSyncException {\n+    private boolean postObservations() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         Observation observation;\n         // query observations where _updated_at \u003e updated_at\n         Cursor c \u003d getContentResolver().query(Observation.CONTENT_URI, \n@@ -1375,11 +1422,17 @@ private void postObservations() throws AuthenticationException, CancelSyncExcept\n                     getString(R.string.syncing));\n             observation \u003d new Observation(c);\n             mApp.setObservationIdBeingSynced(observation._id);\n-            handleObservationResponse(\n+            boolean success \u003d handleObservationResponse(\n                     observation,\n                     put(API_HOST + \"/observations/\" + observation.id, observationToJsonObject(observation, false))\n             );\n             c.moveToNext();\n+\n+            if (!success) {\n+                c.close();\n+                mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n+                throw new SyncFailedException();\n+            }\n         }\n         c.close();\n \n@@ -1404,11 +1457,17 @@ private void postObservations() throws AuthenticationException, CancelSyncExcept\n             observation \u003d new Observation(c);\n             mApp.setObservationIdBeingSynced(observation._id);\n \n-            handleObservationResponse(\n+            boolean success \u003d handleObservationResponse(\n                     observation,\n                     post(API_HOST + \"/observations\", observationToJsonObject(observation, true))\n             );\n             c.moveToNext();\n+\n+            if (!success) {\n+                c.close();\n+                mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n+                throw new SyncFailedException();\n+            }\n         }\n         c.close();\n         \n@@ -1434,6 +1493,8 @@ private void postObservations() throws AuthenticationException, CancelSyncExcept\n         \t\t\tgetString(R.string.not_all_observations_were_synced),\n         \t\t\tgetString(R.string.sync_failed));\n         }\n+\n+        return true;\n     }\n \n     \n@@ -1462,7 +1523,7 @@ private Observation getObservation(int id) throws AuthenticationException {\n         return new Observation(new BetterJSONObject(json));\n     }\n     \n-    private void postPhotos() throws AuthenticationException, CancelSyncException {\n+    private boolean postPhotos() throws AuthenticationException, CancelSyncException, SyncFailedException {\n         ObservationPhoto op;\n         int createdCount \u003d 0;\n         ContentValues cv;\n@@ -1495,7 +1556,9 @@ private void postPhotos() throws AuthenticationException, CancelSyncException {\n             JSONArray response \u003d put(\"http://\" + inatHost + \"/observation_photos/\" + op.id + \".json\", params);\n             try {\n                 if (response \u003d\u003d null || response.length() !\u003d 1) {\n-                    break;\n+                    c.close();\n+                    mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n+                    throw new SyncFailedException();\n                 }\n                 JSONObject json \u003d response.getJSONObject(0);\n                 BetterJSONObject j \u003d new BetterJSONObject(json);\n@@ -1521,7 +1584,7 @@ private void postPhotos() throws AuthenticationException, CancelSyncException {\n                 \"_synced_at IS NULL\", null, ObservationPhoto.DEFAULT_SORT_ORDER);\n         if (c.getCount() \u003d\u003d 0) {\n             c.close();\n-            return;\n+            return true;\n         }\n \n         checkForCancelSync();\n@@ -1572,7 +1635,9 @@ private void postPhotos() throws AuthenticationException, CancelSyncException {\n             JSONArray response \u003d post(\"http://\" + inatHost + \"/observation_photos.json\", params);\n             try {\n                 if (response \u003d\u003d null || response.length() !\u003d 1) {\n-                    break;\n+                    c.close();\n+                    mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n+                    throw new SyncFailedException();\n                 }\n                 JSONObject json \u003d response.getJSONObject(0);\n                 BetterJSONObject j \u003d new BetterJSONObject(json);\n@@ -1601,16 +1666,10 @@ private void postPhotos() throws AuthenticationException, CancelSyncException {\n \n         if (currentCount \u003d\u003d 0) {\n         \t// Sync completed successfully\n-        \tmApp.notify(SYNC_PHOTOS_NOTIFICATION, \n-        \t\t\tgetString(R.string.photo_sync_complete), \n-        \t\t\tString.format(getString(R.string.posted_new_x_photos), createdCount),\n-        \t\t\tgetString(R.string.sync_complete));\n+            return true;\n         } else {\n         \t// Sync failed\n-        \tmApp.notify(SYNC_PHOTOS_NOTIFICATION, \n-        \t\t\tgetString(R.string.photo_sync_failed), \n-        \t\t\tgetString(R.string.not_all_photos_were_synced),\n-        \t\t\tgetString(R.string.sync_failed));\n+            throw new SyncFailedException();\n         }\n     }\n \n@@ -2136,6 +2195,8 @@ private BetterJSONObject removeObservationFromProject(int observationId, int pro\n \n         String url \u003d String.format(\"%s/projects/%d/remove.json?observation_id\u003d%d\", HOST, projectId, observationId);\n         JSONArray json \u003d delete(url, null);\n+\n+        if (json \u003d\u003d null) return null;\n        \n         try {\n             return new BetterJSONObject(json.getJSONObject(0));\n@@ -2159,14 +2220,14 @@ private BetterJSONObject addObservationToProject(int observationId, int projectI\n         JSONArray json \u003d post(url, params);\n         \n         if (json \u003d\u003d null) {\n-            return new BetterJSONObject();\n+            return null;\n         }\n        \n         try {\n             return new BetterJSONObject(json.getJSONObject(0));\n         } catch (JSONException e) {\n             e.printStackTrace();\n-            return new BetterJSONObject();\n+            return null;\n         }\n     }\n  \n@@ -2260,9 +2321,9 @@ private SerializableJSONArray getJoinedProjects() throws AuthenticationException\n     \n     \n     @SuppressLint(\"NewApi\")\n-\tprivate void getUserObservations(int maxCount) throws AuthenticationException, CancelSyncException {\n+\tprivate boolean getUserObservations(int maxCount) throws AuthenticationException, CancelSyncException {\n         if (ensureCredentials() \u003d\u003d false) {\n-            return;\n+            return false;\n         }\n         String url \u003d HOST + \"/observations/\" + Uri.encode(mLogin) + \".json\";\n         \n@@ -2285,6 +2346,7 @@ private void getUserObservations(int maxCount) throws AuthenticationException, C\n         JSONArray json \u003d get(url, true);\n         if (json !\u003d null \u0026\u0026 json.length() \u003e 0) {\n             syncJson(json, true);\n+            return true;\n         } else {\n         \tif (mResponseHeaders !\u003d null) {\n         \t\t// Delete any local observations which were deleted remotely by the user\n@@ -2305,9 +2367,11 @@ private void getUserObservations(int maxCount) throws AuthenticationException, C\n         }\n \n         checkForCancelSync();\n+\n+        return (json !\u003d null);\n     }\n     \n-    private void syncObservationFields() throws AuthenticationException, CancelSyncException {\n+    private boolean syncObservationFields() throws AuthenticationException, CancelSyncException, SyncFailedException {\n \n         // First, remotely update the observation fields which were modified\n         \n@@ -2326,7 +2390,7 @@ private void syncObservationFields() throws AuthenticationException, CancelSyncE\n                     getString(R.string.syncing));\n         } else {\n             c.close();\n-            return;\n+            return true;\n         }\n \n         while (c.isAfterLast() \u003d\u003d false) {\n@@ -2372,6 +2436,10 @@ private void syncObservationFields() throws AuthenticationException, CancelSyncE\n                 \tmProjectFieldValues.put(localField.observation_id, fields);\n \n                     checkForCancelSync();\n+                } else {\n+                    mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n+                    c.close();\n+                    throw new SyncFailedException();\n                 }\n             }\n             \n@@ -2401,7 +2469,13 @@ private void syncObservationFields() throws AuthenticationException, CancelSyncE\n                 params.add(new BasicNameValuePair(\"observation_field_value[observation_id]\", Integer.valueOf(localField.observation_id).toString()));\n                 params.add(new BasicNameValuePair(\"observation_field_value[observation_field_id]\", Integer.valueOf(localField.field_id).toString()));\n                 params.add(new BasicNameValuePair(\"observation_field_value[value]\", localField.value));\n-                post(HOST + \"/observation_field_values.json\", params);\n+                JSONArray result \u003d post(HOST + \"/observation_field_values.json\", params);\n+\n+                if (result \u003d\u003d null) {\n+                    c.close();\n+                    mApp.setObservationIdBeingSynced(INaturalistApp.NO_OBSERVATION);\n+                    throw new SyncFailedException();\n+                }\n                 \n             } else {\n                 // Overwrite local value\n@@ -2437,26 +2511,36 @@ private void syncObservationFields() throws AuthenticationException, CancelSyncE\n                         \"field_id \u003d \" + field.field_id, null, Project.DEFAULT_SORT_ORDER);\n                 if (c.getCount() \u003d\u003d 0) {\n                     // This observation has a non-project custom field - add it as well\n-                    addProjectField(field.field_id);\n+                    boolean success \u003d addProjectField(field.field_id);\n+                    if (!success) {\n+                        c.close();\n+                        throw new SyncFailedException();\n+                    }\n                 }\n                 c.close();\n  \n             }\n         }\n \n+        return true;\n     }\n     \n-    private void addProjectField(int fieldId) throws AuthenticationException {\n+    private boolean addProjectField(int fieldId) throws AuthenticationException {\n         try {\n             JSONArray result \u003d get(String.format(\"%s/observation_fields/%d.json\", HOST, fieldId));\n+            if (result \u003d\u003d null) return false;\n+\n             BetterJSONObject jsonObj;\n             jsonObj \u003d new BetterJSONObject(result.getJSONObject(0));\n             ProjectField field \u003d new ProjectField(jsonObj);\n             \n             getContentResolver().insert(ProjectField.CONTENT_URI, field.getContentValues());\n+\n+            return true;\n             \n         } catch (JSONException e) {\n             e.printStackTrace();\n+            return false;\n         }\n     }\n     \n@@ -2573,6 +2657,8 @@ public boolean isRedirectRequested(HttpResponse response, HttpContext context) {\n             }\n         });\n         client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, getUserAgent(mApp));\n+        client.getParams().setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, CONNECTION_TIMEOUT_MS);\n+        client.getParams().setParameter(CoreConnectionPNames.SO_TIMEOUT, CONNECTION_TIMEOUT_MS);\n \n //        Log.d(TAG, String.format(\"%s (%b - %s): %s\", method, authenticated,\n //                authenticated ? mCredentials : \"\u003cnull\u003e\",\n@@ -3043,10 +3129,10 @@ private JSONObject observationToJsonObject(Observation observation, boolean isPO\n         return params;\n     }\n     \n-    private void handleObservationResponse(Observation observation, JSONArray response) {\n+    private boolean handleObservationResponse(Observation observation, JSONArray response) {\n         try {\n             if (response \u003d\u003d null || response.length() !\u003d 1) {\n-                return;\n+                return false;\n             }\n             JSONObject json \u003d response.getJSONObject(0);\n             BetterJSONObject o \u003d new BetterJSONObject(json);\n@@ -3057,7 +3143,10 @@ private void handleObservationResponse(Observation observation, JSONArray respon\n             getContentResolver().update(observation.getUri(), cv, null, null);\n         } catch (JSONException e) {\n             // Log.d(TAG, \"JSONException: \" + e.toString());\n+            return false;\n         }\n+\n+        return true;\n     }\n \n     private class AuthenticationException extends Exception {"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationListActivity.java",
          "patch": "@@ -196,6 +196,9 @@ public void onReceive(Context context, Intent intent) {\n                     mOnboardingSyncing.setVisibility(hasOnboardedSyncing ? View.GONE : View.VISIBLE);\n                 }\n \n+                if (intent.getBooleanExtra(INaturalistService.SYNC_FAILED, false)) {\n+                    Toast.makeText(getApplicationContext(), getResources().getString(R.string.sync_failed_connection_problems), Toast.LENGTH_LONG).show();\n+                }\n             }\n         }\n     } \t"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/SyncFailedException.java",
          "patch": "@@ -0,0 +1,4 @@\n+package org.inaturalist.android;\n+\n+public class SyncFailedException extends Exception {\n+}"
        },
        {
          "file_name": "iNaturalist/src/main/res/values/strings.xml",
          "patch": "@@ -543,5 +543,7 @@\n     \u003cstring name\u003d\"preparing_photo\"\u003ePreparing photo...\u003c/string\u003e\n     \u003cstring name\u003d\"updating_photos\"\u003eUpdating photos...\u003c/string\u003e\n     \u003cstring name\u003d\"updating_x_photos\"\u003eUpdating %1$d of %2$d existing photos...\u003c/string\u003e\n+    \u003cstring name\u003d\"could_not_download_observations\"\u003eCould not download latest observations - Connection problems. Try again later.\u003c/string\u003e\n+    \u003cstring name\u003d\"sync_failed_connection_problems\"\u003eSync failed due to connection problems. Please try again later.\u003c/string\u003e\n  \u003c/resources\u003e\n "
        }
      ]
    }
  },
  {
    "name": "Present quantity field to 1",
    "url": "https://github.com/SecUSo/privacy-friendly-shopping-list/issues/33",
    "description": "1. Add a new item to the list\r\n2. Press press \"-\" in quantity before pressing \"+\" or entering a number\r\n3. App crashes\r\n\r\n```\r\njava.lang.NumberFormatException: Invalid int: \"\"\r\n\tat java.lang.Integer.invalidInt(Integer.java:138)\r\n\tat java.lang.Integer.parseInt(Integer.java:358)\r\n\tat java.lang.Integer.parseInt(Integer.java:334)\r\n\tat privacyfriendlyshoppinglist.secuso.org.privacyfriendlyshoppinglist.ui.products.dialog.ProductDialogFragment$2.onClick(ProductDialogFragment.java:207)\r\n\tat android.view.View.performClick(View.java:5201)\r\n\tat android.view.View$PerformClick.run(View.java:21163)\r\n\tat android.os.Handler.handleCallback(Handler.java:746)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:148)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5443)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n```\r\n\r\n",
    "keywords": [
      "handler",
      "view",
      "java",
      "os",
      "android",
      "integer",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/SecUSo/privacy-friendly-shopping-list/commit/a948f933c43e0f82c8b1e4e32770dcb1ec994d71",
      "files": [
        {
          "file_name": "app/src/main/java/privacyfriendlyshoppinglist/secuso/org/privacyfriendlyshoppinglist/ui/products/dialog/ProductDialogFragment.java",
          "patch": "@@ -168,25 +168,23 @@ public Dialog onCreateDialog(Bundle savedInstanceState)\n         else\n         {\n             dialogCache.getTitleTextView().setText(getActivity().getResources().getString(R.string.product_name_new));\n+            dto.setDefaultImage(true);\n             Bitmap bitmap \u003d BitmapFactory.decodeResource(getContext().getResources(), R.drawable.ic_menu_camera);\n             dialogCache.getProductImage().setImageBitmap(bitmap);\n             dialogCache.getProductCheckBox().setVisibility(View.GONE);\n         }\n \n         dialogCache.getButtonPlus().setOnClickListener(new View.OnClickListener()\n         {\n-            int value;\n-            String newQuantity;\n-\n             @Override\n             public void onClick(View view)\n             {\n \n                 if ( !StringUtils.isEmpty(String.valueOf(dialogCache.getQuantity().getText())) )\n                 {\n-                    value \u003d Integer.parseInt(String.valueOf(dialogCache.getQuantity().getText()));\n+                    int value \u003d Integer.parseInt(String.valueOf(dialogCache.getQuantity().getText()));\n                     value++;\n-                    newQuantity \u003d String.valueOf(value);\n+                    String newQuantity \u003d String.valueOf(value);\n                     dialogCache.getQuantity().setText(newQuantity);\n                 }\n                 else\n@@ -198,18 +196,22 @@ public void onClick(View view)\n \n         dialogCache.getButtonMinus().setOnClickListener(new View.OnClickListener()\n         {\n-            int value;\n-            String newQuantity;\n-\n             @Override\n             public void onClick(View view)\n             {\n-                value \u003d Integer.parseInt(String.valueOf(dialogCache.getQuantity().getText()));\n-                if ( value \u003e 0 )\n+                if (!StringUtils.isEmpty(String.valueOf(dialogCache.getQuantity().getText())))\n                 {\n-                    value--;\n-                    newQuantity \u003d String.valueOf(value);\n-                    dialogCache.getQuantity().setText(newQuantity);\n+                    int value \u003d Integer.parseInt(String.valueOf(dialogCache.getQuantity().getText()));\n+\n+                    if (value \u003e 0) {\n+                        value--;\n+                        String newQuantity \u003d String.valueOf(value);\n+                        dialogCache.getQuantity().setText(newQuantity);\n+                    }\n+                }\n+                else\n+                {\n+                    dialogCache.getQuantity().setText(\"0\");\n                 }\n             }\n         });"
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -6,7 +6,7 @@ buildscript {\n         mavenCentral()\n     }\n     dependencies {\n-        classpath \u0027com.android.tools.build:gradle:2.3.0\u0027\n+        classpath \u0027com.android.tools.build:gradle:2.2.0\u0027\n         classpath \u0027me.tatarka:gradle-retrolambda:3.2.5\u0027\n \n         // NOTE: Do not place your application dependencies here; they belong"
        },
        {
          "file_name": "gradle/wrapper/gradle-wrapper.properties",
          "patch": "@@ -1,6 +1,6 @@\n-#Tue Mar 07 22:06:38 CET 2017\n+#Fri Mar 17 19:33:02 CET 2017\n distributionBase\u003dGRADLE_USER_HOME\n distributionPath\u003dwrapper/dists\n zipStoreBase\u003dGRADLE_USER_HOME\n zipStorePath\u003dwrapper/dists\n-distributionUrl\u003dhttps\\://services.gradle.org/distributions/gradle-3.3-all.zip\n+distributionUrl\u003dhttps\\://services.gradle.org/distributions/gradle-2.14.1-all.zip"
        }
      ]
    }
  },
  {
    "name": "OcrHelper: Prevent crash if hpStr \u003d \"/\"",
    "url": "https://github.com/farkam135/GoIV/pull/465",
    "description": "Just got an exception here, when sharing through Now on Tap a PoGo\nscreen without pokemons. I assume this would be triggered by having \"/\"\nas string; I\u0027ve confirmed that `\"/\".split(\"/\")` gives indeed an array of\nlength 0.\n\n```\n09-23 02:20:20.758 29581-29581/com.kamron.pogoiv E/AndroidRuntime:\nFATAL EXCEPTION: main\nProcess: com.kamron.pogoiv, PID: 29581\njava.lang.ArrayIndexOutOfBoundsException: length\u003d0; index\u003d0\n    at com.kamron.pogoiv.OcrHelper.getPokemonHPFromImg(OcrHelper.java:298)\n    at com.kamron.pogoiv.OcrHelper.scanPokemon(OcrHelper.java:349)\n    at com.kamron.pogoiv.Pokefly.scanPokemon(Pokefly.java:1566)\n    at com.kamron.pogoiv.Pokefly.access$1200(Pokefly.java:82)\n    at com.kamron.pogoiv.Pokefly$11.onReceive(Pokefly.java:1606)\n    at android.support.v4.content.LocalBroadcastManager.executePendingBroadcasts(LocalBroadcastManager.java:297)\n    at android.support.v4.content.LocalBroadcastManager.access$000(LocalBroadcastManager.java:46)\n    at android.support.v4.content.LocalBroadcastManager$1.handleMessage(LocalBroadcastManager.java:116)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n```\n",
    "keywords": [
      "com",
      "os",
      "android",
      "main",
      "localbroadcastmanager",
      "ocrhelper",
      "pokefly",
      "content",
      "/",
      "kamron pogoiv",
      "kamron",
      "support",
      "v4",
      "pogoiv",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/farkam135/GoIV/commit/3009a01b2d067543c9e33bc8ebea63baeb77eeb7",
      "files": [
        {
          "file_name": "app/src/main/java/com/kamron/pogoiv/OcrHelper.java",
          "patch": "@@ -295,10 +295,14 @@ private String getCandyNameFromImg(Bitmap pokemonImage) {\n             try {\n                 //If \"/\" comes at the end we\u0027ll get an array with only one component.\n                 String[] hpParts \u003d pokemonHPStr.split(\"/\");\n-                String hpStr \u003d\n-                        hpParts.length \u003e\u003d 2\n-                                ? hpParts[1]\n-                                : hpParts[0];\n+                String hpStr;\n+                if (hpParts.length \u003e\u003d 2) {\n+                    hpStr \u003d hpParts[1];\n+                } else if (hpParts.length \u003d\u003d 1) {\n+                    hpStr \u003d hpParts[0];\n+                } else {\n+                    return Optional.absent();\n+                }\n \n                 return Optional.of(Integer.parseInt(fixOcrLettersToNums(hpStr).replaceAll(\"[^0-9]\", \"\")));\n             } catch (NumberFormatException e) {"
        }
      ]
    }
  },
  {
    "name": "Unable resume activity",
    "url": "https://github.com/nextgis/android_gisapp/issues/493",
    "description": "```\njava.lang.RuntimeException: Unable to resume activity {com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}: android.database.sqlite.SQLiteException: no such table: layer_20160902160444284 (code 1)\n    at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2788)\n    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2817)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1238)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:136)\n    at android.app.ActivityThread.main(ActivityThread.java:5021)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\n    at dalvik.system.NativeStart.main(Native Method)\nCaused by: android.database.sqlite.SQLiteException: no such table: layer_20160902160444284 (code 1)\n    at android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(Native Method)\n    at android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:845)\n    at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\n    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\n    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:144)\n    at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:133)\n    at com.nextgis.mobile.fragment.AttributesFragment.setAttributes(AttributesFragment.java:229)\n    at com.nextgis.mobile.fragment.AttributesFragment.onResume(AttributesFragment.java:154)\n    at android.support.v4.app.Fragment.performResume(Fragment.java:2120)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1147)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1286)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1268)\n    at android.support.v4.app.FragmentManagerImpl.dispatchResume(FragmentManager.java:2153)\n    at android.support.v4.app.FragmentController.dispatchResume(FragmentController.java:223)\n    at android.support.v4.app.FragmentActivity.onResumeFragments(FragmentActivity.java:522)\n    at android.support.v4.app.FragmentActivity.onPostResume(FragmentActivity.java:511)\n    at android.support.v7.app.AppCompatActivity.onPostResume(AppCompatActivity.java:178)\n    at android.app.Activity.performResume(Activity.java:5411)\n    at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2778)\n    ... 10 more\n```\n\nMaybe layer was deleted but accessed asynchronously from another thread (rendering?). \n",
    "keywords": [
      "com",
      "database sqlite",
      "activity",
      "app activitythread",
      "sqliteconnection",
      "android",
      "support v4",
      "android support",
      "main",
      "fragmentactivity",
      "database",
      "java",
      "native",
      "lang",
      "zygoteinit",
      "app",
      "sqlitecursor",
      "method",
      "os",
      "sqlite",
      "movetostate",
      "nextgis",
      "mobile",
      "activitythread",
      "fragment",
      "v4 app",
      "android app",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "support",
      "attributesfragment",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/675c6d1936b9f6f22618fae4b18f13cefe0c1906",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/fragment/AttributesFragment.java",
          "patch": "@@ -37,7 +37,6 @@\n import android.support.v4.app.FragmentActivity;\n import android.text.Html;\n import android.util.DisplayMetrics;\n-import android.util.Patterns;\n import android.view.Display;\n import android.view.LayoutInflater;\n import android.view.Menu;\n@@ -156,8 +155,6 @@ public View onCreateView(\n         }\n \n         mAttributes \u003d (LinearLayout) view.findViewById(R.id.ll_attributes);\n-//        setAttributes();\n-\n         return view;\n     }\n \n@@ -238,10 +235,50 @@ private void setAttributes()\n         ((MainActivity) activity).setSubtitle(String.format(getString(R.string.features_count_attributes), mItemPosition + 1, mFeatureIDs.size()));\n         checkNearbyItems();\n \n+        try {\n+            data \u003d parseAttributes(data);\n+        } catch (RuntimeException e) {\n+            e.printStackTrace();\n+        }\n+\n+        data +\u003d \"\u003c/tbody\u003e\u003c/table\u003e\u003c/body\u003e\u003c/html\u003e\";\n+        webView.loadDataWithBaseURL(null, data, \"text/html\", \"UTF-8\", null);\n+        mAttributes.addView(webView);\n+        webView.setWebViewClient(new WebViewClient() {\n+            @Override\n+            public void onPageFinished(WebView view, String url) {\n+                webView.setBackgroundColor(Color.TRANSPARENT);\n+            }\n+            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n+                view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n+                return true;\n+            }\n+        });\n+\n+        IGISApplication app \u003d (GISApplication) getActivity().getApplication();\n+        final Map\u003cString, Integer\u003e mAttaches \u003d new HashMap\u003c\u003e();\n+        PhotoGallery.getAttaches(app, mLayer, mItemId, mAttaches, false);\n+\n+        if (mAttaches.size() \u003e 0) {\n+            final PhotoPicker gallery \u003d new PhotoPicker(getActivity(), true);\n+            int px \u003d ControlHelper.dpToPx(16, getResources());\n+            gallery.setPadding(px, 0, px, 0);\n+            gallery.post(new Runnable() {\n+                @Override\n+                public void run() {\n+                    gallery.restoreImages(new ArrayList\u003c\u003e(mAttaches.keySet()));\n+                }\n+            });\n+\n+            mAttributes.addView(gallery);\n+        }\n+    }\n+\n+    private String parseAttributes(String data) throws RuntimeException {\n         String selection \u003d Constants.FIELD_ID + \" \u003d ?\";\n         Cursor attributes \u003d mLayer.query(null, selection, new String[]{mItemId + \"\"}, null, null);\n         if (null \u003d\u003d attributes || attributes.getCount() \u003d\u003d 0)\n-            return;\n+            return data;\n \n         if (attributes.moveToFirst()) {\n             for (int i \u003d 0; i \u003c attributes.getColumnCount(); i++) {\n@@ -329,7 +366,6 @@ private void setAttributes()\n                         text \u003d toString(attributes.getString(i));\n                         Pattern pattern \u003d Pattern.compile(URL_PATTERN);\n                         Matcher match \u003d pattern.matcher(text);\n-//                        while (Patterns.IP_ADDRESS)\n                         while (match.matches()) {\n                             String url \u003d text.substring(match.start(), match.end());\n                             text \u003d text.replaceFirst(URL_PATTERN, \"\u003ca href \u003d \u0027\" + url + \"\u0027\u003e\" + url + \"\u003c/a\u003e\");\n@@ -343,41 +379,10 @@ private void setAttributes()\n \n                 data +\u003d getRow(field !\u003d null ? field.getAlias() : \"\", text);\n             }\n-\n-            data +\u003d \"\u003c/tbody\u003e\u003c/table\u003e\u003c/body\u003e\u003c/html\u003e\";\n-            webView.loadDataWithBaseURL(null, data, \"text/html\", \"UTF-8\", null);\n-            mAttributes.addView(webView);\n-            webView.setWebViewClient(new WebViewClient() {\n-                @Override\n-                public void onPageFinished(WebView view, String url) {\n-                    webView.setBackgroundColor(Color.TRANSPARENT);\n-                }\n-                public boolean shouldOverrideUrlLoading(WebView view, String url) {\n-                    view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n-                    return true;\n-                }\n-            });\n-\n-            IGISApplication app \u003d (GISApplication) getActivity().getApplication();\n-            final Map\u003cString, Integer\u003e mAttaches \u003d new HashMap\u003c\u003e();\n-            PhotoGallery.getAttaches(app, mLayer, mItemId, mAttaches, false);\n-\n-            if (mAttaches.size() \u003e 0) {\n-                final PhotoPicker gallery \u003d new PhotoPicker(getActivity(), true);\n-                int px \u003d ControlHelper.dpToPx(16, getResources());\n-                gallery.setPadding(px, 0, px, 0);\n-                gallery.post(new Runnable() {\n-                    @Override\n-                    public void run() {\n-                        gallery.restoreImages(new ArrayList\u003c\u003e(mAttaches.keySet()));\n-                    }\n-                });\n-\n-                mAttributes.addView(gallery);\n-            }\n         }\n \n         attributes.close();\n+        return data;\n     }\n \n \n@@ -494,8 +499,6 @@ public void onViewStateRestored(\n             mItemId \u003d savedInstanceState.getLong(KEY_ITEM_ID);\n             mItemPosition \u003d savedInstanceState.getInt(KEY_ITEM_POSITION);\n         }\n-\n-//        setAttributes();\n     }\n \n "
        }
      ]
    }
  },
  {
    "name": "Crash on MuteGameService.java",
    "url": "https://github.com/jorgegil96/All-NBA/issues/59",
    "description": "```\r\nException java.lang.RuntimeException: Unable to start service com.gmail.jorgegilcavazos.ballislife.network.firebase.MuteGameService@92323e4 with null: java.lang.NullPointerException: Attempt to invoke virtual method \u0027int android.content.Intent.getIntExtra(java.lang.String, int)\u0027 on a null object reference\r\nandroid.app.ActivityThread.handleServiceArgs (ActivityThread.java:3045)\r\nandroid.app.ActivityThread.-wrap17 (ActivityThread.java)\r\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:1452)\r\nandroid.os.Handler.dispatchMessage (Handler.java:102)\r\nandroid.os.Looper.loop (Looper.java:148)\r\nandroid.app.ActivityThread.main (ActivityThread.java:5443)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:728)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:618)\r\n\r\nCaused by java.lang.NullPointerException: Attempt to invoke virtual method \u0027int android.content.Intent.getIntExtra(java.lang.String, int)\u0027 on a null object reference\r\ncom.gmail.jorgegilcavazos.ballislife.network.firebase.MuteGameService.onStartCommand (MuteGameService.java:45)\r\nandroid.app.ActivityThread.handleServiceArgs (ActivityThread.java:3028)\r\nandroid.app.ActivityThread.-wrap17 (ActivityThread.java)\r\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:1452)\r\nandroid.os.Handler.dispatchMessage (Handler.java:102)\r\nandroid.os.Looper.loop (Looper.java:148)\r\nandroid.app.ActivityThread.main (ActivityThread.java:5443)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:728)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:618)\r\n```",
    "keywords": [
      "com",
      "app",
      "handler",
      "internal",
      "os",
      "method",
      "app activitythread",
      "android",
      "main",
      "com android",
      "looper",
      "invoke",
      "java lang",
      "activitythread",
      "java",
      "null",
      "lang",
      "mutegameservice",
      "internal os",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/jorgegil96/All-NBA/commit/e7560a569ae00a05fd50af8d5192d68590ea1312",
      "files": [
        {
          "file_name": "app/src/main/java/com/gmail/jorgegilcavazos/ballislife/network/firebase/MuteGameService.java",
          "patch": "@@ -10,6 +10,8 @@\n import android.support.v4.util.ArraySet;\n import android.util.Log;\n \n+import com.google.firebase.crash.FirebaseCrash;\n+\n import java.util.Set;\n \n /**\n@@ -42,12 +44,18 @@ public void onCreate() {\n     public int onStartCommand(Intent intent, int flags, int startId) {\n         Log.d(TAG, \"onStartCommand\");\n \n+        if (intent \u003d\u003d null) {\n+            return START_NOT_STICKY;\n+        }\n+\n         int id \u003d intent.getIntExtra(\"id\", -1);\n         Log.d(TAG, \"id: \" + id);\n         if (id !\u003d -1) {\n             NotificationManager notificationManager \u003d\n                     (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n             notificationManager.cancel(id);\n+        } else {\n+            FirebaseCrash.report(new Exception(\"ID should not be -1 in MuteGameService.java\"));\n         }\n \n         Set\u003cString\u003e mutedGames \u003d sharedPreferences.getStringSet(KEY_MUTE_GAMES, null);\n@@ -59,7 +67,7 @@ public int onStartCommand(Intent intent, int flags, int startId) {\n \n         mutedGamesCopy.add(String.valueOf(id));\n         editor.putStringSet(KEY_MUTE_GAMES, mutedGamesCopy);\n-        editor.apply();\n+        editor.commit();\n \n         return START_REDELIVER_INTENT;\n     }"
        }
      ]
    }
  },
  {
    "name": "Fatal Exception: java.lang.NullPointerException at com.bedrock.padder.helper.FileHelper.deleteRecursive",
    "url": "https://github.com/berict/Tapad/issues/153",
    "description": "```\r\nFatal Exception: java.lang.NullPointerException: Attempt to get length of null array\r\n       at com.bedrock.padder.helper.FileHelper.deleteRecursive(FileHelper.java:92)\r\n       at com.bedrock.padder.helper.FirebaseHelper.removeLocalPreset(FirebaseHelper.java:468)\r\n       at com.bedrock.padder.model.preset.Preset.repairPreset(Preset.java:145)\r\n       at com.bedrock.padder.adapter.PresetStoreAdapter$4$1.onClick(PresetStoreAdapter.java:214)\r\n       at com.afollestad.materialdialogs.MaterialDialog.onClick(MaterialDialog.java:364)\r\n       at android.view.View.performClick(View.java:4848)\r\n       at android.view.View$PerformClick.run(View.java:20262)\r\n       at android.os.Handler.handleCallback(Handler.java:815)\r\n       at android.os.Handler.dispatchMessage(Handler.java:104)\r\n       at android.os.Looper.loop(Looper.java:194)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5643)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```",
    "keywords": [
      "com",
      "handler",
      "com bedrock",
      "os",
      "method",
      "android",
      "filehelper",
      "preset",
      "view",
      "java",
      "helper",
      "bedrock",
      "padder",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/berict/Tapad/commit/f59d8381eba240ec201a3f926ee17e7c63cfde1b",
      "files": [
        {
          "file_name": "app/src/main/java/com/bedrock/padder/helper/FileHelper.java",
          "patch": "@@ -89,6 +89,7 @@ public void run() {\n     public boolean deleteRecursive(File fileOrDirectory) {\n         boolean recursive \u003d true;\n         if (fileOrDirectory.isDirectory())\n+            if (fileOrDirectory.listFiles() !\u003d null \u0026\u0026 fileOrDirectory.listFiles().length \u003e 0)\n             for (File child : fileOrDirectory.listFiles())\n                 recursive \u003d deleteRecursive(child);\n "
        }
      ]
    }
  },
  {
    "name": "Exception thrown when activity is destroyed",
    "url": "https://github.com/FraunhoferCESE/madcap/issues/94",
    "description": "MADCAP crashed for an unknown reason. Later, I restarted the app and all appeared well. When I put the screen to sleep using the button on the side of my phone, the following happened:\r\n\r\n```\r\n12-01 13:53:07.525 21802-21802/org.fraunhofer.cese.madcap D/StartFragment: Attempt to unbind self. Current bound status is true\r\n12-01 13:53:07.531 21802-23196/org.fraunhofer.cese.madcap I/Fraunhofer.CacheCounter: Cache counter task to update UI thread has been interrupted.\r\n12-01 13:53:07.560 21802-21802/org.fraunhofer.cese.madcap D/StartFragment: removed UploadListener\r\n12-01 13:53:07.594 21802-21802/org.fraunhofer.cese.madcap D/Madcap DataColl Service: onDestroy\r\n12-01 13:53:07.594 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.Cache: Cache now flushing.\r\n12-01 13:53:07.594 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.Cache: Upload strategyNORMAL\r\n12-01 13:53:07.594 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.Cache: Context is org.fraunhofer.cese.madcap.MyApplication@da0fbd1\r\n12-01 13:53:07.645 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.Cache: Task org.fraunhofer.cese.madcap.cache.DatabaseAsyncTaskFactory$1@a141e2e\r\n12-01 13:53:07.647 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.Cache: Memcache{}\r\n12-01 13:53:07.665 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.DBWrite: onPreEecute\r\n12-01 13:53:07.667 21802-21802/org.fraunhofer.cese.madcap D/Fraunhofer.Cache: RUNNING\r\n12-01 13:53:07.667 21802-23423/org.fraunhofer.cese.madcap D/Fraunhofer.DBWrite: Do in Background executed\r\n12-01 13:53:07.668 21802-23423/org.fraunhofer.cese.madcap I/OpenHelperManager: helper was already closed and is being re-opened\r\n12-01 13:53:07.671 21802-23423/org.fraunhofer.cese.madcap I/DaoManager: Loaded configuration for class org.fraunhofer.cese.madcap.cache.CacheEntry\r\n12-01 13:53:07.677 21802-21802/org.fraunhofer.cese.madcap D/AndroidRuntime: Shutting down VM\r\n12-01 13:53:07.681 21802-21802/org.fraunhofer.cese.madcap E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                            Process: org.fraunhofer.cese.madcap, PID: 21802\r\n                                                                            java.lang.RuntimeException: Unable to stop service org.fraunhofer.cese.madcap.services.DataCollectionService@5c7ef3a: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.app.NotificationManager.cancel(int)\u0027 on a null object reference\r\n                                                                                at android.app.ActivityThread.handleStopService(ActivityThread.java:3344)\r\n                                                                                at android.app.ActivityThread.-wrap27(ActivityThread.java)\r\n                                                                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1570)\r\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                at android.os.Looper.loop(Looper.java:154)\r\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                                at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                             Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.app.NotificationManager.cancel(int)\u0027 on a null object reference\r\n                                                                                at org.fraunhofer.cese.madcap.services.DataCollectionService.hideRunNotification(DataCollectionService.java:459)\r\n                                                                                at org.fraunhofer.cese.madcap.services.DataCollectionService.onDestroy(DataCollectionService.java:158)\r\n                                                                                at android.app.ActivityThread.handleStopService(ActivityThread.java:3327)\r\n                                                                                at android.app.ActivityThread.-wrap27(ActivityThread.java) \r\n                                                                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1570) \r\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                                                at android.os.Looper.loop(Looper.java:154) \r\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:6077) \r\n                                                                                at java.lang.reflect.Method.invoke(Native Method) \r\n                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \r\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \r\n12-01 13:53:07.695 21802-21802/org.fraunhofer.cese.madcap I/Process: Sending signal. PID: 21802 SIG: 9\r\n\r\n```\r\n\r\nThe ```\u0027void android.app.NotificationManager.cancel(int)\u0027 ``` is called only when the service is destroyed.  I suspect the service binding to MainActivity was destroyed when the screen was powered off, thus killing the service. ",
    "keywords": [
      "com",
      "cancel",
      "handler",
      "fraunhofer cese",
      "internal",
      "d/fraunhofer",
      "madcap",
      "org fraunhofer",
      "android",
      "invoke",
      "main",
      "looper",
      "attempt",
      "594",
      "21802-21802/org",
      "java",
      "android internal",
      "fraunhofer",
      "datacollectionservice",
      "cese",
      "lang",
      "zygoteinit",
      " ",
      "app",
      "cese madcap",
      "cache",
      "android os",
      "method",
      "os",
      "12-01",
      "org",
      "21802-23423/org",
      "12-01 13:53:07",
      "services",
      "java lang",
      "int",
      "app notificationmanager",
      "activitythread",
      "destroyed",
      "cancel int",
      "21802-21802/org fraunhofer",
      "d/fraunhofer cache",
      "service",
      "13:53:07",
      "android app",
      "notificationmanager"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/FraunhoferCESE/madcap/commit/d29b0935fd97f30b7822875a5685a533a6f57be1",
      "files": [
        {
          "file_name": "app/src/main/java/org/fraunhofer/cese/madcap/WelcomeActivity.java",
          "patch": "@@ -4,6 +4,7 @@\n import android.content.Intent;\n import android.net.Uri;\n import android.os.Bundle;\n+import android.preference.PreferenceManager;\n import android.support.annotation.NonNull;\n import android.support.annotation.Nullable;\n import android.support.v7.app.AppCompatActivity;\n@@ -18,6 +19,7 @@\n \n import org.fraunhofer.cese.madcap.authentication.LoginResultCallback;\n import org.fraunhofer.cese.madcap.authentication.MadcapAuthManager;\n+import org.fraunhofer.cese.madcap.services.DataCollectionService;\n \n import javax.inject.Inject;\n \n@@ -127,6 +129,9 @@ public void onLoginResult(GoogleSignInResult signInResult) {\n                     if (signInResult.isSuccess()) {\n                         MyApplication.madcapLogger.d(TAG, \"User successfully signed in and authenticated to MADCAP.\");\n                         errorTextView.setText(\"Welcome\");\n+                        if (PreferenceManager.getDefaultSharedPreferences(context).getBoolean(getString(R.string.data_collection_pref), true)) {\n+                            startService(new Intent(context, DataCollectionService.class));\n+                        }\n                         startActivity(new Intent(context, MainActivity.class));\n                     } else {\n                         MyApplication.madcapLogger.d(TAG, \"User could not be authenticated to MADCAP. Starting SignInActivity.\");"
        }
      ]
    }
  },
  {
    "name": "App crashes on GameThreadFragment when clicking reply to thread button",
    "url": "https://github.com/jorgegil96/All-NBA/issues/83",
    "description": "```\r\nException java.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.gmail.jorgegilcavazos.ballislife.features.gamethread.GameThreadPresenter.replyToThreadBtnClick()\u0027 on a null object reference\r\ncom.gmail.jorgegilcavazos.ballislife.features.gamethread.GameThreadFragment.replyToThread (GameThreadFragment.java:268)\r\ncom.gmail.jorgegilcavazos.ballislife.features.gamethread.CommentsActivity.addComment (CommentsActivity.java:142)\r\ncom.gmail.jorgegilcavazos.ballislife.features.gamethread.CommentsActivity.onClick (CommentsActivity.java:132)\r\nandroid.view.View.performClick (View.java:5201)\r\nandroid.view.View$PerformClick.run (View.java:21163)\r\nandroid.os.Handler.handleCallback (Handler.java:746)\r\nandroid.os.Handler.dispatchMessage (Handler.java:95)\r\nandroid.os.Looper.loop (Looper.java:148)\r\nandroid.app.ActivityThread.main (ActivityThread.java:5443)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:728)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:618)\r\n```",
    "keywords": [
      "com",
      "gmail",
      "handler",
      "os",
      "method",
      "android",
      "gamethread",
      "features",
      "gamethreadfragment",
      "view",
      "ballislife features",
      "commentsactivity",
      "gmail jorgegilcavazos",
      "java",
      "ballislife",
      "jorgegilcavazos",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/jorgegil96/All-NBA/commit/feb64fb860bb7b18dd3b4a33be7f3e93d91657ab",
      "files": [
        {
          "file_name": "app/src/main/java/com/gmail/jorgegilcavazos/ballislife/features/gamethread/CommentsActivity.java",
          "patch": "@@ -139,7 +139,10 @@ private void addComment() {\n         Fragment fragment \u003d pagerAdapter.getItem(pos);\n \n         if (pos \u003d\u003d 0 || pos \u003d\u003d 2) {\n-            ((GameThreadFragment) fragment).replyToThread();\n+            GameThreadFragment gameThreadFragment \u003d ((GameThreadFragment) fragment);\n+            if (gameThreadFragment.isAdded() \u0026\u0026 gameThreadFragment.isVisible()) {\n+                gameThreadFragment.replyToThread();\n+            }\n         }\n     }\n }"
        },
        {
          "file_name": "app/src/main/java/com/gmail/jorgegilcavazos/ballislife/features/gamethread/GameThreadFragment.java",
          "patch": "@@ -265,6 +265,8 @@ public void onReplyToComment(final int position, final Comment parentComment) {\n     }\n \n     public void replyToThread() {\n-        presenter.replyToThreadBtnClick();\n+        if (presenter !\u003d null) {\n+            presenter.replyToThreadBtnClick();\n+        }\n     }\n }"
        }
      ]
    }
  },
  {
    "name": "ConcurrentModificationException in new map",
    "url": "https://github.com/cgeo/cgeo/issues/6151",
    "description": "Master as of 3895e6479f4b97029286eb98d67f6f0671b54041. Concurrent modification of the tile cache between UI and background threads (coming back from a cache description).\r\n\r\n```\r\n11-20 23:22:23.407 7389-7389/cgeo.geocaching W/cgeo: [main] UncaughtException\r\n                                                     java.lang.RuntimeException: Unable to resume activity {cgeo.geocaching/cgeo.geocaching.maps.mapsforge.v6.NewMap}: java.util.ConcurrentModificationException\r\n                                                         at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3400)\r\n                                                         at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3440)\r\n                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1510)\r\n                                                         at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                         at android.os.Looper.loop(Looper.java:154)\r\n                                                         at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                         at java.lang.reflect.Method.invoke(Native Method)\r\n                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                      Caused by: java.util.ConcurrentModificationException\r\n                                                         at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:411)\r\n                                                         at java.util.LinkedHashMap$ValueIterator.next(LinkedHashMap.java:426)\r\n                                                         at org.mapsforge.map.layer.cache.InMemoryTileCache.purge(InMemoryTileCache.java:82)\r\n                                                         at org.mapsforge.map.layer.cache.TwoLevelTileCache.purge(TwoLevelTileCache.java:80)\r\n                                                         at cgeo.geocaching.maps.mapsforge.v6.NewMap.switchTileLayer(NewMap.java:638)\r\n                                                         at cgeo.geocaching.maps.mapsforge.v6.NewMap.initializeLayers(NewMap.java:669)\r\n                                                         at cgeo.geocaching.maps.mapsforge.v6.NewMap.onStart(NewMap.java:664)\r\n                                                         at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1248)\r\n                                                         at android.app.Activity.performStart(Activity.java:6681)\r\n                                                         at android.app.Activity.performRestart(Activity.java:6755)\r\n                                                         at android.app.Activity.performResume(Activity.java:6760)\r\n                                                         at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3377)\r\n                                                         at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3440) \r\n                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1510) \r\n                                                         at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                                                         at android.os.Looper.loop(Looper.java:154) \r\n                                                         at android.app.ActivityThread.main(ActivityThread.java:6077) \r\n                                                         at java.lang.reflect.Method.invoke(Native Method) \r\n                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \r\n                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```",
    "keywords": [
      "v6",
      "com",
      "newmap",
      "geocaching maps",
      "handler",
      "internal",
      "activity",
      "app activitythread",
      "android",
      "main",
      "looper",
      "mapsforge",
      "java",
      "android internal",
      "lang",
      "map",
      "concurrentmodificationexception",
      "zygoteinit",
      " ",
      "app",
      "cgeo",
      "cache",
      "android os",
      "maps",
      "os",
      "method",
      "mapsforge v6",
      "java lang",
      "geocaching",
      "activitythread",
      "util",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/8bebc9535e7de97367a25df57853b148ef5793ce",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/maps/mapsforge/v6/NewMap.java",
          "patch": "@@ -634,7 +634,6 @@ private void switchTileLayer(final MapSource mapSource) {\n             layers.add(index, newLayer.getTileLayer());\n             this.tileLayer \u003d newLayer;\n             this.setMapTheme();\n-            newLayer.onResume();\n         } else {\n             this.tileLayer \u003d null;\n         }"
        }
      ]
    }
  },
  {
    "name": "App crashs when import database with wrong password",
    "url": "https://github.com/kriztan/Pix-Art-Messenger/issues/131",
    "description": "#### General information\r\nOn app start , when the user chooses to import backup and input a wrong password, the app crashes\r\n\r\n* **Version:** eg 1.18.0\r\n* **Device:** eg LG-D802\r\n* **Android Version:** eg Android Android 4.2.2\r\n\r\n#### Steps to reproduce\r\n\r\n1. Start App\r\n2. Choose import backup\r\n3. Input a wrong password on purpose\r\n4. App crashes (Sometimes an error toast is shown after the ( Sorry Pix_Art has crashed..dialog)\r\n\r\n\r\n#### Expected result\r\n\r\nJust a wrong message.No crash\r\n\r\n\r\n\r\n#### Debug output\r\n\r\n04-25 16:09:54.611 22116-22169/de.pixart.messenger D/dalvikvm: WAIT_FOR_CONCURRENT_GC blocked 21ms\r\n04-25 16:09:55.261 760-987/? V/InputTransport: publish-Motion: channel \u002742903d58 de.pixart.messenger/de.pixart.messenger.ui.WelcomeActivity (server)\u0027 seq\u003d2253472, action\u003dDown, pointerCount\u003d1, downTime\u003d797708106482000, eventTime\u003d797708106482000\r\n04-25 16:09:55.261 22116-22116/de.pixart.messenger D/touchCheck: ViewRoot\u0027s Touch Event : Touch Down\r\n04-25 16:09:55.351 760-987/? V/InputTransport: publish-Motion: channel \u002742903d58 de.pixart.messenger/de.pixart.messenger.ui.WelcomeActivity (server)\u0027 seq\u003d2253473, action\u003dUp, pointerCount\u003d1, downTime\u003d797708106482000, eventTime\u003d797708197730000\r\n04-25 16:09:55.351 22116-22116/de.pixart.messenger D/touchCheck: ViewRoot\u0027s Touch Event : Touch UP  \r\n04-25 16:09:55.371 22116-22116/de.pixart.messenger V/AudioManager: playSoundEffect effectType \u003d 0\r\n04-25 16:09:55.451 22116-22116/de.pixart.messenger D/Cliptray Manager: setInputType : 0\r\n04-25 16:09:55.451 22116-22116/de.pixart.messenger D/Cliptray Manager: setInputType : 0\r\n04-25 16:09:55.511 22116-22121/de.pixart.messenger D/dalvikvm: GC_CONCURRENT freed 1890K, 22% free 20149K/25592K, paused 1ms+1ms, total 32ms\r\n04-25 16:09:55.511 22116-22169/de.pixart.messenger D/dalvikvm: WAIT_FOR_CONCURRENT_GC blocked 10ms\r\n04-25 16:09:56.171 22116-22121/de.pixart.messenger D/dalvikvm: GC_CONCURRENT freed 1938K, 21% free 20229K/25592K, paused 1ms+1ms, total 29ms\r\n04-25 16:09:57.131 22116-22121/de.pixart.messenger D/dalvikvm: GC_CONCURRENT freed 2008K, 22% free 20180K/25592K, paused 1ms+1ms, total 31ms\r\n04-25 16:09:57.631 22116-22121/de.pixart.messenger D/dalvikvm: GC_CONCURRENT freed 1380K, 19% free 20733K/25592K, paused 2ms+4ms, total 33ms\r\n04-25 16:09:58.161 22116-22121/de.pixart.messenger D/dalvikvm: GC_CONCURRENT freed 1968K, 20% free 20701K/25592K, paused 2ms+3ms, total 35ms\r\n04-25 16:10:09.501 760-987/? V/InputTransport: publish-Motion: channel \u0027429d61c0 de.pixart.messenger/de.pixart.messenger.ui.WelcomeActivity (server)\u0027 seq\u003d2253475, action\u003dDown, pointerCount\u003d1, downTime\u003d797722342002000, eventTime\u003d797722342002000\r\n04-25 16:10:09.501 22116-22116/de.pixart.messenger D/touchCheck: ViewRoot\u0027s Touch Event : Touch Down\r\n04-25 16:10:09.581 760-987/? V/InputTransport: publish-Motion: channel \u0027429d61c0 de.pixart.messenger/de.pixart.messenger.ui.WelcomeActivity (server)\u0027 seq\u003d2253479, action\u003dUp, pointerCount\u003d1, downTime\u003d797722342002000, eventTime\u003d797722421476000\r\n04-25 16:10:09.581 22116-22116/de.pixart.messenger D/touchCheck: ViewRoot\u0027s Touch Event : Touch UP  \r\n04-25 16:10:12.711 760-987/? V/InputTransport: publish-Motion: channel \u0027429d61c0 de.pixart.messenger/de.pixart.messenger.ui.WelcomeActivity (server)\u0027 seq\u003d2253568, action\u003dDown, pointerCount\u003d1, downTime\u003d797725552148000, eventTime\u003d797725552148000\r\n04-25 16:10:12.711 22116-22116/de.pixart.messenger D/touchCheck: ViewRoot\u0027s Touch Event : Touch Down\r\n04-25 16:10:12.791 760-987/? V/InputTransport: publish-Motion: channel \u0027429d61c0 de.pixart.messenger/de.pixart.messenger.ui.WelcomeActivity (server)\u0027 seq\u003d2253569, action\u003dUp, pointerCount\u003d1, downTime\u003d797725552148000, eventTime\u003d797725630302000\r\n04-25 16:10:12.791 22116-22116/de.pixart.messenger V/AudioManager: playSoundEffect effectType \u003d 0\r\n04-25 16:10:12.791 22116-22116/de.pixart.messenger D/touchCheck: ViewRoot\u0027s Touch Event : Touch UP  \r\n04-25 16:10:12.841 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Cipher key: [120, 106, 120, 110, 120, 98, 120, 110, 110, 120, 110, 120]\r\n04-25 16:10:12.841 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Cipher sha: MESSAGE DIGEST SHA-1\r\n04-25 16:10:12.841 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Cipher sha key: [52, -85, 70, -62, 99, 123, 88, -21, 111, -125, 27, -121, 47, -56, 71, 81, 71, -76, -78, -99]\r\n04-25 16:10:12.841 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Cipher sha key 16 bytes: [52, -85, 70, -62, 99, 123, 88, -21, 111, -125, 27, -121, 47, -56, 71, 81]\r\n04-25 16:10:12.851 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Cipher IV: null\r\n04-25 16:10:12.851 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Decryption with: javax.crypto.CipherInputStream@4280e448\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 11\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 12\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 13\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 14\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 15\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 16\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 17\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 18\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 19\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 20\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 21\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 22\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 23\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 24\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 25\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 26\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 27\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 28\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 29\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 30\r\n04-25 16:10:12.901 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 31\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 32\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 33\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 34\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 35\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 36\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 37\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 38\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 39\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 40\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 41\r\n04-25 16:10:12.911 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 42\r\n04-25 16:10:12.931 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 43\r\n04-25 16:10:12.931 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 44\r\n04-25 16:10:12.931 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 45\r\n04-25 16:10:12.931 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 46\r\n04-25 16:10:12.931 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 47\r\n04-25 16:10:12.931 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 48\r\n04-25 16:10:12.941 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 49\r\n04-25 16:10:12.941 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 50\r\n04-25 16:10:12.941 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 51\r\n04-25 16:10:12.941 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 52\r\n04-25 16:10:12.951 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 53\r\n04-25 16:10:12.951 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 54\r\n04-25 16:10:12.961 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 55\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 56\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 57\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 58\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 59\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 60\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 61\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 62\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 63\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 64\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 65\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 66\r\n04-25 16:10:12.971 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 67\r\n04-25 16:10:12.981 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 68\r\n04-25 16:10:12.981 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 69\r\n04-25 16:10:12.991 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 70\r\n04-25 16:10:12.991 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 71\r\n04-25 16:10:12.991 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 72\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 73\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 74\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 75\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 76\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 77\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 78\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 79\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 80\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 81\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 82\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 83\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 84\r\n04-25 16:10:13.001 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 85\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 86\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 87\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 88\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 89\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 90\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 91\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 92\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 93\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 94\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 95\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 96\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 97\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 98\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 99\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 100\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 101\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 102\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 103\r\n04-25 16:10:13.011 22116-22136/de.pixart.messenger I/dalvikvm: Total arena pages for JIT: 104\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: Database importer: decryption failed (IO) with java.io.IOException: pad block corrupted\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err: java.io.IOException: pad block corrupted\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at javax.crypto.CipherInputStream.read(CipherInputStream.java:107)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at javax.crypto.CipherInputStream.read(CipherInputStream.java:143)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at java.io.InputStream.read(InputStream.java:163)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at de.pixart.messenger.utils.EncryptDecryptFile.decrypt(EncryptDecryptFile.java:66)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at de.pixart.messenger.ui.WelcomeActivity.checkDatabase(WelcomeActivity.java:199)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at de.pixart.messenger.ui.WelcomeActivity.access$000(WelcomeActivity.java:42)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at de.pixart.messenger.ui.WelcomeActivity$5$1.run(WelcomeActivity.java:136)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/System.err:     at java.lang.Thread.run(Thread.java:856)\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger E/SQLiteLog: (26) statement aborts at 0: [PRAGMA user_version;] file is encrypted or is not a database\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger E/DefaultDatabaseErrorHandler: Corruption reported by sqlite on database: /storage/emulated/0/Pix-Art Messenger/Database/database.bak\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger E/DefaultDatabaseErrorHandler: deleting the database file: /storage/emulated/0/Pix-Art Messenger/Database/database.bak\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: No backup found: SQLiteDatabase: /storage/emulated/0/Pix-Art Messenger/Database/database.bak\r\n04-25 16:10:15.221 22116-22170/de.pixart.messenger D/Pix-Art_Messenger: deleted file /storage/emulated/0/Pix-Art Messenger/Database/database.bak\r\n04-25 16:10:15.221 7776-7807/eu.siacs.conversations D/conversations: deleted file /storage/emulated/0/Pix-Art Messenger/Database/database.bak\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger D/Pix-Art_Messenger: checkDB \u003d SQLiteDatabase: /storage/emulated/0/Pix-Art Messenger/Database/database.bak, Backup DB \u003d 0, DB \u003d 36\r\n04-25 16:10:15.221 25337-25467/? D/Salama: deleted file /storage/emulated/0/Pix-Art Messenger/Database/database.bak\r\n04-25 16:10:15.221 22116-22452/de.pixart.messenger W/dalvikvm: threadid\u003d19: thread exiting with uncaught exception (group\u003d0x413b3ac8)\r\n04-25 16:10:15.241 22116-22452/de.pixart.messenger E/AndroidRuntime: FATAL EXCEPTION: Thread-132899\r\n                                                                     android.view.InflateException: Binary XML file line #7: Error inflating class \u003cunknown\u003e\r\n                                                                         at android.view.LayoutInflater.createView(LayoutInflater.java:613)\r\n                                                                         at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)\r\n                                                                         at android.view.LayoutInflater.onCreateView(LayoutInflater.java:660)\r\n                                                                         at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:685)\r\n                                                                         at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:489)\r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:396)\r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:352)\r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.enterPasswordDialog(WelcomeActivity.java:117)\r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.checkDatabase(WelcomeActivity.java:241)\r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.access$000(WelcomeActivity.java:42)\r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity$5$1.run(WelcomeActivity.java:136)\r\n                                                                         at java.lang.Thread.run(Thread.java:856)\r\n                                                                      Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                         at java.lang.reflect.Constructor.constructNative(Native Method)\r\n                                                                         at java.lang.reflect.Constructor.newInstance(Constructor.java:417)\r\n                                                                         at android.view.LayoutInflater.createView(LayoutInflater.java:587)\r\n                                                                         at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56) \r\n                                                                         at android.view.LayoutInflater.onCreateView(LayoutInflater.java:660) \r\n                                                                         at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:685) \r\n                                                                         at android.view.LayoutInflater.rInflate(LayoutInflater.java:746) \r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:489) \r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:396) \r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:352) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.enterPasswordDialog(WelcomeActivity.java:117) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.checkDatabase(WelcomeActivity.java:241) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.access$000(WelcomeActivity.java:42) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity$5$1.run(WelcomeActivity.java:136) \r\n                                                                         at java.lang.Thread.run(Thread.java:856) \r\n                                                                      Caused by: java.lang.RuntimeException: Can\u0027t create handler inside thread that has not called Looper.prepare()\r\n                                                                         at android.os.Handler.\u003cinit\u003e(Handler.java:197)\r\n                                                                         at android.os.Handler.\u003cinit\u003e(Handler.java:111)\r\n                                                                         at android.widget.Editor$UserDictionaryListener.\u003cinit\u003e(Editor.java:5048)\r\n                                                                         at android.widget.Editor.\u003cinit\u003e(Editor.java:213)\r\n                                                                         at android.widget.TextView.createEditorIfNeeded(TextView.java:9059)\r\n                                                                         at android.widget.TextView.setRawInputType(TextView.java:4206)\r\n                                                                         at android.widget.TextView.setInputType(TextView.java:4247)\r\n                                                                         at android.widget.TextView.\u003cinit\u003e(TextView.java:1177)\r\n                                                                         at android.widget.EditText.\u003cinit\u003e(EditText.java:71)\r\n                                                                         at android.widget.EditText.\u003cinit\u003e(EditText.java:67)\r\n                                                                         at java.lang.reflect.Constructor.constructNative(Native Method) \r\n                                                                         at java.lang.reflect.Constructor.newInstance(Constructor.java:417) \r\n                                                                         at android.view.LayoutInflater.createView(LayoutInflater.java:587) \r\n                                                                         at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56) \r\n                                                                         at android.view.LayoutInflater.onCreateView(LayoutInflater.java:660) \r\n                                                                         at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:685) \r\n                                                                         at android.view.LayoutInflater.rInflate(LayoutInflater.java:746) \r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:489) \r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:396) \r\n                                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:352) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.enterPasswordDialog(WelcomeActivity.java:117) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.checkDatabase(WelcomeActivity.java:241) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity.access$000(WelcomeActivity.java:42) \r\n                                                                         at de.pixart.messenger.ui.WelcomeActivity$5$1.run(WelcomeActivity.java:136) \r\n                                                                         at java.lang.Thread.run(Thread.java:856) \r\n04-25 16:10:15.251 760-1383/? W/ActivityManager:   Force finishing activity de.pixart.messenger/.ui.WelcomeActivity\r\n04-25 16:10:15.251 760-1383/? V/ActivityManager: Moving to PAUSING: ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity}\r\n04-25 16:10:15.361 22116-22116/de.pixart.messenger V/Activity: [DSDR][Activity.java]isExternal() : extUsage \u003d\u003d 0\r\n04-25 16:10:15.361 760-8141/? V/ActivityManager: Moving to PAUSED: ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity} (pause complete)\r\n04-25 16:10:15.361 760-8141/? V/ActivityManager: Moving to STOPPING: ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity} (finish requested)\r\n04-25 16:10:17.011 1067-1067/? D/ImageWallpaper: onOffsetsChanged: xOffset\u003d0.0, yOffset\u003d0.0, xOffsetStep\u003d0.0, yOffsetStep\u003d0.0, xPixels\u003d0, yPixels\u003d0\r\n04-25 16:10:17.241 760-824/? V/ActivityManager: Moving to FINISHING: ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity}\r\n04-25 16:10:17.241 760-824/? V/ActivityManager: Moving to DESTROYING: ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity} (destroy requested)\r\n04-25 16:10:17.241 22116-22116/de.pixart.messenger V/Activity: [DSDR][Activity.java]isExternal() : extUsage \u003d\u003d 0\r\n04-25 16:10:17.241 22116-22116/de.pixart.messenger V/Activity: [DSDR][Activity.java]isExternal() : extUsage \u003d\u003d 0\r\n04-25 16:10:17.251 22116-22116/de.pixart.messenger E/WindowManager: Activity de.pixart.messenger.ui.WelcomeActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView{425d3cc0 V.E..... R......D 0,0-1026,486} that was originally added here\r\n                                                                    android.view.WindowLeaked: Activity de.pixart.messenger.ui.WelcomeActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView{425d3cc0 V.E..... R......D 0,0-1026,486} that was originally added here\r\n                                                                        at android.view.ViewRootImpl.\u003cinit\u003e(ViewRootImpl.java:398)\r\n                                                                        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:216)\r\n                                                                        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:69)\r\n                                                                        at android.app.Dialog.show(Dialog.java:294)\r\n                                                                        at android.app.ProgressDialog.show(ProgressDialog.java:116)\r\n                                                                        at android.app.ProgressDialog.show(ProgressDialog.java:99)\r\n                                                                        at de.pixart.messenger.ui.WelcomeActivity$5.onClick(WelcomeActivity.java:130)\r\n                                                                        at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:166)\r\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                        at android.os.Looper.loop(Looper.java:137)\r\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:5171)\r\n                                                                        at java.lang.reflect.Method.invokeNative(Native Method)\r\n                                                                        at java.lang.reflect.Method.invoke(Method.java:511)\r\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:564)\r\n                                                                        at dalvik.system.NativeStart.main(Native Method)\r\n04-25 16:10:17.251 760-8130/? V/ActivityManager: Moving to DESTROYED: ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity} (removed from history)\r\n04-25 16:10:17.371 760-826/? W/WindowManager: mDisplayId\u003d0 mSession\u003dSession{4291a498 22116:u0a10111} mClient\u003dandroid.os.BinderProxy@429f2510\r\n                                              mOwnerUid\u003d10111 mShowToOwnerOnly\u003dtrue\r\n                                              mAttrs\u003dWM.LayoutParams{(0,0)(wrapxwrap) gr\u003d#11 sim\u003d#120 ty\u003d2 fl\u003d#1820002 pfl\u003d0x8 fmt\u003d-2 wanim\u003d0x1030296}\r\n                                              Requested w\u003d1026 h\u003d486 mLayoutSeq\u003d238167\r\n                                              mBaseLayer\u003d21000 mSubLayer\u003d0 mAnimLayer\u003d21040+0\u003d21040 mLastLayer\u003d21040\r\n                                              mToken\u003dAppWindowToken{463b4850 token\u003dToken{44a79f30 ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity}}}\r\n                                              mRootToken\u003dAppWindowToken{463b4850 token\u003dToken{44a79f30 ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity}}}\r\n                                              mAppToken\u003dAppWindowToken{463b4850 token\u003dToken{44a79f30 ActivityRecord{4253b840 u0 de.pixart.messenger/.ui.WelcomeActivity}}}\r\n                                              mViewVisibility\u003d0x8 mHaveFrame\u003dtrue mObscured\u003dfalse\r\n                                              mSeq\u003d0 mSystemUiVisibility\u003d0x0\r\n                                              mGivenContentInsets\u003d[0,0][0,0] mGivenVisibleInsets\u003d[0,0][0,0]\r\n                                              mConfiguration\u003d{1.0 460mcc1mnc en_US ldltr sw360dp w360dp h567dp 480dpi nrml port finger -keyb/v/h -nav/h s.155-1fontTypeIndex}\r\n                                              mHasSurface\u003dtrue mShownFrame\u003d[27.0,682.0][1053.0,1168.0] isReadyForDisplay()\u003dfalse\r\n                                              mFrame\u003d[27,682][1053,1168] last\u003d[27,682][1053,1168]\r\n                                              mSystemDecorRect\u003d[0,0][1026,486] last\u003d[0,0][1026,486]\r\n                                              Frames: containing\u003d[0,75][1080,1776] parent\u003d[0,75][1080,1776] display\u003d[0,75][1080,1776]\r\n                                                  content\u003d[27,682][1053,1168] visible\u003d[27,682][1053,1168]\r\n                                              Cur insets: content\u003d[0,0][0,0] visible\u003d[0,0][0,0]\r\n                                              Lst insets: content\u003d[0,0][0,0] visible\u003d[0,0][0,0]\r\n                                              WindowStateAnimator{47072850 Please wait…}:\r\n                                                mSurface\u003dSurface(name\u003dPlease wait…, identity\u003d40068)\r\n                                                mDrawState\u003dHAS_DRAWN mLastHidden\u003dtrue\r\n                                                Surface: shown\u003dfalse layer\u003d21040 alpha\u003d0.0 rect\u003d(27.0,682.0) 1026.0 x 486.0\r\n                                                mShownAlpha\u003d1.0 mAlpha\u003d1.0 mLastAlpha\u003d0.0\r\n                                              mExiting\u003dfalse mRemoveOnExit\u003dfalse mDestroying\u003dtrue mRemoved\u003dfalse\r\n04-25 16:10:17.371 760-826/? V/WindowManager:   #4: Window{44a7c078 u0 Application Error: de.pixart.messenger}\r\n04-25 16:10:19.011 22502-22502/? I/[LGHome]EVENT: [Workspace.java:953:addInScreen()]Add Shortcut [Pix-Art Messenger] in screen 0 [3, 3]\r\n04-25 16:10:19.101 22502-22632/? I/[LGHome]NumberBadge.LGBroadCastBadge: [LGBroadCastBadge.java:55:updateBadgeIcon()][updateClassList : de.pixart.messenger.ui.StartUI \u003d 0\r\n",
    "keywords": [
      "handler",
      "16:10:13 001",
      "901 22116-22136/de",
      "22116-22116/de pixart",
      "/storage/emulated/0/pix-art messenger/database/database",
      "841 22116-22452/de",
      "createview",
      "messenger/ ui",
      "931 22116-22136/de",
      "221 22116-22452/de",
      "bak",
      "110",
      "04-25",
      "impl",
      "reflect",
      "password",
      "java",
      "layoutinflater",
      "messenger/de",
      "911",
      "0][0 0]",
      "moving",
      "app",
      "16:10:13 011",
      "messenger ui",
      "inflate layoutinflater",
      "arena pages",
      "welcomeactivity checkdatabase",
      "*",
      "04-25 16:09:55",
      "deleted file",
      "\u003cinit\u003e",
      "0]",
      "361",
      "120",
      "241",
      "0",
      "layoutinflater createview",
      "001",
      "requested",
      "2",
      "22116-22452/de",
      "0][0",
      "checkdatabase",
      "i/dalvikvm: total",
      "0 04-25",
      "messenger w/system",
      "activity",
      "27",
      "v/inputtransport",
      "371",
      "251",
      "activityrecord{4253b840 u0",
      "011",
      "931",
      "u0",
      "run thread",
      "free",
      "key",
      "pixart messenger/",
      "zygoteinit",
      "policy",
      "welcomeactivity java:136",
      "deleted",
      "action\u003dup",
      "v/inputtransport: publish-motion",
      "941",
      "extusage",
      "001 22116-22136/de",
      "16:09:55",
      "java:396",
      "de",
      "messenger/de pixart",
      "47",
      "enterpassworddialog",
      "d/dalvikvm",
      "75][1080",
      "pixart messenger/de",
      "run",
      "arena",
      "createviewfromtag",
      "view",
      "ui",
      "de pixart",
      "javax",
      "welcomeactivity$5$1 run",
      "971 22116-22136/de",
      " ",
      "011 22116-22136/de",
      "eg",
      "22116-22121/de pixart",
      "constructor",
      "freed",
      "messenger/database/database",
      "sha",
      "view layoutinflater",
      "841",
      "messenger d/pix-art_messenger",
      "publish-motion",
      "messenger d/dalvikvm",
      "touch event",
      "import",
      "d/pix-art_messenger",
      "android",
      "java:856",
      "show",
      "looper",
      "wrong password",
      "####",
      "971",
      "70",
      "71",
      "android view",
      "22116-22136/de",
      "cipher",
      "u0 de",
      "[dsdr][activity",
      "java:746",
      "activityrecord{4253b840",
      "pixart messenger",
      "reflect constructor",
      "progressdialog",
      "88",
      "welcomeactivity}",
      "backup",
      "channel",
      "messenger/",
      "lang reflect",
      "991",
      "gc_concurrent freed",
      "access$000 welcomeactivity",
      "jit",
      "cipherinputstream",
      "\u0027429d61c0",
      "java:685",
      "99",
      "ui welcomeactivity",
      "method",
      "io",
      "ui welcomeactivity}",
      "access$000",
      "760-987/ v/inputtransport",
      "16:10:12 971",
      "oncreateview",
      "760-987/",
      "v/activity",
      "total arena",
      "682][1053",
      "server",
      "welcomeactivity",
      "22116-22452/de pixart",
      "internal",
      "widget",
      "w/system err",
      "java:42",
      "file",
      "android widget",
      "native",
      "welcomeactivity}}}",
      "i/dalvikvm",
      "event",
      "java:660",
      "911 22116-22136/de",
      "editor",
      "err",
      "welcomeactivity server",
      "token\u003dtoken{44a79f30",
      "rinflate",
      "java lang",
      "textview",
      "wrong",
      "16:10:15 221",
      "1168]",
      "messenger",
      "phonelayoutinflater",
      "pixart",
      "java:56",
      "com",
      "paused",
      "lang thread",
      "04-25 16:10:17",
      "main",
      "16:10:12 911",
      "22116-22121/de",
      "d/touchcheck: viewroot\u0027s",
      "791",
      "bak 04-25",
      "java:241",
      "pages",
      "action\u003ddown",
      "pointercount\u003d1",
      "publish-motion: channel",
      "java:489",
      "\u003d\u003d",
      "16:10:17",
      "read",
      "16:10:13",
      "16:10:15",
      "touch",
      "/storage/emulated/0/pix-art",
      "16:10:12",
      "crypto",
      "gc_concurrent",
      "java]isexternal",
      "16:10:12 931",
      "1776]",
      "java:136",
      "edittext",
      "16:10:09",
      "w/system",
      "action\u003ddown pointercount\u003d1",
      "error",
      "dialog",
      "total",
      "database",
      "viewroot\u0027s",
      "android internal",
      "policy impl",
      "d/touchcheck",
      "welcomeactivity$5$1",
      "1ms+1ms",
      "lang",
      "v/activitymanager",
      "22116-22116/de",
      "22116-22136/de pixart",
      "os",
      "thread",
      "16:10:12 901",
      "221",
      "d/pix-art_messenger: cipher",
      "inflate",
      "04-25 16:10:15",
      "java:117",
      "04-25 16:10:13",
      "messenger i/dalvikvm",
      "901",
      "layoutinflater inflate",
      "04-25 16:10:12",
      "setinputtype",
      "java:352"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kriztan/Pix-Art-Messenger/commit/6907f57f80fe35400132730fe5cf06e0511dab04",
      "files": [
        {
          "file_name": "src/main/java/de/pixart/messenger/ui/WelcomeActivity.java",
          "patch": "@@ -236,9 +236,9 @@ private void checkDatabase(String DecryptionKey) throws IOException {\n             WelcomeActivity.this.runOnUiThread(new Runnable() {\n                 public void run() {\n                     Toast.makeText(WelcomeActivity.this, R.string.Password_wrong, Toast.LENGTH_LONG).show();\n+                    enterPasswordDialog();\n                 }\n             });\n-            enterPasswordDialog();\n         } else {\n             WelcomeActivity.this.runOnUiThread(new Runnable() {\n                 public void run() {"
        }
      ]
    }
  },
  {
    "name": "IllegalArgumentException on solving quest twice(?)",
    "url": "https://github.com/westnordost/StreetComplete/issues/289",
    "description": "This exception is not new. I haven\u0027t been able to find the source. It seems to happen when quests mysteriously reappear after solving them.\r\n\r\njava.lang.IllegalArgumentException: \r\n  at de.westnordost.streetcomplete.data.osm.changes.StringMapChangesBuilder.add(StringMapChangesBuilder.java:36)\r\n  at de.westnordost.streetcomplete.quests.sport.AddSport.applyAnswerTo(AddSport.java:46)\r\n  at de.westnordost.streetcomplete.data.QuestController$3.run(QuestController.java:162)\r\n  at android.os.Handler.handleCallback(Handler.java:739)\r\n  at android.os.Handler.dispatchMessage(Handler.java:95)\r\n  at android.os.Looper.loop(Looper.java:135)\r\n  at android.os.HandlerThread.run(HandlerThread.java:61)\r\n",
    "keywords": [
      "handler",
      "de",
      "os",
      "westnordost",
      "android",
      "streetcomplete"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/9f45771d3f50434552fb90bab11b31d2145bbd24",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java",
          "patch": "@@ -156,53 +156,75 @@ public void solveQuest(final long questId, final QuestGroup group, final Bundle\n \t{\n \t\tworkerHandler.post(new Runnable() { @Override public void run()\n \t\t{\n+\t\t\tboolean success \u003d false;\n \t\t\tif (group \u003d\u003d QuestGroup.OSM)\n \t\t\t{\n-\t\t\t\t// race condition: another thread (i.e. quest download thread) may have removed the\n-\t\t\t\t// element already (#282). So in this case, just ignore\n-\t\t\t\tOsmQuest q \u003d osmQuestDB.get(questId);\n-\t\t\t\tif(q \u003d\u003d null) return;\n-\t\t\t\tElement e \u003d osmElementDB.get(q.getElementType(), q.getElementId());\n-\t\t\t\tif(e \u003d\u003d null) return;\n-\n-\t\t\t\tStringMapChangesBuilder changesBuilder \u003d new StringMapChangesBuilder(e.getTags());\n-\t\t\t\tq.getOsmElementQuestType().applyAnswerTo(answer, changesBuilder);\n-\t\t\t\tStringMapChanges changes \u003d changesBuilder.create();\n-\t\t\t\tif(!changes.isEmpty())\n-\t\t\t\t{\n-\t\t\t\t\tq.setChanges(changes);\n-\t\t\t\t\tq.setStatus(QuestStatus.ANSWERED);\n-\t\t\t\t\tosmQuestDB.update(q);\n-\t\t\t\t\topenChangesetsDao.setLastQuestSolvedTimeToNow();\n-\t\t\t\t\trelay.onQuestSolved(q.getId(), group);\n-\t\t\t\t}\n-\t\t\t\telse\n-\t\t\t\t{\n-\t\t\t\t\tthrow new RuntimeException(\n-\t\t\t\t\t\t\t\"OsmQuest \" + questId + \" (\" + q.getType().getClass().getSimpleName() +\n-\t\t\t\t\t\t\t\") has been answered by the user but the changeset is empty!\");\n-\t\t\t\t}\n+\t\t\t\tsuccess \u003d solveOsmQuest(questId, answer);\n \t\t\t}\n \t\t\telse if (group \u003d\u003d QuestGroup.OSM_NOTE)\n \t\t\t{\n-\t\t\t\tOsmNoteQuest q \u003d osmNoteQuestDB.get(questId);\n-\t\t\t\tString comment \u003d answer.getString(NoteDiscussionForm.TEXT);\n-\t\t\t\tif(comment !\u003d null \u0026\u0026 !comment.isEmpty())\n-\t\t\t\t{\n-\t\t\t\t\tq.setComment(comment);\n-\t\t\t\t\tq.setStatus(QuestStatus.ANSWERED);\n-\t\t\t\t\tosmNoteQuestDB.update(q);\n-\t\t\t\t\trelay.onQuestSolved(q.getId(), group);\n-\t\t\t\t}\n-\t\t\t\telse\n-\t\t\t\t{\n-\t\t\t\t\tthrow new RuntimeException(\n-\t\t\t\t\t\t\t\"NoteQuest has been answered with an empty comment!\");\n-\t\t\t\t}\n+\t\t\t\tsuccess \u003d solveOsmNoteQuest(questId, answer);\n \t\t\t}\n+\t\t\tif(success) relay.onQuestSolved(questId, group);\n \t\t}});\n \t}\n \n+\tprivate boolean solveOsmNoteQuest(long questId, Bundle answer)\n+\t{\n+\t\tOsmNoteQuest q \u003d osmNoteQuestDB.get(questId);\n+\t\tString comment \u003d answer.getString(NoteDiscussionForm.TEXT);\n+\t\tif(comment !\u003d null \u0026\u0026 !comment.isEmpty())\n+\t\t{\n+\t\t\tq.setComment(comment);\n+\t\t\tq.setStatus(QuestStatus.ANSWERED);\n+\t\t\tosmNoteQuestDB.update(q);\n+\t\t\treturn true;\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tthrow new RuntimeException(\n+\t\t\t\t\t\"NoteQuest has been answered with an empty comment!\");\n+\t\t}\n+\t}\n+\n+\tprivate boolean solveOsmQuest(long questId, Bundle answer)\n+\t{\n+\t\t// race condition: another thread (i.e. quest download thread) may have removed the\n+\t\t// element already (#282). So in this case, just ignore\n+\t\tOsmQuest q \u003d osmQuestDB.get(questId);\n+\t\tif(q \u003d\u003d null) return false;\n+\t\tElement ele \u003d osmElementDB.get(q.getElementType(), q.getElementId());\n+\t\tif(ele \u003d\u003d null) return false;\n+\n+\t\tStringMapChangesBuilder changesBuilder \u003d new StringMapChangesBuilder(ele.getTags());\n+\t\ttry\n+\t\t{\n+\t\t\tq.getOsmElementQuestType().applyAnswerTo(answer, changesBuilder);\n+\t\t}\n+\t\tcatch (IllegalArgumentException e)\n+\t\t{\n+\t\t\t// if applying the changes results in an error (\u003da conflict), the data the quest(ion)\n+\t\t\t// was based on is not valid anymore -\u003e like with other conflicts, silently drop the\n+\t\t\t// user\u0027s change (#289)\n+\t\t\treturn false;\n+\t\t}\n+\t\tStringMapChanges changes \u003d changesBuilder.create();\n+\t\tif(!changes.isEmpty())\n+\t\t{\n+\t\t\tq.setChanges(changes);\n+\t\t\tq.setStatus(QuestStatus.ANSWERED);\n+\t\t\tosmQuestDB.update(q);\n+\t\t\topenChangesetsDao.setLastQuestSolvedTimeToNow();\n+\t\t\treturn true;\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tthrow new RuntimeException(\n+\t\t\t\t\t\"OsmQuest \" + questId + \" (\" + q.getType().getClass().getSimpleName() +\n+\t\t\t\t\t\t\t\") has been answered by the user but the changeset is empty!\");\n+\t\t}\n+\t}\n+\n \t/** Make the given quest invisible asynchronously (per user interaction). */\n \tpublic void hideQuest(final long questId, final QuestGroup group)\n \t{"
        }
      ]
    }
  },
  {
    "name": "IllegalStateException (CachePopupFragment not attached to Activity)",
    "url": "https://github.com/cgeo/cgeo/issues/6432",
    "description": "From Google Play\r\nStarting in September 2016 releases (Andoird 4.1-7.0):\r\n\r\n```\r\njava.lang.IllegalStateException: Fragment CachePopupFragment{a6cddc3} not attached to Activity\r\n\tat android.support.v4.app.Fragment.getResources(Fragment.java:639)\r\n\tat android.support.v4.app.Fragment.getString(Fragment.java:661)\r\n\tat cgeo.geocaching.CachePopupFragment$StoreCacheHandler.updateStatusMsg(CachePopupFragment.java:80)\r\n\tat cgeo.geocaching.CachePopupFragment$StoreCacheHandler.handleRegularMessage(CachePopupFragment.java:66)\r\n\tat cgeo.geocaching.utils.DisposableHandler.handleMessage(DisposableHandler.java:58)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:148)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5443)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n```\r\n",
    "keywords": [
      "app",
      "cgeo",
      "fragment",
      "os",
      "cachepopupfragment",
      "android",
      "zygoteinit",
      "geocaching"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/2286980d7efe22ecbb0408ad1a54297914e238a4",
      "files": [
        {
          "file_name": "main/res/values/changelog_release.xml",
          "patch": "@@ -8,6 +8,7 @@\n     · Fix: Prevent crash when moving a cache freshly loaded through send2cgeo to another list\\n\n     · Fix: Prevent crash when logging a trackable on some Xiaomi devices\\n\n     · Fix: Correctly display user name containing \u0026amp; on main screen\\n\n+    · Fix: Fix crash when dismissing cache popup dialog at the wrong time\\n\n     \\n\n     \\n\n     \u003cb\u003e2017.03.19:\u003c/b\u003e\\n"
        },
        {
          "file_name": "main/src/cgeo/geocaching/CachePopupFragment.java",
          "patch": "@@ -74,7 +74,7 @@ public void handleRegularMessage(final Message msg) {\n \n         private void updateStatusMsg(final String msg) {\n             final CachePopupFragment popup \u003d popupRef.get();\n-            if (popup \u003d\u003d null) {\n+            if (popup \u003d\u003d null || !popup.isAdded()) {\n                 return;\n             }\n             popup.progress.setMessage(popup.getString(progressMessage)"
        }
      ]
    }
  },
  {
    "name": "更新v1.5.1版本之后，出现NullPointerException",
    "url": "https://github.com/lingochamp/FileDownloader/issues/598",
    "description": "更新v1.5.1版本后，分别出现以下NullPointerException，这几个在使用v1.4.2版本时均未统计到，其中第一个出现次数较多。\r\n\r\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dcrash log 1\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\r\nFatal Exception: java.lang.NullPointerException: Attempt to read from field \u0027long com.liulishuo.filedownloader.download.e.a\u0027 on a null object reference\r\n       at com.liulishuo.filedownloader.download.DownloadRunnable.run(SourceFile:102)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n       at java.lang.Thread.run(Thread.java:818)\r\n\r\n\r\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dcrash log 2\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke interface method \u0027void com.liulishuo.filedownloader.services.g.a(int, int, long)\u0027 on a null object reference\r\n       at com.liulishuo.filedownloader.download.FetchDataTask.sync(SourceFile:202)\r\n       at com.liulishuo.filedownloader.download.FetchDataTask.pause(SourceFile:58)\r\n       at com.liulishuo.filedownloader.download.DownloadRunnable.pause(SourceFile:58)\r\n       at com.liulishuo.filedownloader.download.DownloadRunnable.discard(SourceFile:62)\r\n       at com.liulishuo.filedownloader.download.DownloadLaunchRunnable.onError(SourceFile:623)\r\n       at com.liulishuo.filedownloader.download.DownloadRunnable.run(SourceFile:106)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n       at java.lang.Thread.run(Thread.java:818)\r\n\r\n\r\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dcrash log 3\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.liulishuo.filedownloader.download.c.a()\u0027 on a null object reference\r\n       at com.liulishuo.filedownloader.download.DownloadLaunchRunnable.pause(SourceFile:134)\r\n       at com.liulishuo.filedownloader.services.FileDownloadThreadPool.cancel(SourceFile:95)\r\n       at com.liulishuo.filedownloader.services.FileDownloadManager.pause(SourceFile:200)\r\n       at com.liulishuo.filedownloader.services.FDServiceSharedHandler.pause(SourceFile:66)\r\n       at com.liulishuo.filedownloader.FileDownloadServiceSharedTransmit.pause(SourceFile:65)\r\n       at com.liulishuo.filedownloader.FileDownloadServiceProxy.pause(SourceFile:72)\r\n       at com.liulishuo.filedownloader.DownloadTaskHunter.pause(SourceFile:419)\r\n       at com.liulishuo.filedownloader.DownloadTask.pause(SourceFile:338)\r\n       at com.liulishuo.filedownloader.FileDownloader.pauseAll(SourceFile:227)\r\n       at media.itsme.common.download.FileDownloadHelper.pauseAllDownload(SourceFile:221)\r\n       at media.itsme.common.utils.LoginHelper.logout(SourceFile:928)\r\n       at media.itsme.common.activity.setting.UserSettingActivity.logout(SourceFile:245)\r\n       at media.itsme.common.activity.setting.UserSettingActivity.onClick(SourceFile:142)\r\n       at android.view.View.performClick(View.java:5212)\r\n       at android.view.View$PerformClick.run(View.java:21214)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:148)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5628)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:850)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:734)\r\n",
    "keywords": [
      "com",
      "threadpoolexecutor",
      "exception",
      "handler",
      "log",
      "android",
      "concurrent",
      "invoke",
      "run",
      "filedownloader services",
      "media",
      "attempt",
      "fatal",
      "reference",
      "download",
      "view",
      "java",
      "common",
      "util concurrent",
      "com liulishuo",
      "download downloadrunnable",
      "lang",
      "zygoteinit",
      "nullpointerexception: attempt",
      "filedownloader",
      "method",
      "os",
      "thread",
      "services",
      "nullpointerexception",
      "java lang",
      "pause",
      "fatal exception",
      "null",
      "util",
      "itsme common",
      "liulishuo",
      "downloadrunnable",
      "\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dcrash",
      "liulishuo filedownloader",
      "itsme",
      "object"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/lingochamp/FileDownloader/commit/c1dc27bcdcf772001888a3abffca4dca678fadda",
      "files": [
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/download/DownloadLaunchRunnable.java",
          "patch": "@@ -130,8 +130,13 @@ public void pause() {\n         this.paused \u003d true;\n \n         if (singleFetchDataTask !\u003d null) singleFetchDataTask.pause();\n-        for (DownloadRunnable runnable : downloadRunnableList) {\n-            runnable.pause();\n+        @SuppressWarnings(\"unchecked\") ArrayList\u003cDownloadRunnable\u003e pauseList \u003d\n+                (ArrayList\u003cDownloadRunnable\u003e) downloadRunnableList.clone();\n+        for (DownloadRunnable runnable : pauseList) {\n+            if (runnable !\u003d null) {\n+                runnable.pause();\n+                // if runnable is null, then that one must be completed and removed\n+            }\n         }\n \n         statusCallback.onPaused();\n@@ -511,6 +516,9 @@ private void fetchWithMultipleConnection(final List\u003cConnectionModel\u003e connectionM\n                 FileDownloadLog.d(this, \"enable multiple connection: %s\", connectionModel);\n             }\n \n+            if (runnable \u003d\u003d null)\n+                throw new IllegalArgumentException(\"the download runnable must not be null!\");\n+\n             downloadRunnableList.add(runnable);\n         }\n \n@@ -619,8 +627,13 @@ public boolean isRetry(Exception exception) {\n     public void onError(Exception exception) {\n \n         // discard all\n-        for (DownloadRunnable runnable : downloadRunnableList) {\n-            runnable.discard();\n+        @SuppressWarnings(\"unchecked\") ArrayList\u003cDownloadRunnable\u003e discardList \u003d\n+                (ArrayList\u003cDownloadRunnable\u003e) downloadRunnableList.clone();\n+        for (DownloadRunnable runnable : discardList) {\n+            if (runnable !\u003d null) {\n+                runnable.discard();\n+                // if runnable is null, then that one must be completed and removed\n+            }\n         }\n \n         statusCallback.onError(exception);"
        }
      ]
    }
  },
  {
    "name": "NPE in Trackables",
    "url": "https://github.com/cgeo/cgeo/issues/6559",
    "description": "From Google Play\r\nNot new but happening since release 20161208 in rare occassions.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String cgeo.geocaching.models.Trackable.getGuid()\u0027 on a null object reference\r\n\tat cgeo.geocaching.log.LogTrackableActivity.onCreateLoader(LogTrackableActivity.java:118)\r\n\tat android.support.v4.app.LoaderManagerImpl.createLoader(LoaderManager.java:539)\r\n\tat android.support.v4.app.LoaderManagerImpl.createAndInstallLoader(LoaderManager.java:548)\r\n\tat android.support.v4.app.LoaderManagerImpl.initLoader(LoaderManager.java:602)\r\n\tat cgeo.geocaching.log.LogTrackableActivity.startLoader(LogTrackableActivity.java:236)\r\n\tat cgeo.geocaching.log.LogTrackableActivity.access$000(LogTrackableActivity.java:75)\r\n\tat cgeo.geocaching.log.LogTrackableActivity$3.run(LogTrackableActivity.java:228)\r\n\tat io.reactivex.internal.operators.maybe.MaybeCallbackObserver.onComplete(MaybeCallbackObserver.java:92)\r\n\tat io.reactivex.internal.operators.maybe.MaybeFilter$FilterMaybeObserver.onSuccess(MaybeFilter.java:91)\r\n\tat io.reactivex.internal.operators.maybe.MaybeObserveOn$ObserveOnMaybeObserver.run(MaybeObserveOn.java:104)\r\n\tat io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)\r\n\tat android.os.Handler.handleCallback(Handler.java:739)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:158)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7229)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n``` ",
    "keywords": [
      "cgeo",
      "app",
      "io reactivex",
      "handler",
      "internal",
      "os",
      "method",
      "logtrackableactivity",
      "log",
      "maybe",
      "loadermanagerimpl",
      "cgeo geocaching",
      "io",
      "android",
      "run",
      "internal operators",
      "loadermanager",
      "reactivex",
      "geocaching",
      "operators",
      "lang",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/3484cc1ecd70fe1f3186384ddcc50f44df540e6c",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/log/LogTrackableActivity.java",
          "patch": "@@ -47,6 +47,7 @@\n import android.content.res.Configuration;\n import android.net.Uri;\n import android.os.Bundle;\n+import android.support.annotation.NonNull;\n import android.support.v4.app.LoaderManager;\n import android.support.v4.content.Loader;\n import android.view.ContextMenu;\n@@ -209,7 +210,9 @@ private void refreshTrackable() {\n         // Initialize the UI\n         init();\n \n-        createDisposables.add(AndroidRxUtils.bindActivity(this, ConnectorFactory.loadTrackable(geocode, null, null, brand)).subscribe(new Consumer\u003cTrackable\u003e() {\n+        createDisposables.add(AndroidRxUtils.bindActivity(this, ConnectorFactory.loadTrackable(geocode, null, null, brand))\n+                .toSingle()\n+                .subscribe(new Consumer\u003cTrackable\u003e() {\n             @Override\n             public void accept(final Trackable newTrackable) {\n                 if (trackingCode !\u003d null) {\n@@ -220,39 +223,29 @@ public void accept(final Trackable newTrackable) {\n         }, new Consumer\u003cThrowable\u003e() {\n             @Override\n             public void accept(final Throwable throwable) throws Exception {\n-                Log.e(\"refreshTrackable\", throwable);\n-            }\n-        }, new Action() {\n-            @Override\n-            public void run() throws Exception {\n-                startLoader(null);\n+                Log.e(\"cannot load trackable \" + geocode, throwable);\n+                showProgress(false);\n+\n+                if (StringUtils.isNotBlank(geocode)) {\n+                    showToast(res.getString(R.string.err_tb_find) + \u0027 \u0027 + geocode + \u0027.\u0027);\n+                } else {\n+                    showToast(res.getString(R.string.err_tb_find_that));\n+                }\n+\n+                setResult(RESULT_CANCELED);\n+                finish();\n             }\n         }));\n     }\n \n-    private void startLoader(final Trackable newTrackable) {\n+    private void startLoader(@NonNull final Trackable newTrackable) {\n         trackable \u003d newTrackable;\n         // Start loading in background\n         getSupportLoaderManager().initLoader(connector.getTrackableLoggingManagerLoaderId(), null, LogTrackableActivity.this).forceLoad();\n         displayTrackable();\n     }\n \n     private void displayTrackable() {\n-        if (trackable \u003d\u003d null) {\n-            Log.e(\"LogTrackableActivity.onCreate, cannot load trackable: \" + geocode);\n-            showProgress(false);\n-\n-            if (StringUtils.isNotBlank(geocode)) {\n-                showToast(res.getString(R.string.err_tb_find) + \u0027 \u0027 + geocode + \u0027.\u0027);\n-            } else {\n-                showToast(res.getString(R.string.err_tb_find_that));\n-            }\n-\n-            setResult(RESULT_CANCELED);\n-            finish();\n-            return;\n-        }\n-\n         // We\u0027re in LogTrackableActivity, so trackable must be loggable ;)\n         if (!trackable.isLoggable()) {\n             showProgress(false);"
        }
      ]
    }
  },
  {
    "name": "NPE in BaseMapFragment.onRegionTaskFinished() getting map center as location ",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/612",
    "description": "**Summary:** \n\nFrom Android Developer Console for v2.0.16:\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027double android.location.Location.getLatitude()\u0027 on a null object reference\n    at org.onebusaway.android.map.googlemapsv2.BaseMapFragment.onRegionTaskFinished(BaseMapFragment.java:527)\n    at org.onebusaway.android.region.ObaRegionsTask$2.run(ObaRegionsTask.java:267)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5422)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n\n**Steps to reproduce:** \n\nUnknown\n\n**Expected behavior:** \n\nNo crash\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\n```\nNexus 6P (angler)\nManufacturer Google \nAndroid version Android 6.0 \nRAM (MB) 3072 \nScreen size 1440 × 2560 \nScreen density (dpi) 560 \nOpenGL ES version 3.1 \nNative platform armeabi-v7a \nCPU make Qualcomm \nCPU model MSM8994\n```\n",
    "keywords": [
      "handler",
      "os",
      "method",
      "android",
      "basemapfragment",
      "location",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/f7af4d434e103a600fbff3073adf2c5247687c15",
      "files": [
        {
          "file_name": "onebusaway-android/src/amazon/java/org/onebusaway/android/map/googlemapsv2/BaseMapFragment.java",
          "patch": "@@ -537,10 +537,11 @@ public void onRegionTaskFinished(boolean currentRegionChanged) {\n                 .getLastKnownLocation(getActivity(), mLocationHelper.getGoogleApiClient());\n         // If the region changed, and we don\u0027t have a location or the map center is still (0,0),\n         // then zoom to the region\n+        Location mapCenter \u003d getMapCenterAsLocation();\n         if (currentRegionChanged \u0026\u0026\n                 (l \u003d\u003d null ||\n-                        (getMapCenterAsLocation().getLatitude() \u003d\u003d 0.0 \u0026\u0026\n-                                getMapCenterAsLocation().getLongitude() \u003d\u003d 0.0))) {\n+                        (mapCenter !\u003d null \u0026\u0026 mapCenter.getLatitude() \u003d\u003d 0.0 \u0026\u0026\n+                                mapCenter.getLongitude() \u003d\u003d 0.0))) {\n             zoomToRegion();\n         }\n "
        },
        {
          "file_name": "onebusaway-android/src/google/java/org/onebusaway/android/map/googlemapsv2/BaseMapFragment.java",
          "patch": "@@ -526,10 +526,11 @@ public void onRegionTaskFinished(boolean currentRegionChanged) {\n                 .getLastKnownLocation(getActivity(), mLocationHelper.getGoogleApiClient());\n         // If the region changed, and we don\u0027t have a location or the map center is still (0,0),\n         // then zoom to the region\n+        Location mapCenter \u003d getMapCenterAsLocation();\n         if (currentRegionChanged \u0026\u0026\n                 (l \u003d\u003d null ||\n-                        (getMapCenterAsLocation().getLatitude() \u003d\u003d 0.0 \u0026\u0026\n-                                getMapCenterAsLocation().getLongitude() \u003d\u003d 0.0))) {\n+                        (mapCenter !\u003d null \u0026\u0026 mapCenter.getLatitude() \u003d\u003d 0.0 \u0026\u0026\n+                                mapCenter.getLongitude() \u003d\u003d 0.0))) {\n             zoomToRegion();\n         }\n "
        }
      ]
    }
  },
  {
    "name": "Failed to show external tms select dialog",
    "url": "https://github.com/nextgis/android_gisapp/issues/485",
    "description": "```\njava.lang.RuntimeException: Can not create dir /storage/emulated/0/Android/data/com.nextgis.mobile/cache/qms_icons\n    at com.nextgis.maplib.util.FileUtil.createDir(FileUtil.java:102)\n    at com.nextgis.maplib.util.MapUtil.prepareTempDir(MapUtil.java:61)\n    at com.nextgis.maplibui.dialog.CreateFromQMSLayerDialog.onCreateDialog(CreateFromQMSLayerDialog.java:131)\n    at android.support.v4.app.DialogFragment.getLayoutInflater(DialogFragment.java:307)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1286)\n    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:758)\n    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1671)\n    at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:532)\n    at android.os.Handler.handleCallback(Handler.java:725)\n    at android.os.Handler.dispatchMessage(Handler.java:92)\n    at android.os.Looper.loop(Looper.java:137)\n    at android.app.ActivityThread.main(ActivityThread.java:5041)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:511)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "os",
      "method",
      "nextgis",
      "android",
      "android support",
      "support v4",
      "main",
      "run",
      "java",
      "v4 app",
      "fragmentmanager",
      "lang",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/6157d815bd3fc3d1b691a05218ccd5c435f55c3a",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/MainApplication.java",
          "patch": "@@ -241,7 +241,7 @@ public void initBaseLayers() {\n                 public void run() {\n                     try {\n                         layer.fillFromZip(Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.raw.mapnik), null);\n-                    } catch (IOException | NGException e) {\n+                    } catch (IOException | NGException | RuntimeException e) {\n                         e.printStackTrace();\n                     }\n                 }"
        },
        {
          "file_name": "maplib",
          "patch": "@@ -1 +1 @@\n-Subproject commit 30059bf550708e45c846a49c38cd673967c7a8f2\n+Subproject commit 021a563dceb0279bef74df8ddf2a201cbb2b74ce"
        },
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit d63b861e05418a0216363086a21bed80db5e6b6b\n+Subproject commit 9349b0e161e8b487e265a0377c217ec61880131a"
        }
      ]
    }
  },
  {
    "name": "crash when entering arbitrary text in directions (refactoring incomplete)",
    "url": "https://github.com/grote/Transportr/issues/254",
    "description": "There seems to be a regression in current `master`. When I enter arbitrary text as e.g. destination together with a valid from and hit Search the app will crash with the attached exception.\r\nIt seems to be reproducible with every network. My current commit is faa5c85b24f9c5d69b6977a53db762cc3352daa1.\r\nThe crash occurs on [line 497](https://github.com/grote/Transportr/blob/754327e2cf5ceeddf0e717072eccb9b1cd7b2a21/src/de/grobox/liberario/fragments/DirectionsFragment.java#L497-L497) in the DirectionsFragment.\r\nI assume the problem is that this line has not been refactored. (It uses an ID for a location of type ANY)\r\n\r\n\r\n```\r\n11-04 13:18:33.979 10961-10961/de.grobox.liberario.debug E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                           Process: de.grobox.liberario.debug, PID: 10961\r\n                                                                           java.lang.IllegalArgumentException: type ANY cannot have ID\r\n                                                                               at com.google.common.base.Preconditions.checkArgument(Preconditions.java:122)\r\n                                                                               at de.schildbach.pte.dto.Location.\u003cinit\u003e(Location.java:60)\r\n                                                                               at de.schildbach.pte.dto.Location.\u003cinit\u003e(Location.java:0)\r\n                                                                               at de.schildbach.pte.dto.Location.\u003cinit\u003e(Location.java:0)\r\n                                                                               at de.grobox.liberario.fragments.DirectionsFragment.checkLocation(DirectionsFragment.java:497)\r\n                                                                               at de.grobox.liberario.fragments.DirectionsFragment.search(DirectionsFragment.java:365)\r\n                                                                               at de.grobox.liberario.fragments.DirectionsFragment.access$500(DirectionsFragment.java:95)\r\n                                                                               at de.grobox.liberario.fragments.DirectionsFragment$4.onClick(DirectionsFragment.java:175)\r\n                                                                               at android.view.View.performClick(View.java:4781)\r\n                                                                               at android.view.View$PerformClick.run(View.java:19874)\r\n                                                                               at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                               at android.os.Looper.loop(Looper.java:135)\r\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                               at java.lang.reflect.Method.invoke(Method.java:372)\r\n                                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)\r\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)\r\n```",
    "keywords": [
      "com",
      "pte",
      "de",
      "handler",
      "directionsfragment",
      "liberario",
      "os",
      "method",
      "android",
      "main",
      "\u003cinit\u003e",
      "crash",
      "de grobox",
      "view",
      "java",
      "fragments",
      "schildbach",
      "location",
      "grobox",
      "grobox liberario",
      "lang",
      "dto",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/grote/Transportr/commit/f564f0c9d7bff5cc2fbe1ec457fa029311569252",
      "files": [
        {
          "file_name": "src/de/grobox/liberario/data/RecentsDB.java",
          "patch": "@@ -38,13 +38,15 @@\n import de.schildbach.pte.dto.Location;\n import de.schildbach.pte.dto.LocationType;\n \n+import static de.grobox.liberario.Preferences.getNetwork;\n+\n public class RecentsDB {\n \n \t/* FavLocation */\n \n \tpublic static List\u003cFavLocation\u003e getFavLocationList(Context context) {\n \t\tList\u003cFavLocation\u003e fav_list \u003d new ArrayList\u003c\u003e();\n-\t\tString network \u003d Preferences.getNetwork(context);\n+\t\tString network \u003d getNetwork(context);\n \t\tif(network \u003d\u003d null) return fav_list;\n \n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n@@ -97,12 +99,7 @@ else if(sort \u003d\u003d FavLocation.LOC_TYPE.TO) {\n \n \tpublic static void updateFavLocation(Context context, Location loc, FavLocation.LOC_TYPE loc_type) {\n \t\tif(loc \u003d\u003d null || loc.type \u003d\u003d LocationType.COORD || loc.type \u003d\u003d LocationType.ANY) {\n-\t\t\t// don\u0027t store GPS or ANY locations\n-\t\t\treturn;\n-\t\t}\n-\n-\t\tif(loc.id !\u003d null \u0026\u0026 loc.id.equals(\"IS_AMBIGUOUS\")) {\n-\t\t\t// don\u0027t store ambiguous locations\n+\t\t\t// don\u0027t store GPS or ANY locations (includes ambiguous locations)\n \t\t\treturn;\n \t\t}\n \n@@ -112,7 +109,7 @@ public static void updateFavLocation(Context context, Location loc, FavLocation.\n \t\tif(loc.hasId()) {\n \t\t\t// use location id to identify location\n \t\t\twhereClause \u003d \"network \u003d ? AND id \u003d ?\";\n-\t\t\twhereArgs \u003d new String[] { Preferences.getNetwork(context), loc.id };\n+\t\t\twhereArgs \u003d new String[] { getNetwork(context), loc.id };\n \t\t} else {\n \t\t\t// use other values to identify location\n \t\t\tString lat \u003d String.valueOf(loc.lat);\n@@ -121,7 +118,7 @@ public static void updateFavLocation(Context context, Location loc, FavLocation.\n \t\t\tString name \u003d loc.name \u003d\u003d null ? \"\" : loc.name;\n \n \t\t\twhereClause \u003d \"network \u003d ? AND type \u003d ? AND lat \u003d ? AND lon \u003d ? AND place \u003d ? AND name \u003d ?\";\n-\t\t\twhereArgs \u003d new String[] { Preferences.getNetwork(context), loc.type.name(), lat, lon, place, name };\n+\t\t\twhereArgs \u003d new String[] { getNetwork(context), loc.type.name(), lat, lon, place, name };\n \t\t}\n \n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n@@ -154,7 +151,7 @@ else if(loc_type \u003d\u003d FavLocation.LOC_TYPE.TO) {\n \t\t}\n \t\telse {\n \t\t\t// add new favorite location\n-\t\t\tvalues.put(\"network\", Preferences.getNetwork(context));\n+\t\t\tvalues.put(\"network\", getNetwork(context));\n \t\t\tvalues.put(\"type\", loc.type.name());\n \t\t\tvalues.put(\"id\", loc.id);\n \t\t\tvalues.put(\"lat\", loc.lat);\n@@ -193,7 +190,7 @@ else if(loc_type \u003d\u003d FavLocation.LOC_TYPE.TO) {\n \t\tList\u003cRecentTrip\u003e recent_list \u003d new ArrayList\u003c\u003e();\n \n \t\t// when the app starts for the first time, no network is selected\n-\t\tif(Preferences.getNetwork(context) \u003d\u003d null)  return recent_list;\n+\t\tif(getNetwork(context) \u003d\u003d null)  return recent_list;\n \n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n \t\tSQLiteDatabase db \u003d mDbHelper.getReadableDatabase();\n@@ -210,7 +207,7 @@ else if(loc_type \u003d\u003d FavLocation.LOC_TYPE.TO) {\n \t\t\t\"WHERE r.network \u003d ? \" +\n \t\t\t\"ORDER BY \" + (sort_count ? \"r.count\" : \"r.last_used\") + \" DESC\";\n \n-\t\tCursor c \u003d db.rawQuery(RECENT_TRIPS, new String[]{ Preferences.getNetwork(context) });\n+\t\tCursor c \u003d db.rawQuery(RECENT_TRIPS, new String[]{ getNetwork(context) });\n \n \t\twhile(c.moveToNext()) {\n \t\t\tLocation from \u003d getLocation(c, \"from_\");\n@@ -231,7 +228,7 @@ else if(loc_type \u003d\u003d FavLocation.LOC_TYPE.TO) {\n \t\tList\u003cRecentTrip\u003e favourite_list \u003d new ArrayList\u003c\u003e();\n \n \t\t// when the app starts for the first time, no network is selected\n-\t\tif(Preferences.getNetwork(context) \u003d\u003d null)  return favourite_list;\n+\t\tif(getNetwork(context) \u003d\u003d null)  return favourite_list;\n \n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n \t\tSQLiteDatabase db \u003d mDbHelper.getReadableDatabase();\n@@ -248,7 +245,7 @@ else if(loc_type \u003d\u003d FavLocation.LOC_TYPE.TO) {\n \t\t\t\"WHERE r.network \u003d ? AND r.is_favourite \u003e 0 \" +\n \t\t\t\"ORDER BY r.count DESC\";\n \n-\t\tCursor c \u003d db.rawQuery(FAVOURITE_TRIPS, new String[]{ Preferences.getNetwork(context) });\n+\t\tCursor c \u003d db.rawQuery(FAVOURITE_TRIPS, new String[]{ getNetwork(context) });\n \n \t\twhile(c.moveToNext()) {\n \t\t\tLocation from \u003d getLocation(c, \"from_\");\n@@ -276,19 +273,19 @@ public static void updateRecentTrip(Context context, RecentTrip recent) {\n \t\t\treturn;\n \t\t}\n \n-\t\tif( (recent.getFrom().id !\u003d null \u0026\u0026 recent.getFrom().id.equals(\"IS_AMBIGUOUS\")) ||\n-\t\t\t\t(recent.getVia() !\u003d null \u0026\u0026 recent.getVia().id !\u003d null \u0026\u0026 recent.getVia().id.equals(\"IS_AMBIGUOUS\")) ||\n-\t\t\t\t(recent.getTo().id !\u003d null \u0026\u0026 recent.getTo().id.equals(\"IS_AMBIGUOUS\")) ) {\n-\t\t\t// don\u0027t store trips with ambiguous locations\n+\t\tif( (recent.getFrom().type \u003d\u003d LocationType.ANY) ||\n+\t\t\t\t(recent.getVia() !\u003d null \u0026\u0026 recent.getVia().type \u003d\u003d LocationType.ANY) ||\n+\t\t\t\t(recent.getTo().type \u003d\u003d LocationType.ANY) ) {\n+\t\t\t// don\u0027t store trips with ANY locations (includes ambiguous locations)\n \t\t\treturn;\n \t\t}\n \n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n \t\tSQLiteDatabase db \u003d mDbHelper.getWritableDatabase();\n \n-\t\tint from_id \u003d getLocationId(db, recent.getFrom(), Preferences.getNetwork(context));\n-\t\tint via_id \u003d getLocationId(db, recent.getVia(), Preferences.getNetwork(context));\n-\t\tint to_id \u003d getLocationId(db, recent.getTo(), Preferences.getNetwork(context));\n+\t\tint from_id \u003d getLocationId(db, recent.getFrom(), getNetwork(context));\n+\t\tint via_id \u003d getLocationId(db, recent.getVia(), getNetwork(context));\n+\t\tint to_id \u003d getLocationId(db, recent.getTo(), getNetwork(context));\n \n \t\tif(from_id \u003c 0 || to_id \u003c 0) {\n \t\t\tdb.close();\n@@ -308,8 +305,8 @@ public static void updateRecentTrip(Context context, RecentTrip recent) {\n \t\t\t\t\t\t\"network \u003d ? AND from_loc \u003d ? AND via_loc \u003d ? AND to_loc \u003d ?\"\n \t\t\t\t),\n \t\t\t\t(via_id \u003c 0 ?\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, to } :\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, via, to }\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, to } :\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, via, to }\n \t\t\t\t),\n \t\t\t\tnull,   // don\u0027t group the rows\n \t\t\t\tnull,   // don\u0027t filter by row groups\n@@ -331,7 +328,7 @@ public static void updateRecentTrip(Context context, RecentTrip recent) {\n \t\t}\n \t\telse {\n \t\t\t// add new recent trip trip database\n-\t\t\tvalues.put(\"network\", Preferences.getNetwork(context));\n+\t\t\tvalues.put(\"network\", getNetwork(context));\n \t\t\tvalues.put(\"from_loc\", from_id);\n \t\t\tif(via_id \u003c 0) values.putNull(\"via_loc\");\n \t\t\telse values.put(\"via_loc\", via_id);\n@@ -360,9 +357,9 @@ public static void toggleFavouriteTrip(Context context, RecentTrip recent) {\n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n \t\tSQLiteDatabase db \u003d mDbHelper.getWritableDatabase();\n \n-\t\tint from_id \u003d getLocationId(db, recent.getFrom(), Preferences.getNetwork(context));\n-\t\tint via_id \u003d getLocationId(db, recent.getVia(), Preferences.getNetwork(context));\n-\t\tint to_id \u003d getLocationId(db, recent.getTo(), Preferences.getNetwork(context));\n+\t\tint from_id \u003d getLocationId(db, recent.getFrom(), getNetwork(context));\n+\t\tint via_id \u003d getLocationId(db, recent.getVia(), getNetwork(context));\n+\t\tint to_id \u003d getLocationId(db, recent.getTo(), getNetwork(context));\n \n \t\tif(from_id \u003c 0 || to_id \u003c 0) {\n \t\t\tdb.close();\n@@ -382,8 +379,8 @@ public static void toggleFavouriteTrip(Context context, RecentTrip recent) {\n \t\t\t\t\t\t\"network \u003d ? AND from_loc \u003d ? AND via_loc \u003d ? AND to_loc \u003d ?\"\n \t\t\t\t),\n \t\t\t\t(via_id \u003c 0 ?\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, to } :\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, via, to }\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, to } :\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, via, to }\n \t\t\t\t),\n \t\t\t\tnull,   // don\u0027t group the rows\n \t\t\t\tnull,   // don\u0027t filter by row groups\n@@ -404,9 +401,9 @@ public static boolean isFavedRecentTrip(Context context, RecentTrip recent) {\n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n \t\tSQLiteDatabase db \u003d mDbHelper.getWritableDatabase();\n \n-\t\tint from_id \u003d getLocationId(db, recent.getFrom(), Preferences.getNetwork(context));\n-\t\tint via_id \u003d getLocationId(db, recent.getVia(), Preferences.getNetwork(context));\n-\t\tint to_id \u003d getLocationId(db, recent.getTo(), Preferences.getNetwork(context));\n+\t\tint from_id \u003d getLocationId(db, recent.getFrom(), getNetwork(context));\n+\t\tint via_id \u003d getLocationId(db, recent.getVia(), getNetwork(context));\n+\t\tint to_id \u003d getLocationId(db, recent.getTo(), getNetwork(context));\n \n \t\tif(from_id \u003c 0 || to_id \u003c 0) {\n \t\t\tdb.close();\n@@ -426,8 +423,8 @@ public static boolean isFavedRecentTrip(Context context, RecentTrip recent) {\n \t\t\t\t\t\t\"network \u003d ? AND from_loc \u003d ? AND via_loc \u003d ? AND to_loc \u003d ?\"\n \t\t\t\t),\n \t\t\t\t(via_id \u003c 0 ?\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, to } :\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, via, to }\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, to } :\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, via, to }\n \t\t\t\t),\n \t\t\t\tnull,   // don\u0027t group the rows\n \t\t\t\tnull,   // don\u0027t filter by row groups\n@@ -452,9 +449,9 @@ public static void deleteRecentTrip(Context context, RecentTrip recent) {\n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n \t\tSQLiteDatabase db \u003d mDbHelper.getWritableDatabase();\n \n-\t\tint from_id \u003d getLocationId(db, recent.getFrom(), Preferences.getNetwork(context));\n-\t\tint via_id \u003d getLocationId(db, recent.getVia(), Preferences.getNetwork(context));\n-\t\tint to_id \u003d getLocationId(db, recent.getTo(), Preferences.getNetwork(context));\n+\t\tint from_id \u003d getLocationId(db, recent.getFrom(), getNetwork(context));\n+\t\tint via_id \u003d getLocationId(db, recent.getVia(), getNetwork(context));\n+\t\tint to_id \u003d getLocationId(db, recent.getTo(), getNetwork(context));\n \n \t\tif(from_id \u003c 0 || to_id \u003c 0) {\n \t\t\tdb.close();\n@@ -471,8 +468,8 @@ public static void deleteRecentTrip(Context context, RecentTrip recent) {\n \t\t\t\t\t\t\"network \u003d ? AND from_loc \u003d ? AND via_loc \u003d ? AND to_loc \u003d ?\"\n \t\t\t\t),\n \t\t\t\t(via_id \u003c 0 ?\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, to } :\n-\t\t\t\t\t\tnew String[] { Preferences.getNetwork(context), from, via, to }\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, to } :\n+\t\t\t\t\t\tnew String[] { getNetwork(context), from, via, to }\n \t\t\t\t));\n \n \t\tdb.close();\n@@ -484,7 +481,7 @@ public static void deleteRecentTrip(Context context, RecentTrip recent) {\n \tpublic static Location getHome(Context context) {\n \t\tLocation home \u003d null;\n \n-\t\tString network \u003d Preferences.getNetwork(context);\n+\t\tString network \u003d getNetwork(context);\n \t\tif(network \u003d\u003d null) return null;\n \n \t\tDBHelper mDbHelper \u003d new DBHelper(context);\n@@ -516,7 +513,7 @@ public static void setHome(Context context, Location home) {\n \n \t\t// prepare values for new home location\n \t\tContentValues values \u003d new ContentValues();\n-\t\tvalues.put(\"network\", Preferences.getNetwork(context));\n+\t\tvalues.put(\"network\", getNetwork(context));\n \t\tvalues.put(\"type\", home.type.name());\n \t\tvalues.put(\"id\", home.id);\n \t\tvalues.put(\"lat\", home.lat);\n@@ -529,15 +526,15 @@ public static void setHome(Context context, Location home) {\n \t\t\tDBHelper.TABLE_HOME_LOCS,   // The table to query\n \t\t\tnew String[] { \"_id\" },     // The columns to return (null \u003d\u003d all)\n \t\t\t\"network \u003d ?\",              // The columns for the WHERE clause\n-\t\t\tnew String[] { Preferences.getNetwork(context) }, // The values for the WHERE clause\n+\t\t\tnew String[] { getNetwork(context) }, // The values for the WHERE clause\n \t\t\tnull,   // don\u0027t group the rows\n \t\t\tnull,   // don\u0027t filter by row groups\n \t\t\tnull    // The sort order\n \t\t);\n \n \t\tif(c.getCount() \u003e 0) {\n \t\t\t// found previous home location, so update entry\n-\t\t\tdb.update(DBHelper.TABLE_HOME_LOCS, values, \"network \u003d ?\", new String[] { Preferences.getNetwork(context) });\n+\t\t\tdb.update(DBHelper.TABLE_HOME_LOCS, values, \"network \u003d ?\", new String[] { getNetwork(context) });\n \t\t} else {\n \t\t\t// no previous home location found, so insert new entry\n \t\t\tdb.insert(DBHelper.TABLE_HOME_LOCS, null, values);"
        },
        {
          "file_name": "src/de/grobox/liberario/fragments/DirectionsFragment.java",
          "patch": "@@ -494,7 +494,7 @@ private Boolean checkLocation(LocationView loc_view) {\n \t\t\t// no location was selected by user\n \t\t\tif(loc_view.getText() !\u003d null \u0026\u0026 loc_view.getText().length() \u003e 0) {\n \t\t\t\t// no location selected, but text entered. So let\u0027s try create locations from text\n-\t\t\t\tloc_view.setLocation(new Location(LocationType.ANY, \"IS_AMBIGUOUS\", loc_view.getText(), loc_view.getText()), null);\n+\t\t\t\tloc_view.setLocation(new Location(LocationType.ANY, null, loc_view.getText(), loc_view.getText()));\n \n \t\t\t\treturn true;\n \t\t\t}"
        }
      ]
    }
  },
  {
    "name": "NPE when setting focused stop in BaseMapFragment.setupStopOverlay()",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/683",
    "description": "**Summary:** \n\nFrom Google  Play Developer Console for v2.1.2 and v2.1.3:\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027void com.google.android.gms.maps.GoogleMap.setOnMarkerClickListener(com.google.android.gms.maps.GoogleMap$OnMarkerClickListener)\u0027 on a null object reference\n    at org.onebusaway.android.map.googlemapsv2.StopOverlay.\u003cinit\u003e(StopOverlay.java:135)\n    at org.onebusaway.android.map.googlemapsv2.BaseMapFragment.setupStopOverlay(BaseMapFragment.java:354)\n    at org.onebusaway.android.map.googlemapsv2.BaseMapFragment.setFocusStop(BaseMapFragment.java:931)\n    at org.onebusaway.android.report.ui.InfrastructureIssueActivity.prepareServiceList(InfrastructureIssueActivity.java:762)\n    at org.onebusaway.android.report.ui.InfrastructureIssueActivity.onServicesTaskCompleted(InfrastructureIssueActivity.java:729)\n    at org.onebusaway.android.report.connection.ServiceListTask.onPostExecute(ServiceListTask.java:85)\n    at org.onebusaway.android.report.connection.ServiceListTask.onPostExecute(ServiceListTask.java:33)\n    at android.os.AsyncTask.finish(AsyncTask.java:651)\n    at android.os.AsyncTask.access$500(AsyncTask.java:180)\n    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:168)\n    at android.app.ActivityThread.main(ActivityThread.java:5885)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:819)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:709)\n```\n\nThere is also a similar-ish stack trace only for v2.1.2:\n\n```\njava.lang.NullPointerException\n    at org.onebusaway.android.map.googlemapsv2.StopOverlay.\u003cinit\u003e(StopOverlay.java:135)\n    at org.onebusaway.android.map.googlemapsv2.BaseMapFragment.setupStopOverlay(BaseMapFragment.java:359)\n    at org.onebusaway.android.map.googlemapsv2.BaseMapFragment.setFocusStop(BaseMapFragment.java:936)\n    at org.onebusaway.android.ui.HomeActivity.onArrivalTimesUpdated(HomeActivity.java:923)\n    at org.onebusaway.android.ui.ArrivalsListFragment.onLoadFinished(ArrivalsListFragment.java:501)\n    at org.onebusaway.android.ui.ArrivalsListFragment.onLoadFinished(ArrivalsListFragment.java:89)\n    at android.support.v4.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:476)\n    at android.support.v4.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:444)\n    at android.support.v4.content.Loader.deliverResult(Loader.java:126)\n    at org.onebusaway.android.ui.ArrivalsListLoader.deliverResult(ArrivalsListLoader.java:59)\n    at org.onebusaway.android.ui.ArrivalsListLoader.deliverResult(ArrivalsListLoader.java:27)\n    at android.support.v4.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:249)\n    at android.support.v4.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:77)\n    at android.support.v4.content.ModernAsyncTask.finish(ModernAsyncTask.java:466)\n    at android.support.v4.content.ModernAsyncTask.access$400(ModernAsyncTask.java:48)\n    at android.support.v4.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:483)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:136)\n    at android.app.ActivityThread.main(ActivityThread.java:5034)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n\n**Steps to reproduce:** \n\nUnknown\n\n**Expected behavior:** \n\nNot crash\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\n```\nDevice\nHTC 10 (htc_pmewl)\nManufacturer HTC \nAndroid version Android 6.0 \nRAM (MB) 4096 \nScreen size 1440 × 2560 \nScreen density (dpi) 640 \nOpenGL ES version 3.1 \nNative platform armeabi-v7a \nCPU make Qualcomm \nCPU model MSM8996\n```\n\n```\nGrand S Flex (iris)\nManufacturer ZTE \nAndroid version Android 4.1 \nRAM (MB) 1024 \nScreen size 720 × 1280 \nScreen density (dpi) 320 \nOpenGL ES version 2.0 \nNative platform armeabi-v7a \nCPU make Qualcomm \nCPU model MSM8930\n```\n\n**Screenshots:** \n\nN/A\n\n@cagryInside If you have a chance to look at this and see what might be happening (top stack trace includes Open311 API call) any wisdom is appreciated.  Looks like it\u0027s potentially related to setting a focus stop before the overlay initializes.  If not, no worries, I\u0027ll take a look myself.\n",
    "keywords": [
      "android report",
      "com",
      "handler",
      "support v4",
      "screen",
      "invoke",
      "main",
      "arrivalslistfragment",
      "onebusaway android",
      "reflect",
      "java",
      "ui",
      "deliverresult",
      "servicelisttask",
      "map googlemapsv2",
      "app",
      "android os",
      "method",
      "stopoverlay",
      "cpu",
      "setupstopoverlay",
      "onebusaway",
      "google",
      "version",
      "googlemapsv2",
      "1",
      "2",
      "infrastructureissueactivity",
      "onpostexecute",
      "support",
      "internal",
      "arrivalslistloader",
      "asynctask",
      "modernasynctask",
      "android",
      "android support",
      "looper",
      "v4 content",
      "content",
      "native",
      "lang",
      "map",
      "zygoteinit",
      "android map",
      "os",
      "org",
      "activitythread",
      "org onebusaway",
      "asynctaskloader",
      "report",
      "basemapfragment",
      "v2",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/27979debe534a77731a551cb2bd79326362a5841",
      "files": [
        {
          "file_name": "onebusaway-android/src/amazon/java/org/onebusaway/android/map/googlemapsv2/BaseMapFragment.java",
          "patch": "@@ -360,11 +360,23 @@ public boolean isRouteDisplayed() {\n                 MapParams.MODE_ROUTE.equals(mController.getMode());\n     }\n \n-    public void setupStopOverlay() {\n-        if (mStopOverlay \u003d\u003d null) {\n-            mStopOverlay \u003d new StopOverlay(getActivity(), mMap);\n-            mStopOverlay.setOnFocusChangeListener(this);\n+    /**\n+     * Initialize the Stop Overlay\n+     *\n+     * @return true if the overlay was successfully initialized, false if it was not\n+     */\n+    public boolean setupStopOverlay() {\n+        if (mStopOverlay !\u003d null) {\n+            // Overlay was previously initialized and can be used\n+            return true;\n         }\n+        if (mMap \u003d\u003d null) {\n+            // We need a map reference to initialize the overlay\n+            return false;\n+        }\n+        mStopOverlay \u003d new StopOverlay(getActivity(), mMap);\n+        mStopOverlay.setOnFocusChangeListener(this);\n+        return true;\n     }\n \n     public void setupVehicleOverlay() {\n@@ -494,10 +506,8 @@ public void showProgress(boolean show) {\n \n     @Override\n     public void showStops(List\u003cObaStop\u003e stops, ObaReferences refs) {\n-        // Make sure that the stop overlay has been initialized\n-        setupStopOverlay();\n-\n-        if (stops !\u003d null) {\n+        // Make sure that the stop overlay has been successfully initialized\n+        if (setupStopOverlay() \u0026\u0026 stops !\u003d null) {\n             mStopOverlay.populateStops(stops, refs);\n         }\n     }\n@@ -938,10 +948,10 @@ public boolean canWatchMapChanges() {\n      */\n     @Override\n     public void setFocusStop(ObaStop stop, List\u003cObaRoute\u003e routes) {\n-        // Make sure that the stop overlay has been initialized\n-        setupStopOverlay();\n-\n-        mStopOverlay.setFocus(stop, routes);\n+        // Make sure that the stop overlay has been successfully initialized before setting focus\n+        if (setupStopOverlay()) {\n+            mStopOverlay.setFocus(stop, routes);\n+        }\n     }\n \n     @Override"
        },
        {
          "file_name": "onebusaway-android/src/google/java/org/onebusaway/android/map/googlemapsv2/BaseMapFragment.java",
          "patch": "@@ -349,11 +349,23 @@ public boolean isRouteDisplayed() {\n                 MapParams.MODE_ROUTE.equals(mController.getMode());\n     }\n \n-    public void setupStopOverlay() {\n-        if (mStopOverlay \u003d\u003d null) {\n-            mStopOverlay \u003d new StopOverlay(getActivity(), mMap);\n-            mStopOverlay.setOnFocusChangeListener(this);\n+    /**\n+     * Initialize the Stop Overlay\n+     *\n+     * @return true if the overlay was successfully initialized, false if it was not\n+     */\n+    public boolean setupStopOverlay() {\n+        if (mStopOverlay !\u003d null) {\n+            // Overlay was previously initialized and can be used\n+            return true;\n         }\n+        if (mMap \u003d\u003d null) {\n+            // We need a map reference to initialize the overlay\n+            return false;\n+        }\n+        mStopOverlay \u003d new StopOverlay(getActivity(), mMap);\n+        mStopOverlay.setOnFocusChangeListener(this);\n+        return true;\n     }\n \n     public void setupVehicleOverlay() {\n@@ -483,10 +495,8 @@ public void showProgress(boolean show) {\n \n     @Override\n     public void showStops(List\u003cObaStop\u003e stops, ObaReferences refs) {\n-        // Make sure that the stop overlay has been initialized\n-        setupStopOverlay();\n-\n-        if (stops !\u003d null) {\n+        // Make sure that the stop overlay has been successfully initialized\n+        if (setupStopOverlay() \u0026\u0026 stops !\u003d null) {\n             mStopOverlay.populateStops(stops, refs);\n         }\n     }\n@@ -927,10 +937,10 @@ public boolean canWatchMapChanges() {\n      */\n     @Override\n     public void setFocusStop(ObaStop stop, List\u003cObaRoute\u003e routes) {\n-        // Make sure that the stop overlay has been initialized\n-        setupStopOverlay();\n-\n-        mStopOverlay.setFocus(stop, routes);\n+        // Make sure that the stop overlay has been successfully initialized before setting focus\n+        if (setupStopOverlay()) {\n+            mStopOverlay.setFocus(stop, routes);\n+        }\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "Crash in Edit Images",
    "url": "https://github.com/fossasia/phimpme-android/issues/294",
    "description": "**Actual Behaviour**\r\n\r\nI was editing an image. Editing as in I was applying a filter and cropped the image and saved it. Then I clicked on the image and chose to edit again. I cropped the image a little bit more and saved and the app crashed. It happened many times to me; so reporting as a bug!\r\n\r\n**Expected Behaviour**\r\n\r\nApp should not crash. The image edited should be saved!\r\n\r\n**Steps to reproduce it**\r\n\r\n1. Open app\r\n2. Click on an image and get the big image view\r\n3. Click on the FAB and select _Edit_ button to open edit view\r\n4. Apply a filter and crop the image\r\n5. Click save\r\n6. From the gallery, select the saved edited image\r\n7. Get the image to editing view again\r\n8. Crop the image again\r\n9. Click _Save_\r\n\r\n**LogCat for the issue**\r\n\r\n\u003e 04-02 19:59:57.324 20031-20031/vn.mbm.phimp.me E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                 java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@41c07098\r\n                                                                     at android.graphics.Canvas.throwIfRecycled(Canvas.java:1026)\r\n                                                                     at android.graphics.Canvas.drawBitmap(Canvas.java:1127)\r\n                                                                     at vn.mbm.phimp.me.image.CropImage.onSaveClicked(CropImage.java:772)\r\n                                                                     at vn.mbm.phimp.me.image.CropImage.access$1100(CropImage.java:69)\r\n                                                                     at vn.mbm.phimp.me.image.CropImage$14.onClick(CropImage.java:496)\r\n                                                                     at android.view.View.performClick(View.java:4439)\r\n                                                                     at android.widget.Button.performClick(Button.java:139)\r\n                                                                     at android.view.View$PerformClick.run(View.java:18395)\r\n                                                                     at android.os.Handler.handleCallback(Handler.java:725)\r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:92)\r\n                                                                     at android.os.Looper.loop(Looper.java:176)\r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5317)\r\n                                                                     at java.lang.reflect.Method.invokeNative(Native Method)\r\n                                                                     at java.lang.reflect.Method.invoke(Method.java:511)\r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1102)\r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)\r\n                                                                     at dalvik.system.NativeStart.main(Native Method)\r\n\r\n**Screenshots of the issue**\r\n\r\n\u003e Not Available\r\n\r\n**Would you like to work on the issue?**\r\n\r\nI would like to give it a try!\r\n",
    "keywords": [
      "app",
      "cropimage",
      "image",
      "handler",
      "canvas",
      "method",
      "os",
      "edit",
      "saved",
      "android",
      "main",
      "graphics",
      "click",
      "phimp",
      "editing",
      "button",
      "view",
      "java",
      "vn",
      "mbm",
      "lang",
      "zygoteinit",
      "mbm phimp"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/phimpme-android/commit/3bb9df9867944a95d152dac3e75ab5f1159fa56f",
      "files": [
        {
          "file_name": "app/src/main/java/vn/mbm/phimp/me/image/CropImage.java",
          "patch": "@@ -59,22 +59,17 @@\n import vn.mbm.phimp.me.PhimpMe;\n import vn.mbm.phimp.me.R;\n \n-//import vn.mbm.phimp.me.UploadMap;\n-//import android.media.MediaScannerConnection;\n-//import android.view.View.OnClickListener;\n-\n /**\n  * The activity can crop specific region of interest from an image.\n  */\n-public class CropImage extends MonitoredActivity \n-{\n-\t\n-\tprivate static int brightnessValue \u003d 0;\n-\tprivate static float toDegree \u003d 90;\n-\tprivate static float fromDegree \u003d 0;\n+public class CropImage extends MonitoredActivity {\n+\n+    private static int brightnessValue \u003d 0;\n+    private static float toDegree \u003d 90;\n+    private static float fromDegree \u003d 0;\n     // These are various options can be specified in the intent.\n     private Bitmap.CompressFormat mOutputFormat \u003d\n-\tBitmap.CompressFormat.JPEG; // only used with mSaveUri\n+            Bitmap.CompressFormat.JPEG; // only used with mSaveUri\n     private Uri mSaveUri \u003d null;\n     private int mAspectX, mAspectY;\n     private boolean mCircleCrop \u003d false;\n@@ -105,414 +100,397 @@\n \n     private final int GET_POSITION_ON_MAP \u003d 5;\n     private String mImagePath;\n-    static int position ;\n-    private static boolean check\u003dfalse;\n-   // private String activityName;\n+    static int position;\n+    private static boolean check \u003d false;\n+    // private String activityName;\n     ProgressDialog gpsloading;\n     ImageButton btnUseMap;\n-    EditText txtPhotoTitle;\t\n-\tEditText txtLongtitude;\n-\tEditText txtLatitude;\n-\tEditText txtTags;\n-\tstatic Context ctx;\n-\tstatic String p[] \u003d null;\n+    EditText txtPhotoTitle;\n+    EditText txtLongtitude;\n+    EditText txtLatitude;\n+    EditText txtTags;\n+    static Context ctx;\n+    static String p[] \u003d null;\n     private String newpath;\n \n \n     @Override\n-    public void onCreate(Bundle icicle) \n-    {\n-    \ttry\n-    \t{\n-    \t\tsuper.onCreate(icicle);\n-    \t\tmContentResolver \u003d getContentResolver();\n-    \t\tctx \u003d this;    \t\t\n-    \t\tLog.d(\"crop image\",\"start\");\n-    \t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\n-    \t\tsetContentView(R.layout.cropimage);\n-    \t\tsetRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\t\t\n-    \t\tbtnSave\u003d(Button)findViewById(R.id.save);\n-    \t\t\n-    \t\ttxtPhotoTitle \u003d (EditText) findViewById(R.id.txtUploadPhotoTitle);\n-    \t\t\n-    \t\ttxtLongtitude \u003d (EditText) findViewById(R.id.txtUploadPhotoLongtitude);\n-    \t\t\n-    \t\ttxtLatitude \u003d (EditText) findViewById(R.id.txtUploadPhotoLatitude);\n-    \t\t\n-    \t\ttxtTags \u003d (EditText) findViewById(R.id.txtUploadPhotoTags);\n-    \t\tbtnUseMap \u003d (ImageButton) findViewById(R.id.btnUploadPhotoPutPos);\n-    \t\t/*btnUseMap.setOnClickListener(new OnClickListener() {\n-    \t\t\t\n-    \t\t\t@Override\n-    \t\t\tpublic void onClick(View v) \n-    \t\t\t{\n-    \t\t\t\tIntent _itent \u003d new Intent(ctx, UploadMap.class);\n-    \t\t\t\t\n-    \t\t\t\t_itent.putExtra(\"latitude\", txtLatitude.getText().toString());\n-    \t\t\t\t_itent.putExtra(\"longitude\", txtLongtitude.getText().toString());\n-    \t\t\t\tstartActivityForResult(_itent, GET_POSITION_ON_MAP);\n-    \t\t\t}\n-    \t\t});*/\n-    \t\tmImageView \u003d (CropImageView) findViewById(R.id.image);\n-    \t\tgpsloading \u003d new ProgressDialog(ctx);\n-    \t\tgpsloading.setCancelable(true);\n-    \t\tgpsloading.setCanceledOnTouchOutside(false);\n-    \t\tgpsloading.setTitle(getString(R.string.loading));\n-    \t\tgpsloading.setMessage(getString(R.string.infor_upload_loading_current_position));\n-    \t\tgpsloading.setIndeterminate(true);\n-    \t\tLog.d(\"cropimage\",\"cropimage running..\");\n-    \t\t//showStorageToast(this);\n-\t\t\tIntent intent \u003d getIntent();\n-\t\t\tBundle extras \u003d intent.getExtras();\n-\t\t\tif (extras !\u003d null) \n-\t\t\t{\n-\t\t\t\tif (extras.getString(\"circleCrop\") !\u003d null) \n-\t\t\t\t{\n-\t\t\t\t\tmCircleCrop \u003d true;\n-\t\t\t\t\tmAspectX \u003d 1;\n-\t\t\t\t\tmAspectY \u003d 1;\n-\t\t\t\t}\n-\t\t\t\t\n-\t\t\t\tmImagePath \u003d extras.getString(\"image-path\");\n-\t\t\t\tp \u003d mImagePath.split(\";\");\n-\t\t\t\t\n-\t\t\t\tif (p.length \u003d\u003d 2){\n-\t\t\t\t\tJSONObject js \u003d new JSONObject(p[1]);\n-\t\t\t\t\ttxtLatitude.setText(js.getString(\"lati\"));\n-\t\t\t\t\ttxtLongtitude.setText(js.getString(\"logi\"));\n-\t\t\t\t\ttxtPhotoTitle.setText(js.getString(\"name\"));\n-\t\t\t\t\ttxtTags.setText(js.getString(\"tags\"));\n-\t\t\t\t}\n-\t\t\t\tLog.d(\"path\",mImagePath);\n-\t\t\t\t//mSaveUri \u003d getImageUri(mImagePath);\n-\t\t\t\tDate date \u003d new Date();\n-\t\t\t\tLong longTime \u003d new Long(date.getTime()/1000);\n-\t\t\t\tnewpath \u003d PhimpMe.DataDirectory+\"/PhimpMe_Photo_Effect\"+\"/tmp_\"+longTime+\".jpg\";\n-\t\t\t\tmSaveUri \u003d getImageUri(newpath);\n-\t\t\t\tLog.d(\"mSaveUri\",mSaveUri.toString());\n-\t\t\t\tLog.d(\"p[0]\",p[0]);\t\n-\t\t\t\t\n-\t\t\t\tBitmapFactory.Options options \u003d new BitmapFactory.Options();\n-\t\t        options.inSampleSize \u003d 4;\t\t    \t\n-\t\t        mBitmap \u003d BitmapFactory.decodeFile( p[0], options );\n-\t\t        if(mBitmap.getWidth() %2 !\u003d 0||mBitmap.getHeight() %2 !\u003d 0){\n-\t\t        \t//bitmap width , height must even\n-\t\t        \tLog.i(\"CropImage\",\"mBitmap width or height not even\");\t\t\t        \t\n-\t\t        \tmBitmap\u003dBitmap.createScaledBitmap(mBitmap, mBitmap.getWidth()*4, mBitmap.getHeight()*4, false);\n-\t        \t\t\t\t        \t\n-\t\t        }\n-\t\t\t\tmodifiedBitmap\u003d flippedImaged \u003d mBitmap;\n-\t\t\t\t\n-\t\t\t\tLog.i(\"CropImage\", \"mBitmap Width :\"+mBitmap.getWidth()+\" mBitmap Height : \"+mBitmap.getHeight());\n-\t\t\t\tmAspectX \u003d extras.getInt(\"aspectX\");\n-\t\t\t    mAspectY \u003d extras.getInt(\"aspectY\");\n-\t\t\t    mOutputX \u003d extras.getInt(\"outputX\");\n-\t\t\t    mOutputY \u003d extras.getInt(\"outputY\");\n-\t\t\t    mScale \u003d extras.getBoolean(\"scale\", true);\n-\t\t\t    mScaleUp \u003d extras.getBoolean(\"scaleUpIfNeeded\", true);\t\n-\t\t\t    position \u003d extras.getInt(\"position\");\n-\t\t\t}\n-\t\t\tif (mBitmap \u003d\u003d null) \n-\t\t\t{\n-\t\t\t    Log.d(\"null\", \"finish!!!\");\n-\t\t\t\tsetResult(RESULT_CANCELED);\n-\t\t\t    finish();\n-\t\t\t    return;\n-\t\t\t}\n-\t\t\n-\t\t\t// Make UI fullscreen.\n-\t\t\tgetWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n-\n-\t\t\tfindViewById(R.id.discard).setOnClickListener(\n-\t\t\t\tnew View.OnClickListener() \n-\t\t\t\t{\n-\t\t\t\t    public void onClick(View v) \n-\t\t\t\t    {\n-\t\t\t\t    \tif (btnSave.getVisibility() !\u003d View.VISIBLE)\n-\t\t\t\t    \t\t{\n-\t\t\t\t    \t\t//mBitmapSave.recycle();\n-\t\t\t\t    \t\t//mBitmap.recycle();\n-\t\t\t\t    \t\t//mBitmapResize.recycle();\n-\t\t\t\t    \t\t//modifiedBitmap.recycle();\n-\t\t\t\t    \t\t//flippedImaged.recycle();\n-\t\t\t\t    \t\t}\n-\t\t\t\t    \t\tsetResult(RESULT_CANCELED);\n-\t\t\t\t    \t\t//System.exit(0);\n-\t\t\t\t\t\t\tfinish();\t\t\t\t    \t\t\t\t\t    \t\t\t\t\t\t\t\t\n-\t\t\t\t    }\n-\t\t\t\t});\n-\t\t\n-\t\t\t/*\n-\t\t\t * Thong - Add event for button rotate image\n-\t\t\t */\n-\t\t\tfindViewById(R.id.btnRotateLeftRight).setOnClickListener(\n-\t\t\t\t\tnew View.OnClickListener() {\n-\t\t\t\t\t    public void onClick(View v) \n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tcheck\u003dtrue;\n-\t\t\t\t\t    \ttry{\n-\t\t\t\t\t    \t\tdoRotate(mImageView, fromDegree, toDegree);\n-\t\t\t\t\t\t\t\tfromDegree \u003d (toDegree \u003d\u003d 360) ? 0 : toDegree;\n-\t\t\t\t\t\t\t\ttoDegree +\u003d 90;\n-\t\t\t\t\t\t\t\tif (toDegree \u003e 360) {\n-\t\t\t\t\t\t\t\t\ttoDegree \u003d 90;\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t\t\n-\t\t\t\t\t    \t}catch(OutOfMemoryError o){\n-\t\t\t\t\t    \t\to.printStackTrace();\n-\t\t\t\t\t    \t}\n-\t\t\t\t\t    \t\n-\t\t\t\t\t    }\n-\t\t\t\t\t});\n-\t\t\t/*\n-\t\t\t * Thong - Add event for button rotate image - End\n-\t\t\t */\n-\t\t\t\t\t\t\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button rotate top-down image\n-\t\t\t */\n-\t\t\tfindViewById(R.id.btnRotateTopDown).setOnClickListener(\n-\t\t\t\t\tnew View.OnClickListener() {\n-\t\t\t\t\t    public void onClick(View v) \n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tcheck\u003dtrue;\n-\t\t\t\t\t    \ttry{\n-\t\t\t\t\t    \t\tmodifiedBitmap \u003d doVerticalFlip(modifiedBitmap);\n-\t\t\t\t\t\t\t\tflippedImaged \u003d doVerticalFlip(flippedImaged);\n-\t\t\t\t\t\t\t\tmImageView.setImageBitmap(changeBrightness(\n-\t\t\t\t\t\t\t\t\t\tmodifiedBitmap, brightnessValue));\n-\t\t\t\t\t\t\t\tmBitmapSave \u003d modifiedBitmap;\n-\t\t\t\t\t\t\t\t\n-\t\t\t\t\t    \t}catch(OutOfMemoryError o){\n-\t\t\t\t\t    \t\tmBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-\t\t\t\t\t    \t\t//mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n-\t\t\t\t\t    \t\tmodifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n-\t\t\t\t\t    \t}\n-\t\t\t\t\t    \t\n-\t\t\t\t\t    }\n-\t\t\t\t\t});\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button rotate top-down image - End\n-\t\t\t */\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button black white image effect\n-\t\t\t */\n-\t\t\tfindViewById(R.id.btnBlackAndWhite).setOnClickListener(\n-\t\t\t\t\tnew View.OnClickListener() {\n-\t\t\t\t\t    public void onClick(View v) \n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tcheck\u003dtrue;\n-\t\t\t\t\t    \ttry{\n-\n-\t\t\t\t\t    \t\tmodifiedBitmap \u003d null;\n-\t\t\t\t\t\t\t\tmodifiedBitmap \u003d ImagesFilter.convertToBW(flippedImaged);\n-\t\t\t\t\t\t\t\tmImageView.setImageBitmap(changeBrightness(\n-\t\t\t\t\t\t\t\t\t\tmodifiedBitmap, brightnessValue));\n-\t\t\t\t\t\t\t\tmBitmapSave \u003d modifiedBitmap;\n-\t\t\t\t\t\t\t\t\n-\t\t\t\t\t    \t}catch(OutOfMemoryError o){\t\t\t\t\t\t\t\t\n-\n-\t\t\t\t\t    \t\tmBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-\t\t\t\t\t    \t\t//mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n-\t\t\t\t\t    \t\tmodifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n-\t\t\t\t    \t\t\n-\n-\t\t\t\t\t    \t}\n-\t\t\t\t\t    \t\n-\t\t\t\t\t    }\n-\t\t\t\t\t});\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button black white image effect - End\n-\t\t\t */\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button Sepia image effect\n-\t\t\t */\n-\t\t\tfindViewById(R.id.btnSaphia).setOnClickListener(\n-\t\t\t\t\tnew View.OnClickListener() {\n-\t\t\t\t\t    public void onClick(View v) \n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tcheck\u003dtrue;\n-\t\t\t\t\t    \ttry{\n-\n-\t\t\t\t\t    \t\tmodifiedBitmap \u003d null;\n-\t\t\t\t\t\t\t\tmodifiedBitmap \u003d ImagesFilter.convertToSepia(flippedImaged);\n-\t\t\t\t\t\t\t\tmImageView.setImageBitmap(changeBrightness(\n-\t\t\t\t\t\t\t\t\t\tmodifiedBitmap, brightnessValue));\n-\t\t\t\t\t\t\t\tmBitmapSave \u003d modifiedBitmap;\n-\t\t\t\t\t\t\t\t\n-\t\t\t\t\t    \t}catch(OutOfMemoryError o){\n-\t\t\t\t\t    \t\tmBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-\t\t\t\t\t    \t\t//mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n-\t\t\t\t\t\t\t\tmodifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n-\n-\t\t\t\t\t    \t}\n-\t\t\t\t\t    \n-\t\t\t\t\t    }\n-\t\t\t\t\t});\n-\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button Sepia image effect - End\n-\t\t\t */\n+    public void onCreate(Bundle icicle) {\n+        try {\n+            super.onCreate(icicle);\n+            mContentResolver \u003d getContentResolver();\n+            ctx \u003d this;\n+            Log.d(\"crop image\", \"start\");\n+            requestWindowFeature(Window.FEATURE_NO_TITLE);\n+            setContentView(R.layout.cropimage);\n+            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n+            btnSave \u003d (Button) findViewById(R.id.save);\n+\n+            txtPhotoTitle \u003d (EditText) findViewById(R.id.txtUploadPhotoTitle);\n+\n+            txtLongtitude \u003d (EditText) findViewById(R.id.txtUploadPhotoLongtitude);\n+\n+            txtLatitude \u003d (EditText) findViewById(R.id.txtUploadPhotoLatitude);\n+\n+            txtTags \u003d (EditText) findViewById(R.id.txtUploadPhotoTags);\n+            btnUseMap \u003d (ImageButton) findViewById(R.id.btnUploadPhotoPutPos);\n+            /*btnUseMap.setOnClickListener(new OnClickListener() {\n+                @Override\n+                public void onClick(View v) \n+                {\n+                    Intent _itent \u003d new Intent(ctx, UploadMap.class);\n+                    \n+                    _itent.putExtra(\"latitude\", txtLatitude.getText().toString());\n+                    _itent.putExtra(\"longitude\", txtLongtitude.getText().toString());\n+                    startActivityForResult(_itent, GET_POSITION_ON_MAP);\n+                }\n+            });*/\n+            mImageView \u003d (CropImageView) findViewById(R.id.image);\n+            gpsloading \u003d new ProgressDialog(ctx);\n+            gpsloading.setCancelable(true);\n+            gpsloading.setCanceledOnTouchOutside(false);\n+            gpsloading.setTitle(getString(R.string.loading));\n+            gpsloading.setMessage(getString(R.string.infor_upload_loading_current_position));\n+            gpsloading.setIndeterminate(true);\n+            Log.d(\"cropimage\", \"cropimage running..\");\n+            //showStorageToast(this);\n+            Intent intent \u003d getIntent();\n+            Bundle extras \u003d intent.getExtras();\n+            if (extras !\u003d null) {\n+                if (extras.getString(\"circleCrop\") !\u003d null) {\n+                    mCircleCrop \u003d true;\n+                    mAspectX \u003d 1;\n+                    mAspectY \u003d 1;\n+                }\n+\n+                mImagePath \u003d extras.getString(\"image-path\");\n+                p \u003d mImagePath.split(\";\");\n+\n+                if (p.length \u003d\u003d 2) {\n+                    JSONObject js \u003d new JSONObject(p[1]);\n+                    txtLatitude.setText(js.getString(\"lati\"));\n+                    txtLongtitude.setText(js.getString(\"logi\"));\n+                    txtPhotoTitle.setText(js.getString(\"name\"));\n+                    txtTags.setText(js.getString(\"tags\"));\n+                }\n+                Log.d(\"path\", mImagePath);\n+                //mSaveUri \u003d getImageUri(mImagePath);\n+                Date date \u003d new Date();\n+                Long longTime \u003d new Long(date.getTime() / 1000);\n+                newpath \u003d PhimpMe.DataDirectory + \"/PhimpMe_Photo_Effect\" + \"/tmp_\" + longTime + \".jpg\";\n+                mSaveUri \u003d getImageUri(newpath);\n+                Log.d(\"mSaveUri\", mSaveUri.toString());\n+                Log.d(\"p[0]\", p[0]);\n+\n+                BitmapFactory.Options options \u003d new BitmapFactory.Options();\n+                options.inSampleSize \u003d 4;\n+                mBitmap \u003d BitmapFactory.decodeFile(p[0], options);\n+                if (mBitmap.getWidth() % 2 !\u003d 0 || mBitmap.getHeight() % 2 !\u003d 0) {\n+                    //bitmap width , height must even\n+                    Log.i(\"CropImage\", \"mBitmap width or height not even\");\n+                    mBitmap \u003d Bitmap.createScaledBitmap(mBitmap, mBitmap.getWidth() * 4, mBitmap.getHeight() * 4, false);\n+\n+                }\n+                modifiedBitmap \u003d flippedImaged \u003d mBitmap;\n+\n+                Log.i(\"CropImage\", \"mBitmap Width :\" + mBitmap.getWidth() + \" mBitmap Height : \" + mBitmap.getHeight());\n+                mAspectX \u003d extras.getInt(\"aspectX\");\n+                mAspectY \u003d extras.getInt(\"aspectY\");\n+                mOutputX \u003d extras.getInt(\"outputX\");\n+                mOutputY \u003d extras.getInt(\"outputY\");\n+                mScale \u003d extras.getBoolean(\"scale\", true);\n+                mScaleUp \u003d extras.getBoolean(\"scaleUpIfNeeded\", true);\n+                position \u003d extras.getInt(\"position\");\n+            }\n+            if (mBitmap \u003d\u003d null) {\n+                Log.d(\"null\", \"finish!!!\");\n+                setResult(RESULT_CANCELED);\n+                finish();\n+                return;\n+            }\n+\n+            // Make UI fullscreen.\n+            getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n+\n+            findViewById(R.id.discard).setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            if (btnSave.getVisibility() !\u003d View.VISIBLE) {\n+                                //mBitmapSave.recycle();\n+                                //mBitmap.recycle();\n+                                //mBitmapResize.recycle();\n+                                //modifiedBitmap.recycle();\n+                                //flippedImaged.recycle();\n+                            }\n+                            setResult(RESULT_CANCELED);\n+                            //System.exit(0);\n+                            finish();\n+                        }\n+                    });\n+        \n+            /*\n+             * Thong - Add event for button rotate image\n+             */\n+            findViewById(R.id.btnRotateLeftRight).setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            check \u003d true;\n+                            try {\n+                                doRotate(mImageView, fromDegree, toDegree);\n+                                fromDegree \u003d (toDegree \u003d\u003d 360) ? 0 : toDegree;\n+                                toDegree +\u003d 90;\n+                                if (toDegree \u003e 360) {\n+                                    toDegree \u003d 90;\n+                                }\n+\n+                            } catch (OutOfMemoryError o) {\n+                                o.printStackTrace();\n+                            }\n+\n+                        }\n+                    });\n+            /*\n+             * Thong - Add event for button rotate image - End\n+             */\n+                        \n+            /*\n+             * Danh - Add event for button rotate top-down image\n+             */\n+            findViewById(R.id.btnRotateTopDown).setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            check \u003d true;\n+                            try {\n+                                modifiedBitmap \u003d doVerticalFlip(modifiedBitmap);\n+                                flippedImaged \u003d doVerticalFlip(flippedImaged);\n+                                mImageView.setImageBitmap(changeBrightness(\n+                                        modifiedBitmap, brightnessValue));\n+                                mBitmapSave \u003d modifiedBitmap;\n+\n+                            } catch (OutOfMemoryError o) {\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                //mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n+                            }\n+\n+                        }\n+                    });\n+            /*\n+             * Danh - Add event for button rotate top-down image - End\n+             */\n+            /*\n+             * Danh - Add event for button black white image effect\n+             */\n+            findViewById(R.id.btnBlackAndWhite).setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            check \u003d true;\n+                            try {\n+\n+                                modifiedBitmap \u003d null;\n+                                modifiedBitmap \u003d ImagesFilter.convertToBW(flippedImaged);\n+                                mImageView.setImageBitmap(changeBrightness(\n+                                        modifiedBitmap, brightnessValue));\n+                                mBitmapSave \u003d modifiedBitmap;\n+\n+                            } catch (OutOfMemoryError o) {\n+\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                //mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n+\n+\n+                            }\n+\n+                        }\n+                    });\n+            /*\n+             * Danh - Add event for button black white image effect - End\n+             */\n+            /*\n+             * Danh - Add event for button Sepia image effect\n+             */\n+            findViewById(R.id.btnSaphia).setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            check \u003d true;\n+                            try {\n+\n+                                modifiedBitmap \u003d null;\n+                                modifiedBitmap \u003d ImagesFilter.convertToSepia(flippedImaged);\n+                                mImageView.setImageBitmap(changeBrightness(\n+                                        modifiedBitmap, brightnessValue));\n+                                mBitmapSave \u003d modifiedBitmap;\n+\n+                            } catch (OutOfMemoryError o) {\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                //mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n+\n+                            }\n+\n+                        }\n+                    });\n+\n+            /*\n+             * Danh - Add event for button Sepia image effect - End\n+             */\n \n             findViewById(R.id.btnalpha).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n                                 modifiedBitmap \u003d ImagesFilter.convertToAlpha(flippedImaged);\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n             findViewById(R.id.btnpink).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n                                 modifiedBitmap \u003d ImagesFilter.convertToPink(flippedImaged);\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n             findViewById(R.id.btnpolaroid).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n                                 modifiedBitmap \u003d ImagesFilter.convertToPolaroid(flippedImaged);\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n             findViewById(R.id.btnblur).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n-                                modifiedBitmap \u003d ImagesFilter.converttoBlur(flippedImaged,9,getApplicationContext());\n+                                modifiedBitmap \u003d ImagesFilter.converttoBlur(flippedImaged, 9, getApplicationContext());\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n             findViewById(R.id.btnsharp).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n-                                modifiedBitmap \u003d ImagesFilter.convertToSharp(flippedImaged,getApplicationContext());\n+                                modifiedBitmap \u003d ImagesFilter.convertToSharp(flippedImaged, getApplicationContext());\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n             findViewById(R.id.btnedge).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n-                                modifiedBitmap \u003d ImagesFilter.convertToEdge(flippedImaged,getApplicationContext());\n+                                modifiedBitmap \u003d ImagesFilter.convertToEdge(flippedImaged, getApplicationContext());\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n             findViewById(R.id.btnfuzz).setOnClickListener(\n                     new View.OnClickListener() {\n                         public void onClick(View v) {\n-                            check\u003dtrue;\n+                            check \u003d true;\n                             try {\n                                 modifiedBitmap \u003d null;\n-                                modifiedBitmap \u003d ImagesFilter.convertToFuzz(flippedImaged,getApplicationContext());\n+                                modifiedBitmap \u003d ImagesFilter.convertToFuzz(flippedImaged, getApplicationContext());\n                                 mImageView.setImageBitmap(changeBrightness(modifiedBitmap, brightnessValue));\n                                 mBitmap \u003d modifiedBitmap;\n                             } catch (OutOfMemoryError o) {\n-                                mBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-                                modifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n                             }\n                         }\n                     });\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button Negative image effect\n-\t\t\t */\n-\t\t\tfindViewById(R.id.btnNegative).setOnClickListener(\n-\t\t\t\t\tnew View.OnClickListener() {\n-\t\t\t\t\t    public void onClick(View v) \n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tcheck\u003dtrue;\n-\t\t\t\t\t    \ttry{\n-\t\t\t\t\t    \t\t\n-\t\t\t\t\t    \t\tmodifiedBitmap \u003d null;\n-\t\t\t\t\t\t\t\tmodifiedBitmap \u003d ImagesFilter.convertToNegative(flippedImaged);\n-\t\t\t\t\t\t\t\tmImageView.setImageBitmap(changeBrightness(\n-\t\t\t\t\t\t\t\t\t\tmodifiedBitmap, brightnessValue));\n-\t\t\t\t\t\t\t\tmBitmapSave \u003d modifiedBitmap;\n-\t\t\t\t\t\t\t\t\n-\t\t\t\t\t    \t}catch(OutOfMemoryError o){\n-\n-\t\t\t\t\t    \t\tmBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-\t\t\t\t\t    \t\t//mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n-\t\t\t\t\t    \t\tmodifiedBitmap\u003dflippedImaged\u003dmBitmapResize;\n-\n-\t\t\t\t\t    \t}\n-\t\t\t\t\t    \t\n-\t\t\t\t\t    }\n-\t\t\t\t\t});\n-\t\t\t/*\n-\t\t\t * Danh - Add event for button Negative image effect - End\n-\t\t\t */\n-\t\t\tbtnSave.setOnClickListener(\n-\t\t\t\t\tnew View.OnClickListener() {\n-\t\t\t\t\t    public void onClick(View v)\n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tif(check\u003d\u003dtrue){\n-\t\t\t\t\t    \t\tonSaveClicked();\n-\t\t\t\t\t    \t\t//finish();\n-\t\t\t\t\t\t    \tIntent intent\u003dnew Intent(ctx, PhimpMe.class);\n-\t\t\t\t\t\t    \tintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n-\t\t\t\t\t\t    \tstartActivity(intent);\n-\t\t\t\t\t    \t}else{\n-\t\t\t\t\t    \t\t\n-\t\t\t\t\t    \t\t//finish();\n-\t\t\t\t\t    \t\tIntent intent\u003dnew Intent(ctx, PhimpMe.class);\n-\t\t\t\t\t\t    \tintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n-\t\t\t\t\t\t    \tstartActivity(intent);\n-\t\t\t\t\t    \t}\n-\t\t\t\t\t    \t\n-\t\t\t\t\t    }\n-\t\t\t\t});\t\t\t\n-\t\t\tstartFaceDetection();\n-\t    }\n-    \tcatch (Exception e)\n-    \t{\n-    \t}\n+            /*\n+             * Danh - Add event for button Negative image effect\n+             */\n+            findViewById(R.id.btnNegative).setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            check \u003d true;\n+                            try {\n+\n+                                modifiedBitmap \u003d null;\n+                                modifiedBitmap \u003d ImagesFilter.convertToNegative(flippedImaged);\n+                                mImageView.setImageBitmap(changeBrightness(\n+                                        modifiedBitmap, brightnessValue));\n+                                mBitmapSave \u003d modifiedBitmap;\n+\n+                            } catch (OutOfMemoryError o) {\n+\n+                                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                                //mBitmapResize\u003dgetResizedBitmap(p[0], (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n+                                modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n+\n+                            }\n+\n+                        }\n+                    });\n+            /*\n+             * Danh - Add event for button Negative image effect - End\n+             */\n+            btnSave.setOnClickListener(\n+                    new View.OnClickListener() {\n+                        public void onClick(View v) {\n+                            if (check \u003d\u003d true) {\n+                                onSaveClicked();\n+                                //finish();\n+                                Intent intent \u003d new Intent(ctx, PhimpMe.class);\n+                                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n+                                startActivity(intent);\n+                            } else {\n+\n+                                //finish();\n+                                Intent intent \u003d new Intent(ctx, PhimpMe.class);\n+                                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n+                                startActivity(intent);\n+                            }\n+\n+                        }\n+                    });\n+            startFaceDetection();\n+        } catch (Exception e) {\n+        }\n     }\n \n     @Override\n@@ -530,641 +508,569 @@ public void onClick(DialogInterface dialog, int id) {\n                 .setNegativeButton(R.string.go_back, new DialogInterface.OnClickListener() {\n                     public void onClick(DialogInterface dialog, int id) {\n \n-                    }})\n+                    }\n+                })\n                 .create()\n                 .show();\n     }\n \n     public static void ConvertToOriginal() {\n-    \ttry{\n-\n-\t\t\tdoRotate(mImageView, 0, 0);\n-\t\t\tfromDegree \u003d 0;\n-\t\t\ttoDegree \u003d 90;\n-\t\t\tmImageView.setImageBitmap(mBitmap);\n-\t\t\tmodifiedBitmap \u003d flippedImaged \u003d mBitmap;\n-    \t}catch(OutOfMemoryError o){\n-\n-\t\t\tdoRotate(mImageView, 0, 0);\n-\t\t\tfromDegree \u003d 0;\n-\t\t\ttoDegree \u003d 90;\n-\t\t\tmImageView.setImageBitmap(mBitmapResize);\n-\t\t\tmodifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n-    \t}\n-\t}\n+        try {\n+\n+            doRotate(mImageView, 0, 0);\n+            fromDegree \u003d 0;\n+            toDegree \u003d 90;\n+            mImageView.setImageBitmap(mBitmap);\n+            modifiedBitmap \u003d flippedImaged \u003d mBitmap;\n+        } catch (OutOfMemoryError o) {\n+\n+            doRotate(mImageView, 0, 0);\n+            fromDegree \u003d 0;\n+            toDegree \u003d 90;\n+            mImageView.setImageBitmap(mBitmapResize);\n+            modifiedBitmap \u003d flippedImaged \u003d mBitmapResize;\n+        }\n+    }\n+\n     public static void doRotate(ImageView im, float fromDegree, float toDegree) {\n-\t\tRotateAnimation ra1 \u003d new RotateAnimation(fromDegree, toDegree,\n-\t\t\t\tRotateAnimation.RELATIVE_TO_SELF, 0.5f,\n-\t\t\t\tRotateAnimation.RELATIVE_TO_SELF, 0.5f);\n-\t\tra1.setStartOffset(0);\n-\t\tra1.setDuration(0);\n-\t\tra1.setFillAfter(true);\n-\t\tra1.setFillEnabled(true);\n-\t\tim.startAnimation(ra1);\n-\t}\n+        RotateAnimation ra1 \u003d new RotateAnimation(fromDegree, toDegree,\n+                RotateAnimation.RELATIVE_TO_SELF, 0.5f,\n+                RotateAnimation.RELATIVE_TO_SELF, 0.5f);\n+        ra1.setStartOffset(0);\n+        ra1.setDuration(0);\n+        ra1.setFillAfter(true);\n+        ra1.setFillEnabled(true);\n+        im.startAnimation(ra1);\n+    }\n+\n     public static Bitmap doHorizontalFlip(Bitmap sampleBitmap) {\n-\t\tMatrix matrixHorizontalFlip \u003d new Matrix();\n-\t\tmatrixHorizontalFlip.preScale(-1.0f, 1.0f);\n-\t\tBitmap des \u003d sampleBitmap.copy(Bitmap.Config.ARGB_8888, true);\n-\t\tdes \u003d Bitmap.createBitmap(sampleBitmap, 0, 0, sampleBitmap.getWidth(), sampleBitmap.getHeight(),\n-\t\t\t\tmatrixHorizontalFlip, true);\n-\t\treturn des;\n-\t}\n-\n-\tpublic static Bitmap doVerticalFlip(Bitmap sampleBitmap) {\n-\t\tMatrix matrixVerticalFlip \u003d new Matrix();\n-\t\tmatrixVerticalFlip.preScale(1.0f, -1.0f);\n-\t\tBitmap des \u003d sampleBitmap.copy(Bitmap.Config.ARGB_8888, true);\n-\t\tdes \u003d Bitmap.createBitmap(sampleBitmap, 0, 0, sampleBitmap.getWidth(), sampleBitmap.getHeight(),\n-\t\t\t\tmatrixVerticalFlip, true);\n-\t\treturn des;\n-\t}\n-\n-\tpublic static Bitmap changeBrightness(Bitmap sampleBitmap,\n-\t\t\tint brightnessValue) {\n-\t\tColorMatrix sepiaMatrix \u003d new ColorMatrix();\n-\t\tfloat[] sepMat \u003d { 1, 0, 0, 0, brightnessValue, 0, 1, 0, 0,\n-\t\t\t\tbrightnessValue, 0, 0, 1, 0, brightnessValue, 0, 0, 0, 1,\n-\t\t\t\tbrightnessValue };\n-\t\tsepiaMatrix.set(sepMat);\n-\t\tfinal ColorMatrixColorFilter colorFilter \u003d new ColorMatrixColorFilter(\n-\t\t\t\tsepiaMatrix);\n-\t\tBitmap rBitmap \u003d sampleBitmap.copy(Bitmap.Config.ARGB_8888, true);\n-\t\tPaint paint \u003d new Paint();\n-\t\tpaint.setColorFilter(colorFilter);\n-\t\tCanvas myCanvas \u003d new Canvas(rBitmap);\n-\t\tmyCanvas.drawBitmap(rBitmap, 0, 0, paint);\n-\t\treturn rBitmap;\n-\t}\n-\n-    \n+        Matrix matrixHorizontalFlip \u003d new Matrix();\n+        matrixHorizontalFlip.preScale(-1.0f, 1.0f);\n+        Bitmap des \u003d sampleBitmap.copy(Bitmap.Config.ARGB_8888, true);\n+        des \u003d Bitmap.createBitmap(sampleBitmap, 0, 0, sampleBitmap.getWidth(), sampleBitmap.getHeight(),\n+                matrixHorizontalFlip, true);\n+        return des;\n+    }\n+\n+    public static Bitmap doVerticalFlip(Bitmap sampleBitmap) {\n+        Matrix matrixVerticalFlip \u003d new Matrix();\n+        matrixVerticalFlip.preScale(1.0f, -1.0f);\n+        Bitmap des \u003d sampleBitmap.copy(Bitmap.Config.ARGB_8888, true);\n+        des \u003d Bitmap.createBitmap(sampleBitmap, 0, 0, sampleBitmap.getWidth(), sampleBitmap.getHeight(),\n+                matrixVerticalFlip, true);\n+        return des;\n+    }\n+\n+    public static Bitmap changeBrightness(Bitmap sampleBitmap,\n+                                          int brightnessValue) {\n+        ColorMatrix sepiaMatrix \u003d new ColorMatrix();\n+        float[] sepMat \u003d {1, 0, 0, 0, brightnessValue, 0, 1, 0, 0,\n+                brightnessValue, 0, 0, 1, 0, brightnessValue, 0, 0, 0, 1,\n+                brightnessValue};\n+        sepiaMatrix.set(sepMat);\n+        final ColorMatrixColorFilter colorFilter \u003d new ColorMatrixColorFilter(\n+                sepiaMatrix);\n+        Bitmap rBitmap \u003d sampleBitmap.copy(Bitmap.Config.ARGB_8888, true);\n+        Paint paint \u003d new Paint();\n+        paint.setColorFilter(colorFilter);\n+        Canvas myCanvas \u003d new Canvas(rBitmap);\n+        myCanvas.drawBitmap(rBitmap, 0, 0, paint);\n+        return rBitmap;\n+    }\n+\n+\n     OnSeekBarChangeListener brightnessBarSeekListener \u003d new OnSeekBarChangeListener() {\n \n-\t\tpublic void onStopTrackingTouch(SeekBar seekBar) {\n-\t\t\t// TODO Auto-generated method stub\n-\n-\t\t}\n-\n-\t\tpublic void onStartTrackingTouch(SeekBar seekBar) {\n-\t\t\t// TODO Auto-generated method stub\n-\n-\t\t}\n-\n-\t\tpublic void onProgressChanged(SeekBar seekBar, int progress,boolean fromUser) {\n-\t\t\ttry{\n-\t\t\t\tbrightnessValue \u003d progress;\n-\t\t\t\tColorMatrix sepiaMatrix \u003d new ColorMatrix();\n-\t\t\t\tfloat[] sepMat \u003d { 1, 0, 0, 0, brightnessValue, 0, 1, 0, 0,\n-\t\t\t\t\t\tbrightnessValue, 0, 0, 1, 0, brightnessValue, 0, 0, 0, 1,\n-\t\t\t\t\t\tbrightnessValue };\n-\t\t\t\tsepiaMatrix.set(sepMat);\n-\t\t\t\tfinal ColorMatrixColorFilter colorFilter \u003d new ColorMatrixColorFilter(\n-\t\t\t\t\t\tsepiaMatrix);\n-\t\t\t\tBitmap rBitmap \u003d mBitmap.copy(Bitmap.Config.ARGB_8888, true);\n-\t\t\t\tPaint paint \u003d new Paint();\n-\t\t\t\tpaint.setColorFilter(colorFilter);\n-\t\t\t\tCanvas myCanvas \u003d new Canvas(rBitmap);\n-\t\t\t\tmyCanvas.drawBitmap(rBitmap, 0, 0, paint);\n-\t\t\t\t\n-\t\t\t\tmImageView.setImageBitmap(rBitmap);\n-\t\t\t\t\n-\t\t\t}\n-\t\t\tcatch(OutOfMemoryError o){\n-\t\t\t\tmBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/4), (mBitmap.getWidth()/4));\n-\t\t\t\tbrightnessValue \u003d progress;\n-\t\t\t\tColorMatrix sepiaMatrix \u003d new ColorMatrix();\n-\t\t\t\tfloat[] sepMat \u003d { 1, 0, 0, 0, brightnessValue, 0, 1, 0, 0,\n-\t\t\t\t\t\tbrightnessValue, 0, 0, 1, 0, brightnessValue, 0, 0, 0, 1,\n-\t\t\t\t\t\tbrightnessValue };\n-\t\t\t\tsepiaMatrix.set(sepMat);\n-\t\t\t\tfinal ColorMatrixColorFilter colorFilter \u003d new ColorMatrixColorFilter(\n-\t\t\t\t\t\tsepiaMatrix);\n-\t\t\t\tBitmap rBitmap \u003d mBitmapResize.copy(Bitmap.Config.ARGB_8888, true);\n-\t\t\t\tPaint paint \u003d new Paint();\n-\t\t\t\tpaint.setColorFilter(colorFilter);\n-\t\t\t\tCanvas myCanvas \u003d new Canvas(rBitmap);\n-\t\t\t\tmyCanvas.drawBitmap(rBitmap, 0, 0, paint);\n-\t\t\t\t\n-\t\t\t\tmImageView.setImageBitmap(rBitmap);\n-\t\t\t}\n-\t\t\tbtnSave.setVisibility(View.INVISIBLE);\n-\t\t}\n-\t};\n-    private Uri getImageUri(String path) \n-    {\n-    \treturn Uri.fromFile(new File(path));\n+        public void onStopTrackingTouch(SeekBar seekBar) {\n+            // TODO Auto-generated method stub\n+\n+        }\n+\n+        public void onStartTrackingTouch(SeekBar seekBar) {\n+            // TODO Auto-generated method stub\n+\n+        }\n+\n+        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n+            try {\n+                brightnessValue \u003d progress;\n+                ColorMatrix sepiaMatrix \u003d new ColorMatrix();\n+                float[] sepMat \u003d {1, 0, 0, 0, brightnessValue, 0, 1, 0, 0,\n+                        brightnessValue, 0, 0, 1, 0, brightnessValue, 0, 0, 0, 1,\n+                        brightnessValue};\n+                sepiaMatrix.set(sepMat);\n+                final ColorMatrixColorFilter colorFilter \u003d new ColorMatrixColorFilter(\n+                        sepiaMatrix);\n+                Bitmap rBitmap \u003d mBitmap.copy(Bitmap.Config.ARGB_8888, true);\n+                Paint paint \u003d new Paint();\n+                paint.setColorFilter(colorFilter);\n+                Canvas myCanvas \u003d new Canvas(rBitmap);\n+                myCanvas.drawBitmap(rBitmap, 0, 0, paint);\n+\n+                mImageView.setImageBitmap(rBitmap);\n+\n+            } catch (OutOfMemoryError o) {\n+                mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 4), (mBitmap.getWidth() / 4));\n+                brightnessValue \u003d progress;\n+                ColorMatrix sepiaMatrix \u003d new ColorMatrix();\n+                float[] sepMat \u003d {1, 0, 0, 0, brightnessValue, 0, 1, 0, 0,\n+                        brightnessValue, 0, 0, 1, 0, brightnessValue, 0, 0, 0, 1,\n+                        brightnessValue};\n+                sepiaMatrix.set(sepMat);\n+                final ColorMatrixColorFilter colorFilter \u003d new ColorMatrixColorFilter(\n+                        sepiaMatrix);\n+                Bitmap rBitmap \u003d mBitmapResize.copy(Bitmap.Config.ARGB_8888, true);\n+                Paint paint \u003d new Paint();\n+                paint.setColorFilter(colorFilter);\n+                Canvas myCanvas \u003d new Canvas(rBitmap);\n+                myCanvas.drawBitmap(rBitmap, 0, 0, paint);\n+\n+                mImageView.setImageBitmap(rBitmap);\n+            }\n+            btnSave.setVisibility(View.INVISIBLE);\n+        }\n+    };\n+\n+    private Uri getImageUri(String path) {\n+        return Uri.fromFile(new File(path));\n     }\n \n     public Bitmap getBitmap(String path) {\n-\tUri uri \u003d getImageUri(path);\n-\tInputStream in \u003d null;\n-\ttry {\n-\t    in \u003d mContentResolver.openInputStream(uri);\n-\t    return BitmapFactory.decodeStream(in);\n-\t} catch (FileNotFoundException e) {\n-\t}\n-\treturn null;\n+        Uri uri \u003d getImageUri(path);\n+        InputStream in \u003d null;\n+        try {\n+            in \u003d mContentResolver.openInputStream(uri);\n+            return BitmapFactory.decodeStream(in);\n+        } catch (FileNotFoundException e) {\n+        }\n+        return null;\n     }\n \n     @Override\n-\tprotected void onActivityResult(int requestCode, int resultCode, Intent data) \n-\t{\n-\t\tswitch (requestCode) \n-\t\t{\t\t\t\n-\t\t\tcase GET_POSITION_ON_MAP:\n-\t\t\t{\n-\t\t\t\tif (resultCode \u003d\u003d Activity.RESULT_OK)\n-\t\t\t\t{\n-\t\t\t\t\tLog.d(\"thong\", \"Upload: Result OK\");\n-\t\t\t\t\t\n-\t\t\t\t\tint lat \u003d data.getIntExtra(\"latitude\", 0);\n-\t\t\t\t\tint log \u003d data.getIntExtra(\"longitude\", 0);\n-\t\t\t\t\t\n-\t\t\t\t\tfloat _lat \u003d (float) (lat / 1E6);\n-\t\t\t\t\tfloat _log \u003d (float) (log / 1E6);\n-\t\t\t\t\t\n-\t\t\t\t\ttxtLatitude.setText(String.valueOf(_lat));\n-\t\t\t\t\t\n-\t\t\t\t\ttxtLongtitude.setText(String.valueOf(_log));\n-\t\t\t\t}\n-\t\t\t\tbreak;\n-\t\t\t}\n-\t\t}\n-\t}\n-    private void startFaceDetection() \n-    {\n-    \tif (isFinishing()) \n-    \t{\n-    \t\treturn;\n-    \t}\n-    \tif(mBitmap.getWidth()\u003e1800){\n-    \t\tmBitmapResize\u003dgetResizedBitmap(mBitmap, (mBitmap.getHeight()/2), (mBitmap.getWidth()/2));\n-        \tmBitmap \u003d mBitmapResize;\n-        \tmImageView.setImageBitmapResetBase(mBitmap, true);\n-        \tConvertToOriginal();\n-    \t}else\n-    \tConvertToOriginal();\n-    \t\n-    \tUtil.startBackgroundJob(this, null, \"Please wait\\u2026\", new Runnable() \n-    \t\t{\n-\t    \t\tpublic void run() \n-\t    \t\t{\n-\t    \t\t\tfinal CountDownLatch latch \u003d new CountDownLatch(1);\n-\t    \t\t\tfinal Bitmap b \u003d (mImage !\u003d null) ? mImage.fullSizeBitmap(IImage.UNCONSTRAINED, 1024 * 1024) : mBitmap;\n-\t    \t\t\tmHandler.post(new Runnable() \n-\t\t    \t\t\t{\n-\t\t    \t\t\t\tpublic void run() \n-\t\t    \t\t\t\t{\n-\t\t    \t\t\t\t\t//vn.mbm.postmail.Util.WriteLog(\"d\", \"startFaceDetection()\", \"Runnable\");\n-\t\t    \t\t\t\t\tif (b !\u003d mBitmap \u0026\u0026 b !\u003d null) \n-\t\t    \t\t\t\t\t{\n-\t\t    \t\t\t\t\t\tmImageView.setImageBitmapResetBase(b, true);\n-\t\t    \t\t\t\t\t\tmBitmap.recycle();\n-\t\t    \t\t\t\t\t\tmBitmap \u003d b;\n-\t\t    \t\t\t\t\t}\n-\t\t    \t\t\t\t\tif (mImageView.getScale() \u003d\u003d 1F) \n-\t\t    \t\t\t\t\t{\n-\t\t    \t\t\t\t\t\tmImageView.center(true, true);\n-\t\t    \t\t\t\t\t}\n-\t\t    \t\t\t\t\tlatch.countDown();\n-\t\t    \t\t\t\t}\n-\t\t    \t\t\t});\n-\t    \t\t\ttry \n-\t    \t\t\t{\n-\t    \t\t\t\tlatch.await();\n-\t    \t\t\t} \n-\t    \t\t\tcatch (InterruptedException e) \n-\t    \t\t\t{\n-\t    \t\t\t\tthrow new RuntimeException(e);\n-\t    \t\t\t}\n-\t    \t\t\tmRunFaceDetection.run();\n-\t    \t\t}\n-\t    \t}, mHandler);\n+    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n+        switch (requestCode) {\n+            case GET_POSITION_ON_MAP: {\n+                if (resultCode \u003d\u003d Activity.RESULT_OK) {\n+                    Log.d(\"thong\", \"Upload: Result OK\");\n+\n+                    int lat \u003d data.getIntExtra(\"latitude\", 0);\n+                    int log \u003d data.getIntExtra(\"longitude\", 0);\n+\n+                    float _lat \u003d (float) (lat / 1E6);\n+                    float _log \u003d (float) (log / 1E6);\n+\n+                    txtLatitude.setText(String.valueOf(_lat));\n+\n+                    txtLongtitude.setText(String.valueOf(_log));\n+                }\n+                break;\n+            }\n+        }\n     }\n-    private void onSaveClicked() \n-    {\n-\t\t// TODO this code needs to change to use the decode/crop/encode single\n-\t\t// step api so that we don\u0027t require that the whole (possibly large)\n-\t\t// bitmap doesn\u0027t have to be read into memory\n-    \tif (mSaving) return;\n-\n-    \tif (mCrop \u003d\u003d null) \n-    \t{\n-    \t\treturn;\n-    \t}\n-\n-    \tmSaving \u003d true;\n-\n-    \tRect r \u003d mCrop.getCropRect();\n-\n-    \tint width \u003d r.width();\n-    \tint height \u003d r.height();\n-\n-    \t// If we are circle cropping, we want alpha channel, which is the\n-    \t// third param here.\n-    \tBitmap croppedImage \u003d null;\n-    \ttry\n-    \t{\n-\t    \tcroppedImage \u003d Bitmap.createBitmap(width, height, mCircleCrop ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565);\n-\t    \t{\n-\t    \t\tCanvas canvas \u003d new Canvas(croppedImage);\n-\t    \t\tRect dstRect \u003d new Rect(0, 0, width, height);\n-\t    \t\tcanvas.drawBitmap(mBitmapSave, r, dstRect, null);\n-\t    \t}\t    \t\n-    \t}\n-    \tcatch (OutOfMemoryError o) \n-    \t{\n-    \t\tmBitmapSave.recycle();\n-    \t\tcroppedImage.recycle();\n-    \t\tsetResult(RESULT_CANCELED,new Intent());\n-    \t\tfinish();\n-\t\t}\n-\n-    \tif (mCircleCrop) \n-    \t{\n-    \t\t// OK, so what\u0027s all this about?\n-    \t\t// Bitmaps are inherently rectangular but we want to return\n-    \t\t// something that\u0027s basically a circle.  So we fill in the\n-    \t\t// area around the circle with alpha.  Note the all important\n-    \t\t// PortDuff.Mode.CLEAR.\n-    \t\tCanvas c \u003d new Canvas(croppedImage);\n-    \t\tPath p \u003d new Path();\n-    \t\tp.addCircle(width / 2F, height / 2F, width / 2F, Path.Direction.CW);\n-    \t\tc.clipPath(p, Region.Op.DIFFERENCE);\n-\t    \tc.drawColor(0x00000000, PorterDuff.Mode.CLEAR);\n-    \t}\n-\n-    \t/* If the output is required to a specific size then scale or fill */\n-    \tif (mOutputX !\u003d 0 \u0026\u0026 mOutputY !\u003d 0) \n-    \t{\n-    \t\tif (mScale) \n-    \t\t{\n-    \t\t\t/* Scale the image to the required dimensions */\n-    \t\t\tBitmap old \u003d croppedImage;\n-    \t\t\tcroppedImage \u003d Util.transform(new Matrix(), croppedImage, mOutputX, mOutputY, mScaleUp);\n-    \t\t\tif (old !\u003d croppedImage) \n-    \t\t\t{\n-    \t\t\t\told.recycle();\n-    \t\t\t}\n-    \t\t} \n-    \t\telse \n-    \t\t{\n-    \t\t\ttry{\n-    \t\t\t\t/* Don\u0027t scale the image crop it to the size requested.\n-    \t\t\t\t * Create an new image with the cropped image in the center and\n-    \t\t\t\t * the extra space filled.\n-    \t\t\t\t */\n-\n-        \t\t\t// Don\u0027t scale the image but instead fill it so it\u0027s the\n-        \t\t\t// required dimension\n-        \t\t\tBitmap b \u003d Bitmap.createBitmap(mOutputX, mOutputY, Bitmap.Config.RGB_565);\n-        \t\t\tCanvas canvas \u003d new Canvas(b);\n-\n-        \t\t\tRect srcRect \u003d mCrop.getCropRect();\n-        \t\t\tRect dstRect \u003d new Rect(0, 0, mOutputX, mOutputY);\n-\n-        \t\t\tint dx \u003d (srcRect.width() - dstRect.width()) / 2;\n-        \t\t\tint dy \u003d (srcRect.height() - dstRect.height()) / 2;\n-\n-        \t\t\t/* If the srcRect is too big, use the center part of it. */\n-        \t\t\tsrcRect.inset(Math.max(0, dx), Math.max(0, dy));\n-\n-        \t\t\t/* If the dstRect is too big, use the center part of it. */\n-        \t\t\tdstRect.inset(Math.max(0, -dx), Math.max(0, -dy));\n-\n-        \t\t\t/* Draw the cropped bitmap in the center */\n-        \t\t\tcanvas.drawBitmap(mBitmapSave, srcRect, dstRect, null);\n-\n-        \t\t\t/* Set the cropped bitmap as the new bitmap */\n-        \t\t\tcroppedImage.recycle();\n-        \t\t\tcroppedImage \u003d b;\n-        \t\t\t\n-        \t\t\tb.recycle();\n-    \t\t\t}catch(OutOfMemoryError o){\n-    \t\t\t\to.printStackTrace();\n-    \t\t\t}\n-\t\t\t\t\n-    \t\t}\n-    \t}\n-\n-    \t// Return the cropped image directly or save it to the specified URI.\n-    \tBundle myExtras \u003d getIntent().getExtras();\n-    \tif (myExtras !\u003d null \u0026\u0026 (myExtras.getParcelable(\"data\") !\u003d null || myExtras.getBoolean(\"return-data\"))) \n-    \t{\n-    \t\tBundle extras \u003d new Bundle();\n-    \t\textras.putParcelable(\"data\", croppedImage);\n-    \t\tsetResult(RESULT_OK,(new Intent()).setAction(\"inline-data\").putExtras(extras));\n-    \t\tfinish();\n-    \t\t\n-    \t} \n-    \telse \n-    \t{\n-    \t\tfinal Bitmap b \u003d croppedImage;\n-    \t\tUtil.startBackgroundJob(this, null,\"Please wait ...\", new Runnable() \n-    \t\t{\n-    \t\t\tpublic void run() {\n-    \t\t\t\tsaveOutput(b);\n-    \t\t\t}\n-    \t\t}, mHandler);\n-    \t}\n+\n+    private void startFaceDetection() {\n+        if (isFinishing()) {\n+            return;\n+        }\n+        if (mBitmap.getWidth() \u003e 1800) {\n+            mBitmapResize \u003d getResizedBitmap(mBitmap, (mBitmap.getHeight() / 2), (mBitmap.getWidth() / 2));\n+            mBitmap \u003d mBitmapResize;\n+            mImageView.setImageBitmapResetBase(mBitmap, true);\n+            ConvertToOriginal();\n+        } else\n+            ConvertToOriginal();\n+\n+        Util.startBackgroundJob(this, null, \"Please wait\\u2026\", new Runnable() {\n+            public void run() {\n+                final CountDownLatch latch \u003d new CountDownLatch(1);\n+                final Bitmap b \u003d (mImage !\u003d null) ? mImage.fullSizeBitmap(IImage.UNCONSTRAINED, 1024 * 1024) : mBitmap;\n+                mHandler.post(new Runnable() {\n+                    public void run() {\n+                        //vn.mbm.postmail.Util.WriteLog(\"d\", \"startFaceDetection()\", \"Runnable\");\n+                        if (b !\u003d mBitmap \u0026\u0026 b !\u003d null) {\n+                            mImageView.setImageBitmapResetBase(b, true);\n+                            mBitmap.recycle();\n+                            mBitmap \u003d b;\n+                        }\n+                        if (mImageView.getScale() \u003d\u003d 1F) {\n+                            mImageView.center(true, true);\n+                        }\n+                        latch.countDown();\n+                    }\n+                });\n+                try {\n+                    latch.await();\n+                } catch (InterruptedException e) {\n+                    throw new RuntimeException(e);\n+                }\n+                mRunFaceDetection.run();\n+            }\n+        }, mHandler);\n     }\n+\n+    private void onSaveClicked() {\n+        // TODO this code needs to change to use the decode/crop/encode single\n+        // step api so that we don\u0027t require that the whole (possibly large)\n+        // bitmap doesn\u0027t have to be read into memory\n+        if (mSaving) return;\n+\n+        if (mCrop \u003d\u003d null) {\n+            return;\n+        }\n+\n+        mSaving \u003d true;\n+\n+        Rect r \u003d mCrop.getCropRect();\n+\n+        int width \u003d r.width();\n+        int height \u003d r.height();\n+\n+        // If we are circle cropping, we want alpha channel, which is the\n+        // third param here.\n+        Bitmap croppedImage \u003d null;\n+        try {\n+            croppedImage \u003d Bitmap.createBitmap(width, height, mCircleCrop ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565);\n+            {\n+                Canvas canvas \u003d new Canvas(croppedImage);\n+                Rect dstRect \u003d new Rect(0, 0, width, height);\n+                canvas.drawBitmap(mBitmapSave, r, dstRect, null);\n+            }\n+        } catch (OutOfMemoryError o) {\n+            mBitmapSave.recycle();\n+            croppedImage.recycle();\n+            setResult(RESULT_CANCELED, new Intent());\n+            finish();\n+        }\n+\n+        if (mCircleCrop) {\n+            // OK, so what\u0027s all this about?\n+            // Bitmaps are inherently rectangular but we want to return\n+            // something that\u0027s basically a circle.  So we fill in the\n+            // area around the circle with alpha.  Note the all important\n+            // PortDuff.Mode.CLEAR.\n+            Canvas c \u003d new Canvas(croppedImage);\n+            Path p \u003d new Path();\n+            p.addCircle(width / 2F, height / 2F, width / 2F, Path.Direction.CW);\n+            c.clipPath(p, Region.Op.DIFFERENCE);\n+            c.drawColor(0x00000000, PorterDuff.Mode.CLEAR);\n+        }\n+\n+        /* If the output is required to a specific size then scale or fill */\n+        if (mOutputX !\u003d 0 \u0026\u0026 mOutputY !\u003d 0) {\n+            if (mScale) {\n+                /* Scale the image to the required dimensions */\n+                Bitmap old \u003d croppedImage;\n+                croppedImage \u003d Util.transform(new Matrix(), croppedImage, mOutputX, mOutputY, mScaleUp);\n+                if (old !\u003d croppedImage) {\n+                    old.recycle();\n+                }\n+            } else {\n+                try {\n+                    /* Don\u0027t scale the image crop it to the size requested.\n+                     * Create an new image with the cropped image in the center and\n+                     * the extra space filled.\n+                     */\n+\n+                    // Don\u0027t scale the image but instead fill it so it\u0027s the\n+                    // required dimension\n+                    Bitmap b \u003d Bitmap.createBitmap(mOutputX, mOutputY, Bitmap.Config.RGB_565);\n+                    Canvas canvas \u003d new Canvas(b);\n+\n+                    Rect srcRect \u003d mCrop.getCropRect();\n+                    Rect dstRect \u003d new Rect(0, 0, mOutputX, mOutputY);\n+\n+                    int dx \u003d (srcRect.width() - dstRect.width()) / 2;\n+                    int dy \u003d (srcRect.height() - dstRect.height()) / 2;\n+\n+                    /* If the srcRect is too big, use the center part of it. */\n+                    srcRect.inset(Math.max(0, dx), Math.max(0, dy));\n+\n+                    /* If the dstRect is too big, use the center part of it. */\n+                    dstRect.inset(Math.max(0, -dx), Math.max(0, -dy));\n+\n+                    /* Draw the cropped bitmap in the center */\n+                    canvas.drawBitmap(mBitmapSave, srcRect, dstRect, null);\n+\n+                    /* Set the cropped bitmap as the new bitmap */\n+                    croppedImage.recycle();\n+                    croppedImage \u003d b;\n+\n+                    b.recycle();\n+                } catch (OutOfMemoryError o) {\n+                    o.printStackTrace();\n+                }\n+\n+            }\n+        }\n+\n+        // Return the cropped image directly or save it to the specified URI.\n+        Bundle myExtras \u003d getIntent().getExtras();\n+        if (myExtras !\u003d null \u0026\u0026 (myExtras.getParcelable(\"data\") !\u003d null || myExtras.getBoolean(\"return-data\"))) {\n+            Bundle extras \u003d new Bundle();\n+            extras.putParcelable(\"data\", croppedImage);\n+            setResult(RESULT_OK, (new Intent()).setAction(\"inline-data\").putExtras(extras));\n+            finish();\n+\n+        } else {\n+            final Bitmap b \u003d croppedImage;\n+            Util.startBackgroundJob(this, null, \"Please wait ...\", new Runnable() {\n+                public void run() {\n+                    saveOutput(b);\n+                }\n+            }, mHandler);\n+        }\n+    }\n+\n     private boolean isMediaScannerRunning() {\n-    \tCursor query \u003d getContentResolver().query(MediaStore.getMediaScannerUri(),\n-                                                       new String[]{MediaStore.MEDIA_SCANNER_VOLUME}, null, null, null);\n-            if(query!\u003dnull){\n-            \tif(query.moveToFirst()){\n-            \t\tint columnIndex \u003d query.getColumnIndex(MediaStore.MEDIA_SCANNER_VOLUME);\n-            \t\tString volumeName \u003d query.getString(columnIndex);\n-            \t\tif(volumeName!\u003dnull){\n-            \t\t\treturn true;\n-            \t\t}\n-            \t}\n-            \tquery.close();\n+        Cursor query \u003d getContentResolver().query(MediaStore.getMediaScannerUri(),\n+                new String[]{MediaStore.MEDIA_SCANNER_VOLUME}, null, null, null);\n+        if (query !\u003d null) {\n+            if (query.moveToFirst()) {\n+                int columnIndex \u003d query.getColumnIndex(MediaStore.MEDIA_SCANNER_VOLUME);\n+                String volumeName \u003d query.getString(columnIndex);\n+                if (volumeName !\u003d null) {\n+                    return true;\n+                }\n             }\n-            return false;\n+            query.close();\n+        }\n+        return false;\n     }\n-    private void saveOutput(Bitmap croppedImage) \n-    {\n-\t\tif (mSaveUri !\u003d null) \n-\t\t{\n-\t\t    OutputStream outputStream \u003d null;\n-\t\t    try \n-\t\t    {\n-\t\t\t\toutputStream \u003d mContentResolver.openOutputStream(mSaveUri);\n-\t\t\t\tif (outputStream !\u003d null) \n-\t\t\t\t{\n-\t\t\t\t    croppedImage.compress(mOutputFormat, 100, outputStream);\n-\t\t\t\t}\n-\t\t    } \n-\t\t    catch (IOException ex) \n-\t\t    {\n-\t\t    } \n-\t\t    finally \n-\t\t    {\n-\t\t    \tmBitmapSave.recycle();\n-\t\t    \tcroppedImage.recycle();\n-\t\t    \tUtil.closeSilently(outputStream);\n-\t\t    }\n-\t\t    \t\t\n-\t\t}\t\t                      \n+\n+    private void saveOutput(Bitmap croppedImage) {\n+        if (mSaveUri !\u003d null) {\n+            OutputStream outputStream \u003d null;\n+            try {\n+                outputStream \u003d mContentResolver.openOutputStream(mSaveUri);\n+                if (outputStream !\u003d null) {\n+                    croppedImage.compress(mOutputFormat, 100, outputStream);\n+                }\n+            } catch (IOException ex) {\n+            } finally {\n+                croppedImage.recycle();\n+                Util.closeSilently(outputStream);\n+            }\n+\n+        }\n         sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, mSaveUri));\n         sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE,\n                 Uri.parse(\"file://\" + Environment.getExternalStorageDirectory())));\n \n-\t\tmBitmapSave.recycle();\n-\t\tcroppedImage.recycle();\n-\t\tIntent intent \u003d this.getIntent();\n-\t\twhile(isMediaScannerRunning())\n-\t\t{\n-\t\t\t\tnew Thread(){\n-\t\t\t\t\tpublic void run(){\n-\t\t\t\t\t\ttry{\n-\t\t\t\t\t\tsleep(1000);\n-\t\t\t\t\t\t}catch(Exception e)\n-\t\t\t\t\t\t{e.printStackTrace();}\n-\t\t\t\t\t}\n-\t\t\t\t}.start();\n-\t\t\t\n-\t\t}\n-\t\tintent.putExtra(\"Impath\", mImagePath);\n-\t\tintent.putExtra(\"saveUri\",newpath);\n-\t\tintent.putExtra(\"lati\", txtLatitude.getText().toString());\n-\t\tintent.putExtra(\"logi\",txtLongtitude.getText().toString());\n-\t\tintent.putExtra(\"tags\",txtTags.getText().toString());\n-\t\tintent.putExtra(\"name\", txtPhotoTitle.getText().toString());\t\t\n-\t\tLog.i(\"Danh\",\"Image path output save : \"+mImagePath);\n-\t\tsetResult(RESULT_OK,intent);\t\t\n-\t\tfinish();\n+        croppedImage.recycle();\n+        Intent intent \u003d this.getIntent();\n+        while (isMediaScannerRunning()) {\n+            new Thread() {\n+                public void run() {\n+                    try {\n+                        sleep(1000);\n+                    } catch (Exception e) {\n+                        e.printStackTrace();\n+                    }\n+                }\n+            }.start();\n+\n+        }\n+        intent.putExtra(\"Impath\", mImagePath);\n+        intent.putExtra(\"saveUri\", newpath);\n+        intent.putExtra(\"lati\", txtLatitude.getText().toString());\n+        intent.putExtra(\"logi\", txtLongtitude.getText().toString());\n+        intent.putExtra(\"tags\", txtTags.getText().toString());\n+        intent.putExtra(\"name\", txtPhotoTitle.getText().toString());\n+        Log.i(\"Danh\", \"Image path output save : \" + mImagePath);\n+        setResult(RESULT_OK, intent);\n+        finish();\n     }\n \n     @Override\n     protected void onPause() {\n-\tsuper.onPause();\n+        super.onPause();\n     }\n \n     @Override\n-    protected void onDestroy() \n-    {\n-    \tsuper.onDestroy();\n-    \t\n-    \tSystem.gc();\n+    protected void onDestroy() {\n+        super.onDestroy();\n+\n+        System.gc();\n     }\n \n \n-    Runnable mRunFaceDetection \u003d new Runnable() \n-    {\n-    \tfloat mScale \u003d 1F;\n-    \tMatrix mImageMatrix;\n-    \tFaceDetector.Face[] mFaces \u003d new FaceDetector.Face[3];\n-    \tint mNumFaces;\n-\n-    \t// For each face, we create a HightlightView for it.\n-    \tprivate void handleFace(FaceDetector.Face f) \n-    \t{\n-    \t\tPointF midPoint \u003d new PointF();\n-\n-\t\t    int r \u003d ((int) (f.eyesDistance() * mScale)) * 2;\n-\t\t    f.getMidPoint(midPoint);\n-\t\t    midPoint.x *\u003d mScale;\n-\t\t    midPoint.y *\u003d mScale;\n-\t\n-\t\t    int midX \u003d (int) midPoint.x;\n-\t\t    int midY \u003d (int) midPoint.y;\n-\t\n-\t\t    HighlightView hv \u003d new HighlightView(mImageView);\n-\t\n-\t\t    int width \u003d mBitmap.getWidth();\n-\t\t    int height \u003d mBitmap.getHeight();\n-\t\n-\t\t    Rect imageRect \u003d new Rect(0, 0, width, height);\n-\t\n-\t\t    RectF faceRect \u003d new RectF(midX, midY, midX, midY);\n-\t\t    faceRect.inset(-r, -r);\n-\t\t    if (faceRect.left \u003c 0) \n-\t\t    {\n-\t\t    \tfaceRect.inset(-faceRect.left, -faceRect.left);\n-\t\t    }\n-\t\n-\t\t    if (faceRect.top \u003c 0)\n-\t\t    {\n-\t\t    \tfaceRect.inset(-faceRect.top, -faceRect.top);\n-\t\t    }\n-\t\n-\t\t    if (faceRect.right \u003e imageRect.right) \n-\t\t    {\n-\t\t    \tfaceRect.inset(faceRect.right - imageRect.right, faceRect.right - imageRect.right);\n-\t\t    }\n-\t\n-\t\t    if (faceRect.bottom \u003e imageRect.bottom) \n-\t\t    {\n-\t\t    \tfaceRect.inset(faceRect.bottom - imageRect.bottom, faceRect.bottom - imageRect.bottom);\n-\t\t    }\n-\t\n-\t\t    hv.setup(mImageMatrix, imageRect, faceRect, mCircleCrop, mAspectX !\u003d 0 \u0026\u0026 mAspectY !\u003d 0);\n-\t\t    mImageView.add(hv);\n-    \t}\n-\n-\t\tprivate void makeDefault() \n-\t\t{\n-\t\t    HighlightView hv \u003d new HighlightView(mImageView);\n-\t\n-\t\t    int width \u003d mBitmap.getWidth();\n-\t\t    int height \u003d mBitmap.getHeight();\n-\t\t\t    \n-\t\t\t\n-\t\t    Rect imageRect \u003d new Rect(0, 0, width, height);\n-\t\n-\t\t    // make the default size about 4/5 of the width or height\n-\t\t    int cropWidth \u003d Math.min(width, height) * 4 / 5;\n-\t\t    int cropHeight \u003d cropWidth;\n-\t\t    \n-\t\t    if (mAspectX !\u003d 0 \u0026\u0026 mAspectY !\u003d 0) \n-\t\t    {\n-\t\t    \tif (mAspectX \u003e mAspectY) \n-\t\t    \t{\n-\t\t    \t\tcropHeight \u003d cropWidth * mAspectY / mAspectX;\n-\t\t    \t} \n-\t\t    \telse \n-\t\t    \t{\n-\t\t    \t\tcropWidth \u003d cropHeight * mAspectX / mAspectY;\n-\t\t    \t}\n-\t\t    }\t\t    \n-\t\t    int x \u003d (width - cropWidth) / 2;\n-\t\t    int y \u003d (height - cropHeight) / 2;\n-\t\t    RectF cropRect \u003d new RectF(x, y, x + cropWidth, y + cropHeight);\n-\t\t    hv.setup(mImageMatrix, imageRect, cropRect, mCircleCrop, mAspectX !\u003d 0 \u0026\u0026 mAspectY !\u003d 0);\n-\t\t    mImageView.mHighlightViews.clear(); // Thong\n-\t\t    mImageView.add(hv);\n-\t\t}\n-\n-\t\t// Scale the image down for faster face detection.\n-\t\tprivate Bitmap prepareBitmap() \n-\t\t{\n-\t\t    if (mBitmap \u003d\u003d null) \n-\t\t    {\n-\t\t    \treturn null;\n-\t\t    }\n-\t\n-\t\t    // 256 pixels wide is enough.\n-\t\t    if (mBitmap.getWidth() \u003e 256) \n-\t\t    {\n-\t\t    \tmScale \u003d 256.0F / mBitmap.getWidth();\n-\t\t    }\n-\t\t    Matrix matrix \u003d new Matrix();\n-\t\t    matrix.setScale(mScale, mScale);\n-\t\t    Bitmap faceBitmap \u003d Bitmap.createBitmap(mBitmap, 0, 0, mBitmap.getWidth(), mBitmap.getHeight(), matrix, true);\n-\t\t    return faceBitmap;\n-\t\t}\n-\n-\t\tpublic void run() \n-\t\t{\n-\t\t    mImageMatrix \u003d mImageView.getImageMatrix();\n-\t\t    Bitmap faceBitmap \u003d prepareBitmap();\n-\t\n-\t\t    mScale \u003d 1.0F / mScale;\n-\t\t    if (faceBitmap !\u003d null \u0026\u0026 mDoFaceDetection) \n-\t\t    {\n-\t\t    \tFaceDetector detector \u003d new FaceDetector(faceBitmap.getWidth(), faceBitmap.getHeight(), mFaces.length);\n-\t\t    \tmNumFaces \u003d detector.findFaces(faceBitmap, mFaces);\n-\t\t    }\n-\t\n-\t\t    if (faceBitmap !\u003d null \u0026\u0026 faceBitmap !\u003d mBitmap) \n-\t\t    {\n-\t\t    \tfaceBitmap.recycle();\n-\t\t    }\n-\t\n-\t\t    mHandler.post(new Runnable() \n-\t\t    {\n-\t\t\t\tpublic void run() \n-\t\t\t\t{\n-\t\t\t\t    mWaitingToPick \u003d mNumFaces \u003e 1;\n-\t\t\t\t    if (mNumFaces \u003e 0) \n-\t\t\t\t    {\n-\t\t\t\t\t\tfor (int i \u003d 0; i \u003c mNumFaces; i++) \n-\t\t\t\t\t\t{\n-\t\t\t\t\t\t    handleFace(mFaces[i]);\n-\t\t\t\t\t\t}\n-\t\t\t\t    } \n-\t\t\t\t    else \n-\t\t\t\t    {\n-\t\t\t\t    \tmakeDefault();\n-\t\t\t\t    }\n-\t\t\t\t    mImageView.invalidate();\n-\t\t\t\t    if (mImageView.mHighlightViews.size() \u003d\u003d 1) \n-\t\t\t\t    {\n-\t\t\t\t    \tmCrop \u003d mImageView.mHighlightViews.get(0);\n-\t\t\t\t    \tmCrop.setFocus(true);\n-\t\t\t\t    }\n-\t\t\n-\t\t\t\t    if (mNumFaces \u003e 1) \n-\t\t\t\t    {\n-\t\t\t\t\t\tToast t \u003d Toast.makeText(CropImage.this, \"Multi face crop help\", Toast.LENGTH_SHORT);\n-\t\t\t\t\t\tt.show();\n-\t\t\t\t    }\n-\t\t\t\t}\n-\t\t    });\n-\t\t}\n-\t\t\n+    Runnable mRunFaceDetection \u003d new Runnable() {\n+        float mScale \u003d 1F;\n+        Matrix mImageMatrix;\n+        FaceDetector.Face[] mFaces \u003d new FaceDetector.Face[3];\n+        int mNumFaces;\n+\n+        // For each face, we create a HightlightView for it.\n+        private void handleFace(FaceDetector.Face f) {\n+            PointF midPoint \u003d new PointF();\n+\n+            int r \u003d ((int) (f.eyesDistance() * mScale)) * 2;\n+            f.getMidPoint(midPoint);\n+            midPoint.x *\u003d mScale;\n+            midPoint.y *\u003d mScale;\n+\n+            int midX \u003d (int) midPoint.x;\n+            int midY \u003d (int) midPoint.y;\n+\n+            HighlightView hv \u003d new HighlightView(mImageView);\n+\n+            int width \u003d mBitmap.getWidth();\n+            int height \u003d mBitmap.getHeight();\n+\n+            Rect imageRect \u003d new Rect(0, 0, width, height);\n+\n+            RectF faceRect \u003d new RectF(midX, midY, midX, midY);\n+            faceRect.inset(-r, -r);\n+            if (faceRect.left \u003c 0) {\n+                faceRect.inset(-faceRect.left, -faceRect.left);\n+            }\n+\n+            if (faceRect.top \u003c 0) {\n+                faceRect.inset(-faceRect.top, -faceRect.top);\n+            }\n+\n+            if (faceRect.right \u003e imageRect.right) {\n+                faceRect.inset(faceRect.right - imageRect.right, faceRect.right - imageRect.right);\n+            }\n+\n+            if (faceRect.bottom \u003e imageRect.bottom) {\n+                faceRect.inset(faceRect.bottom - imageRect.bottom, faceRect.bottom - imageRect.bottom);\n+            }\n+\n+            hv.setup(mImageMatrix, imageRect, faceRect, mCircleCrop, mAspectX !\u003d 0 \u0026\u0026 mAspectY !\u003d 0);\n+            mImageView.add(hv);\n+        }\n+\n+        private void makeDefault() {\n+            HighlightView hv \u003d new HighlightView(mImageView);\n+\n+            int width \u003d mBitmap.getWidth();\n+            int height \u003d mBitmap.getHeight();\n+\n+\n+            Rect imageRect \u003d new Rect(0, 0, width, height);\n+\n+            // make the default size about 4/5 of the width or height\n+            int cropWidth \u003d Math.min(width, height) * 4 / 5;\n+            int cropHeight \u003d cropWidth;\n+\n+            if (mAspectX !\u003d 0 \u0026\u0026 mAspectY !\u003d 0) {\n+                if (mAspectX \u003e mAspectY) {\n+                    cropHeight \u003d cropWidth * mAspectY / mAspectX;\n+                } else {\n+                    cropWidth \u003d cropHeight * mAspectX / mAspectY;\n+                }\n+            }\n+            int x \u003d (width - cropWidth) / 2;\n+            int y \u003d (height - cropHeight) / 2;\n+            RectF cropRect \u003d new RectF(x, y, x + cropWidth, y + cropHeight);\n+            hv.setup(mImageMatrix, imageRect, cropRect, mCircleCrop, mAspectX !\u003d 0 \u0026\u0026 mAspectY !\u003d 0);\n+            mImageView.mHighlightViews.clear(); // Thong\n+            mImageView.add(hv);\n+        }\n+\n+        // Scale the image down for faster face detection.\n+        private Bitmap prepareBitmap() {\n+            if (mBitmap \u003d\u003d null) {\n+                return null;\n+            }\n+\n+            // 256 pixels wide is enough.\n+            if (mBitmap.getWidth() \u003e 256) {\n+                mScale \u003d 256.0F / mBitmap.getWidth();\n+            }\n+            Matrix matrix \u003d new Matrix();\n+            matrix.setScale(mScale, mScale);\n+            Bitmap faceBitmap \u003d Bitmap.createBitmap(mBitmap, 0, 0, mBitmap.getWidth(), mBitmap.getHeight(), matrix, true);\n+            return faceBitmap;\n+        }\n+\n+        public void run() {\n+            mImageMatrix \u003d mImageView.getImageMatrix();\n+            Bitmap faceBitmap \u003d prepareBitmap();\n+\n+            mScale \u003d 1.0F / mScale;\n+            if (faceBitmap !\u003d null \u0026\u0026 mDoFaceDetection) {\n+                FaceDetector detector \u003d new FaceDetector(faceBitmap.getWidth(), faceBitmap.getHeight(), mFaces.length);\n+                mNumFaces \u003d detector.findFaces(faceBitmap, mFaces);\n+            }\n+\n+            if (faceBitmap !\u003d null \u0026\u0026 faceBitmap !\u003d mBitmap) {\n+                faceBitmap.recycle();\n+            }\n+\n+            mHandler.post(new Runnable() {\n+                public void run() {\n+                    mWaitingToPick \u003d mNumFaces \u003e 1;\n+                    if (mNumFaces \u003e 0) {\n+                        for (int i \u003d 0; i \u003c mNumFaces; i++) {\n+                            handleFace(mFaces[i]);\n+                        }\n+                    } else {\n+                        makeDefault();\n+                    }\n+                    mImageView.invalidate();\n+                    if (mImageView.mHighlightViews.size() \u003d\u003d 1) {\n+                        mCrop \u003d mImageView.mHighlightViews.get(0);\n+                        mCrop.setFocus(true);\n+                    }\n+\n+                    if (mNumFaces \u003e 1) {\n+                        Toast t \u003d Toast.makeText(CropImage.this, \"Multi face crop help\", Toast.LENGTH_SHORT);\n+                        t.show();\n+                    }\n+                }\n+            });\n+        }\n+\n     };\n \n     public static final int NO_STORAGE_ERROR \u003d -1;\n     public static final int CANNOT_STAT_ERROR \u003d -2;\n \n-    public static void showStorageToast(Activity activity) \n-    {\n-    \ttry\n-    \t{\n-    \t\tshowStorageToast(activity, calculatePicturesRemaining());\n-    \t}\n-    \tcatch (Exception e)\n-    \t{\n-    \t}\n+    public static void showStorageToast(Activity activity) {\n+        try {\n+            showStorageToast(activity, calculatePicturesRemaining());\n+        } catch (Exception e) {\n+        }\n     }\n \n-    public static void showStorageToast(Activity activity, int remaining) \n-    {\n-\t\tString noStorageText \u003d null;\n-\t\n-\t\tif (remaining \u003d\u003d NO_STORAGE_ERROR) \n-\t\t{\n-\t\t    String state \u003d Environment.getExternalStorageState();\n-\t\t    if (state \u003d\u003d Environment.MEDIA_CHECKING) \n-\t\t    {\n-\t\t    \tnoStorageText \u003d \"Preparing card\";\n-\t\t    } \n-\t\t    else \n-\t\t    {\n-\t\t    \tnoStorageText \u003d \"No storage card\";\n-\t\t    }\n-\t\t} \n-\t\telse if (remaining \u003c 1) \n-\t\t{\n-\t\t    noStorageText \u003d \"Not enough space\";\n-\t\t}\n-\t\n-\t\tif (noStorageText !\u003d null) \n-\t\t{\n-\t\t}\n+    public static void showStorageToast(Activity activity, int remaining) {\n+        String noStorageText \u003d null;\n+\n+        if (remaining \u003d\u003d NO_STORAGE_ERROR) {\n+            String state \u003d Environment.getExternalStorageState();\n+            if (state \u003d\u003d Environment.MEDIA_CHECKING) {\n+                noStorageText \u003d \"Preparing card\";\n+            } else {\n+                noStorageText \u003d \"No storage card\";\n+            }\n+        } else if (remaining \u003c 1) {\n+            noStorageText \u003d \"Not enough space\";\n+        }\n+\n+        if (noStorageText !\u003d null) {\n+        }\n     }\n \n     public static int calculatePicturesRemaining() {\n-\ttry {\n-\t    String storageDirectory \u003d\n-\t\tEnvironment.getExternalStorageDirectory().toString();\n-\t    StatFs stat \u003d new StatFs(storageDirectory);\n-\t    float remaining \u003d ((float) stat.getAvailableBlocks()\n-\t\t    * (float) stat.getBlockSize()) / 400000F;\n-\t    return (int) remaining;\n-\t    //}\n-\t} catch (Exception ex) {\n-\t    // if we can\u0027t stat the filesystem then we don\u0027t know how many\n-\t    // pictures are remaining.  it might be zero but just leave it\n-\t    // blank since we really don\u0027t know.\n-\t    return CANNOT_STAT_ERROR;\n-\t}\n+        try {\n+            String storageDirectory \u003d\n+                    Environment.getExternalStorageDirectory().toString();\n+            StatFs stat \u003d new StatFs(storageDirectory);\n+            float remaining \u003d ((float) stat.getAvailableBlocks()\n+                    * (float) stat.getBlockSize()) / 400000F;\n+            return (int) remaining;\n+            //}\n+        } catch (Exception ex) {\n+            // if we can\u0027t stat the filesystem then we don\u0027t know how many\n+            // pictures are remaining.  it might be zero but just leave it\n+            // blank since we really don\u0027t know.\n+            return CANNOT_STAT_ERROR;\n+        }\n     }\n \n-   public Bitmap getResizedBitmap(Bitmap bm, int newHeight, int newWidth) {\n+    public Bitmap getResizedBitmap(Bitmap bm, int newHeight, int newWidth) {\n         int width \u003d bm.getWidth();\n         int height \u003d bm.getHeight();\n         float scaleWidth \u003d ((float) newWidth) / width;\n@@ -1176,21 +1082,20 @@ public Bitmap getResizedBitmap(Bitmap bm, int newHeight, int newWidth) {\n \n \n         // RECREATE THE NEW BITMAP\n-        try{\n-        \tBitmap resizedBitmap \u003d Bitmap.createBitmap(bm, 0, 0, width, height, matrix, false);\n-        \treturn resizedBitmap;\n-        }catch(OutOfMemoryError o){\n-        \tBitmap resizedBitmap \u003d Bitmap.createBitmap(bm, 0, 0, width/2, height/2, matrix, false);\n-        \treturn resizedBitmap;\n+        try {\n+            Bitmap resizedBitmap \u003d Bitmap.createBitmap(bm, 0, 0, width, height, matrix, false);\n+            return resizedBitmap;\n+        } catch (OutOfMemoryError o) {\n+            Bitmap resizedBitmap \u003d Bitmap.createBitmap(bm, 0, 0, width / 2, height / 2, matrix, false);\n+            return resizedBitmap;\n         }\n-        }\n-        \n- \n+    }\n+\n+\n }\n \n \n-class CropImageView extends ImageViewTouchBase\n-{\n+class CropImageView extends ImageViewTouchBase {\n     ArrayList\u003cHighlightView\u003e mHighlightViews \u003d new ArrayList\u003cHighlightView\u003e();\n     HighlightView mMotionHighlightView \u003d null;\n     float mLastX, mLastY;\n@@ -1199,289 +1104,239 @@ public Bitmap getResizedBitmap(Bitmap bm, int newHeight, int newWidth) {\n     private Context mContext;\n \n     @Override\n-    protected void onLayout(boolean changed, int left, int top, int right, int bottom) \n-    {\n-\t\tsuper.onLayout(changed, left, top, right, bottom);\n-\t\tif (mBitmapDisplayed.getBitmap() !\u003d null) \n-\t\t{\n-\t\t    for (HighlightView hv : mHighlightViews) \n-\t\t    {\n-\t\t    \thv.mMatrix.set(getImageMatrix());\n-\t\t    \thv.invalidate();\n-\t\t    \tif (hv.mIsFocused) \n-\t\t    \t{\n-\t\t    \t\tcenterBasedOnHighlightView(hv);\n-\t\t    \t}\n-\t\t    }\n-\t\t}\n+    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n+        super.onLayout(changed, left, top, right, bottom);\n+        if (mBitmapDisplayed.getBitmap() !\u003d null) {\n+            for (HighlightView hv : mHighlightViews) {\n+                hv.mMatrix.set(getImageMatrix());\n+                hv.invalidate();\n+                if (hv.mIsFocused) {\n+                    centerBasedOnHighlightView(hv);\n+                }\n+            }\n+        }\n     }\n \n-    public CropImageView(Context context, AttributeSet attrs) \n-    {\n-    \tsuper(context, attrs);\n-    \tthis.mContext \u003d context;\n+    public CropImageView(Context context, AttributeSet attrs) {\n+        super(context, attrs);\n+        this.mContext \u003d context;\n     }\n \n     @Override\n-    protected void zoomTo(float scale, float centerX, float centerY) \n-    {\n-    \tsuper.zoomTo(scale, centerX, centerY);\n-    \tfor (HighlightView hv : mHighlightViews) \n-    \t{\n-    \t\thv.mMatrix.set(getImageMatrix());\n-    \t\thv.invalidate();\n-    \t}\n+    protected void zoomTo(float scale, float centerX, float centerY) {\n+        super.zoomTo(scale, centerX, centerY);\n+        for (HighlightView hv : mHighlightViews) {\n+            hv.mMatrix.set(getImageMatrix());\n+            hv.invalidate();\n+        }\n     }\n \n     @Override\n-    protected void zoomIn() \n-    {\n-\t\tsuper.zoomIn();\n-\t\tfor (HighlightView hv : mHighlightViews) \n-\t\t{\n-\t\t    hv.mMatrix.set(getImageMatrix());\n-\t\t    hv.invalidate();\n-\t\t}\n+    protected void zoomIn() {\n+        super.zoomIn();\n+        for (HighlightView hv : mHighlightViews) {\n+            hv.mMatrix.set(getImageMatrix());\n+            hv.invalidate();\n+        }\n     }\n \n     @Override\n-    protected void zoomOut() \n-    {\n-\t\tsuper.zoomOut();\n-\t\tfor (HighlightView hv : mHighlightViews) \n-\t\t{\n-\t\t    hv.mMatrix.set(getImageMatrix());\n-\t\t    hv.invalidate();\n-\t\t}\n+    protected void zoomOut() {\n+        super.zoomOut();\n+        for (HighlightView hv : mHighlightViews) {\n+            hv.mMatrix.set(getImageMatrix());\n+            hv.invalidate();\n+        }\n     }\n \n     @Override\n-    protected void postTranslate(float deltaX, float deltaY) \n-    {\n-\t\tsuper.postTranslate(deltaX, deltaY);\n-\t\tfor (int i \u003d 0; i \u003c mHighlightViews.size(); i++) \n-\t\t{\n-\t\t    HighlightView hv \u003d mHighlightViews.get(i);\n-\t\t    hv.mMatrix.postTranslate(deltaX, deltaY);\n-\t\t    hv.invalidate();\n-\t\t}\n+    protected void postTranslate(float deltaX, float deltaY) {\n+        super.postTranslate(deltaX, deltaY);\n+        for (int i \u003d 0; i \u003c mHighlightViews.size(); i++) {\n+            HighlightView hv \u003d mHighlightViews.get(i);\n+            hv.mMatrix.postTranslate(deltaX, deltaY);\n+            hv.invalidate();\n+        }\n     }\n \n     // According to the event\u0027s position, change the focus to the first\n     // hitting cropping rectangle.\n-    private void recomputeFocus(MotionEvent event) \n-    {\n-\t\tfor (int i \u003d 0; i \u003c mHighlightViews.size(); i++) \n-\t\t{\n-\t\t    HighlightView hv \u003d mHighlightViews.get(i);\n-\t\t    hv.setFocus(false);\n-\t\t    hv.invalidate();\n-\t\t}\n-\n-\t\tfor (int i \u003d 0; i \u003c mHighlightViews.size(); i++) \n-\t\t{\n-\t\t    HighlightView hv \u003d mHighlightViews.get(i);\n-\t\t    int edge \u003d hv.getHit(event.getX(), event.getY());\n-\t\t    if (edge !\u003d HighlightView.GROW_NONE) \n-\t\t    {\n-\t\t\t\tif (!hv.hasFocus()) \n-\t\t\t\t{\n-\t\t\t\t    hv.setFocus(true);\n-\t\t\t\t    hv.invalidate();\n-\t\t\t\t}\n-\t\t\t\tbreak;\n-\t\t    }\n-\t\t}\n-\t\tinvalidate();\n+    private void recomputeFocus(MotionEvent event) {\n+        for (int i \u003d 0; i \u003c mHighlightViews.size(); i++) {\n+            HighlightView hv \u003d mHighlightViews.get(i);\n+            hv.setFocus(false);\n+            hv.invalidate();\n+        }\n+\n+        for (int i \u003d 0; i \u003c mHighlightViews.size(); i++) {\n+            HighlightView hv \u003d mHighlightViews.get(i);\n+            int edge \u003d hv.getHit(event.getX(), event.getY());\n+            if (edge !\u003d HighlightView.GROW_NONE) {\n+                if (!hv.hasFocus()) {\n+                    hv.setFocus(true);\n+                    hv.invalidate();\n+                }\n+                break;\n+            }\n+        }\n+        invalidate();\n     }\n \n     @Override\n-    public boolean onTouchEvent(MotionEvent event) \n-    {\n-    \tCropImage cropImage \u003d (CropImage) mContext;\n-\t\tif (cropImage.mSaving)\n-\t\t{\n-\t\t    return false;\n-\t\t}\n-\n-\t\tswitch (event.getAction()) \n-\t\t{\n-\t\t\tcase MotionEvent.ACTION_DOWN:\n-\t\t\t    if (cropImage.mWaitingToPick) \n-\t\t\t    {\n-\t\t\t    \trecomputeFocus(event);\n-\t\t\t    } \n-\t\t\t    else \n-\t\t\t    {\n-\t\t\t\t\tfor (int i \u003d 0; i \u003c mHighlightViews.size(); i++) \n-\t\t\t\t\t{\n-\t\t\t\t\t    HighlightView hv \u003d mHighlightViews.get(i);\n-\t\t\t\t\t    int edge \u003d hv.getHit(event.getX(), event.getY());\n-\t\t\t\t\t    if (edge !\u003d HighlightView.GROW_NONE) \n-\t\t\t\t\t    {\n-\t\t\t\t\t\t\tmMotionEdge \u003d edge;\n-\t\t\t\t\t\t\tmMotionHighlightView \u003d hv;\n-\t\t\t\t\t\t\tmLastX \u003d event.getX();\n-\t\t\t\t\t\t\tmLastY \u003d event.getY();\n-\t\t\t\t\t\t\tmMotionHighlightView.setMode(\n-\t\t\t\t\t\t\t\t(edge \u003d\u003d HighlightView.MOVE)\n-\t\t\t\t\t\t\t\t? HighlightView.ModifyMode.Move\n-\t\t\t\t\t\t\t\t\t: HighlightView.ModifyMode.Grow);\n-\t\t\t\t\t\t\tbreak;\n-\t\t\t\t\t    }\n-\t\t\t\t\t}\n-\t\t\t    }\n-\t\t\t    break;\n-\t\t\tcase MotionEvent.ACTION_UP:\n-\t\t\t    if (cropImage.mWaitingToPick) \n-\t\t\t    {\n-\t\t\t\t\tfor (int i \u003d 0; i \u003c mHighlightViews.size(); i++) \n-\t\t\t\t\t{\n-\t\t\t\t\t    HighlightView hv \u003d mHighlightViews.get(i);\n-\t\t\t\t\t    if (hv.hasFocus()) \n-\t\t\t\t\t    {\n-\t\t\t\t\t    \tcropImage.mCrop \u003d hv;\n-\t\t\t\t\t\t\tfor (int j \u003d 0; j \u003c mHighlightViews.size(); j++) \n-\t\t\t\t\t\t\t{\n-\t\t\t\t\t\t\t    if (j \u003d\u003d i) \n-\t\t\t\t\t\t\t    {\n-\t\t\t\t\t\t\t    \tcontinue;\n-\t\t\t\t\t\t\t    }\n-\t\t\t\t\t\t\t    mHighlightViews.get(j).setHidden(true);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\tcenterBasedOnHighlightView(hv);\n-\t\t\t\t\t\t\t((CropImage) mContext).mWaitingToPick \u003d false;\n-\t\t\t\t\t\t\treturn true;\n-\t\t\t\t\t    }\n-\t\t\t\t\t}\n-\t\t\t    } \n-\t\t\t    else if (mMotionHighlightView !\u003d null) \n-\t\t\t    {\n-\t\t\t    \tcenterBasedOnHighlightView(mMotionHighlightView);\n-\t\t\t    \tmMotionHighlightView.setMode(HighlightView.ModifyMode.None);\n-\t\t\t    }\n-\t\t\t    mMotionHighlightView \u003d null;\n-\t\t\t    break;\n-\t\t\tcase MotionEvent.ACTION_MOVE:\n-\t\t\t    if (cropImage.mWaitingToPick) \n-\t\t\t    {\n-\t\t\t    \trecomputeFocus(event);\n-\t\t\t    } \n-\t\t\t    else if (mMotionHighlightView !\u003d null) \n-\t\t\t    {\n-\t\t\t    \tmMotionHighlightView.handleMotion(mMotionEdge,\n-\t\t\t    \t\t\tevent.getX() - mLastX,\n-\t\t\t    \t\t\tevent.getY() - mLastY);\n-\t\t\t    \tmLastX \u003d event.getX();\n-\t\t\t    \tmLastY \u003d event.getY();\n-\n-\t\t\t    \tif (true)\n-\t\t\t    \t{\n-\t\t\t\t\t    // This section of code is optional. It has some user\n-\t\t\t\t\t    // benefit in that moving the crop rectangle against\n-\t\t\t\t\t    // the edge of the screen causes scrolling but it means\n-\t\t\t\t\t    // that the crop rectangle is no longer fixed under\n-\t\t\t\t\t    // the user\u0027s finger.\n-\t\t\t    \t\tensureVisible(mMotionHighlightView);\n-\t\t\t    \t}\n-\t\t\t    }\n-\t\t\t    break;\n-\t\t}\n-\t\tswitch (event.getAction()) \n-\t\t{\n-\t\t\tcase MotionEvent.ACTION_UP:\n-\t\t\t\tcenter(true, true);\n-\t\t\t\tbreak;\n-\t\t\tcase MotionEvent.ACTION_MOVE:\n-\t\t\t    // if we\u0027re not zoomed then there\u0027s no point in even allowing\n-\t\t\t    // the user to move the image around.  This call to center puts\n-\t\t\t    // it back to the normalized location (with false meaning don\u0027t\n-\t\t\t    // animate).\n-\t\t\t\tif (getScale() \u003d\u003d 1F) \n-\t\t\t\t{\n-\t\t\t\t\tcenter(true, true);\n-\t\t\t\t}\n-\t\t\t\tbreak;\n-\t\t}\n-\t\treturn true;\n+    public boolean onTouchEvent(MotionEvent event) {\n+        CropImage cropImage \u003d (CropImage) mContext;\n+        if (cropImage.mSaving) {\n+            return false;\n+        }\n+\n+        switch (event.getAction()) {\n+            case MotionEvent.ACTION_DOWN:\n+                if (cropImage.mWaitingToPick) {\n+                    recomputeFocus(event);\n+                } else {\n+                    for (int i \u003d 0; i \u003c mHighlightViews.size(); i++) {\n+                        HighlightView hv \u003d mHighlightViews.get(i);\n+                        int edge \u003d hv.getHit(event.getX(), event.getY());\n+                        if (edge !\u003d HighlightView.GROW_NONE) {\n+                            mMotionEdge \u003d edge;\n+                            mMotionHighlightView \u003d hv;\n+                            mLastX \u003d event.getX();\n+                            mLastY \u003d event.getY();\n+                            mMotionHighlightView.setMode(\n+                                    (edge \u003d\u003d HighlightView.MOVE)\n+                                            ? HighlightView.ModifyMode.Move\n+                                            : HighlightView.ModifyMode.Grow);\n+                            break;\n+                        }\n+                    }\n+                }\n+                break;\n+            case MotionEvent.ACTION_UP:\n+                if (cropImage.mWaitingToPick) {\n+                    for (int i \u003d 0; i \u003c mHighlightViews.size(); i++) {\n+                        HighlightView hv \u003d mHighlightViews.get(i);\n+                        if (hv.hasFocus()) {\n+                            cropImage.mCrop \u003d hv;\n+                            for (int j \u003d 0; j \u003c mHighlightViews.size(); j++) {\n+                                if (j \u003d\u003d i) {\n+                                    continue;\n+                                }\n+                                mHighlightViews.get(j).setHidden(true);\n+                            }\n+                            centerBasedOnHighlightView(hv);\n+                            ((CropImage) mContext).mWaitingToPick \u003d false;\n+                            return true;\n+                        }\n+                    }\n+                } else if (mMotionHighlightView !\u003d null) {\n+                    centerBasedOnHighlightView(mMotionHighlightView);\n+                    mMotionHighlightView.setMode(HighlightView.ModifyMode.None);\n+                }\n+                mMotionHighlightView \u003d null;\n+                break;\n+            case MotionEvent.ACTION_MOVE:\n+                if (cropImage.mWaitingToPick) {\n+                    recomputeFocus(event);\n+                } else if (mMotionHighlightView !\u003d null) {\n+                    mMotionHighlightView.handleMotion(mMotionEdge,\n+                            event.getX() - mLastX,\n+                            event.getY() - mLastY);\n+                    mLastX \u003d event.getX();\n+                    mLastY \u003d event.getY();\n+\n+                    if (true) {\n+                        // This section of code is optional. It has some user\n+                        // benefit in that moving the crop rectangle against\n+                        // the edge of the screen causes scrolling but it means\n+                        // that the crop rectangle is no longer fixed under\n+                        // the user\u0027s finger.\n+                        ensureVisible(mMotionHighlightView);\n+                    }\n+                }\n+                break;\n+        }\n+        switch (event.getAction()) {\n+            case MotionEvent.ACTION_UP:\n+                center(true, true);\n+                break;\n+            case MotionEvent.ACTION_MOVE:\n+                // if we\u0027re not zoomed then there\u0027s no point in even allowing\n+                // the user to move the image around.  This call to center puts\n+                // it back to the normalized location (with false meaning don\u0027t\n+                // animate).\n+                if (getScale() \u003d\u003d 1F) {\n+                    center(true, true);\n+                }\n+                break;\n+        }\n+        return true;\n     }\n \n     // Pan the displayed image to make sure the cropping rectangle is visible.\n-    private void ensureVisible(HighlightView hv) \n-    {\n-\t\tRect r \u003d hv.mDrawRect;\n-\t\n-\t\tint panDeltaX1 \u003d Math.max(0, mLeft - r.left);\n-\t\tint panDeltaX2 \u003d Math.min(0, mRight - r.right);\n-\t\n-\t\tint panDeltaY1 \u003d Math.max(0, mTop - r.top);\n-\t\tint panDeltaY2 \u003d Math.min(0, mBottom - r.bottom);\n-\t\n-\t\tint panDeltaX \u003d panDeltaX1 !\u003d 0 ? panDeltaX1 : panDeltaX2;\n-\t\tint panDeltaY \u003d panDeltaY1 !\u003d 0 ? panDeltaY1 : panDeltaY2;\n-\t\n-\t\tif (panDeltaX !\u003d 0 || panDeltaY !\u003d 0) \n-\t\t{\n-\t\t    panBy(panDeltaX, panDeltaY);\n-\t\t}\n+    private void ensureVisible(HighlightView hv) {\n+        Rect r \u003d hv.mDrawRect;\n+\n+        int panDeltaX1 \u003d Math.max(0, mLeft - r.left);\n+        int panDeltaX2 \u003d Math.min(0, mRight - r.right);\n+\n+        int panDeltaY1 \u003d Math.max(0, mTop - r.top);\n+        int panDeltaY2 \u003d Math.min(0, mBottom - r.bottom);\n+\n+        int panDeltaX \u003d panDeltaX1 !\u003d 0 ? panDeltaX1 : panDeltaX2;\n+        int panDeltaY \u003d panDeltaY1 !\u003d 0 ? panDeltaY1 : panDeltaY2;\n+\n+        if (panDeltaX !\u003d 0 || panDeltaY !\u003d 0) {\n+            panBy(panDeltaX, panDeltaY);\n+        }\n     }\n \n     // If the cropping rectangle\u0027s size changed significantly, change the\n     // view\u0027s center and scale according to the cropping rectangle.\n-    private void centerBasedOnHighlightView(HighlightView hv) \n-    {\n-\t\tRect drawRect \u003d hv.mDrawRect;\n-\t\n-\t\tfloat width \u003d drawRect.width();\n-\t\tfloat height \u003d drawRect.height();\n-\t\n-\t\tfloat thisWidth \u003d getWidth();\n-\t\tfloat thisHeight \u003d getHeight();\n-\t\n-\t\tfloat z1 \u003d thisWidth / width * .6F;\n-\t\tfloat z2 \u003d thisHeight / height * .6F;\n-\t\n-\t\tfloat zoom \u003d Math.min(z1, z2);\n-\t\tzoom \u003d zoom * this.getScale();\n-\t\tzoom \u003d Math.max(1F, zoom);\n-\t\tif ((Math.abs(zoom - getScale()) / zoom) \u003e .1) \n-\t\t{\n-\t\t    float [] coordinates \u003d new float[] { hv.mCropRect.centerX(), hv.mCropRect.centerY()};\n-\t\t    getImageMatrix().mapPoints(coordinates);\n-\n-\t\t\t// Disabling zoom as it causes disappearance of image\n-\t\t\t//zoomTo(zoom, coordinates[0], coordinates[1], 300F);\n-\t\t}\n-\t\tensureVisible(hv);\n+    private void centerBasedOnHighlightView(HighlightView hv) {\n+        Rect drawRect \u003d hv.mDrawRect;\n+\n+        float width \u003d drawRect.width();\n+        float height \u003d drawRect.height();\n+\n+        float thisWidth \u003d getWidth();\n+        float thisHeight \u003d getHeight();\n+\n+        float z1 \u003d thisWidth / width * .6F;\n+        float z2 \u003d thisHeight / height * .6F;\n+\n+        float zoom \u003d Math.min(z1, z2);\n+        zoom \u003d zoom * this.getScale();\n+        zoom \u003d Math.max(1F, zoom);\n+        if ((Math.abs(zoom - getScale()) / zoom) \u003e .1) {\n+            float[] coordinates \u003d new float[]{hv.mCropRect.centerX(), hv.mCropRect.centerY()};\n+            getImageMatrix().mapPoints(coordinates);\n+\n+            // Disabling zoom as it causes disappearance of image\n+            //zoomTo(zoom, coordinates[0], coordinates[1], 300F);\n+        }\n+        ensureVisible(hv);\n     }\n \n     @Override\n-    protected void onDraw(Canvas canvas) \n-    {\n-\t\ttry\n-\t\t{\n-\t    \tsuper.onDraw(canvas);\n-\t    \tfor (int i \u003d 0; i \u003c mHighlightViews.size(); i++) \n-\t    \t{\n-\t    \t\tmHighlightViews.get(i).draw(canvas);\n-\t    \t}\n-\t\t}\n-\t\tcatch(Exception ce)\n-\t\t{\n-\t\t}\n+    protected void onDraw(Canvas canvas) {\n+        try {\n+            super.onDraw(canvas);\n+            for (int i \u003d 0; i \u003c mHighlightViews.size(); i++) {\n+                mHighlightViews.get(i).draw(canvas);\n+            }\n+        } catch (Exception ce) {\n+        }\n     }\n \n-    public void add(HighlightView hv) \n-    {\n-\t\tmHighlightViews.add(hv);\n-\t\tinvalidate();\n+    public void add(HighlightView hv) {\n+        mHighlightViews.add(hv);\n+        invalidate();\n     }\n \n-\t@Override\n-\tprotected void onMeasure(int widthM, int heightM)\n-\t{\n-\t\tsuper.onMeasure(widthM, heightM);\n-\t\tint width \u003d getMeasuredWidth();\n-\t\tsetMeasuredDimension(width, width);\n-\t}\n+    @Override\n+    protected void onMeasure(int widthM, int heightM) {\n+        super.onMeasure(widthM, heightM);\n+        int width \u003d getMeasuredWidth();\n+        setMeasuredDimension(width, width);\n+    }\n }"
        },
        {
          "file_name": "upload_apk_forks.sh",
          "patch": "@@ -22,7 +22,7 @@ git config --global user.name \"Travis CI\"\n # git clone --quiet --branch\u003dapk htpps://username:authentiToken@github.com/username/phimpme-android apk \u003e /dev/null\n # replacing username with your github username and authentiToken with a personal token for your account.***\n # Your token is advised to have only access to public repositories. Its only needed.\n-git clone --quiet --branch\u003dapk https://$USERNAME:$API_TOKEN@github.com/$USERNAME/phimpme-android  apk \u003e /dev/null\n+git clone --quiet --branch\u003dapk https://CloudyPadmal:b1ff8e722d4466346d80b011fe0f2b532d2a3db3@github.com/CloudyPadmal/phimpme-android  apk \u003e /dev/null\n cp -Rf $HOME/buildApk/*\n cd apk\n "
        }
      ]
    }
  },
  {
    "name": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027models.NutrientLevels.getFat()\u0027 on a null object reference",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/521",
    "description": "Steps to reproduce\r\n1. App in Japanese \r\n2. Japanese product (4901551355051)\r\n3. Swipe to ingredients tab\r\n\r\n```03-13 13:59:16.008 13172-13172/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                   Process: openfoodfacts.github.scrachx.openfood, PID: 13172\r\n                                                   java.lang.NullPointerException: Attempt to invoke virtual method \u0027openfoodfacts.github.scrachx.openfood.models.NutrimentLevel openfoodfacts.github.scrachx.openfood.models.NutrientLevels.getFat()\u0027 on a null object reference\r\n                                                       at openfoodfacts.github.scrachx.openfood.fragments.NutritionProductFragment.onViewCreated(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.moveToState(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.moveToState(Unknown Source)\r\n                                                       at android.support.v4.app.BackStackRecord.executeOps(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.executeOps(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.execSingleAction(Unknown Source)\r\n                                                       at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(Unknown Source)\r\n                                                       at android.support.v4.app.FragmentPagerAdapter.finishUpdate(Unknown Source)\r\n                                                       at android.support.v4.view.ViewPager.populate(Unknown Source)\r\n                                                       at android.support.v4.view.ViewPager.populate(Unknown Source)\r\n                                                       at android.support.v4.view.ViewPager$3.run(Unknown Source)\r\n                                                       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\r\n                                                       at android.view.Choreographer.doCallbacks(Choreographer.java:670)\r\n                                                       at android.view.Choreographer.doFrame(Choreographer.java:603)\r\n                                                       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\r\n                                                       at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                       at android.os.Looper.loop(Looper.java:148)\r\n                                                       at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)```",
    "keywords": [
      "handler",
      "scrachx",
      "choreographer",
      "android",
      "android support",
      "support v4",
      "run",
      "main",
      "invoke",
      "source",
      "github scrachx",
      "app fragmentmanagerimpl",
      "unknown",
      "view",
      "java",
      "openfood",
      "lang",
      "unknown source",
      "zygoteinit",
      "app",
      "github",
      "openfoodfacts",
      "os",
      "method",
      "v4 app",
      "support",
      "fragmentmanagerimpl",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/c849c93f3b1447405a55156ba4ca9dea0ae43fbf",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/fragments/NutritionProductFragment.java",
          "patch": "@@ -61,10 +61,16 @@ public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n         Nutriments nutriments \u003d product.getNutriments();\n \n         NutrientLevels nutrientLevels \u003d product.getNutrientLevels();\n-        NutrimentLevel fat \u003d nutrientLevels.getFat();\n-        NutrimentLevel saturatedFat \u003d nutrientLevels.getSaturatedFat();\n-        NutrimentLevel sugars \u003d nutrientLevels.getSugars();\n-        NutrimentLevel salt \u003d nutrientLevels.getSalt();\n+        NutrimentLevel fat \u003d null;\n+        NutrimentLevel saturatedFat \u003d null;\n+        NutrimentLevel sugars \u003d null;\n+        NutrimentLevel salt \u003d null;\n+        if(nutrientLevels !\u003d null) {\n+            fat \u003d nutrientLevels.getFat();\n+            saturatedFat \u003d nutrientLevels.getSaturatedFat();\n+            sugars \u003d nutrientLevels.getSugars();\n+            salt \u003d nutrientLevels.getSalt();\n+        }\n \n         if (fat \u003d\u003d null \u0026\u0026 salt \u003d\u003d null \u0026\u0026 saturatedFat \u003d\u003d null \u0026\u0026 sugars \u003d\u003d null) {\n             levelItem.add(new NutrientLevelItem(getString(R.string.txtNoData), \"\", \"\", R.drawable.error_image));"
        }
      ]
    }
  },
  {
    "name": "App crashes when opening CommentsActivity",
    "url": "https://github.com/jorgegil96/All-NBA/issues/82",
    "description": "```\r\nException java.lang.IllegalStateException: Fatal Exception thrown on Scheduler.\r\nio.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run (HandlerScheduler.java:111)\r\nandroid.os.Handler.handleCallback (Handler.java:746)\r\nandroid.os.Handler.dispatchMessage (Handler.java:95)\r\nandroid.os.Looper.loop (Looper.java:148)\r\nandroid.app.ActivityThread.main (ActivityThread.java:5443)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:728)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:618)\r\n\r\nCaused by java.lang.StringIndexOutOfBoundsException: length\u003d0; regionStart\u003d0; regionLength\u003d1\r\njava.lang.String.startEndAndLength (String.java:298)\r\njava.lang.String.substring (String.java:1087)\r\ncom.gmail.jorgegilcavazos.ballislife.features.boxscore.BoxScoreFragment.showHomeBoxScore (BoxScoreFragment.java:171)\r\ncom.gmail.jorgegilcavazos.ballislife.features.boxscore.BoxScorePresenter$1.onSuccess (BoxScorePresenter.java:44)\r\ncom.gmail.jorgegilcavazos.ballislife.features.boxscore.BoxScorePresenter$1.onSuccess (BoxScorePresenter.java:36)\r\nio.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run (SingleObserveOn.java:81)\r\nio.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run (HandlerScheduler.java:109)\r\nandroid.os.Handler.handleCallback (Handler.java:746)\r\nandroid.os.Handler.dispatchMessage (Handler.java:95)\r\nandroid.os.Looper.loop (Looper.java:148)\r\nandroid.app.ActivityThread.main (ActivityThread.java:5443)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:728)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:618)\r\n```",
    "keywords": [
      "com",
      "gmail",
      "handler",
      "internal",
      "string",
      "android",
      "main",
      "run",
      "looper",
      "reactivex",
      "features",
      "ballislife features",
      "java",
      "android internal",
      "lang",
      "zygoteinit",
      "app",
      "android os",
      "os",
      "method",
      "io",
      "boxscore",
      "java lang",
      "activitythread",
      "gmail jorgegilcavazos",
      "ballislife",
      "jorgegilcavazos"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/jorgegil96/All-NBA/commit/b3c447f20bb1e2dfc620f3971954cfe60371ac2a",
      "files": [
        {
          "file_name": "app/src/main/java/com/gmail/jorgegilcavazos/ballislife/features/boxscore/BoxScoreFragment.java",
          "patch": "@@ -154,7 +154,12 @@ public void showVisitorBoxScore(BoxScoreValues values) {\n         List\u003cString\u003e players \u003d new ArrayList\u003c\u003e();\n \n         for (StatLine statLine : values.getVls().getPstsg()) {\n-            players.add(statLine.getFn().substring(0, 1) + \". \" + statLine.getLn());\n+            // Some players don\u0027t have a first name, like Nene.\n+            if (statLine.getFn() !\u003d null \u0026\u0026 statLine.getFn().length() \u003e\u003d 1) {\n+                players.add(statLine.getFn().substring(0, 1) + \". \" + statLine.getLn());\n+            } else {\n+                players.add(statLine.getLn());\n+            }\n         }\n \n         playerAdapter.setData(players);\n@@ -168,7 +173,12 @@ public void showHomeBoxScore(BoxScoreValues values) {\n         List\u003cString\u003e players \u003d new ArrayList\u003c\u003e();\n \n         for (StatLine statLine : values.getHls().getPstsg()) {\n-            players.add(statLine.getFn().substring(0, 1) + \". \" + statLine.getLn());\n+            // Some players don\u0027t have a first name, like Nene.\n+            if (statLine.getFn() !\u003d null \u0026\u0026 statLine.getFn().length() \u003e\u003d 1) {\n+                players.add(statLine.getFn().substring(0, 1) + \". \" + statLine.getLn());\n+            } else {\n+                players.add(statLine.getLn());\n+            }\n         }\n \n         playerAdapter.setData(players);"
        }
      ]
    }
  },
  {
    "name": "app crashing when obs json is too large",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/312",
    "description": "I *think* an observation\u0027s JSON is too large the app will crash when loading comments and IDs. This was happening when you try to view https://www.inaturalist.org/observations/5407184.json in the app (it\u0027s not now b/c I removed a lot of the photos). You could definitely argue that this response is absurd with a ton of duplicate taxon and photos records, and you would be right, but regardless, the app should not choke on JSON just b/c it\u0027s too big unless it\u0027s absurdly big, like 5+ MB or something. Or maybe I\u0027m mis-diagnosing this, but I\u0027m definitely getting a crash on my 5X, build 199. I do not get that crash with build 203 after having removed the photos. Yes I should have tested the most recent version before removing the photos. I am a bad bug filer.\r\n\r\nThe user who reported this is the one who owns this observation, and they also say that when they try to view it in the app, the app hangs and posts an older version of their ID (you can see the sequence of replaced IDs on their observation). I\u0027m not entirely sure that\u0027s related, but maybe.\r\n\r\nAnyway, if there is some kind of cap on the size of JSON we can load, can we remove it?\r\n\r\nLog data:\r\n```\r\n03-24 21:56:48.289 16607 19244 D INaturalistService: RESP: [{\"id\":5406499,\"observed_on\":\"2015-09-17\",\"description\":null,\"latitude\":\"30.1886227692\",\"longitude\":\"-97.7197442204\",\"map_scale\":null,\"timeframe\":null,\"species_guess\":\"Rabid Wolf Spider\",\"user_id\":370785,\"taxon_id\":147930,\"created_at\":\"2017-03-19T22:00:43.804-07:00\",\"updated_at\":\"2017-03-20T18:17:59.438-07:00\",\"place_guess\":\"Austin, TX\",\"id_please\":false,\"observed_on_string\":\"2015-09-17 12:56:00 PM CDT\",\"iconic_taxon_id\":47119,\"num_identification_agreements\":1,\"num_identification_disagreements\":0,\"time_observed_at\":\"2015-09-17T10:56:00.000-07:00\",\"time_zone\":\"Central Time (US \\u0026 Canada)\",\"location_is_exact\":false,\"delta\":false,\"positional_accuracy\":86,\"geoprivacy\":null,\"quality_grade\":\"research\",\"positioning_method\":\"gps\",\"positioning_device\":\"gps\",\"out_of_range\":null,\"license\":null,\"uri\":\"https://www.inaturalist.org/observations/5406499\",\"observation_photos_count\":1,\"comments_count\":0,\"zic_time_zone\":\"America/Chicago\",\"oauth_application_id\":2,\"observation_sounds_count\":0,\"identifications_count\":6,\"captive\":false,\"community_taxon_id\":147930,\"site_id\":1,\"old_uuid\":null,\"public_positional_accuracy\":86,\"mappable\":true,\"cached_votes_total\":0,\"last_indexed_at\":\"2017-03-22T17:56:03.899-07:00\",\"uuid\":\"555394fc-587a-4d34-b784-52ab3401878c\",\"short_description\":null,\"user_login\":\"star3\",\"iconic_taxon_name\":\"Arachnida\",\"tag_list\":[],\"faves_count\":0,\"created_at_utc\":\"2017-03-20T05:00:43.804Z\",\"updated_at_utc\":\"2017-03-21T01:17:59.438Z\",\"time_observed_at_utc\":\"2015-09-17T17:56:00.000Z\",\"coordinates_obscured\":false,\"taxon\":{\"id\":147930,\"name\":\"Rabidosa rabida\",\"rank\":\"species\",\"ancestry\":\"48460/1/47120/245097/47119/47118/120474/342614/367161/47416/147238\",\"common_name\":{\"id\":248732,\"name\":\"Rabid Wolf Spider\",\"is_valid\":true,\"lexicon\":\"English\"}},\"iconic_taxon\":{\"id\":47119,\"name\":\"Arachnida\",\"rank\":\"class\",\"rank_level\":50,\"ancestry\":\"48460/1/47120/245097\"},\"user\":{\"login\":\"star3\",\"user_icon_url\":null},\"photos\":[{\"id\":6644200,\"user_id\":370785,\"native_photo_id\":\"6644200\",\"square_url\":\"https://static.inaturalist.org/photos/6644200/square.jpeg?1489986051\",\"thumb_url\":\"https://static.inaturalist.org/photos/6644200/thumb.jpeg?1489986051\",\"small_url\":\"https://static.inaturalist.org/photos/6644200/small.jpeg?1489986051\",\"medium_url\":\"https://static.inaturalist.org/photos/6644200/medium.jpeg?1489986051\",\"large_url\":\"https://static.inaturalist.org/photos/6644200/large.jpeg?1489986051\",\"created_at\":\"2017-03-19T22:00:49.668-07:00\",\"updated_at\":\"2017-03-19T22:00:53.251-07:00\",\"native_page_url\":\"https://www.inaturalist.org/photos/6644200\",\"native_username\":\"star3\",\"native_realname\":\"Star Donovan\",\"license\":0,\"subtype\":null,\"native_original_image_url\":null,\"license_code\":\"C\",\"attribution\":\"(c) Star Donovan, all rights reserved\",\"license_name\":\"Copyright\",\"license_url\":\"http://en.wikipedia.org/wiki/Copyright\",\"type\":\"LocalPhoto\"}],\"observation_photos\":[{\"id\":6301732,\"observation_id\":5406499,\"photo_id\":6644200,\"position\":0,\"created_at\":\"2017-03-19T22:00:50.339-07:00\",\"updated_at\":\"2017-03-19T22:00:50.339-07:00\",\"old_uuid\":null,\"uuid\":\"86b29f32-5767-4004-919e-4886c5bf84ab\",\"photo\":{\"id\":6644200,\"user_id\":370785,\"native_photo_id\":\"6644200\",\"square_url\":\"https://static.inaturalist.org/photos/6644200/square.jpeg?1489986051\",\"thumb_url\":\"https://static.inaturalist.org/photos/6644200/thumb.jpeg?1489986051\",\"small_url\":\"https://static.inaturalist.org/photos/6644200/small.jpeg?1489986051\",\"medium_url\":\"https://static.inaturalist.org/photos/6644200/medium.jpeg?1489986051\",\"large_url\":\"https://static.inaturalist.org/photos/6644200/large.jpeg?1489986051\",\"created_at\":\"2017-03-19T22:00:49.668-07:00\",\"updated_at\":\"2017-03-19T22:00:53.251-07:00\",\"native_page_url\":\"https://www.inaturalist.org/photos/6644200\",\"native_username\":\"star3\",\"native_realname\":\"Star Donovan\",\"license\":0,\"subtype\":null,\"native_original_image_url\":null,\"license_name\":\"Copyright\",\"license_url\":\"http://en.wikipedia.org/wiki/Copyright\",\"attribution\":\"(c) Star Donovan, all rights reserved\",\"type\":\"LocalPhoto\"}}]},{\"id\":5406410,\"observed_on\"\r\n03-24 21:56:48.334 16607 19244 D INaturalistService: Service: get_observation\r\n03-24 21:56:48.336 16607 19244 D INaturalistService: URL: get - https://www.inaturalist.org/observations/5407184.json?locale\u003den (null)\r\n03-24 21:56:48.488 16607 16607 W FlurryAgent: End session with context: org.inaturalist.android.INaturalistMapActivity@14bbb16 count:1\r\n03-24 21:56:48.500 16607 16607 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size \u003d 987252)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: App sent too much data in instance state, so it was ignored\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: android.os.TransactionTooLargeException: data parcel size 987252 bytes\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.os.BinderProxy.transactNative(Native Method)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.os.BinderProxy.transact(Binder.java:615)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3636)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.app.ActivityThread$StopInfo.run(ActivityThread.java:3773)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.os.Handler.handleCallback(Handler.java:751)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.os.Looper.loop(Looper.java:154)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat android.app.ActivityThread.main(ActivityThread.java:6119)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat java.lang.reflect.Method.invoke(Native Method)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n03-24 21:56:48.503 16607 16607 E ActivityThread: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n03-24 21:56:48.731 16607 16612 I art     : Do partial code cache collection, code\u003d221KB, data\u003d230KB\r\n03-24 21:56:48.732 16607 16612 I art     : After code cache collection, code\u003d198KB, data\u003d208KB\r\n03-24 21:56:48.732 16607 16612 I art     : Increasing code cache capacity to 1024KB\r\n03-24 21:56:52.053 16607 19244 D INaturalistService: RESP: {\"id\":5407184,\"observed_on\":\"2016-04-07\",\"description\":null,\"latitude\":\"30.1950011529\",\"longitude\":\"-97.7162627131\",\"map_scale\":null,\"timeframe\":null,\"species_guess\":\"Flaxes\",\"user_id\":370785,\"taxon_id\":51309,\"created_at\":\"2017-03-20T07:37:34.493+01:00\",\"updated_at\":\"2017-03-23T06:07:56.365+01:00\",\"place_guess\":\"4200 Smith School Drive Austin, TX 78744\",\"id_please\":false,\"observed_on_string\":\"2016-04-07 12:09:00 PM CDT\",\"iconic_taxon_id\":47126,\"num_identification_agreements\":1,\"num_identification_disagreements\":0,\"time_observed_at\":\"2016-04-07T18:09:00.000+01:00\",\"time_zone\":\"Central Time (US \\u0026 Canada)\",\"location_is_exact\":false,\"delta\":false,\"positional_accuracy\":344,\"geoprivacy\":null,\"quality_grade\":\"needs_id\",\"positioning_method\":\"gps\",\"positioning_device\":\"gps\",\"out_of_range\":null,\"license\":null,\"uri\":\"https://www.inaturalist.org/observations/5407184\",\"observation_photos_count\":2,\"comments_count\":1,\"zic_time_zone\":\"America/Chicago\",\"oauth_application_id\":2,\"observation_sounds_count\":0,\"identifications_count\":9,\"captive\":false,\"community_taxon_id\":51309,\"site_id\":1,\"old_uuid\":null,\"public_positional_accuracy\":344,\"mappable\":true,\"cached_votes_total\":0,\"last_indexed_at\":\"2017-03-23T06:24:39.561+01:00\",\"uuid\":\"255d4efe-3968-4c59-be04-e363d6f61a3e\",\"user_login\":\"star3\",\"iconic_taxon_name\":\"Plantae\",\"captive_flag\":false,\"created_at_utc\":\"2017-03-20T06:37:34.493Z\",\"updated_at_utc\":\"2017-03-23T05:07:56.365Z\",\"time_observed_at_utc\":\"2016-04-07T17:09:00.000Z\",\"faves_count\":0,\"coordinates_obscured\":false,\"user\":{\"id\":370785,\"login\":\"star3\",\"name\":\"Star Donovan\",\"created_at\":\"2016-11-17T20:03:36.419+01:00\",\"updated_at\":\"2017-03-22T23:57:24.900+01:00\",\"time_zone\":null,\"description\":null,\"life_list_id\":516782,\"observations_count\":118,\"identifications_count\":18,\"journal_posts_count\":0,\"life_list_taxa_count\":137,\"icon_url\":\"http://graph.facebook.com/10211134117611402/picture?type\u003dsquare\",\"uri\":\"http://www.inaturalist.org/users/370785\",\"locale\":\"en\",\"site_id\":null,\"place_id\":null,\"spammer\":false,\"spam_count\":0,\"last_active\":\"2017-03-24\",\"subscriptions_suspended_at\":null,\"test_groups\":null,\"latitude\":30.0787,\"longitude\":-97.8341,\"lat_lon_acc_admin_level\":2,\"icon_file_name\":null,\"icon_content_type\":null,\"icon_file_size\":null,\"icon_updated_at\":null,\"user_icon_url\":null,\"medium_user_icon_url\":null,\"original_user_icon_url\":null},\"observation_field_values\":[{\"id\":4030105,\"observation_id\":5407184,\"observation_field_id\":379,\"value\":\"unknown\",\"created_at\":\"2017-03-20T07:38:15.029+01:00\",\"updated_at\":\"2017-03-20T07:38:15.029+01:00\",\"user_id\":370785,\"updater_id\":370785,\"uuid\":\"c24846be-0bfd-41e0-991a-989c81fce2f0\",\"observation_field\":{\"name\":\"Invasive?\"}}],\"project_observations\":[{\"id\":7982657,\"project_id\":544,\"observation_id\":5407184,\"created_at\":\"2017-03-20T07:38:16.138+01:00\",\"updated_at\":\"2017-03-20T07:38:16.138+01:00\",\"curator_identification_id\":null,\"tracking_code\":null,\"user_id\":370785,\"uuid\":\"4255f83f-69b2-4202-8347-9ee0f466274c\",\"project\":{\"id\":544,\"title\":\"Plants of Texas\",\"description\":\"The purpose of this project is to broaden the understanding of Texas plant communities - both native and non-native - and contribute to knowledge of their diversity and range. It is hoped that the observations within this project will lead to a greater appreciation of the botanical Texas, while also helping guide resources toward conservation efforts.   \\r\\n\\r\\nWhile this project was started by a citizen scientist and Texas Master Naturalist as a hobby project, we encourage the use of the project and data by research and conservation professionals working in all areas of Texas botany. Also, observations of Species of Greatest Conservation Need (SGCN) may be invited to other appropriate projects, such as the TPWD-curated project, Texas Botanical Treasures at http://www.inaturalist.org/projects/texas-botanical-treasures  so that conservation planning and resources can be directed at the plant community as needed. \\r\\n\\r\\nAs such, we need accurate location data, good photos, and - hopefully - s\r\n03-24 21:56:52.122 16607 19244 E INaturalistService: Failed to create JSONArray, JSONException: org.json.JSONException: Value {\"id\":5407184,\"observed_on\":\"2016-04-07\",\"description\":null,\"latitude\":\"30.1950011529\",\"longitude\":\"-97.7162627131\",\"map_scale\":null,\"timeframe\":null,\"species_guess\":\"Flaxes\",\"user_id\":370785,\"taxon_id\":51309,\"created_at\":\"2017-03-20T07:37:34.493+01:00\",\"updated_at\":\"2017-03-23T06:07:56.365+01:00\",\"place_guess\":\"4200 Smith School Drive Austin, TX 78744\",\"id_please\":false,\"observed_on_string\":\"2016-04-07 12:09:00 PM CDT\",\"iconic_taxon_id\":47126,\"num_identification_agreements\":1,\"num_identification_disagreements\":0,\"time_observed_at\":\"2016-04-07T18:09:00.000+01:00\",\"time_zone\":\"Central Time (US \u0026 Canada)\",\"location_is_exact\":false,\"delta\":false,\"positional_accuracy\":344,\"geoprivacy\":null,\"quality_grade\":\"needs_id\",\"positioning_method\":\"gps\",\"positioning_device\":\"gps\",\"out_of_range\":null,\"license\":null,\"uri\":\"https:\\/\\/www.inaturalist.org\\/observations\\/5407184\",\"observation_photos_count\":2,\"comments_count\":1,\"zic_time_zone\":\"America\\/Chicago\",\"oauth_application_id\":2,\"observation_sounds_count\":0,\"identifications_count\":9,\"captive\":false,\"community_taxon_id\":51309,\"site_id\":1,\"old_uuid\":null,\"public_positional_accuracy\":344,\"mappable\":true,\"cached_votes_total\":0,\"last_indexed_at\":\"2017-03-23T06:24:39.561+01:00\",\"uuid\":\"255d4efe-3968-4c59-be04-e363d6f61a3e\",\"user_login\":\"star3\",\"iconic_taxon_name\":\"Plantae\",\"captive_flag\":false,\"created_at_utc\":\"2017-03-20T06:37:34.493Z\",\"updated_at_utc\":\"2017-03-23T05:07:56.365Z\",\"time_observed_at_utc\":\"2016-04-07T17:09:00.000Z\",\"faves_count\":0,\"coordinates_obscured\":false,\"user\":{\"id\":370785,\"login\":\"star3\",\"name\":\"Star Donovan\",\"created_at\":\"2016-11-17T20:03:36.419+01:00\",\"updated_at\":\"2017-03-22T23:57:24.900+01:00\",\"time_zone\":null,\"description\":null,\"life_list_id\":516782,\"observations_count\":118,\"identifications_count\":18,\"journal_posts_count\":0,\"life_list_taxa_count\":137,\"icon_url\":\"http:\\/\\/graph.facebook.com\\/10211134117611402\\/picture?type\u003dsquare\",\"uri\":\"http:\\/\\/www.inaturalist.org\\/users\\/370785\",\"locale\":\"en\",\"site_id\":null,\"place_id\":null,\"spammer\":false,\"spam_count\":0,\"last_active\":\"2017-03-24\",\"subscriptions_suspended_at\":null,\"test_groups\":null,\"latitude\":30.0787,\"longitude\":-97.8341,\"lat_lon_acc_admin_level\":2,\"icon_file_name\":null,\"icon_content_type\":null,\"icon_file_size\":null,\"icon_updated_at\":null,\"user_icon_url\":null,\"medium_user_icon_url\":null,\"original_user_icon_url\":null},\"observation_field_values\":[{\"id\":4030105,\"observation_id\":5407184,\"observation_field_id\":379,\"value\":\"unknown\",\"created_at\":\"2017-03-20T07:38:15.029+01:00\",\"updated_at\":\"2017-03-20T07:38:15.029+01:00\",\"user_id\":370785,\"updater_id\":370785,\"uuid\":\"c24846be-0bfd-41e0-991a-989c81fce2f0\",\"observation_field\":{\"name\":\"Invasive?\"}}],\"project_observations\":[{\"id\":7982657,\"project_id\":544,\"observation_id\":5407184,\"created_at\":\"2017-03-20T07:38:16.138+01:00\",\"updated_at\":\"2017-03-20T07:38:16.138+01:00\",\"curator_identification_id\":null,\"tracking_code\":null,\"user_id\":370785,\"uuid\":\"4255f83f-69b2-4202-8347-9ee0f466274c\",\"project\":{\"id\":544,\"title\":\"Plants of Texas\",\"description\":\"The purpose of this project is to broaden the understanding of Texas plant communities - both native and non-native - and contribute to knowledge of their diversity and range. It is hoped that the observations within this project will lead to a greater appreciation of the botanical Texas, while also helping guide resources toward conservation efforts.   \\r\\n\\r\\nWhile this project was started by a citizen scientist and Texas Master Naturalist as a hobby project, we encourage the use of the project and data by research and conservation professionals working in all areas of Texas botany. Also, observations of Species of Greatest Conservation Need (SGCN) may be invited to other appropriate projects, such as the TPWD-curated project, Texas Botanical Treasures at http:\\/\\/www.inaturalist.org\\/projects\\/texas-botanical-treasures  so that conservation planning and resources can be directed at the plant community as needed. \\r\r\n03-24 21:56:52.257 16607 19244 D INaturalistService: Service: get_observation\r\n03-24 21:56:52.258 16607 16607 D AndroidRuntime: Shutting down VM\r\n03-24 21:56:52.260 16607 19244 D INaturalistService: URL: get - https://www.inaturalist.org/observations/5407184.json?locale\u003den (null)\r\n03-24 21:56:52.261 16607 16607 W System.err: android.app.RemoteServiceException: can\u0027t deliver broadcast\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1650)\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat android.os.Looper.loop(Looper.java:154)\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat android.app.ActivityThread.main(ActivityThread.java:6119)\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat java.lang.reflect.Method.invoke(Native Method)\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n03-24 21:56:52.261 16607 16607 W System.err: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n03-24 21:56:52.271 16607 16607 W FlurryAgent: Error logged: uncaught\r\n03-24 21:56:52.275 16607 16607 W FlurryAgent: End session with context: org.inaturalist.android.ObservationViewerActivity@41602aa count:0\r\n03-24 21:56:52.278 16607 16607 W FlurryAgent: Finalize session\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: FATAL EXCEPTION: main\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: Process: org.inaturalist.android, PID: 16607\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: android.app.RemoteServiceException: can\u0027t deliver broadcast\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1650)\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:154)\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6119)\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n03-24 21:56:52.499 16607 16607 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n03-24 21:56:53.069 16607 19292 W FlurryAgent: FlurryDataSender: report 209d7eda-7123-4a59-9eab-e9e5ff31b35c sent. HTTP response: 200\r\n03-24 21:56:53.619 16607 16629 I Fabric  : Crashlytics report upload complete: 58D5F0E80032-0001-40DF-46BDB01DD930.cls\r\n```",
    "keywords": [
      "handler",
      "uri ",
      "quality_grade",
      ":null latitude",
      "time_observed_at",
      "delta",
      "https://www inaturalist",
      "21:56:48 503",
      "texas",
      "-97",
      "crash",
      "reflect",
      "https://static",
      "java",
      "botanical",
      "time_zone ",
      "16607 16607",
      "positioning_method",
      "499 16607",
      "app",
      "android os",
      "cache",
      "observation_photos_count",
      "location_is_exact",
      ":null quality_grade",
      "029+01:00",
      ":370785",
      "cdt",
      "size",
      "star donovan",
      "comments_count",
      "plant",
      "site_id",
      "03-24 21:56:48",
      "zic_time_zone",
      "oauth_application_id",
      "latitude",
      "gps positioning_device",
      "created_at_utc",
      "timeframe",
      "observed_on_string",
      "updated_at",
      "499",
      "e activitythread",
      ":6644200",
      "16612",
      "captive",
      "jpeg",
      ":false positional_accuracy",
      "2016-04-07",
      "000z",
      "30",
      "zygoteinit",
      "observation_sounds_count",
      "art",
      "c",
      "star",
      "d",
      "e",
      "map_scale",
      "androidruntime",
      "261",
      "community_taxon_id",
      "identifications_count",
      "d inaturalistservice",
      "num_identification_disagreements",
      "w system",
      "inaturalist",
      "w",
      "03-24 21:56:52",
      "inaturalist android",
      "mappable",
      "java:154",
      "out_of_range",
      "tx",
      "canada location_is_exact",
      "project",
      "run",
      "research",
      "cached_votes_total :0",
      "oauth_application_id :2",
      "loop",
      "java:886",
      "site_id :1",
      "cached_votes_total",
      ":51309",
      "us",
      "https://www",
      "2017-03-20t07:38:15",
      ":147930",
      "need",
      "created_at ",
      "2017-03-20t07:38:16",
      "star3",
      "gps",
      "org/observations/5407184",
      "mappable :true",
      "16607",
      "https://static inaturalist",
      "positional_accuracy",
      "canada",
      "observation_id",
      "observed_on_string ",
      "java:776",
      "name",
      "pm cdt",
      "session",
      "iconic_taxon_id",
      "android",
      "updated_at ",
      "description",
      "looper",
      "name ",
      "license :null",
      "not",
      "central",
      "json",
      "central time",
      "time_observed_at_utc",
      ":544",
      "19244 d",
      ":null}",
      "updated_at_utc",
      "num_identification_agreements :1",
      ":5407184",
      "org",
      "positioning_method ",
      "zygoteinit$methodandargscaller",
      "taxon_id",
      "com android",
      "03-24",
      "503",
      "503 16607",
      "time",
      "jpeg 1489986051",
      "captive :false",
      "observation_sounds_count :0",
      "invoke",
      "old_uuid",
      "21:56:48",
      "21:56:52",
      "user_login",
      "id",
      "last_indexed_at",
      "method",
      "num_identification_disagreements :0",
      "conservation",
      "system",
      "1489986051",
      "user_id",
      ":0",
      ":1",
      ":2",
      "id_please",
      "android app",
      ":[{",
      "native method",
      "dispatchmessage",
      "internal",
      "created_at",
      "login",
      "261 16607",
      "native",
      "austin",
      "get",
      ":false delta",
      "iconic_taxon_name ",
      "uuid ",
      ":344",
      "err",
      "uri",
      "activitythread",
      ":{ id",
      "species",
      "geoprivacy",
      "e androidruntime",
      "place_guess",
      "com",
      ":{",
      "data",
      "16607 w",
      "main",
      "donovan",
      "photos",
      "uuid",
      "user_icon_url",
      "species_guess",
      "2017-03-20t07:38:15 029+01:00",
      "longitude",
      ":null",
      "inaturalistservice",
      "16607 19244",
      "last_indexed_at ",
      ":true",
      "license",
      "id_please :false",
      "user_id :370785",
      "coordinates_obscured",
      "positioning_device",
      "iconic_taxon_name",
      "public_positional_accuracy",
      "code",
      "19244",
      "138+01:00",
      "observed_on",
      "system err",
      "can",
      "android internal",
      "observations",
      "21:56:52 261",
      "faves_count",
      "lang",
      "value",
      "time_observed_at ",
      "internal os",
      "num_identification_agreements",
      "old_uuid :null",
      "os",
      "will",
      "resources",
      "also",
      "java:6119",
      "time_zone",
      ":false",
      ":[{ id",
      "out_of_range :null",
      "flurryagent",
      "description :null",
      "16607 e",
      "pm",
      "user",
      "21:56:52 499"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/ab2e462e9ad08c68e2c0e714f2d3228a50752616",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java",
          "patch": "@@ -834,7 +834,8 @@ public void onLocation(Location location) {\n                 Observation observation \u003d getAndDownloadObservation(id);\n \n                 Intent reply \u003d new Intent(ACTION_GET_AND_SAVE_OBSERVATION_RESULT);\n-                reply.putExtra(OBSERVATION_RESULT, observation);\n+                mApp.setServiceResult(ACTION_GET_AND_SAVE_OBSERVATION_RESULT, observation);\n+                reply.putExtra(IS_SHARED_ON_APP, true);\n                 sendBroadcast(reply);\n \n             } else if (action.equals(ACTION_GET_OBSERVATION)) {\n@@ -843,9 +844,12 @@ public void onLocation(Location location) {\n                 Observation observation \u003d observationJson \u003d\u003d null ? null : new Observation(new BetterJSONObject(observationJson));\n                 \n                 Intent reply \u003d new Intent(ACTION_OBSERVATION_RESULT);\n-                reply.putExtra(OBSERVATION_RESULT, observation);\n-                reply.putExtra(OBSERVATION_JSON_RESULT, observationJson !\u003d null ? observationJson.toString() : null);\n+\n+                mApp.setServiceResult(ACTION_OBSERVATION_RESULT, observation);\n+                mApp.setServiceResult(OBSERVATION_JSON_RESULT, observationJson !\u003d null ? observationJson.toString() : null);\n+                reply.putExtra(IS_SHARED_ON_APP, true);\n                 sendBroadcast(reply);\n+\n                 \n             } else if (action.equals(ACTION_JOIN_PROJECT)) {\n                 int id \u003d intent.getExtras().getInt(PROJECT_ID);"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationViewerActivity.java",
          "patch": "@@ -1815,7 +1815,15 @@ public void onReceive(Context context, Intent intent) {\n \n             mLoadingObservation \u003d false;\n \n-\t        Observation observation \u003d (Observation) intent.getSerializableExtra(INaturalistService.OBSERVATION_RESULT);\n+            boolean isSharedOnApp \u003d intent.getBooleanExtra(INaturalistService.IS_SHARED_ON_APP, false);\n+            Observation observation;\n+            if (isSharedOnApp) {\n+                observation \u003d (Observation) mApp.getServiceResult(INaturalistService.ACTION_OBSERVATION_RESULT);\n+            } else {\n+                observation \u003d (Observation) intent.getSerializableExtra(INaturalistService.OBSERVATION_RESULT);\n+            }\n+\n+\n \n             if (mObservation \u003d\u003d null) {\n                 reloadObservation(null, false);\n@@ -1886,7 +1894,12 @@ public int compare(BetterJSONObject lhs, BetterJSONObject rhs) {\n             if (mReloadObs) {\n                 // Reload entire observation details (not just the comments/favs)\n                 mObservation \u003d observation;\n-                mObsJson \u003d intent.getStringExtra(INaturalistService.OBSERVATION_JSON_RESULT);\n+\n+                if (isSharedOnApp) {\n+                    mObsJson \u003d (String) mApp.getServiceResult(INaturalistService.OBSERVATION_JSON_RESULT);\n+                } else {\n+                    mObsJson \u003d intent.getStringExtra(INaturalistService.OBSERVATION_JSON_RESULT);\n+                }\n             }\n \n             if (mReloadTaxon) {"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/UserActivitiesAdapter.java",
          "patch": "@@ -470,7 +470,14 @@ public String key() {\n     private class ObservationReceiver extends BroadcastReceiver {\n \t\t@Override\n \t    public void onReceive(Context context, Intent intent) {\n-\t        Observation observation \u003d (Observation) intent.getSerializableExtra(INaturalistService.OBSERVATION_RESULT);\n+            boolean isSharedOnApp \u003d intent.getBooleanExtra(INaturalistService.IS_SHARED_ON_APP, false);\n+\t        Observation observation;\n+\n+            if (isSharedOnApp) {\n+                observation \u003d (Observation) mApp.getServiceResult(INaturalistService.ACTION_GET_AND_SAVE_OBSERVATION_RESULT);\n+            } else {\n+                observation \u003d (Observation) intent.getSerializableExtra(INaturalistService.OBSERVATION_RESULT);\n+            }\n \n             if (observation \u003d\u003d null) {\n                 return;"
        }
      ]
    }
  },
  {
    "name": "NPE in onQuestCreated",
    "url": "https://github.com/westnordost/StreetComplete/issues/288",
    "description": "\r\njava.lang.NullPointerException: \r\n  at de.westnordost.streetcomplete.MainActivity.onQuestCreated(MainActivity.java:632)\r\n  at de.westnordost.streetcomplete.data.VisibleQuestRelay.onQuestCreated(VisibleQuestRelay.java:22)\r\n  at de.westnordost.streetcomplete.data.QuestController$5.run(QuestController.java:235)\r\n  at android.os.Handler.handleCallback(Handler.java:769)\r\n  at android.os.Handler.dispatchMessage(Handler.java:98)\r\n  at android.os.Looper.loop(Looper.java:164)\r\n  at android.os.HandlerThread.run(HandlerThread.java:65)\r\n",
    "keywords": [
      "onquestcreated",
      "handler",
      "de",
      "os",
      "westnordost",
      "android",
      "streetcomplete"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/40dbcbd49d5da4f6c1ae828e003a2b563b4d734b",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java",
          "patch": "@@ -114,6 +114,8 @@ public void createNote(final long osmQuestId, final String text)\n \t\tworkerHandler.post(new Runnable() { @Override public void run()\n \t\t{\n \t\t\tOsmQuest q \u003d osmQuestDB.get(osmQuestId);\n+\t\t\t// race condition: another thread may have removed the element already (#288)\n+\t\t\tif(q \u003d\u003d null) return;\n \n \t\t\tCreateNote createNote \u003d new CreateNote();\n \t\t\tcreateNote.position \u003d q.getMarkerLocation();\n@@ -209,13 +211,15 @@ public void hideQuest(final long questId, final QuestGroup group)\n \t\t\tif(group \u003d\u003d QuestGroup.OSM)\n \t\t\t{\n \t\t\t\tOsmQuest q \u003d osmQuestDB.get(questId);\n+\t\t\t\tif(q \u003d\u003d null) return;\n \t\t\t\tq.setStatus(QuestStatus.HIDDEN);\n \t\t\t\tosmQuestDB.update(q);\n \t\t\t\trelay.onQuestRemoved(q.getId(), group);\n \t\t\t}\n \t\t\telse if(group \u003d\u003d QuestGroup.OSM_NOTE)\n \t\t\t{\n \t\t\t\tOsmNoteQuest q \u003d osmNoteQuestDB.get(questId);\n+\t\t\t\tif(q \u003d\u003d null) return;\n \t\t\t\tq.setStatus(QuestStatus.HIDDEN);\n \t\t\t\tosmNoteQuestDB.update(q);\n \t\t\t\trelay.onQuestRemoved(q.getId(), group);\n@@ -231,12 +235,16 @@ public void retrieve(final QuestGroup group, final long questId)\n \t\t\tswitch (group)\n \t\t\t{\n \t\t\t\tcase OSM:\n+\t\t\t\t\t// race condition: another thread may have removed the element already (#288)\n \t\t\t\t\tOsmQuest osmQuest \u003d osmQuestDB.get(questId);\n+\t\t\t\t\tif(osmQuest \u003d\u003d null) return;\n \t\t\t\t\tElement element \u003d osmElementDB.get(osmQuest.getElementType(), osmQuest.getElementId());\n+\t\t\t\t\tif(element \u003d\u003d null) return;\n \t\t\t\t\trelay.onQuestCreated(osmQuest, group, element);\n \t\t\t\t\tbreak;\n \t\t\t\tcase OSM_NOTE:\n \t\t\t\t\tOsmNoteQuest osmNoteQuest \u003d osmNoteQuestDB.get(questId);\n+\t\t\t\t\tif(osmNoteQuest \u003d\u003d null) return;\n \t\t\t\t\trelay.onQuestCreated(osmNoteQuest, group, null);\n \t\t\t\t\tbreak;\n \t\t\t}"
        },
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteDiscussionForm.java",
          "patch": "@@ -62,7 +62,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa\n \n \t\t\t@Override public void onSuccess(Note result)\n \t\t\t{\n-\t\t\t\tif(getActivity() !\u003d null)\n+\t\t\t\tif(getActivity() !\u003d null \u0026\u0026 result !\u003d null)\n \t\t\t\t{\n \t\t\t\t\tinflateNoteDiscussion(result);\n \t\t\t\t}"
        }
      ]
    }
  },
  {
    "name": "App crashes when camera permission is off.",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/329",
    "description": "When the \"Camera\" permission is revoked, app crashes after clicking on \"TAKE PICTURE\" button in the page for adding the information of a product. (The clip of reproducible bug scenario is attached)\r\n\r\n![openfood](https://cloud.githubusercontent.com/assets/11197005/20986980/b32e21ec-bc7f-11e6-8f3e-3bd7317d1dbb.gif)\r\n\r\nI believe the APIs for checking(checkSelfPermission)/asking(requestPermissions) CAMERA permission should get called.\r\n\r\nHere is the stack trace after the crash:\r\n\r\n```\r\n12-07 13:20:29.759 11938-11938/openfoodfacts.github.scrachx.openfood E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                                       Process: openfoodfacts.github.scrachx.openfood, PID: 11938\r\n                                                                                       java.lang.SecurityException: Permission Denial: starting Intent { act\u003dandroid.media.action.IMAGE_CAPTURE flg\u003d0x3 cmp\u003dcom.android.camera/.Camera clip\u003d{text/uri-list U:file:///storage/emulated/0/Android/data/openfoodfacts.github.scrachx.openfood/files/Pictures/OFF_Images/44058612-cd5a-4913-b4a6-eb6ac3c1ecee1158311955.jpg} (has extras) } from ProcessRecord{4eae974 11938:openfoodfacts.github.scrachx.openfood/u0a131} (pid\u003d11938, uid\u003d10131) with revoked permission android.permission.CAMERA\r\n                                                                                           at android.os.Parcel.readException(Parcel.java:1599)\r\n                                                                                           at android.os.Parcel.readException(Parcel.java:1552)\r\n                                                                                           at android.app.ActivityManagerProxy.startActivity(ActivityManagerNative.java:2658)\r\n                                                                                           at android.app.Instrumentation.execStartActivity(Instrumentation.java:1507)\r\n                                                                                           at android.app.Activity.startActivityForResult(Activity.java:3917)\r\n                                                                                           at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:48)\r\n                                                                                           at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:77)\r\n                                                                                           at android.app.Activity.startActivityForResult(Activity.java:3877)\r\n                                                                                           at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:859)\r\n                                                                                           at pl.aprilapps.easyphotopicker.EasyImage.openCamera(EasyImage.java:212)\r\n                                                                                           at openfoodfacts.github.scrachx.openfood.views.SaveProductOfflineActivity.onTakePhotoClicked(SaveProductOfflineActivity.java:240)\r\n                                                                                           at openfoodfacts.github.scrachx.openfood.views.SaveProductOfflineActivity_ViewBinding$3.doClick(SaveProductOfflineActivity_ViewBinding.java:73)\r\n                                                                                           at butterknife.internal.DebouncingOnClickListener.onClick(DebouncingOnClickListener.java:22)\r\n                                                                                           at android.view.View.performClick(View.java:5198)\r\n                                                                                           at android.view.View$PerformClick.run(View.java:21147)\r\n                                                                                           at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                                           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                           at android.os.Looper.loop(Looper.java:148)\r\n                                                                                           at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n                                                                                           at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "app",
      "scrachx openfood",
      "openfoodfacts github",
      "handler",
      "internal",
      "parcel",
      "github",
      "scrachx",
      "os",
      "openfoodfacts",
      "activity",
      "android",
      "main",
      "permission",
      "fragmentactivity",
      "view",
      "android app",
      "startactivityforresult",
      "openfood",
      "camera",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/e8a306b57f8709ed01a302af5d3cdf6a3756bd73",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/fragments/HomeFragment.java",
          "patch": "@@ -5,6 +5,7 @@\n import android.content.SharedPreferences;\n import android.content.pm.PackageManager;\n import android.os.Bundle;\n+import android.support.annotation.NonNull;\n import android.support.annotation.Nullable;\n import android.support.v4.app.ActivityCompat;\n import android.support.v4.content.ContextCompat;\n@@ -14,6 +15,7 @@\n import android.view.ViewGroup;\n import android.widget.Button;\n \n+import com.afollestad.materialdialogs.DialogAction;\n import com.afollestad.materialdialogs.MaterialDialog;\n \n import java.io.IOException;\n@@ -56,6 +58,12 @@ protected void OnScan() {\n                         .title(R.string.action_about)\n                         .content(R.string.permission_camera)\n                         .neutralText(R.string.txtOk)\n+                        .onNeutral(new MaterialDialog.SingleButtonCallback() {\n+                            @Override\n+                            public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n+                            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.CAMERA}, Utils.MY_PERMISSIONS_REQUEST_CAMERA);\n+                            }\n+                        })\n                         .show();\n             } else {\n                 ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.CAMERA}, Utils.MY_PERMISSIONS_REQUEST_CAMERA);"
        },
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/views/SaveProductOfflineActivity.java",
          "patch": "@@ -1,10 +1,8 @@\n package openfoodfacts.github.scrachx.openfood.views;\n \n-import android.Manifest;\n import android.content.Context;\n import android.content.Intent;\n import android.content.SharedPreferences;\n-import android.content.pm.PackageManager;\n import android.net.ConnectivityManager;\n import android.net.NetworkInfo;\n import android.net.Uri;\n@@ -38,14 +36,19 @@\n import pl.aprilapps.easyphotopicker.DefaultCallback;\n import pl.aprilapps.easyphotopicker.EasyImage;\n \n+import static android.Manifest.permission.CAMERA;\n+import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\n+import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n+import static android.content.pm.PackageManager.PERMISSION_GRANTED;\n+import static openfoodfacts.github.scrachx.openfood.utils.Utils.MY_PERMISSIONS_REQUEST_CAMERA;\n import static org.apache.commons.lang3.StringUtils.isBlank;\n import static org.apache.commons.lang3.StringUtils.isNotBlank;\n import static org.apache.commons.lang3.StringUtils.isNotEmpty;\n \n public class SaveProductOfflineActivity extends BaseActivity {\n \n     private final String[] mUnit \u003d new String[1];\n-    private final String[] mImage \u003d new String[1];\n+\n     @BindView(R.id.imageSave) ImageView imgSave;\n     @BindView(R.id.editTextName) EditText name;\n     @BindView(R.id.editTextBrand) EditText brand;\n@@ -55,6 +58,7 @@\n     @BindView(R.id.buttonTakePicture) Button takePic;\n     @BindView(R.id.buttonFromGallery) Button takeGallery;\n     @BindView(R.id.buttonSaveProduct) Button save;\n+\n     private SendProduct mProduct;\n     private String mBarcode;\n     private OpenFoodAPIClient api;\n@@ -64,21 +68,23 @@ protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_save_product_offline);\n \n-        new MaterialDialog.Builder(this)\n-                .title(R.string.title_info_dialog)\n-                .content(R.string.new_offline_info)\n-                .positiveText(R.string.txtOk)\n-                .show();\n-\n-        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) !\u003d PackageManager.PERMISSION_GRANTED \u0026\u0026 ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) !\u003d PackageManager.PERMISSION_GRANTED) {\n-            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE) || ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n+        if (ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) !\u003d PERMISSION_GRANTED\n+            \u0026\u0026 ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) !\u003d PERMISSION_GRANTED) {\n+            if (ActivityCompat.shouldShowRequestPermissionRationale(this, READ_EXTERNAL_STORAGE)\n+                || ActivityCompat.shouldShowRequestPermissionRationale(this, WRITE_EXTERNAL_STORAGE)) {\n                 new MaterialDialog.Builder(this)\n                         .title(R.string.action_about)\n                         .content(R.string.permission_storage)\n                         .neutralText(R.string.txtOk)\n+                        .onNeutral(new MaterialDialog.SingleButtonCallback() {\n+                            @Override\n+                            public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n+                                ActivityCompat.requestPermissions(SaveProductOfflineActivity.this, new String[]{READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE}, Utils.MY_PERMISSIONS_REQUEST_STORAGE);\n+                            }\n+                        })\n                         .show();\n             } else {\n-                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, Utils.MY_PERMISSIONS_REQUEST_STORAGE);\n+                ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE}, Utils.MY_PERMISSIONS_REQUEST_STORAGE);\n             }\n         }\n \n@@ -123,16 +129,21 @@ protected void onCreate(Bundle savedInstanceState) {\n             mProduct \u003d new SendProduct();\n             mProduct.setBarcode(mBarcode);\n         }\n+\n+        new MaterialDialog.Builder(this)\n+                .title(R.string.title_info_dialog)\n+                .content(R.string.new_offline_info)\n+                .positiveText(R.string.txtOk)\n+                .show();\n     }\n+\n     @OnItemSelected(value \u003d R.id.spinnerUnitWeight, callback \u003d OnItemSelected.Callback.ITEM_SELECTED)\n     protected void onUnitSelected(int pos) {\n         mUnit[0] \u003d spinnerW.getItemAtPosition(pos).toString();\n     }\n \n     @OnItemSelected(value \u003d R.id.spinnerImages, callback \u003d OnItemSelected.Callback.ITEM_SELECTED)\n     protected void onImageSelected(int pos) {\n-        mImage[0] \u003d spinnerI.getItemAtPosition(pos).toString();\n-\n         if(pos \u003d\u003d 0) {\n             if(isNotBlank(mProduct.getImgupload_front())) {\n                 imgSave.setVisibility(View.VISIBLE);\n@@ -238,7 +249,11 @@ public void onProductSentResponse(boolean value) {\n \n     @OnClick(R.id.buttonTakePicture)\n     protected void onTakePhotoClicked() {\n-        EasyImage.openCamera(this, 0);\n+        if (ContextCompat.checkSelfPermission(this, CAMERA) !\u003d PERMISSION_GRANTED) {\n+            ActivityCompat.requestPermissions(this, new String[]{CAMERA}, MY_PERMISSIONS_REQUEST_CAMERA);\n+        } else {\n+            EasyImage.openCamera(this, 0);\n+        }\n     }\n \n     @Override\n@@ -289,8 +304,9 @@ private void onPhotoReturned(File photoFile) {\n     @Override\n     public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\n         switch (requestCode) {\n+            case MY_PERMISSIONS_REQUEST_CAMERA:\n             case Utils.MY_PERMISSIONS_REQUEST_STORAGE: {\n-                if (grantResults.length \u003c\u003d 0 || grantResults[0] !\u003d PackageManager.PERMISSION_GRANTED) {\n+                if (grantResults.length \u003c\u003d 0 || grantResults[0] !\u003d PERMISSION_GRANTED) {\n                     new MaterialDialog.Builder(this)\n                             .title(R.string.permission_title)\n                             .content(R.string.permission_denied)"
        },
        {
          "file_name": "build.gradle",
          "patch": "@@ -7,7 +7,7 @@ buildscript {\n         maven { url \"https://jitpack.io\" }\n     }\n     dependencies {\n-        classpath \u0027com.android.tools.build:gradle:2.2.2\u0027\n+        classpath \u0027com.android.tools.build:gradle:2.2.3\u0027\n         // NOTE: Do not place your application dependencies here; they belong\n         // in the individual module build.gradle files\n     }"
        }
      ]
    }
  },
  {
    "name": "Fix Olympus crash",
    "url": "https://github.com/RestComm/restcomm-android-sdk/issues/417",
    "description": "Here\u0027s the session:\n\nhttps://app.testfairy.com/projects/3369662-restcommolympus/builds/4345950/sessions/11\n\nAnd here\u0027s the stacktrace:\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.lang.String.equals(java.lang.Object)\u0027 on a null object reference\n    at org.restcomm.android.olympus.MainActivity.onNewIntent(MainActivity.java:186)\n    at android.app.Instrumentation.callActivityOnNewIntent(Instrumentation.java:1213)\n    at android.app.Instrumentation.callActivityOnNewIntent(Instrumentation.java:1225)\n    at android.app.ActivityThread.deliverNewIntents(ActivityThread.java:2593)\n    at android.app.ActivityThread.performNewIntents(ActivityThread.java:2605)\n    at android.app.ActivityThread.handleNewIntent(ActivityThread.java:2614)\n    at android.app.ActivityThread.access$1700(ActivityThread.java:154)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1463)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:234)\n    at android.app.ActivityThread.main(ActivityThread.java:5526)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "app",
      "activitythread",
      "java",
      "os",
      "method",
      "android",
      "android app",
      "instrumentation",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/RestComm/restcomm-android-sdk/commit/522d59b7c5ca28ff4e6b650a45c48c7492e33b45",
      "files": [
        {
          "file_name": "Examples/restcomm-olympus/app/olympus-version.properties",
          "patch": "@@ -1,2 +1,2 @@\n-#Mon Oct 03 14:54:10 EEST 2016\n-VERSION_CODE\u003d1525\n+#Mon Oct 03 15:18:20 EEST 2016\n+VERSION_CODE\u003d1527"
        },
        {
          "file_name": "Examples/restcomm-olympus/app/src/main/java/org/restcomm/android/olympus/MainActivity.java",
          "patch": "@@ -183,7 +183,7 @@ public void onNewIntent(Intent intent)\n \n       // We get this intent from CallActivity, when the App is in the background and the user has requested hangup via notification\n       // In that case we don\u0027t wont to interrupt the user from what they are currently doing in the foreground, so we just finish()\n-      if (intent.getAction().equals(ACTION_DISCONNECTED_BACKGROUND)) {\n+      if (intent.getAction() !\u003d null \u0026\u0026 intent.getAction().equals(ACTION_DISCONNECTED_BACKGROUND)) {\n          finish();\n       }\n    }"
        },
        {
          "file_name": "restcomm.android.sdk/restcomm-android-sdk-version.properties",
          "patch": "@@ -1,2 +1,2 @@\n-#Mon Oct 03 14:54:10 EEST 2016\n-VERSION_CODE\u003d1557\n+#Mon Oct 03 15:18:20 EEST 2016\n+VERSION_CODE\u003d1559"
        }
      ]
    }
  },
  {
    "name": "AuthUI flow starts multiple times when rotated and then crashes when selecting an account for each instance",
    "url": "https://github.com/firebase/FirebaseUI-Android/issues/549",
    "description": "### Step 2: Describe your environment\r\n\r\n  * Android device: Pixel XL\r\n  * Android OS version: 7.1.1\r\n  * Google Play Services version: 10.0.84\r\n  * Firebase/Play Services SDK version: 10.0.1\r\n  * FirebaseUI version: 1.1.1\r\n  \r\n### Step 3: Describe the problem:\r\nAccount selector UI that overlays on top of the root UI gets created multiple times, once with every orientation change rotation. Then, I have to tap on the desired account once for each instance, as they disappear one by one, and after the last one, app crashes:\r\n\r\n01-26 03:14:10.381 20689-20689/oviroa.bestshot.android E/UncaughtException: java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.app.Activity.setResult(int, android.content.Intent)\u0027 on a null object reference\r\n                                                                                at com.firebase.ui.auth.ui.BaseHelper.finishActivity(BaseHelper.java:51)\r\n                                                                                at com.firebase.ui.auth.ui.FragmentHelper.finish(FragmentHelper.java:27)\r\n                                                                                at com.firebase.ui.auth.ui.FragmentBase.finish(FragmentBase.java:26)\r\n                                                                                at com.firebase.ui.auth.util.signincontainer.SaveSmartLock.finish(SaveSmartLock.java:178)\r\n                                                                                at com.firebase.ui.auth.util.signincontainer.SaveSmartLock.saveCredentialsOrFinish(SaveSmartLock.java:198)\r\n                                                                                at com.firebase.ui.auth.ui.BaseHelper.saveCredentialsOrFinish(BaseHelper.java:124)\r\n                                                                                at com.firebase.ui.auth.ui.BaseHelper.saveCredentialsOrFinish(BaseHelper.java:112)\r\n                                                                                at com.firebase.ui.auth.ui.idp.CredentialSignInHandler.onComplete(CredentialSignInHandler.java:68)\r\n                                                                                at com.google.android.gms.tasks.zzc$1.run(Unknown Source)\r\n                                                                                at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                                at android.os.Looper.loop(Looper.java:154)\r\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n                                                                                at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n01-26 03:14:10.689 20689-20689/oviroa.bestshot.android E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                         Process: oviroa.bestshot.android, PID: 20689\r\n                                                                         java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.app.Activity.setResult(int, android.content.Intent)\u0027 on a null object reference\r\n                                                                             at com.firebase.ui.auth.ui.BaseHelper.finishActivity(BaseHelper.java:51)\r\n                                                                             at com.firebase.ui.auth.ui.FragmentHelper.finish(FragmentHelper.java:27)\r\n                                                                             at com.firebase.ui.auth.ui.FragmentBase.finish(FragmentBase.java:26)\r\n                                                                             at com.firebase.ui.auth.util.signincontainer.SaveSmartLock.finish(SaveSmartLock.java:178)\r\n                                                                             at com.firebase.ui.auth.util.signincontainer.SaveSmartLock.saveCredentialsOrFinish(SaveSmartLock.java:198)\r\n                                                                             at com.firebase.ui.auth.ui.BaseHelper.saveCredentialsOrFinish(BaseHelper.java:124)\r\n                                                                             at com.firebase.ui.auth.ui.BaseHelper.saveCredentialsOrFinish(BaseHelper.java:112)\r\n                                                                             at com.firebase.ui.auth.ui.idp.CredentialSignInHandler.onComplete(CredentialSignInHandler.java:68)\r\n                                                                             at com.google.android.gms.tasks.zzc$1.run(Unknown Source)\r\n                                                                             at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                                             at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                             at android.os.Looper.loop(Looper.java:154)\r\n                                                                             at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n                                                                             at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n                                                                             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n\r\n#### Steps to reproduce:\r\n\r\n  1. Click on Sign In button, list of Google accounts appears in overlay\r\n  2. Rotate device multiple times... It is visible how a new overlay is create with each orientation change\r\n  3. Tap on desired account, once for each overlay, until all disappear and root view is now clearly visible, then app crashes (see log above)\r\n  \r\nThis is the event handler for the button that starts the login process:\r\n\r\n```java\r\n    /**\r\n     * Sign in\r\n     */\r\n    @OnClick(R.id.sign_in)\r\n    void signIn() {\r\n        Intent intent \u003d AuthUI.getInstance()\r\n                .createSignInIntentBuilder()\r\n                .setProviders(Collections.singletonList(new AuthUI.IdpConfig.Builder(AuthUI.GOOGLE_PROVIDER).build()))\r\n                .setIsSmartLockEnabled(false)\r\n                .setTheme(R.style.AppTheme_NoActionBar)\r\n                .setLogo(R.drawable.ic_logo)\r\n                .build();\r\n        startActivityForResult(\r\n                intent,\r\n                RC_SIGN_IN);\r\n    }\r\n```",
    "keywords": [
      "bestshot",
      "savecredentialsorfinish",
      "com",
      "handler",
      "internal",
      "auth",
      "android",
      "invoke",
      "main",
      "run",
      "looper",
      "crashes",
      "savesmartlock",
      "authui",
      "times",
      "java",
      "ui",
      "savecredentialsorfinish basehelper",
      "fragmentbase",
      "finish",
      "lang",
      "ui basehelper",
      "com firebase",
      "zygoteinit",
      "app",
      "ui auth",
      "android os",
      "fragmenthelper",
      "method",
      "os",
      "overlay",
      "one",
      "multiple",
      "*",
      "google",
      "firebase",
      "intent",
      "signincontainer",
      "version",
      "credentialsigninhandler",
      "activitythread",
      "1",
      "r",
      "util",
      "account",
      "basehelper"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/firebase/FirebaseUI-Android/commit/4bc45af5301f88c4f736ceaffe71a6f127d7d216",
      "files": [
        {
          "file_name": "auth/src/main/java/com/firebase/ui/auth/util/signincontainer/IdpSignInContainer.java",
          "patch": "@@ -116,7 +116,16 @@ public void onCreate(@Nullable Bundle savedInstanceState) {\n         }\n \n         mIdpProvider.setAuthenticationCallback(this);\n-        mIdpProvider.startLogin(getActivity());\n+\n+        if (savedInstanceState \u003d\u003d null) {\n+            mIdpProvider.startLogin(getActivity());\n+        }\n+    }\n+\n+    @Override\n+    public void onSaveInstanceState(Bundle outState) {\n+        outState.putBoolean(ExtraConstants.HAS_EXISTING_INSTANCE, true);\n+        super.onSaveInstanceState(outState);\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "Crash if app reactive from background",
    "url": "https://github.com/drakeet/MultiType/issues/14",
    "description": "when press back key, and then restart app, it will crash.\n\nProcess: me.drakeet.multitype.sample, PID: 25781\n                                                                             java.lang.RuntimeException: Unable to start activity ComponentInfo{me.drakeet.multitype.sample/me.drakeet.multitype.sample.page.MainActivity}: java.lang.IllegalArgumentException: You have registered the TextItemContent type. It should not be added again.\n                                                                                 at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2359)\n                                                                                 at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2422)\n                                                                                 at android.app.ActivityThread.access$800(ActivityThread.java:159)\n                                                                                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1319)\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                 at android.os.Looper.loop(Looper.java:135)\n                                                                                 at android.app.ActivityThread.main(ActivityThread.java:5313)\n                                                                                 at java.lang.reflect.Method.invoke(Native Method)\n                                                                                 at java.lang.reflect.Method.invoke(Method.java:372)\n                                                                                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1116)\n                                                                                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:809)\n                                                                              Caused by: java.lang.IllegalArgumentException: You have registered the TextItemContent type. It should not be added again.\n                                                                                 at me.drakeet.multitype.ItemTypePool.register(ItemTypePool.java:38)\n                                                                                 at me.drakeet.multitype.sample.page.MainActivity.onCreate(MainActivity.java:65)\n                                                                                 at android.app.Activity.performCreate(Activity.java:6036)\n                                                                                 at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n                                                                                 at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2302)\n                                                                                 at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2422) \n                                                                                 at android.app.ActivityThread.access$800(ActivityThread.java:159) \n                                                                                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1319) \n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                                 at android.os.Looper.loop(Looper.java:135) \n                                                                                 at android.app.ActivityThread.main(ActivityThread.java:5313) \n                                                                                 at java.lang.reflect.Method.invoke(Native Method) \n                                                                                 at java.lang.reflect.Method.invoke(Method.java:372) \n                                                                                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1116) \n                                                                                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:809) \n",
    "keywords": [
      "com",
      "handler",
      "internal",
      "activity",
      "app activitythread",
      "android",
      "main",
      "looper",
      "invoke",
      "lang reflect",
      "reflect",
      "java",
      "android internal",
      "drakeet",
      "lang",
      "zygoteinit",
      " ",
      "app",
      "os",
      "method",
      "method invoke",
      "multitype sample",
      "multitype",
      "sample",
      "java lang",
      "activitythread",
      "android app"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/drakeet/MultiType/commit/db600ca10e9531af3a9ce50ead844a4fe77bb632",
      "files": [
        {
          "file_name": "README.md",
          "patch": "@@ -85,33 +85,46 @@ public class TextItemViewProvider\n }\n ```\n \n-#### Step 3. You do not need to create another new class. Just add a `RecyclerView` and `List\u003cTypeItem\u003e` to your `Activity`, for example: \n+#### Step 3. You do not need to create another new class. Just `register` in your `Application`\n+ and add a `RecyclerView` and `List\u003cTypeItem\u003e` to your `Activity`, for example:\n+\n+ ```java\n+ public class App extends Application {\n+\n+     @Override public void onCreate() {\n+         super.onCreate();\n+         ItemTypePool.register(TextItemContent.class, new TextItemViewProvider());\n+         ItemTypePool.register(ImageItemContent.class, new ImageItemViewProvider());\n+         ItemTypePool.register(RichItemContent.class, new RichItemViewProvider());\n+     }\n+ }\n+```\n \n ```java\n-@Override\n-protected void onCreate(Bundle savedInstanceState) {\n-    super.onCreate(savedInstanceState);\n-    setContentView(R.layout.activity_main);\n-    recyclerView \u003d (RecyclerView) findViewById(R.id.list);\n-    \n-    itemFactory \u003d new TypeItemFactory.Builder().build();\n-    TypeItem textItem \u003d itemFactory.newItem(new TextItemContent(\"world\"));\n-    TypeItem imageItem \u003d itemFactory.newItem(new ImageItemContent(R.mipmap.ic_launcher));\n-    TypeItem richItem \u003d itemFactory.newItem(new RichItemContent(\"小艾大人赛高\", R.mipmap.avatar));\n-    \n-    List\u003cTypeItem\u003e typeItems \u003d new ArrayList\u003c\u003e(80);\n-    for (int i \u003d 0; i \u003c 20; i++) {\n-        typeItems.add(textItem);\n-        typeItems.add(imageItem);\n-        typeItems.add(richItem);\n-    }\n-\n-    /* register the types before setAdapter, that\u0027s all right */ \n-    ItemTypePool.register(TextItemContent.class, new TextItemViewProvider());\n-    ItemTypePool.register(ImageItemContent.class, new ImageItemViewProvider());\n-    ItemTypePool.register(RichItemContent.class, new RichItemViewProvider());\n+public class MainActivity extends AppCompatActivity {\n+\n+    private TypeItemFactory factory;\n+    private RecyclerView recyclerView;\n+\n+    @Override protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(R.layout.activity_main);\n+        recyclerView \u003d (RecyclerView) findViewById(R.id.list);\n+\n+        factory \u003d new TypeItemFactory.Builder().build();\n+        TypeItem textItem \u003d factory.newItem(new TextItemContent(\"world\"));\n+        TypeItem imageItem \u003d factory.newItem(new ImageItemContent(R.mipmap.ic_launcher));\n+        TypeItem richItem \u003d factory.newItem(new RichItemContent(\"小艾大人赛高\", R.mipmap.avatar));\n+\n+        List\u003cTypeItem\u003e typeItems \u003d new ArrayList\u003c\u003e(80);\n+        for (int i \u003d 0; i \u003c 20; i++) {\n+            typeItems.add(textItem);\n+            typeItems.add(imageItem);\n+            typeItems.add(richItem);\n+        }\n \n-    recyclerView.setAdapter(new MultiTypeAdapter(typeItems));\n+        recyclerView.setAdapter(new MultiTypeAdapter(typeItems));\n+    }\n }\n ```\n "
        },
        {
          "file_name": "sample/src/main/AndroidManifest.xml",
          "patch": "@@ -19,6 +19,7 @@\n     package\u003d\"me.drakeet.multitype.sample\"\u003e\n \n     \u003capplication\n+        android:name\u003d\".App\"\n         android:allowBackup\u003d\"true\"\n         android:icon\u003d\"@mipmap/ic_launcher\"\n         android:label\u003d\"@string/app_name\""
        },
        {
          "file_name": "sample/src/main/java/me/drakeet/multitype/sample/App.java",
          "patch": "@@ -0,0 +1,33 @@\n+/*\n+ * Copyright 2016 drakeet. https://github.com/drakeet\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package me.drakeet.multitype.sample;\n+\n+import android.app.Application;\n+import me.drakeet.multitype.ItemTypePool;\n+\n+/**\n+ * @author drakeet\n+ */\n+public class App extends Application {\n+\n+    @Override public void onCreate() {\n+        super.onCreate();\n+        ItemTypePool.register(TextItemContent.class, new TextItemViewProvider());\n+        ItemTypePool.register(ImageItemContent.class, new ImageItemViewProvider());\n+        ItemTypePool.register(RichItemContent.class, new RichItemViewProvider());\n+    }\n+}"
        },
        {
          "file_name": "sample/src/main/java/me/drakeet/multitype/sample/page/MainActivity.java",
          "patch": "@@ -21,47 +21,37 @@\n import android.support.v7.widget.RecyclerView;\n import java.util.ArrayList;\n import java.util.List;\n+import me.drakeet.multitype.MultiTypeAdapter;\n import me.drakeet.multitype.TypeItem;\n import me.drakeet.multitype.TypeItemFactory;\n-import me.drakeet.multitype.ItemTypePool;\n-import me.drakeet.multitype.MultiTypeAdapter;\n import me.drakeet.multitype.sample.ImageItemContent;\n-import me.drakeet.multitype.sample.ImageItemViewProvider;\n import me.drakeet.multitype.sample.R;\n import me.drakeet.multitype.sample.RichItemContent;\n-import me.drakeet.multitype.sample.RichItemViewProvider;\n import me.drakeet.multitype.sample.TextItemContent;\n-import me.drakeet.multitype.sample.TextItemViewProvider;\n \n public class MainActivity extends AppCompatActivity {\n \n-    private TypeItemFactory itemFactory;\n+    private TypeItemFactory factory;\n     private RecyclerView recyclerView;\n \n \n-    @Override\n-    protected void onCreate(Bundle savedInstanceState) {\n+    @Override protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_main);\n         recyclerView \u003d (RecyclerView) findViewById(R.id.list);\n-        // @formatter:off\n-        itemFactory \u003d new TypeItemFactory.Builder().build();\n-        TypeItem textItem \u003d itemFactory.newItem(new TextItemContent(\"world\"));\n-        TypeItem imageItem \u003d itemFactory.newItem(new ImageItemContent(R.mipmap.ic_launcher));\n-        TypeItem richItem \u003d itemFactory.newItem(new RichItemContent(\"小艾大人赛高\", R.mipmap.avatar));\n-        // @formatter:on\n+\n+        factory \u003d new TypeItemFactory.Builder().build();\n+        TypeItem textItem \u003d factory.newItem(new TextItemContent(\"world\"));\n+        TypeItem imageItem \u003d factory.newItem(new ImageItemContent(R.mipmap.ic_launcher));\n+        TypeItem richItem \u003d factory.newItem(new RichItemContent(\"小艾大人赛高\", R.mipmap.avatar));\n+\n         List\u003cTypeItem\u003e typeItems \u003d new ArrayList\u003c\u003e(80);\n         for (int i \u003d 0; i \u003c 20; i++) {\n             typeItems.add(textItem);\n             typeItems.add(imageItem);\n             typeItems.add(richItem);\n         }\n \n-        /* register the types before setAdapter, that\u0027s all right */\n-        ItemTypePool.register(TextItemContent.class, new TextItemViewProvider());\n-        ItemTypePool.register(ImageItemContent.class, new ImageItemViewProvider());\n-        ItemTypePool.register(RichItemContent.class, new RichItemViewProvider());\n-\n         recyclerView.setAdapter(new MultiTypeAdapter(typeItems));\n     }\n }"
        }
      ]
    }
  },
  {
    "name": "InfoActivity crashes with default locale (NullPointerException: Can\u0027t set default locale to NULL)",
    "url": "https://github.com/mozilla-mobile/focus-android/issues/1005",
    "description": "BB shows this failure across all platform, when going to \u0027Your Rights\u0027 page.\r\n\r\njava.lang.NullPointerException\r\n\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{org.mozilla.focus.debug/org.mozilla.focus.activity.InfoActivity}: java.lang.NullPointerException: Can\u0027t set default locale to NULL\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\r\n\tat android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n\tat android.app.ActivityThreadXH.handleMessage(ActivityThread.java:1477)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6119)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInitXMethodAndArgsCaller.run(ZygoteInit.java:886)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\nCaused by: java.lang.NullPointerException: Can\u0027t set default locale to NULL\r\n\tat java.util.Locale.setDefault(Locale.java:976)\r\n\tat java.util.Locale.setDefault(Locale.java:937)\r\n\tat org.mozilla.focus.fragment.WebFragment.applyLocale(WebFragment.java:78)\r\n\tat org.mozilla.focus.fragment.InfoFragment.inflateLayout(InfoFragment.java:54)\r\n\tat org.mozilla.focus.fragment.WebFragment.onCreateView(WebFragment.java:55)\r\n\tat android.support.v4.app.Fragment.performCreateView(Fragment.java:2192)\r\n\tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1299)\r\n\tat android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)\r\n\tat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)\r\n\tat android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:758)\r\n\tat android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2363)\r\n\tat android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2149)\r\n\tat android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(FragmentManager.java:2103)\r\n\tat android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2013)\r\n\tat android.support.v4.app.FragmentController.execPendingActions(FragmentController.java:388)\r\n\tat android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:607)\r\n\tat android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\r\n\tat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1248)\r\n\tat android.support.test.runner.MonitoringInstrumentation.callActivityOnStart(MonitoringInstrumentation.java:544)\r\n\tat android.app.Activity.performStart(Activity.java:6696)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2628)\r\n\t... 9 more",
    "keywords": [
      "default locale",
      "activity",
      "app activitythread",
      "android",
      "support v4",
      "android support",
      "focus",
      "locale",
      "app fragmentmanagerimpl",
      "default",
      "java",
      "mozilla focus",
      "lang",
      "zygoteinit",
      "app",
      "lang nullpointerexception",
      "set",
      "os",
      "org",
      "mozilla",
      "nullpointerexception",
      "activitythread",
      "fragment",
      "null",
      "v4 app",
      "android app",
      "webfragment",
      "fragmentmanager",
      "fragmentmanagerimpl",
      "support",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/mozilla-mobile/focus-android/commit/c2ab78fd3f365ee0bdbb13bb6d6fc1a2a57659d2",
      "files": [
        {
          "file_name": "app/src/main/java/org/mozilla/focus/fragment/WebFragment.java",
          "patch": "@@ -74,12 +74,15 @@ public final View onCreateView(LayoutInflater inflater, @Nullable ViewGroup cont\n     @Override\n     public void applyLocale() {\n         Context context \u003d getContext();\n-        Locale currentLocale \u003d LocaleManager.getInstance().getCurrentLocale(context);\n-        Locale.setDefault(currentLocale);\n-        final Resources resources \u003d context.getResources();\n-        final Configuration config \u003d resources.getConfiguration();\n-        config.setLocale(currentLocale);\n-        context.getResources().updateConfiguration(config, null);\n+        final LocaleManager localeManager \u003d LocaleManager.getInstance();\n+        if (!localeManager.isMirroringSystemLocale(context)) {\n+            final Locale currentLocale \u003d localeManager.getCurrentLocale(context);\n+            Locale.setDefault(currentLocale);\n+            final Resources resources \u003d context.getResources();\n+            final Configuration config \u003d resources.getConfiguration();\n+            config.setLocale(currentLocale);\n+            context.getResources().updateConfiguration(config, null);\n+        }\n         // We create and destroy a new WebView here to force the internal state of WebView to know\n         // about the new language. See issue #666.\n         final WebView unneeded \u003d new WebView(getContext());"
        },
        {
          "file_name": "app/src/main/java/org/mozilla/focus/locale/LocaleManager.java",
          "patch": "@@ -323,7 +323,7 @@ private String updateLocale(Context context, final Locale locale) {\n         return locale.toString();\n     }\n \n-    private boolean isMirroringSystemLocale(final Context context) {\n+    public boolean isMirroringSystemLocale(final Context context) {\n         return getPersistedLocale(context) \u003d\u003d null;\n     }\n "
        }
      ]
    }
  },
  {
    "name": "Fix update error message processing NPE from ACRA",
    "url": "https://github.com/dimagi/commcare-android/pull/1554",
    "description": "Fix for the following stacktrace\r\n```\r\njava.lang.NullPointerException\r\nat org.commcare.activities.UpdateActivity.handleTaskCompletion(UpdateActivity.java:222)\r\nat org.commcare.activities.UpdateActivity.handleTaskCompletion(UpdateActivity.java:37)\r\nat org.commcare.tasks.SingletonTask.onPostExecute(SingletonTask.java:35)\r\nat org.commcare.tasks.UpdateTask.onPostExecute(UpdateTask.java:162)\r\nat org.commcare.tasks.UpdateTask.onPostExecute(UpdateTask.java:33)\r\nat android.os.AsyncTask.finish(AsyncTask.java:632)\r\nat android.os.AsyncTask.access$600(AsyncTask.java:177)\r\nat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\r\nat android.os.Handler.dispatchMessage(Handler.java:102)\r\nat android.os.Looper.loop(Looper.java:136)\r\nat android.app.ActivityThread.main(ActivityThread.java:5584)\r\nat java.lang.reflect.Method.invokeNative(Native Method)\r\nat java.lang.reflect.Method.invoke(Method.java:515)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\nat dalvik.system.NativeStart.main(Native Method)\r\n```",
    "keywords": [
      "android os",
      "updatetask",
      "os",
      "asynctask",
      "method",
      "org",
      "android",
      "main",
      "commcare",
      "java lang",
      "java",
      "org commcare",
      "updateactivity",
      "onpostexecute",
      "lang",
      "tasks",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/dimagi/commcare-android/commit/eabcf1af38db01dc6715055d7071a886506f6056",
      "files": [
        {
          "file_name": "app/src/org/commcare/activities/UpdateActivity.java",
          "patch": "@@ -4,6 +4,7 @@\n import android.content.Intent;\n import android.os.AsyncTask;\n import android.os.Bundle;\n+import android.support.v4.util.Pair;\n import android.util.Log;\n import android.view.Menu;\n import android.view.MenuItem;\n@@ -218,9 +219,9 @@ public void handleTaskCompletion(ResultAndError\u003cAppInstallStatus\u003e result) {\n         } else {\n             // Gives user generic failure warning; even if update staging\n             // failed for a specific reason like xml syntax\n-            if (!\"\".equals(result.errorMessage)) {\n-                String[] resouceAndMessage \u003d result.errorMessage.split(\"\u003d\u003d\", 2);\n-                CommCareApplication._().reportNotificationMessage(NotificationMessageFactory.message(AppInstallStatus.InvalidResource, new String[]{null, resouceAndMessage[0], resouceAndMessage[1]}), true);\n+            if (UpdateTask.isCombinedErrorMessage(result.errorMessage)) {\n+                Pair\u003cString, String\u003e resouceAndMessage \u003d UpdateTask.splitCombinedErrorMessage(result.errorMessage);\n+                CommCareApplication._().reportNotificationMessage(NotificationMessageFactory.message(AppInstallStatus.InvalidResource, new String[]{null, resouceAndMessage.first, resouceAndMessage.second}), true);\n             }\n             uiController.checkFailedUiState();\n             if (proceedAutomatically) {"
        },
        {
          "file_name": "app/src/org/commcare/tasks/FormLoaderTask.java",
          "patch": "@@ -162,12 +162,12 @@ private FormDef loadFormFromFile(File formXmlFile) {\n         try {\n             fis \u003d new FileInputStream(formXmlFile);\n         } catch (FileNotFoundException e) {\n-            throw new RuntimeException(\"Error reading XForm file\");\n+            throw new RuntimeException(\"Error reading XForm file\", e);\n         }\n         XFormAndroidInstaller.registerAndroidLevelFormParsers();\n         FormDef fd \u003d XFormExtensionUtils.getFormFromInputStream(fis);\n         if (fd \u003d\u003d null) {\n-            throw new RuntimeException(\"Error reading XForm file\");\n+            throw new RuntimeException(\"Error reading XForm file: FormDef is null\");\n         }\n         return fd;\n     }"
        },
        {
          "file_name": "app/src/org/commcare/tasks/UpdateTask.java",
          "patch": "@@ -1,6 +1,7 @@\n package org.commcare.tasks;\n \n import android.content.Context;\n+import android.support.v4.util.Pair;\n \n import org.commcare.CommCareApp;\n import org.commcare.CommCareApplication;\n@@ -107,12 +108,7 @@ public void startPinnedNotification(Context ctx) {\n         } catch (InvalidResourceException e) {\n             ResourceInstallUtils.logInstallError(e,\n                     \"Structure error ocurred during install|\");\n-            // Put both the resource in question and a detailed error message into one string for\n-            // ease of transport, which will be split out later and formatted into a user-readable\n-            // pinned notification\n-            String combinedMessage \u003d e.resourceName + \"\u003d\u003d\" + e.getMessage();\n-\n-            return new ResultAndError\u003c\u003e(AppInstallStatus.UnknownFailure, combinedMessage);\n+            return new ResultAndError\u003c\u003e(AppInstallStatus.UnknownFailure, buildCombinedErrorMessage(e.resourceName, e.getMessage()));\n         } catch (Exception e) {\n             ResourceInstallUtils.logInstallError(e,\n                     \"Unknown error ocurred during install|\");\n@@ -264,5 +260,22 @@ public void cancelWasUserTriggered() {\n         taskWasCancelledByUser \u003d true;\n     }\n \n+    public static boolean isCombinedErrorMessage(String message) {\n+        return message !\u003d null \u0026\u0026 message.startsWith(\"||\");\n+    }\n+\n+    /**\n+     * Put both the resource in question and a detailed error message into one string for\n+     * ease of transport, which will be split out later and formatted into a user-readable\n+     * pinned notification\n+     */\n+    private static String buildCombinedErrorMessage(String head, String tail) {\n+        return \"||\" + head + \"\u003d\u003d\" + tail;\n+    }\n+\n+    public static Pair\u003cString, String\u003e splitCombinedErrorMessage(String message) {\n+        String[] splitMessage \u003d message.split(\"\u003d\u003d\", 2);\n+        return Pair.create(splitMessage[0].substring(2), splitMessage[1]);\n+    }\n \n }"
        }
      ]
    }
  },
  {
    "name": "Crash on tracking",
    "url": "https://github.com/nextgis/android_gisapp/issues/502",
    "description": "```\njava.lang.OutOfMemoryError: Failed to allocate a 1157788 byte allocation with 135840 free bytes and 132KB until OOM\n    at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\n    at android.graphics.Bitmap.nativeCreate(Native Method)\n    at android.graphics.Bitmap.createBitmap(Bitmap.java:824)\n    at android.graphics.Bitmap.createBitmap(Bitmap.java:801)\n    at android.graphics.Bitmap.createBitmap(Bitmap.java:768)\n    at com.nextgis.maplibui.overlay.CurrentLocationOverlay.getAccuracyMarker(CurrentLocationOverlay.java:401)\n    at com.nextgis.maplibui.overlay.CurrentLocationOverlay.draw(CurrentLocationOverlay.java:168)\n    at com.nextgis.maplibui.mapui.MapViewOverlays.onDraw(MapViewOverlays.java:90)\n    at android.view.View.draw(View.java:15251)\n    at android.view.View.updateDisplayListIfDirty(View.java:14187)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.View.draw(View.java:14979)\n    at android.view.ViewGroup.drawChild(ViewGroup.java:3406)\n    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3199)\n    at android.view.View.updateDisplayListIfDirty(View.java:14182)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3390)\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3369)\n    at android.view.View.updateDisplayListIfDirty(View.java:14147)\n    at android.view.View.getDisplayList(View.java:14209)\n    at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:273)\n    at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:279)\n    at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:318)\n    at android.view.ViewRootImpl.draw(ViewRootImpl.java:2566)\n    at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2382)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2012)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1091)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5926)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:775)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:588)\n    at android.view.Choreographer.doFrame(Choreographer.java:558)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:761)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5273)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:908)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:703)\n```\n",
    "keywords": [
      "com",
      "handler",
      "java:14209",
      "choreographer",
      "view view",
      "view viewgroup",
      "android",
      "run",
      "graphics",
      "view",
      "java",
      "native",
      "viewgroup",
      "bitmap",
      "java:3390",
      "viewgroup recreatechilddisplaylist",
      "android view",
      "lang",
      "zygoteinit",
      "getdisplaylist view",
      "threadedrenderer",
      "maplibui",
      "createbitmap",
      "os",
      "method",
      "nextgis",
      "dispatchgetdisplaylist viewgroup",
      "updatedisplaylistifdirty",
      "draw",
      "getdisplaylist",
      "view java:14147",
      "java:3369",
      "dispatchgetdisplaylist",
      "currentlocationoverlay",
      "recreatechilddisplaylist",
      "view updatedisplaylistifdirty",
      "viewrootimpl",
      "java:14147",
      "viewgroup java:3390"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/6f32d508241a07f016e84ad9f6677414298cf060",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit b9457ddef4f1f3b8cf12429746c0626f1d8897ad\n+Subproject commit 2177d97071a754918e17c615264d27d6a9fa0b33"
        }
      ]
    }
  },
  {
    "name": "Crash when redirecting to a newly created product",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/342",
    "description": "```\r\n12-20 15:20:46.119 11710-11710/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                   Process: openfoodfacts.github.scrachx.openfood, PID: 11710\r\n                                                   java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String java.lang.String.trim()\u0027 on a null object reference\r\n                                                       at openfoodfacts.github.scrachx.openfood.fragments.SummaryProductFragment.onViewCreated(SummaryProductFragment.java:112)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1132)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1295)\r\n                                                       at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:801)\r\n                                                       at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:1643)\r\n                                                       at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:679)\r\n                                                       at android.support.v4.app.FragmentStatePagerAdapter.finishUpdate(FragmentStatePagerAdapter.java:166)\r\n                                                       at android.support.v4.view.ViewPager.populate(ViewPager.java:1272)\r\n                                                       at android.support.v4.view.ViewPager.populate(ViewPager.java:1120)\r\n                                                       at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1646)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                       at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                       at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                       at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                       at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                       at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                       at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                       at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                       at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                       at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                       at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                       at com.android.internal.policy.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2643)\r\n                                                       at android.view.View.measure(View.java:18794)\r\n                                                       at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2100)\r\n                                                       at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1216)\r\n                                                       at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1452)\r\n                                                       at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1107)\r\n                                                       at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6013)\r\n                                                       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\r\n                                                       at android.view.Choreographer.doCallbacks(Choreographer.java:670)\r\n                                                       at android.view.Choreographer.doFrame(Choreographer.java:606)\r\n                                                       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\r\n                                                       at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                       at android.os.Looper.loop(Looper.java:148)\r\n                                                       at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                       at java.lang.reflect.Method.invoke(Native Method)\r\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n\r\n```",
    "keywords": [
      "com",
      "measurevertical",
      "handler",
      "choreographer",
      "framelayout",
      "view view",
      "measurechildwithmargins viewgroup",
      "view viewgroup",
      "support v4",
      "main",
      "run",
      "java:5951",
      "linearlayout",
      "java:18794",
      "view",
      "java",
      "view java:18794",
      "measure view",
      "viewpager",
      "app",
      "method",
      "measure",
      "measurechildbeforelayout",
      "viewrootimpl",
      "v4 app",
      "fragmentmanager",
      "support",
      "measurechildwithmargins",
      "internal",
      "widget",
      "onmeasure",
      "viewgroup measurechildwithmargins",
      "android",
      "android support",
      "android widget",
      "viewgroup",
      "android view",
      "lang",
      "zygoteinit",
      "viewgroup java:5951",
      "os",
      "java:748",
      "backstackrecord",
      "widget linearlayout",
      "java:1465",
      "view measure",
      "java:194",
      "fragmentmanagerimpl",
      "java:630",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/1b9da64562b4ab9ac24d21620601a15f49ba4384",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/fragments/SummaryProductFragment.java",
          "patch": "@@ -109,12 +109,12 @@ public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n             categoryProduct.setVisibility(View.GONE);\n         }\n \n-        String labels \u003d product.getLabels().trim();\n+        String labels \u003d product.getLabels();\n         if (isNotEmpty(labels)) {\n             labelProduct.append(bold(getString(R.string.txtLabels)));\n             labelProduct.append(\" \");\n             for (String label : labels.split(\",\")) {\n-                labelProduct.append(label);\n+                labelProduct.append(label.trim());\n                 labelProduct.append(\", \");\n             }\n         } else {"
        }
      ]
    }
  },
  {
    "name": "Double tap on filter force closes the app",
    "url": "https://github.com/danimahardhika/wallpaperboard/issues/8",
    "description": "Double tap on filter button force closes the app.\r\nHere is a log that a user send me along with the crash report.\r\n\r\nClass Name : java.lang.NullPointerException\r\nCaused By : java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.support.v4.app.FragmentManager android.support.v4.app.FragmentActivity.getSupportFragmentManager()\u0027 on a null object reference\r\ncom.dm.wallpaper.board.fragments.dialogs.FilterFragment.onDismiss(SourceFile:105)\r\nandroid.app.Dialog$ListenersHandler.handleMessage(Dialog.java:1343)\r\nandroid.os.Handler.dispatchMessage(Handler.java:102)\r\nandroid.os.Looper.loop(Looper.java:154)\r\nandroid.app.ActivityThread.main(ActivityThread.java:6126)\r\njava.lang.reflect.Method.invoke(Native Method)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n\r\n",
    "keywords": [
      "com",
      "app",
      "java",
      "os",
      "method",
      "android",
      "lang",
      "java lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/danimahardhika/wallpaperboard/commit/56517e4a23160113e730544e878685643c93b2cc",
      "files": [
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/activities/WallpaperBoardActivity.java",
          "patch": "@@ -7,13 +7,12 @@\n import android.content.res.ColorStateList;\r\n import android.content.res.Configuration;\r\n import android.graphics.Color;\r\n-import android.graphics.drawable.ColorDrawable;\r\n+import android.graphics.drawable.Drawable;\r\n import android.os.Build;\r\n import android.os.Bundle;\r\n import android.support.annotation.NonNull;\r\n import android.support.annotation.Nullable;\r\n import android.support.design.widget.AppBarLayout;\r\n-import android.support.design.widget.CollapsingToolbarLayout;\r\n import android.support.design.widget.NavigationView;\r\n import android.support.v4.app.ActivityCompat;\r\n import android.support.v4.app.Fragment;\r\n@@ -27,7 +26,6 @@\n import android.support.v7.app.AppCompatActivity;\r\n import android.support.v7.graphics.drawable.DrawerArrowDrawable;\r\n import android.support.v7.widget.Toolbar;\r\n-import android.view.Menu;\r\n import android.view.View;\r\n import android.webkit.URLUtil;\r\n import android.widget.ImageView;\r\n@@ -57,6 +55,7 @@\n import com.dm.wallpaper.board.services.WallpaperBoardService;\r\n import com.dm.wallpaper.board.utils.Extras;\r\n import com.dm.wallpaper.board.utils.ImageConfig;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.InAppBillingListener;\r\n import com.dm.wallpaper.board.utils.listeners.SearchListener;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperBoardListener;\r\n@@ -97,6 +96,8 @@\n     NavigationView mNavigationView;\r\n     @BindView(R2.id.drawer_layout)\r\n     DrawerLayout mDrawerLayout;\r\n+    @BindView(R2.id.appbar)\r\n+    AppBarLayout mAppBar;\r\n \r\n     private BillingProcessor mBillingProcessor;\r\n     private ActionBarDrawerToggle mDrawerToggle;\r\n@@ -119,9 +120,10 @@ public void initMainActivity(@Nullable Bundle savedInstanceState, boolean isLice\n         super.onCreate(savedInstanceState);\r\n         setContentView(R.layout.activity_wallpaper_board);\r\n         ButterKnife.bind(this);\r\n-        ViewHelper.setApplicationWindowColor(this);\r\n+\r\n         ViewHelper.resetNavigationBarTranslucent(this,\r\n                 getResources().getConfiguration().orientation);\r\n+        ColorHelper.setStatusBarIconColor(this);\r\n         registerBroadcastReceiver();\r\n \r\n         SoftKeyboardHelper softKeyboardHelper \u003d new SoftKeyboardHelper(this,\r\n@@ -133,34 +135,31 @@ public void initMainActivity(@Nullable Bundle savedInstanceState, boolean isLice\n         mDonationProductsId \u003d donationProductsId;\r\n \r\n         Toolbar toolbar \u003d ButterKnife.findById(this, R.id.toolbar);\r\n-        AppBarLayout appBar \u003d ButterKnife.findById(this, R.id.appbar);\r\n         toolbar.setTitle(\"\");\r\n+\r\n+        ViewHelper.setupToolbar(toolbar, true);\r\n         setSupportActionBar(toolbar);\r\n-        appBar.setExpanded(false);\r\n \r\n         initNavigationView(toolbar);\r\n         initNavigationViewHeader();\r\n-        initTheme();\r\n         initInAppBilling();\r\n \r\n         mPosition \u003d mLastPosition \u003d 0;\r\n         if (savedInstanceState !\u003d null) {\r\n-            mPosition \u003d mLastPosition \u003d savedInstanceState.getInt(\"position\", 0);\r\n+            mPosition \u003d mLastPosition \u003d savedInstanceState.getInt(Extras.EXTRA_POSITION, 0);\r\n         }\r\n \r\n         setFragment(getFragment(mPosition));\r\n-        checkWallpapers();\r\n \r\n-        if (Preferences.getPreferences(this).isFirstRun()) {\r\n-            if (isLicenseCheckerEnabled) {\r\n-                LicenseHelper.getLicenseChecker(this).checkLicense(mLicenseKey, salt);\r\n-                return;\r\n-            }\r\n+        if (Preferences.getPreferences(this).isFirstRun() \u0026\u0026 isLicenseCheckerEnabled) {\r\n+            LicenseHelper.getLicenseChecker(this).checkLicense(mLicenseKey, salt);\r\n+            return;\r\n         }\r\n \r\n-        if (isLicenseCheckerEnabled) {\r\n-            if (!Preferences.getPreferences(this).isLicensed())\r\n-                finish();\r\n+        checkWallpapers();\r\n+\r\n+        if (isLicenseCheckerEnabled \u0026\u0026 !Preferences.getPreferences(this).isLicensed()) {\r\n+            finish();\r\n         }\r\n     }\r\n \r\n@@ -192,12 +191,6 @@ protected void onDestroy() {\n     }\r\n \r\n     @Override\r\n-    public boolean onCreateOptionsMenu(Menu menu) {\r\n-        ViewHelper.disableAppBarDrag(ButterKnife.findById(this, R.id.appbar));\r\n-        return super.onCreateOptionsMenu(menu);\r\n-    }\r\n-\r\n-    @Override\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n         resetNavigationView(newConfig.orientation);\r\n@@ -215,6 +208,12 @@ public void onBackPressed() {\n             mDrawerLayout.closeDrawers();\r\n             return;\r\n         }\r\n+\r\n+        if (!mFragmentTag.equals(Extras.TAG_WALLPAPERS)) {\r\n+            mPosition \u003d mLastPosition \u003d 0;\r\n+            setFragment(getFragment(mPosition));\r\n+            return;\r\n+        }\r\n         super.onBackPressed();\r\n     }\r\n \r\n@@ -243,8 +242,19 @@ public void onRequestPermissionsResult(int requestCode, @NonNull String[] permis\n     }\r\n \r\n     @Override\r\n-    public void OnWallpapersChecked(@Nullable Intent intent) {\r\n+    public void onWallpapersChecked(@Nullable Intent intent) {\r\n         if (intent !\u003d null) {\r\n+            String packageName \u003d intent.getStringExtra(\"packageName\");\r\n+            LogUtil.d(\"Broadcast received from service with packageName: \" +packageName);\r\n+\r\n+            if (packageName \u003d\u003d null)\r\n+                return;\r\n+\r\n+            if (!packageName.equals(getPackageName())) {\r\n+                LogUtil.d(\"Received broadcast from different packageName, expected: \" +getPackageName());\r\n+                return;\r\n+            }\r\n+\r\n             int size \u003d intent.getIntExtra(Extras.EXTRA_SIZE, 0);\r\n             Database database \u003d new Database(this);\r\n             int offlineSize \u003d database.getWallpapersCount();\r\n@@ -279,18 +289,18 @@ public void OnWallpapersChecked(@Nullable Intent intent) {\n     }\r\n \r\n     @Override\r\n-    public void OnInAppBillingInitialized(boolean success) {\r\n+    public void onInAppBillingInitialized(boolean success) {\r\n         if (!success) mBillingProcessor \u003d null;\r\n     }\r\n \r\n     @Override\r\n-    public void OnInAppBillingSelected(InAppBilling product) {\r\n+    public void onInAppBillingSelected(InAppBilling product) {\r\n         if (mBillingProcessor \u003d\u003d null) return;\r\n         mBillingProcessor.purchase(this, product.getProductId());\r\n     }\r\n \r\n     @Override\r\n-    public void OnInAppBillingConsume(String productId) {\r\n+    public void onInAppBillingConsume(String productId) {\r\n         if (mBillingProcessor \u003d\u003d null) return;\r\n         if (mBillingProcessor.consumePurchase(productId)) {\r\n             new MaterialDialog.Builder(this)\r\n@@ -302,26 +312,17 @@ public void OnInAppBillingConsume(String productId) {\n     }\r\n \r\n     @Override\r\n-    public void OnSearchExpanded(boolean expand) {\r\n+    public void onSearchExpanded(boolean expand) {\r\n         Toolbar toolbar \u003d (Toolbar) findViewById(R.id.toolbar);\r\n-        CollapsingToolbarLayout collapsingToolbar \u003d (CollapsingToolbarLayout)\r\n-                findViewById(R.id.collapsing_toolbar);\r\n \r\n         if (expand) {\r\n-            int color \u003d ColorHelper.getAttributeColor(this, R.attr.search_toolbar_color);\r\n-            ViewHelper.changeSearchViewActionModeColor(this,\r\n-                    collapsingToolbar, R.attr.toolbar_color, R.attr.search_toolbar_color);\r\n-            ColorHelper.setStatusBarColor(this, color);\r\n-\r\n-            int iconColor \u003d ColorHelper.getAttributeColor(this, R.attr.search_toolbar_icon);\r\n+            int icon \u003d ColorHelper.getAttributeColor(this, R.attr.toolbar_icon);\r\n             toolbar.setNavigationIcon(DrawableHelper.getTintedDrawable(\r\n-                    this, R.drawable.ic_toolbar_back, iconColor));\r\n+                    this, R.drawable.ic_toolbar_back, icon));\r\n             toolbar.setNavigationOnClickListener(view -\u003e onBackPressed());\r\n         } else {\r\n             SoftKeyboardHelper.closeKeyboard(this);\r\n-            ColorHelper.setTransparentStatusBar(this, Color.TRANSPARENT);\r\n-            collapsingToolbar.setContentScrim(new ColorDrawable(\r\n-                    ColorHelper.getAttributeColor(this, R.attr.toolbar_color)));\r\n+\r\n             mDrawerToggle.setDrawerArrowDrawable(new DrawerArrowDrawable(this));\r\n             toolbar.setNavigationOnClickListener(view -\u003e\r\n                     mDrawerLayout.openDrawer(GravityCompat.START));\r\n@@ -367,6 +368,11 @@ public void onDrawerClosed(View drawerView) {\n                 getResources().getBoolean(R.bool.enable_donation));\r\n         mNavigationView.setItemTextColor(colorStateList);\r\n         mNavigationView.setItemIconTintList(colorStateList);\r\n+        Drawable background \u003d ContextCompat.getDrawable(this,\r\n+                Preferences.getPreferences(this).isDarkTheme() ?\r\n+                        R.drawable.navigation_view_item_background_dark :\r\n+                        R.drawable.navigation_view_item_background);\r\n+        mNavigationView.setItemBackground(background);\r\n         mNavigationView.setNavigationItemSelectedListener(item -\u003e {\r\n             int id \u003d item.getItemId();\r\n             if (id \u003d\u003d R.id.navigation_view_wallpapers) mPosition \u003d 0;\r\n@@ -381,12 +387,6 @@ public void onDrawerClosed(View drawerView) {\n         });\r\n     }\r\n \r\n-    private void initTheme() {\r\n-        getWindow().getDecorView().setBackgroundColor(\r\n-                ColorHelper.getAttributeColor(this, R.attr.main_background));\r\n-        ColorHelper.setStatusBarIconColor(this);\r\n-    }\r\n-\r\n     private void initNavigationViewHeader() {\r\n         String imageUrl \u003d getResources().getString(R.string.navigation_view_header);\r\n         String titleText \u003d getResources().getString(R.string.navigation_view_header_title);\r\n@@ -417,7 +417,7 @@ private void initNavigationViewHeader() {\n         }\r\n \r\n         ImageLoader.getInstance().displayImage(imageUrl, new ImageViewAware(image),\r\n-                ImageConfig.getDefaultImageOptions(true), new ImageSize(720, 720), null, null);\r\n+                ImageConfig.getDefaultImageOptions(), new ImageSize(720, 720), null, null);\r\n     }\r\n \r\n     private void initInAppBilling() {\r\n@@ -448,7 +448,7 @@ private void checkWallpapers() {\n \r\n         int size \u003d Preferences.getPreferences(this).getAvailableWallpapersCount();\r\n         if (size \u003e 0) {\r\n-            OnWallpapersChecked(new Intent().putExtra(Extras.EXTRA_SIZE, size));\r\n+            onWallpapersChecked(new Intent().putExtra(Extras.EXTRA_SIZE, size));\r\n         }\r\n     }\r\n \r\n@@ -468,9 +468,11 @@ private void setFragment(Fragment fragment) {\n         if (fragment \u003d\u003d null) return;\r\n         clearBackStack();\r\n \r\n+        mAppBar.setExpanded(true);\r\n+\r\n         FragmentTransaction ft \u003d mFragManager.beginTransaction().replace(\r\n                 R.id.container, fragment, mFragmentTag);\r\n-        ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);\r\n+        //ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);\r\n         try {\r\n             ft.commit();\r\n         } catch (Exception e) {\r\n@@ -508,7 +510,7 @@ private void resetToolbarLogo() {\n     private void clearBackStack() {\r\n         if (mFragManager.getBackStackEntryCount() \u003e 0) {\r\n             mFragManager.popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE);\r\n-            OnSearchExpanded(false);\r\n+            onSearchExpanded(false);\r\n         }\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/activities/WallpaperBoardMuzeiActivity.java",
          "patch": "@@ -82,7 +82,7 @@ public void initMuzeiActivity(@Nullable Bundle savedInstanceState, @NonNull Clas\n         ViewCompat.setNestedScrollingEnabled(mScrollView, false);\r\n         ViewHelper.disableTranslucentNavigationBar(this);\r\n         ColorHelper.setStatusBarColor(this,\r\n-                ColorHelper.getAttributeColor(this, R.attr.toolbar_color));\r\n+                ColorHelper.getAttributeColor(this, R.attr.colorPrimary));\r\n         ColorHelper.setStatusBarIconColor(this);\r\n         ColorHelper.setNavigationBarColor(this, ColorHelper.getDarkerColor(\r\n                 ColorHelper.getAttributeColor(this, R.attr.colorAccent), 0.8f));\r\n@@ -117,8 +117,7 @@ protected void attachBaseContext(Context newBase) {\n     @Override\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n-        ViewHelper.resetNavigationBarBottomPadding(this, mScrollView,\r\n-                getResources().getConfiguration().orientation);\r\n+        ViewHelper.resetViewBottomPadding(mScrollView, false);\r\n     }\r\n \r\n     @Override\r\n@@ -149,7 +148,7 @@ public void onClick(View view) {\n     }\r\n \r\n     @Override\r\n-    public void OnRefreshDurationSet(int rotateTime, boolean isMinute) {\r\n+    public void onRefreshDurationSet(int rotateTime, boolean isMinute) {\r\n         mRotateTime \u003d rotateTime;\r\n         mIsMinute \u003d isMinute;\r\n         initRefreshDuration();\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/activities/WallpaperBoardPreviewActivity.java",
          "patch": "@@ -32,6 +32,7 @@\n import android.widget.TextView;\r\n \r\n import com.danimahardhika.cafebar.CafeBar;\r\n+import com.danimahardhika.cafebar.CafeBarTheme;\r\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.adapters.WallpapersAdapter;\r\n@@ -107,15 +108,15 @@ protected void onCreate(@Nullable Bundle savedInstanceState) {\n         setContentView(R.layout.activity_wallpaper_preview);\r\n         ButterKnife.bind(this);\r\n         ViewHelper.setApplicationWindowColor(this);\r\n-        ViewHelper.resetNavigationBarTranslucent(this,\r\n-                getResources().getConfiguration().orientation);\r\n+        ViewHelper.resetViewBottomMargin(mFab);\r\n+        ColorHelper.setTransparentStatusBar(this,\r\n+                ContextCompat.getColor(this, R.color.wallpaperStatusBar));\r\n         mIsEnter \u003d true;\r\n \r\n         Toolbar toolbar \u003d ButterKnife.findById(this, R.id.toolbar);\r\n         TextView toolbarTitle \u003d ButterKnife.findById(this, R.id.toolbar_title);\r\n         TextView toolbarSubTitle \u003d ButterKnife.findById(this, R.id.toolbar_subtitle);\r\n-        ColorHelper.setTransparentStatusBar(this,\r\n-                ContextCompat.getColor(this, R.color.wallpaperStatusBar));\r\n+\r\n         mColor \u003d ColorHelper.getAttributeColor(this, R.attr.colorAccent);\r\n         mProgress.getIndeterminateDrawable().setColorFilter(mColor, PorterDuff.Mode.SRC_IN);\r\n \r\n@@ -159,8 +160,7 @@ public void onTransitionStart(Transition transition) {\n                     public void onTransitionEnd(Transition transition) {\r\n                         if (mIsEnter) {\r\n                             mIsEnter \u003d false;\r\n-                            Animator.startSlideDownAnimation(WallpaperBoardPreviewActivity.this,\r\n-                                    toolbar, null);\r\n+                            Animator.startSlideDownAnimation(toolbar, View.VISIBLE);\r\n                             loadWallpaper(mUrl);\r\n                         }\r\n                     }\r\n@@ -197,7 +197,7 @@ public void onTransitionResume(Transition transition) {\n     @Override\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n-        ViewHelper.resetNavigationBarTranslucent(this, newConfig.orientation);\r\n+        ViewHelper.resetViewBottomMargin(mFab);\r\n     }\r\n \r\n     @Override\r\n@@ -249,11 +249,10 @@ public boolean onOptionsItemSelected(MenuItem item) {\n \r\n                 if (target.exists()) {\r\n                     CafeBar.builder(this)\r\n-                            .to(findViewById(R.id.rootview))\r\n+                            .theme(new CafeBarTheme.Custom(ColorHelper.getAttributeColor(this, R.attr.card_background)))\r\n                             .autoDismiss(false)\r\n-                            .swipeToDismiss(false)\r\n-                            .floating(true)\r\n                             .maxLines(4)\r\n+                            .fitSystemWindow(true)\r\n                             .content(String.format(getResources().getString(R.string.wallpaper_download_exist),\r\n                                     (\"\\\"\" +mName + FileHelper.IMAGE_EXTENSION+ \"\\\"\")))\r\n                             .icon(R.drawable.ic_toolbar_download)\r\n@@ -331,7 +330,7 @@ public void onLoadingFailed(String imageUri, View view, FailReason failReason) {\n \r\n                 int color \u003d ColorHelper.getAttributeColor(\r\n                         WallpaperBoardPreviewActivity.this, R.attr.main_background);\r\n-                FrameLayout container \u003d (FrameLayout) findViewById(R.id.container);\r\n+                FrameLayout container \u003d ButterKnife.findById(WallpaperBoardPreviewActivity.this, R.id.container);\r\n                 ObjectAnimator colorFade \u003d ObjectAnimator.ofObject(\r\n                         container, \"backgroundColor\", new ArgbEvaluator(),\r\n                         Color.TRANSPARENT, color);\r\n@@ -353,9 +352,7 @@ public void onLoadingComplete(String imageUri, View view, Bitmap loadedImage) {\n                         int color \u003d palette.getVibrantColor(accent);\r\n                         mColor \u003d color;\r\n                         int text \u003d ColorHelper.getTitleTextColor(color);\r\n-                        mFab.setBackgroundTintList(ColorHelper.getColorStateList(\r\n-                                android.R.attr.state_pressed,\r\n-                                color, ColorHelper.getDarkerColor(color, 0.9f)));\r\n+                        mFab.setBackgroundTintList(ColorHelper.getColorStateList(color));\r\n                         OnWallpaperLoaded(text);\r\n                     });\r\n                 }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/activities/WallpaperBoardSplashActivity.java",
          "patch": "@@ -2,27 +2,22 @@\n \r\n import android.content.Context;\r\n import android.content.Intent;\r\n-import android.graphics.PorterDuff;\r\n import android.os.AsyncTask;\r\n import android.os.Bundle;\r\n import android.support.annotation.NonNull;\r\n import android.support.annotation.Nullable;\r\n import android.support.v4.content.ContextCompat;\r\n import android.support.v7.app.AppCompatActivity;\r\n import android.util.Log;\r\n-import android.view.View;\r\n-import android.widget.ProgressBar;\r\n import android.widget.TextView;\r\n \r\n import com.dm.wallpaper.board.R;\r\n-import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.helpers.ColorHelper;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n \r\n import java.net.HttpURLConnection;\r\n import java.net.URL;\r\n \r\n-import butterknife.BindView;\r\n import butterknife.ButterKnife;\r\n import uk.co.chrisjenx.calligraphy.CalligraphyContextWrapper;\r\n \r\n@@ -46,11 +41,9 @@\n \r\n public class WallpaperBoardSplashActivity extends AppCompatActivity {\r\n \r\n-    @BindView(R2.id.progress)\r\n-    ProgressBar mProgress;\r\n-\r\n     private Class\u003c?\u003e mMainActivity;\r\n     private AsyncTask\u003cVoid, Void, Boolean\u003e mCheckRszIo;\r\n+    private AsyncTask\u003cVoid, Void, Boolean\u003e mPrepareApp;\r\n \r\n     @Deprecated\r\n     public void initSplashActivity(@Nullable Bundle savedInstanceState, @NonNull Class\u003c?\u003e mainActivity, int duration) {\r\n@@ -60,23 +53,14 @@ public void initSplashActivity(@Nullable Bundle savedInstanceState, @NonNull Cla\n     public void initSplashActivity(@Nullable Bundle savedInstanceState, @NonNull Class\u003c?\u003e mainActivity) {\r\n         super.onCreate(savedInstanceState);\r\n         setContentView(R.layout.activity_splash);\r\n-        ButterKnife.bind(this);\r\n         mMainActivity \u003d mainActivity;\r\n \r\n-        mProgress.getIndeterminateDrawable().setColorFilter(ColorHelper.getAttributeColor(\r\n-                this, R.attr.colorAccent), PorterDuff.Mode.SRC_IN);\r\n-\r\n         int color \u003d ContextCompat.getColor(this, R.color.splashColor);\r\n         int titleColor \u003d ColorHelper.getTitleTextColor(color);\r\n         TextView splashTitle \u003d ButterKnife.findById(this, R.id.splash_title);\r\n-        splashTitle.setTextColor(ColorHelper.setColorAlpha(titleColor, 0.6f ));\r\n-\r\n-        TextView splashLoading \u003d ButterKnife.findById(this, R.id.splash_loading);\r\n-        splashLoading.setTextColor(titleColor);\r\n-        splashLoading.setText(String.format(\r\n-                getResources().getString(R.string.splash_screen_loading),\r\n-                getResources().getString(R.string.app_name)));\r\n+        splashTitle.setTextColor(ColorHelper.setColorAlpha(titleColor, 0.6f));\r\n \r\n+        prepareApp();\r\n         checkRszIo();\r\n     }\r\n \r\n@@ -86,23 +70,53 @@ protected void attachBaseContext(Context newBase) {\n     }\r\n \r\n     @Override\r\n-    protected void onDestroy() {\r\n+    public void onBackPressed() {\r\n         if (mCheckRszIo !\u003d null) mCheckRszIo.cancel(true);\r\n+        super.onBackPressed();\r\n+    }\r\n+\r\n+    @Override\r\n+    protected void onDestroy() {\r\n+        if (mPrepareApp !\u003d null) mPrepareApp.cancel(true);\r\n         super.onDestroy();\r\n     }\r\n \r\n+    private void prepareApp() {\r\n+        mPrepareApp \u003d new AsyncTask\u003cVoid, Void, Boolean\u003e() {\r\n+            @Override\r\n+            protected Boolean doInBackground(Void... voids) {\r\n+                while (!isCancelled()) {\r\n+                    try {\r\n+                        Thread.sleep(500);\r\n+                        return true;\r\n+                    } catch (Exception e) {\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n+                        return false;\r\n+                    }\r\n+                }\r\n+                return null;\r\n+            }\r\n+\r\n+            @Override\r\n+            protected void onPostExecute(Boolean aBoolean) {\r\n+                super.onPostExecute(aBoolean);\r\n+                if (aBoolean) {\r\n+                    mPrepareApp \u003d null;\r\n+\r\n+                    startActivity(new Intent(WallpaperBoardSplashActivity.this, mMainActivity));\r\n+                    overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n+                    finish();\r\n+                }\r\n+            }\r\n+        }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\r\n+    }\r\n+\r\n     private void checkRszIo() {\r\n         mCheckRszIo \u003d new AsyncTask\u003cVoid, Void, Boolean\u003e() {\r\n \r\n             final String rszio \u003d \"https://rsz.io/\";\r\n \r\n             @Override\r\n-            protected void onPreExecute() {\r\n-                super.onPreExecute();\r\n-                mProgress.setVisibility(View.VISIBLE);\r\n-            }\r\n-\r\n-            @Override\r\n             protected Boolean doInBackground(Void... voids) {\r\n                 while ((!isCancelled())) {\r\n                     try {\r\n@@ -114,7 +128,7 @@ protected Boolean doInBackground(Void... voids) {\n                         int code \u003d connection.getResponseCode();\r\n                         return code \u003d\u003d 200;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -124,14 +138,11 @@ protected Boolean doInBackground(Void... voids) {\n             @Override\r\n             protected void onPostExecute(Boolean aBoolean) {\r\n                 super.onPostExecute(aBoolean);\r\n-                WallpaperBoardActivity.sRszIoAvailable \u003d aBoolean;\r\n-                Log.d(Extras.LOG_TAG, \"rsz.io availability: \" +WallpaperBoardActivity.sRszIoAvailable);\r\n                 mCheckRszIo \u003d null;\r\n \r\n-                startActivity(new Intent(WallpaperBoardSplashActivity.this, mMainActivity));\r\n-                overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n-                finish();\r\n+                WallpaperBoardActivity.sRszIoAvailable \u003d aBoolean;\r\n+                LogUtil.e(\"rsz.io availability: \" +WallpaperBoardActivity.sRszIoAvailable);\r\n             }\r\n-        }.execute();\r\n+        }.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/adapters/AboutAdapter.java",
          "patch": "@@ -0,0 +1,277 @@\n+package com.dm.wallpaper.board.adapters;\r\n+\r\n+import android.content.ActivityNotFoundException;\r\n+import android.content.Context;\r\n+import android.content.Intent;\r\n+import android.graphics.Color;\r\n+import android.net.Uri;\r\n+import android.support.annotation.NonNull;\r\n+import android.support.v7.app.AppCompatActivity;\r\n+import android.support.v7.widget.AppCompatButton;\r\n+import android.support.v7.widget.RecyclerView;\r\n+import android.util.Log;\r\n+import android.view.LayoutInflater;\r\n+import android.view.View;\r\n+import android.view.ViewGroup;\r\n+import android.webkit.URLUtil;\r\n+import android.widget.ImageView;\r\n+import android.widget.TextView;\r\n+\r\n+import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.fragments.dialogs.CreditsFragment;\r\n+import com.dm.wallpaper.board.fragments.dialogs.LicensesFragment;\r\n+import com.dm.wallpaper.board.helpers.ColorHelper;\r\n+import com.dm.wallpaper.board.helpers.DrawableHelper;\r\n+import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.ImageConfig;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n+import com.mikhaellopez.circularimageview.CircularImageView;\r\n+import com.nostra13.universalimageloader.core.ImageLoader;\r\n+\r\n+import org.sufficientlysecure.htmltextview.HtmlTextView;\r\n+\r\n+import butterknife.ButterKnife;\r\n+\r\n+/*\r\n+ * Wallpaper Board\r\n+ *\r\n+ * Copyright (c) 2017 Dani Mahardhika\r\n+ *\r\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+ * you may not use this file except in compliance with the License.\r\n+ * You may obtain a copy of the License at\r\n+ *\r\n+ *      http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+public class AboutAdapter extends RecyclerView.Adapter\u003cAboutAdapter.ViewHolder\u003e {\r\n+\r\n+    private final Context mContext;\r\n+\r\n+    private int mItemCount;\r\n+\r\n+    private final boolean mCardMode;\r\n+    private final boolean mShowContributors;\r\n+\r\n+    private static final int TYPE_HEADER \u003d 0;\r\n+    private static final int TYPE_SUBHEADER \u003d 1;\r\n+    private static final int TYPE_SUBFOOTER \u003d 2;\r\n+    private static final int TYPE_FOOTER \u003d 3;\r\n+    private static final int TYPE_BOTTOM_SHADOW \u003d 4;\r\n+\r\n+    public AboutAdapter(@NonNull Context context, int spanCount) {\r\n+        mContext \u003d context;\r\n+\r\n+        mItemCount \u003d 3;\r\n+        mCardMode \u003d (spanCount \u003e 1);\r\n+        if (!mCardMode) {\r\n+            mItemCount +\u003d 1;\r\n+        }\r\n+\r\n+        mShowContributors \u003d mContext.getResources().getBoolean(R.bool.show_contributors_dialog);\r\n+        if (mShowContributors) {\r\n+            mItemCount +\u003d 1;\r\n+        }\r\n+    }\r\n+\r\n+    @Override\r\n+    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n+        View view \u003d null;\r\n+        if (viewType \u003d\u003d TYPE_HEADER) {\r\n+            view \u003d LayoutInflater.from(mContext).inflate(\r\n+                    R.layout.fragment_about_item_header, parent, false);\r\n+        } else if (viewType \u003d\u003d TYPE_SUBHEADER || viewType \u003d\u003d TYPE_SUBFOOTER) {\r\n+            view \u003d LayoutInflater.from(mContext).inflate(\r\n+                    R.layout.fragment_about_item_sub, parent, false);\r\n+        } else if (viewType \u003d\u003d TYPE_FOOTER) {\r\n+            view \u003d LayoutInflater.from(mContext).inflate(\r\n+                    R.layout.fragment_about_item_footer, parent, false);\r\n+        } else if (viewType \u003d\u003d TYPE_BOTTOM_SHADOW) {\r\n+            view \u003d LayoutInflater.from(mContext).inflate(\r\n+                    R.layout.fragment_settings_item_footer, parent, false);\r\n+        }\r\n+        return new ViewHolder(view, viewType);\r\n+    }\r\n+\r\n+    @Override\r\n+    public void onBindViewHolder(ViewHolder holder, int position) {\r\n+        if (holder.holderId \u003d\u003d TYPE_HEADER) {\r\n+            String imageUri \u003d mContext.getString(R.string.about_image);\r\n+\r\n+            if (ColorHelper.isValidColor(imageUri)) {\r\n+                holder.image.setBackgroundColor(Color.parseColor(imageUri));\r\n+            } else if (!URLUtil.isValidUrl(imageUri)) {\r\n+                imageUri \u003d \"drawable://\" + DrawableHelper.getResourceId(mContext, imageUri);\r\n+                ImageLoader.getInstance().displayImage(imageUri, holder.image,\r\n+                        ImageConfig.getDefaultImageOptions());\r\n+            } else {\r\n+                ImageLoader.getInstance().displayImage(imageUri, holder.image,\r\n+                        ImageConfig.getDefaultImageOptions());\r\n+            }\r\n+\r\n+            String profileUri \u003d mContext.getResources().getString(R.string.about_profile_image);\r\n+            if (!URLUtil.isValidUrl(profileUri)) {\r\n+                profileUri \u003d \"drawable://\" + DrawableHelper.getResourceId(mContext, profileUri);\r\n+            }\r\n+\r\n+            ImageLoader.getInstance().displayImage(profileUri, holder.profile,\r\n+                    ImageConfig.getDefaultImageOptions());\r\n+        }\r\n+    }\r\n+\r\n+    @Override\r\n+    public int getItemCount() {\r\n+        return mItemCount;\r\n+    }\r\n+\r\n+    @Override\r\n+    public int getItemViewType(int position) {\r\n+        if (position \u003d\u003d 0) return TYPE_HEADER;\r\n+        if (position \u003d\u003d 1) {\r\n+            if (mShowContributors) return TYPE_SUBHEADER;\r\n+            else return TYPE_SUBFOOTER;\r\n+        }\r\n+\r\n+        if (position \u003d\u003d 2) {\r\n+            if (mShowContributors) return TYPE_SUBFOOTER;\r\n+            else return TYPE_FOOTER;\r\n+        }\r\n+\r\n+        if (position \u003d\u003d 3 \u0026\u0026 mShowContributors) return TYPE_FOOTER;\r\n+        return TYPE_BOTTOM_SHADOW;\r\n+    }\r\n+\r\n+    class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n+\r\n+        private ImageView image;\r\n+        private CircularImageView profile;\r\n+\r\n+        private int holderId;\r\n+\r\n+        public ViewHolder(View itemView, int viewType) {\r\n+            super(itemView);\r\n+            if (viewType \u003d\u003d TYPE_HEADER) {\r\n+                image \u003d (ImageView) itemView.findViewById(R.id.image);\r\n+                profile \u003d (CircularImageView) itemView.findViewById(R.id.profile);\r\n+                HtmlTextView subtitle \u003d ButterKnife.findById(itemView, R.id.subtitle);\r\n+                AppCompatButton email \u003d ButterKnife.findById(itemView, R.id.email);\r\n+                AppCompatButton link1 \u003d ButterKnife.findById(itemView, R.id.link1);\r\n+                AppCompatButton link2 \u003d ButterKnife.findById(itemView, R.id.link2);\r\n+                holderId \u003d TYPE_HEADER;\r\n+\r\n+                subtitle.setHtml(mContext.getResources().getString(R.string.about_desc));\r\n+\r\n+                if (!mCardMode) {\r\n+                    int primary \u003d ColorHelper.getAttributeColor(mContext, R.attr.colorPrimary);\r\n+\r\n+                    int card \u003d ColorHelper.getAttributeColor(mContext, R.attr.card_background);\r\n+                    email.setTextColor(ColorHelper.getTitleTextColor(primary));\r\n+                    link1.setTextColor(ColorHelper.getTitleTextColor(card));\r\n+                    link2.setTextColor(ColorHelper.getTitleTextColor(card));\r\n+                }\r\n+\r\n+                String emailText \u003d mContext.getResources().getString(R.string.about_email);\r\n+                if (emailText.length() \u003d\u003d 0) email.setVisibility(View.GONE);\r\n+                String link2Text \u003d mContext.getResources().getString(R.string.about_link_2_url);\r\n+                if (link2Text.length() \u003d\u003d 0) link2.setVisibility(View.GONE);\r\n+\r\n+                email.setOnClickListener(this);\r\n+                link1.setOnClickListener(this);\r\n+                link2.setOnClickListener(this);\r\n+            } else if (viewType \u003d\u003d TYPE_SUBHEADER) {\r\n+                TextView title \u003d (TextView) itemView.findViewById(R.id.title);\r\n+                holderId \u003d TYPE_SUBHEADER;\r\n+\r\n+                int color \u003d ColorHelper.getAttributeColor(mContext, android.R.attr.textColorPrimary);\r\n+                title.setCompoundDrawablesWithIntrinsicBounds(DrawableHelper.getTintedDrawable(\r\n+                        mContext, R.drawable.ic_toolbar_people, color), null, null, null);\r\n+                title.setText(mContext.getResources().getString(R.string.about_contributors_title));\r\n+\r\n+                title.setOnClickListener(this);\r\n+            } else if (viewType \u003d\u003d TYPE_SUBFOOTER) {\r\n+                TextView title \u003d (TextView) itemView.findViewById(R.id.title);\r\n+                holderId \u003d TYPE_SUBFOOTER;\r\n+\r\n+                int color \u003d ColorHelper.getAttributeColor(mContext, android.R.attr.textColorPrimary);\r\n+                title.setCompoundDrawablesWithIntrinsicBounds(DrawableHelper.getTintedDrawable(\r\n+                        mContext, R.drawable.ic_toolbar_licenses, color), null, null, null);\r\n+                title.setText(mContext.getResources().getString(R.string.about_open_source_licenses));\r\n+\r\n+                title.setOnClickListener(this);\r\n+            } else if (viewType \u003d\u003d TYPE_FOOTER) {\r\n+                AppCompatButton link2 \u003d ButterKnife.findById(itemView, R.id.dev_google_plus);\r\n+                AppCompatButton link1 \u003d ButterKnife.findById(itemView, R.id.dev_github);\r\n+                holderId \u003d TYPE_FOOTER;\r\n+\r\n+                if (!mCardMode) {\r\n+                    int primary \u003d ColorHelper.getAttributeColor(mContext, R.attr.colorPrimary);\r\n+                    int card \u003d ColorHelper.getAttributeColor(mContext, R.attr.card_background);\r\n+                    link1.setTextColor(ColorHelper.getTitleTextColor(primary));\r\n+                    link2.setTextColor(ColorHelper.getTitleTextColor(card));\r\n+                }\r\n+\r\n+                link1.setOnClickListener(this);\r\n+                link2.setOnClickListener(this);\r\n+            } else if (viewType \u003d\u003d TYPE_BOTTOM_SHADOW) {\r\n+                holderId \u003d TYPE_BOTTOM_SHADOW;\r\n+            }\r\n+        }\r\n+\r\n+        @Override\r\n+        public void onClick(View view) {\r\n+            int id \u003d view.getId();\r\n+            if (id \u003d\u003d R.id.email) {\r\n+                try {\r\n+                    final Intent email \u003d new Intent(Intent.ACTION_SENDTO, Uri.fromParts(\r\n+                            \"mailto\", mContext.getResources().getString(\r\n+                                    R.string.about_email), null));\r\n+                    email.putExtra(Intent.EXTRA_SUBJECT, (mContext.getResources().getString(\r\n+                            R.string.app_name)));\r\n+                    mContext.startActivity(Intent.createChooser(email,\r\n+                            mContext.getResources().getString(R.string.email_client)));\r\n+                    return;\r\n+                }\r\n+                catch (ActivityNotFoundException e) {\r\n+                    LogUtil.e(Log.getStackTraceString(e));\r\n+                }\r\n+                return;\r\n+            } else if (id \u003d\u003d R.id.title) {\r\n+                if (holderId \u003d\u003d TYPE_SUBHEADER) {\r\n+                    CreditsFragment.showCreditsDialog(\r\n+                            ((AppCompatActivity) mContext).getSupportFragmentManager(),\r\n+                            Extras.TYPE_CONTRIBUTORS);\r\n+                } else if (holderId \u003d\u003d TYPE_SUBFOOTER) {\r\n+                    LicensesFragment.showLicensesDialog(((AppCompatActivity) mContext).getSupportFragmentManager());\r\n+                }\r\n+                return;\r\n+            }\r\n+\r\n+            Intent intent \u003d null;\r\n+            if (id \u003d\u003d R.id.link1) {\r\n+                intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(\r\n+                        mContext.getResources().getString(R.string.about_link_1_url)));\r\n+            } else if (id \u003d\u003d R.id.link2) {\r\n+                intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(\r\n+                        mContext.getResources().getString(R.string.about_link_2_url)));\r\n+            } else if (id \u003d\u003d R.id.dev_google_plus) {\r\n+                intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(mContext\r\n+                        .getResources().getString(R.string.about_dashboard_dev_google_plus_url)));\r\n+            } else if (id \u003d\u003d R.id.dev_github) {\r\n+                intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(mContext\r\n+                        .getResources().getString(R.string.about_dashboard_dev_github_url)));\r\n+            }\r\n+\r\n+            try {\r\n+                mContext.startActivity(intent);\r\n+            } catch (NullPointerException | ActivityNotFoundException e) {\r\n+                LogUtil.e(Log.getStackTraceString(e));\r\n+            }\r\n+        }\r\n+    }\r\n+}\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/adapters/CreditsAdapter.java",
          "patch": "@@ -16,7 +16,7 @@\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.items.Credit;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n \r\n import java.util.List;\r\n \r\n@@ -85,7 +85,7 @@ public View getView(int position, View view, ViewGroup viewGroup) {\n                 try {\r\n                     mContext.startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(link)));\r\n                 } catch (ActivityNotFoundException e) {\r\n-                    Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                    LogUtil.e(Log.getStackTraceString(e));\r\n                 }\r\n             }\r\n         });\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/adapters/SettingsAdapter.java",
          "patch": "@@ -0,0 +1,213 @@\n+package com.dm.wallpaper.board.adapters;\r\n+\r\n+import android.content.Context;\r\n+import android.support.annotation.NonNull;\r\n+import android.support.v7.app.AppCompatActivity;\r\n+import android.support.v7.widget.AppCompatCheckBox;\r\n+import android.support.v7.widget.RecyclerView;\r\n+import android.util.Log;\r\n+import android.view.LayoutInflater;\r\n+import android.view.View;\r\n+import android.view.ViewGroup;\r\n+import android.widget.LinearLayout;\r\n+import android.widget.TextView;\r\n+import android.widget.Toast;\r\n+\r\n+import com.afollestad.materialdialogs.MaterialDialog;\r\n+import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.helpers.ColorHelper;\r\n+import com.dm.wallpaper.board.helpers.DrawableHelper;\r\n+import com.dm.wallpaper.board.helpers.FileHelper;\r\n+import com.dm.wallpaper.board.items.Setting;\r\n+import com.dm.wallpaper.board.preferences.Preferences;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n+\r\n+import java.io.File;\r\n+import java.text.DecimalFormat;\r\n+import java.text.NumberFormat;\r\n+import java.util.List;\r\n+\r\n+import butterknife.ButterKnife;\r\n+\r\n+/*\r\n+ * Wallpaper Board\r\n+ *\r\n+ * Copyright (c) 2017 Dani Mahardhika\r\n+ *\r\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+ * you may not use this file except in compliance with the License.\r\n+ * You may obtain a copy of the License at\r\n+ *\r\n+ *      http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+public class SettingsAdapter extends RecyclerView.Adapter\u003cSettingsAdapter.ViewHolder\u003e {\r\n+\r\n+    private final Context mContext;\r\n+    private final List\u003cSetting\u003e mSettings;\r\n+\r\n+    private static final int TYPE_CONTENT \u003d 0;\r\n+    private static final int TYPE_FOOTER \u003d 1;\r\n+\r\n+    public SettingsAdapter(@NonNull Context context, @NonNull List\u003cSetting\u003e settings) {\r\n+        mContext \u003d context;\r\n+        mSettings \u003d settings;\r\n+    }\r\n+\r\n+    @Override\r\n+    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n+        View view \u003d null;\r\n+        if (viewType \u003d\u003d TYPE_CONTENT) {\r\n+            view \u003d LayoutInflater.from(mContext).inflate(\r\n+                    R.layout.fragment_settings_item_list, parent, false);\r\n+        } else if (viewType \u003d\u003d TYPE_FOOTER) {\r\n+            view \u003d LayoutInflater.from(mContext).inflate(\r\n+                    R.layout.fragment_settings_item_footer, parent, false);\r\n+        }\r\n+        return new ViewHolder(view, viewType);\r\n+    }\r\n+\r\n+    @Override\r\n+    public void onBindViewHolder(ViewHolder holder, int position) {\r\n+        if (holder.holderId \u003d\u003d TYPE_CONTENT) {\r\n+            Setting setting \u003d mSettings.get(position);\r\n+\r\n+            if (setting.getTitle().length() \u003d\u003d 0) {\r\n+                holder.title.setVisibility(View.GONE);\r\n+                holder.divider.setVisibility(View.GONE);\r\n+                holder.container.setVisibility(View.VISIBLE);\r\n+\r\n+                holder.subtitle.setText(setting.getSubtitle());\r\n+\r\n+                if (setting.getContent().length() \u003d\u003d 0) {\r\n+                    holder.content.setVisibility(View.GONE);\r\n+                } else {\r\n+                    holder.content.setText(setting.getContent());\r\n+                    holder.content.setVisibility(View.VISIBLE);\r\n+                }\r\n+\r\n+                if (setting.getFooter().length() \u003d\u003d 0) {\r\n+                    holder.footer.setVisibility(View.GONE);\r\n+                } else {\r\n+                    holder.footer.setText(setting.getFooter());\r\n+                }\r\n+\r\n+                if (setting.getCheckState() \u003e\u003d 0) {\r\n+                    holder.checkBox.setVisibility(View.VISIBLE);\r\n+                    holder.checkBox.setChecked(setting.getCheckState() \u003d\u003d 1);\r\n+                } else {\r\n+                    holder.checkBox.setVisibility(View.GONE);\r\n+                }\r\n+            } else {\r\n+                holder.container.setVisibility(View.GONE);\r\n+                holder.title.setVisibility(View.VISIBLE);\r\n+                holder.title.setText(setting.getTitle());\r\n+\r\n+                if (position \u003e 0) {\r\n+                    holder.divider.setVisibility(View.VISIBLE);\r\n+                } else {\r\n+                    holder.divider.setVisibility(View.GONE);\r\n+                }\r\n+\r\n+                if (setting.getIcon() !\u003d -1) {\r\n+                    int color \u003d ColorHelper.getAttributeColor(mContext, android.R.attr.textColorPrimary);\r\n+                    holder.title.setCompoundDrawablesWithIntrinsicBounds(DrawableHelper.getTintedDrawable(\r\n+                            mContext, setting.getIcon(), color), null, null, null);\r\n+                }\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    @Override\r\n+    public int getItemCount() {\r\n+        return mSettings.size() + 1;\r\n+    }\r\n+\r\n+    @Override\r\n+    public int getItemViewType(int position) {\r\n+        if (position \u003d\u003d (getItemCount() - 1)) return TYPE_FOOTER;\r\n+        return TYPE_CONTENT;\r\n+    }\r\n+\r\n+    class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n+\r\n+        private TextView title;\r\n+        private TextView subtitle;\r\n+        private TextView content;\r\n+        private TextView footer;\r\n+        private LinearLayout container;\r\n+        private AppCompatCheckBox checkBox;\r\n+        private View divider;\r\n+\r\n+        private int holderId;\r\n+\r\n+        ViewHolder(View itemView, int viewType) {\r\n+            super(itemView);\r\n+            if (viewType \u003d\u003d TYPE_CONTENT) {\r\n+                title \u003d ButterKnife.findById(itemView, R.id.title);\r\n+                subtitle \u003d ButterKnife.findById(itemView, R.id.subtitle);\r\n+                content \u003d ButterKnife.findById(itemView, R.id.content);\r\n+                footer \u003d ButterKnife.findById(itemView, R.id.footer);\r\n+                checkBox \u003d ButterKnife.findById(itemView, R.id.checkbox);\r\n+                divider \u003d ButterKnife.findById(itemView, R.id.divider);\r\n+                container \u003d ButterKnife.findById(itemView, R.id.container);\r\n+                holderId \u003d TYPE_CONTENT;\r\n+\r\n+                container.setOnClickListener(this);\r\n+            } else if (viewType \u003d\u003d TYPE_FOOTER) {\r\n+                holderId \u003d TYPE_FOOTER;\r\n+            }\r\n+        }\r\n+\r\n+        @Override\r\n+        public void onClick(View view) {\r\n+            int id \u003d view.getId();\r\n+            if (id \u003d\u003d R.id.container) {\r\n+                int position \u003d getAdapterPosition();\r\n+\r\n+                if (position \u003c 0 || position \u003e mSettings.size()) return;\r\n+\r\n+                Setting setting \u003d mSettings.get(position);\r\n+                switch (setting.getType()) {\r\n+                    case CACHE:\r\n+                        new MaterialDialog.Builder(mContext)\r\n+                                .content(R.string.pref_data_cache_clear_dialog)\r\n+                                .positiveText(R.string.clear)\r\n+                                .negativeText(android.R.string.cancel)\r\n+                                .onPositive((dialog, which) -\u003e {\r\n+                                    try {\r\n+                                        File cache \u003d mContext.getCacheDir();\r\n+                                        FileHelper.clearCache(cache);\r\n+\r\n+                                        double size \u003d (double) FileHelper.getCacheSize(\r\n+                                                mContext.getCacheDir()) / FileHelper.MB;\r\n+                                        NumberFormat formatter \u003d new DecimalFormat(\"#0.00\");\r\n+\r\n+                                        setting.setFooter(String.format(mContext.getResources().getString(\r\n+                                                R.string.pref_data_cache_size),\r\n+                                                formatter.format(size) + \" MB\"));\r\n+                                        notifyItemChanged(position);\r\n+\r\n+                                        Toast.makeText(mContext, R.string.pref_data_cache_cleared,\r\n+                                                Toast.LENGTH_LONG).show();\r\n+                                    } catch (Exception e) {\r\n+                                        LogUtil.e(Log.getStackTraceString(e));\r\n+                                    }\r\n+                                })\r\n+                                .show();\r\n+                        break;\r\n+                    case THEME:\r\n+                        Preferences.getPreferences(mContext).setDarkTheme(!checkBox.isChecked());\r\n+                        ((AppCompatActivity) mContext).recreate();\r\n+                        break;\r\n+                }\r\n+            }\r\n+        }\r\n+    }\r\n+}\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/adapters/WallpapersAdapter.java",
          "patch": "@@ -21,6 +21,8 @@\n import android.widget.LinearLayout;\r\n import android.widget.TextView;\r\n \r\n+import com.danimahardhika.cafebar.CafeBar;\r\n+import com.danimahardhika.cafebar.CafeBarTheme;\r\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.activities.WallpaperBoardPreviewActivity;\r\n@@ -36,7 +38,8 @@\n import com.dm.wallpaper.board.utils.Extras;\r\n import com.dm.wallpaper.board.utils.ImageConfig;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperListener;\r\n-import com.dm.wallpaper.board.utils.views.WallpaperView;\r\n+import com.dm.wallpaper.board.utils.views.HeaderView;\r\n+\r\n import com.kogitune.activitytransition.ActivityTransitionLauncher;\r\n import com.nostra13.universalimageloader.core.DisplayImageOptions;\r\n import com.nostra13.universalimageloader.core.ImageLoader;\r\n@@ -103,7 +106,7 @@ public WallpapersAdapter(@NonNull Context context, @NonNull List\u003cWallpaper\u003e wall\n                 mContext.getResources().getDimensionPixelSize(R.dimen.default_image_padding));\r\n         mOptions \u003d ImageConfig.getRawDefaultImageOptions();\r\n         mOptions.resetViewBeforeLoading(true);\r\n-        mOptions.cacheInMemory(false);\r\n+        mOptions.cacheInMemory(true);\r\n         mOptions.cacheOnDisk(true);\r\n         mOptions.showImageForEmptyUri(failed);\r\n         mOptions.showImageOnFail(failed);\r\n@@ -181,7 +184,7 @@ public int getItemCount() {\n         @BindView(R2.id.container)\r\n         LinearLayout container;\r\n         @BindView(R2.id.image)\r\n-        WallpaperView image;\r\n+        HeaderView image;\r\n         @BindView(R2.id.name)\r\n         TextView name;\r\n         @BindView(R2.id.author)\r\n@@ -226,7 +229,7 @@ public void onClick(View view) {\n                                     fragment instanceof FavoritesFragment ||\r\n                                     fragment instanceof WallpaperSearchFragment) {\r\n                                 WallpaperListener listener \u003d (WallpaperListener) fragment;\r\n-                                listener.OnWallpaperSelected(position);\r\n+                                listener.onWallpaperSelected(position);\r\n                             }\r\n                         }\r\n                     }\r\n@@ -245,6 +248,18 @@ public void onClick(View view) {\n \r\n                 mWallpapers.get(position).setFavorite(!mWallpapers.get(position).isFavorite());\r\n                 setFavorite(favorite, name.getCurrentTextColor(), position);\r\n+\r\n+                CafeBar.builder(mContext)\r\n+                        .theme(new CafeBarTheme.Custom(ColorHelper.getAttributeColor(\r\n+                                mContext, R.attr.card_background)))\r\n+                        .fitSystemWindow(R.bool.view_fitsystemwindow)\r\n+                        .content(String.format(\r\n+                                mContext.getResources().getString(mWallpapers.get(position).isFavorite() ?\r\n+                                        R.string.wallpaper_favorite_added : R.string.wallpaper_favorite_removed),\r\n+                                mWallpapers.get(position).getName()))\r\n+                        .icon(mWallpapers.get(position).isFavorite() ?\r\n+                                R.drawable.ic_toolbar_love : R.drawable.ic_toolbar_unlove)\r\n+                        .build().show();\r\n             }\r\n         }\r\n \r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/applications/WallpaperBoardApplication.java",
          "patch": "@@ -7,6 +7,7 @@\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.activities.WallpaperBoardCrashReport;\r\n import com.dm.wallpaper.board.utils.ImageConfig;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.nostra13.universalimageloader.core.ImageLoader;\r\n \r\n import java.text.SimpleDateFormat;\r\n@@ -47,6 +48,9 @@ public void initApplication() {\n                 .setFontAttrId(R.attr.fontPath)\r\n                 .build());\r\n \r\n+        //Enable logging\r\n+        LogUtil.setLoggingEnabled(true);\r\n+\r\n         if (Patterns.EMAIL_ADDRESS.matcher(getResources().getString(R.string.dev_email)).matches()) {\r\n             mHandler \u003d Thread.getDefaultUncaughtExceptionHandler();\r\n             Thread.setDefaultUncaughtExceptionHandler(this::handleUncaughtException);\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/AboutFragment.java",
          "patch": "@@ -1,38 +1,22 @@\n package com.dm.wallpaper.board.fragments;\r\n \r\n-import android.content.ActivityNotFoundException;\r\n-import android.content.Intent;\r\n import android.content.res.Configuration;\r\n-import android.graphics.Color;\r\n-import android.net.Uri;\r\n+import android.os.Build;\r\n import android.os.Bundle;\r\n import android.support.annotation.Nullable;\r\n import android.support.v4.app.Fragment;\r\n import android.support.v4.view.ViewCompat;\r\n-import android.support.v4.widget.NestedScrollView;\r\n-import android.support.v7.widget.CardView;\r\n-import android.util.Log;\r\n+import android.support.v7.widget.DefaultItemAnimator;\r\n+import android.support.v7.widget.RecyclerView;\r\n+import android.support.v7.widget.StaggeredGridLayoutManager;\r\n import android.view.LayoutInflater;\r\n import android.view.View;\r\n import android.view.ViewGroup;\r\n-import android.webkit.URLUtil;\r\n-import android.widget.ImageView;\r\n-import android.widget.LinearLayout;\r\n-import android.widget.TextView;\r\n \r\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.R2;\r\n-import com.dm.wallpaper.board.fragments.dialogs.CreditsFragment;\r\n-import com.dm.wallpaper.board.fragments.dialogs.LicensesFragment;\r\n-import com.dm.wallpaper.board.helpers.ColorHelper;\r\n-import com.dm.wallpaper.board.helpers.DrawableHelper;\r\n+import com.dm.wallpaper.board.adapters.AboutAdapter;\r\n import com.dm.wallpaper.board.helpers.ViewHelper;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n-import com.dm.wallpaper.board.utils.ImageConfig;\r\n-import com.mikhaellopez.circularimageview.CircularImageView;\r\n-import com.nostra13.universalimageloader.core.ImageLoader;\r\n-\r\n-import org.sufficientlysecure.htmltextview.HtmlTextView;\r\n \r\n import butterknife.BindView;\r\n import butterknife.ButterKnife;\r\n@@ -55,36 +39,10 @@\n  * limitations under the License.\r\n  */\r\n \r\n-public class AboutFragment extends Fragment implements View.OnClickListener {\r\n-\r\n-    @BindView(R2.id.scrollview)\r\n-    NestedScrollView mScrollView;\r\n-    @BindView(R2.id.card_contributors)\r\n-    CardView mCardContributors;\r\n-    @BindView(R2.id.contributors)\r\n-    LinearLayout mContributors;\r\n-    @BindView(R2.id.contributors_icon)\r\n-    ImageView mContributorsIcon;\r\n-    @BindView(R2.id.licenses)\r\n-    LinearLayout mLicenses;\r\n-    @BindView(R2.id.licenses_icon)\r\n-    ImageView mLicensesIcon;\r\n-    @BindView(R2.id.image)\r\n-    ImageView mImageView;\r\n-    @BindView(R2.id.profile)\r\n-    CircularImageView mProfile;\r\n-    @BindView(R2.id.about_desc)\r\n-    HtmlTextView mAboutDesc;\r\n-    @BindView(R2.id.email)\r\n-    TextView mEmail;\r\n-    @BindView(R2.id.link1)\r\n-    TextView mLink1;\r\n-    @BindView(R2.id.link2)\r\n-    TextView mLink2;\r\n-    @BindView(R2.id.dev_google_plus)\r\n-    TextView mDevGooglePlus;\r\n-    @BindView(R2.id.dev_github)\r\n-    TextView mDevGitHub;\r\n+public class AboutFragment extends Fragment {\r\n+\r\n+    @BindView(R2.id.recyclerview)\r\n+    RecyclerView mRecyclerView;\r\n \r\n     @Nullable\r\n     @Override\r\n@@ -97,122 +55,48 @@ public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,\n     @Override\r\n     public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n         super.onActivityCreated(savedInstanceState);\r\n-        ViewCompat.setNestedScrollingEnabled(mScrollView, false);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mScrollView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n-\r\n-        initImageHeader();\r\n-        initProfileImage();\r\n-        initAbout();\r\n+        ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\r\n+        resetRecyclerViewPadding(getActivity().getResources().getConfiguration().orientation);\r\n \r\n-        int color \u003d ColorHelper.getAttributeColor(getActivity(), android.R.attr.textColorPrimary);\r\n-\r\n-        mLicensesIcon.setImageDrawable(DrawableHelper.getTintedDrawable(\r\n-                getActivity(), R.drawable.ic_toolbar_licenses, color));\r\n-\r\n-        if (getActivity().getResources().getBoolean(R.bool.show_contributors_dialog)) {\r\n-            mContributorsIcon.setImageDrawable(DrawableHelper.getTintedDrawable(\r\n-                    getActivity(), R.drawable.ic_toolbar_people, color));\r\n-            mContributors.setOnClickListener(this);\r\n-            mCardContributors.setVisibility(View.VISIBLE);\r\n-        }\r\n+        mRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n \r\n-        mLicenses.setOnClickListener(this);\r\n-\r\n-        mEmail.setOnClickListener(this);\r\n-        mLink1.setOnClickListener(this);\r\n-        mLink2.setOnClickListener(this);\r\n-        mDevGooglePlus.setOnClickListener(this);\r\n-        mDevGitHub.setOnClickListener(this);\r\n+        int spanCount \u003d getActivity().getResources().getInteger(R.integer.about_column_count);\r\n+        mRecyclerView.setLayoutManager(new StaggeredGridLayoutManager(\r\n+                spanCount, StaggeredGridLayoutManager.VERTICAL));\r\n+        mRecyclerView.setAdapter(new AboutAdapter(getActivity(), spanCount));\r\n     }\r\n \r\n     @Override\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mScrollView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n-    }\r\n+        resetRecyclerViewPadding(newConfig.orientation);\r\n \r\n-    @Override\r\n-    public void onClick(View view) {\r\n-        int id \u003d view.getId();\r\n-        if (id \u003d\u003d R.id.contributors) {\r\n-            CreditsFragment.showCreditsDialog(getActivity().getSupportFragmentManager(), Extras.TYPE_CONTRIBUTORS);\r\n-            return;\r\n-        } else if (id \u003d\u003d R.id.licenses) {\r\n-            LicensesFragment.showLicensesDialog(getActivity().getSupportFragmentManager());\r\n-            return;\r\n-        }\r\n+        ViewHelper.resetSpanCount(getActivity(), mRecyclerView, R.integer.about_column_count);\r\n \r\n-        Intent intent \u003d null;\r\n-        if (id \u003d\u003d R.id.email) {\r\n-            try {\r\n-                final Intent email \u003d new Intent(Intent.ACTION_SENDTO, Uri.fromParts(\r\n-                        \"mailto\", getActivity().getResources().getString(\r\n-                                R.string.about_email), null));\r\n-                email.putExtra(Intent.EXTRA_SUBJECT, (getActivity().getResources().getString(\r\n-                        R.string.app_name)));\r\n-                getActivity().startActivity(Intent.createChooser(email,\r\n-                        getActivity().getResources().getString(R.string.email_client)));\r\n-                return;\r\n-            }\r\n-            catch (ActivityNotFoundException e) {\r\n-                Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n-            }\r\n-            return;\r\n-        } else if (id \u003d\u003d R.id.link1) {\r\n-            intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(\r\n-                    getActivity().getResources().getString(R.string.about_link_1_url)));\r\n-        } else if (id \u003d\u003d R.id.link2) {\r\n-            intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(\r\n-                    getActivity().getResources().getString(R.string.about_link_2_url)));\r\n-        } else if (id \u003d\u003d R.id.dev_github) {\r\n-            intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(getActivity()\r\n-                    .getResources().getString(R.string.about_dashboard_dev_github_url)));\r\n-        } else if (id \u003d\u003d R.id.dev_google_plus) {\r\n-            intent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(getActivity()\r\n-                    .getResources().getString(R.string.about_dashboard_dev_google_plus_url)));\r\n-        }\r\n-\r\n-        try {\r\n-            getActivity().startActivity(intent);\r\n-        } catch (NullPointerException | ActivityNotFoundException e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n-        }\r\n-    }\r\n-\r\n-    private void initAbout() {\r\n-        String desc \u003d getActivity().getResources().getString(R.string.about_desc);\r\n-        mAboutDesc.setHtml(desc);\r\n-\r\n-        String email \u003d getActivity().getResources().getString(R.string.about_email);\r\n-        if (email.length() \u003d\u003d 0) mEmail.setVisibility(View.GONE);\r\n-        String link2 \u003d getActivity().getResources().getString(R.string.about_link_2_url);\r\n-        if (link2.length() \u003d\u003d 0) mLink2.setVisibility(View.GONE);\r\n+        StaggeredGridLayoutManager manager \u003d (StaggeredGridLayoutManager) mRecyclerView.getLayoutManager();\r\n+        mRecyclerView.setAdapter(new AboutAdapter(getActivity(), manager.getSpanCount()));\r\n     }\r\n \r\n-    private void initImageHeader() {\r\n-        String url \u003d getActivity().getString(R.string.about_image);\r\n-        if (ColorHelper.isValidColor(url)) {\r\n-            mImageView.setBackgroundColor(Color.parseColor(url));\r\n-            return;\r\n-        }\r\n+    private void resetRecyclerViewPadding(int orientation) {\r\n+        if (mRecyclerView \u003d\u003d null) return;\r\n \r\n-        if (!URLUtil.isValidUrl(url)) {\r\n-            url \u003d \"drawable://\" + DrawableHelper.getResourceId(getActivity(), url);\r\n+        int padding \u003d 0;\r\n+        int navBar \u003d 0;\r\n+        if (orientation \u003d\u003d Configuration.ORIENTATION_LANDSCAPE) {\r\n+            padding \u003d getActivity().getResources().getDimensionPixelSize(R.dimen.content_padding);\r\n+            navBar \u003d padding;\r\n         }\r\n \r\n-        ImageLoader.getInstance().displayImage(url, mImageView,\r\n-                ImageConfig.getDefaultImageOptions(true));\r\n-    }\r\n+        if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.LOLLIPOP) {\r\n+            boolean tabletMode \u003d getActivity().getResources().getBoolean(R.bool.tablet_mode);\r\n+            if (tabletMode || orientation \u003d\u003d Configuration.ORIENTATION_PORTRAIT) {\r\n+                navBar \u003d ViewHelper.getNavigationBarHeight(getActivity());\r\n+            }\r\n \r\n-    private void initProfileImage() {\r\n-        String url \u003d getActivity().getResources().getString(R.string.about_profile_image);\r\n-        if (!URLUtil.isValidUrl(url)) {\r\n-            url \u003d \"drawable://\" + DrawableHelper.getResourceId(getActivity(), url);\r\n+            navBar +\u003d ViewHelper.getStatusBarHeight(getContext());\r\n         }\r\n \r\n-        ImageLoader.getInstance().displayImage(url, mProfile,\r\n-                ImageConfig.getDefaultImageOptions(true));\r\n+        navBar +\u003d ViewHelper.getToolbarHeight(getActivity());\r\n+        mRecyclerView.setPadding(padding, padding, 0, navBar);\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/FavoritesFragment.java",
          "patch": "@@ -5,7 +5,6 @@\n import android.os.Bundle;\r\n import android.support.annotation.Nullable;\r\n import android.support.v4.app.Fragment;\r\n-import android.support.v4.view.ViewCompat;\r\n import android.support.v4.widget.SwipeRefreshLayout;\r\n import android.support.v7.widget.DefaultItemAnimator;\r\n import android.support.v7.widget.GridLayoutManager;\r\n@@ -21,9 +20,8 @@\n import com.dm.wallpaper.board.databases.Database;\r\n import com.dm.wallpaper.board.helpers.ViewHelper;\r\n import com.dm.wallpaper.board.items.Wallpaper;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperListener;\r\n-import com.pluscubed.recyclerfastscroll.RecyclerFastScroller;\r\n \r\n import java.util.ArrayList;\r\n import java.util.List;\r\n@@ -53,8 +51,6 @@\n \r\n     @BindView(R2.id.recyclerview)\r\n     RecyclerView mRecyclerView;\r\n-    @BindView(R2.id.fastscroll)\r\n-    RecyclerFastScroller mFastScroll;\r\n     @BindView(R2.id.swipe)\r\n     SwipeRefreshLayout mSwipe;\r\n \r\n@@ -71,16 +67,13 @@ public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,\n     @Override\r\n     public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n         super.onActivityCreated(savedInstanceState);\r\n-        ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mRecyclerView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, true);\r\n         mSwipe.setEnabled(false);\r\n \r\n         mRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n         mRecyclerView.setLayoutManager(new GridLayoutManager(getActivity(),\r\n-                getActivity().getResources().getInteger(R.integer.column_num)));\r\n+                getActivity().getResources().getInteger(R.integer.wallpapers_column_count)));\r\n         mRecyclerView.setHasFixedSize(false);\r\n-        mFastScroll.attachRecyclerView(mRecyclerView);\r\n \r\n         getWallpapers();\r\n     }\r\n@@ -89,7 +82,7 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n         ViewHelper.resetSpanCount(getActivity(), mRecyclerView);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mRecyclerView, newConfig.orientation);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, true);\r\n     }\r\n \r\n     @Override\r\n@@ -99,7 +92,7 @@ public void onDestroy() {\n     }\r\n \r\n     @Override\r\n-    public void OnWallpaperSelected(int position) {\r\n+    public void onWallpaperSelected(int position) {\r\n         if (mRecyclerView \u003d\u003d null) return;\r\n         if (position \u003c 0 || position \u003e mRecyclerView.getAdapter().getItemCount()) return;\r\n \r\n@@ -126,7 +119,7 @@ protected Boolean doInBackground(Void... voids) {\n                         wallpapers \u003d database.getFavoriteWallpapers();\r\n                         return true;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/SettingsFragment.java",
          "patch": "@@ -5,26 +5,26 @@\n import android.support.annotation.Nullable;\r\n import android.support.v4.app.Fragment;\r\n import android.support.v4.view.ViewCompat;\r\n-import android.support.v4.widget.NestedScrollView;\r\n-import android.support.v7.widget.AppCompatCheckBox;\r\n-import android.util.Log;\r\n+import android.support.v7.widget.DefaultItemAnimator;\r\n+import android.support.v7.widget.LinearLayoutManager;\r\n+import android.support.v7.widget.RecyclerView;\r\n import android.view.LayoutInflater;\r\n import android.view.View;\r\n import android.view.ViewGroup;\r\n-import android.widget.LinearLayout;\r\n-import android.widget.TextView;\r\n-import android.widget.Toast;\r\n \r\n-import com.afollestad.materialdialogs.MaterialDialog;\r\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.R2;\r\n+import com.dm.wallpaper.board.adapters.SettingsAdapter;\r\n+import com.dm.wallpaper.board.helpers.FileHelper;\r\n import com.dm.wallpaper.board.helpers.ViewHelper;\r\n+import com.dm.wallpaper.board.items.Setting;\r\n import com.dm.wallpaper.board.preferences.Preferences;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n \r\n import java.io.File;\r\n import java.text.DecimalFormat;\r\n import java.text.NumberFormat;\r\n+import java.util.ArrayList;\r\n+import java.util.List;\r\n \r\n import butterknife.BindView;\r\n import butterknife.ButterKnife;\r\n@@ -47,22 +47,10 @@\n  * limitations under the License.\r\n  */\r\n \r\n-public class SettingsFragment extends Fragment implements View.OnClickListener {\r\n+public class SettingsFragment extends Fragment {\r\n \r\n-    @BindView(R2.id.pref_cache_clear)\r\n-    LinearLayout mCacheClear;\r\n-    @BindView(R2.id.pref_cache_size)\r\n-    TextView mCacheSize;\r\n-    @BindView(R2.id.pref_dark_theme)\r\n-    LinearLayout mDarkTheme;\r\n-    @BindView(R2.id.pref_dark_theme_check)\r\n-    AppCompatCheckBox mDarkThemeCheck;\r\n-    @BindView(R2.id.pref_walls_directory)\r\n-    TextView mWallsDirectory;\r\n-    @BindView(R2.id.scrollview)\r\n-    NestedScrollView mScrollView;\r\n-\r\n-    private File mCache;\r\n+    @BindView(R2.id.recyclerview)\r\n+    RecyclerView mRecyclerView;\r\n \r\n     @Nullable\r\n     @Override\r\n@@ -75,91 +63,60 @@ public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,\n     @Override\r\n     public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n         super.onActivityCreated(savedInstanceState);\r\n-        ViewCompat.setNestedScrollingEnabled(mScrollView, false);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mScrollView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n-        mCacheClear.setOnClickListener(this);\r\n-        mDarkTheme.setOnClickListener(this);\r\n+        ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, false);\r\n \r\n-        if (Preferences.getPreferences(getActivity()).getWallsDirectory().length() \u003e 0) {\r\n-            String directory \u003d Preferences.getPreferences(\r\n-                    getActivity()).getWallsDirectory() + File.separator;\r\n-            mWallsDirectory.setText(directory);\r\n-        }\r\n+        mRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n+        mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n \r\n         initSettings();\r\n     }\r\n \r\n     @Override\r\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mScrollView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n-    }\r\n-\r\n-    @Override\r\n-    public void onClick(View view) {\r\n-        int id \u003d view.getId();\r\n-        if (id \u003d\u003d R.id.pref_cache_clear) {\r\n-            new MaterialDialog.Builder(getActivity())\r\n-                    .title(R.string.pref_data_cache)\r\n-                    .content(R.string.pref_data_cache_clear_dialog)\r\n-                    .positiveText(R.string.clear)\r\n-                    .negativeText(android.R.string.cancel)\r\n-                    .onPositive((dialog, which) -\u003e {\r\n-                        try {\r\n-                            clearCache(mCache);\r\n-                            initSettings();\r\n-\r\n-                            Toast.makeText(getActivity(), getActivity()\r\n-                                            .getResources().getString(\r\n-                                            R.string.pref_data_cache_cleared),\r\n-                                    Toast.LENGTH_LONG).show();\r\n-                        } catch (Exception e) {\r\n-                            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n-                        }\r\n-                    })\r\n-                    .show();\r\n-        } else if (id \u003d\u003d R.id.pref_dark_theme) {\r\n-            Preferences.getPreferences(getActivity()).setDarkTheme(!mDarkThemeCheck.isChecked());\r\n-            mDarkThemeCheck.setChecked(!mDarkThemeCheck.isChecked());\r\n-            getActivity().recreate();\r\n-        }\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, false);\r\n     }\r\n \r\n     private void initSettings() {\r\n-        mCache \u003d new File(getActivity().getCacheDir().toString());\r\n+        List\u003cSetting\u003e settings \u003d new ArrayList\u003c\u003e();\r\n \r\n-        double cache \u003d (double) cacheSize(mCache)/1024/1024;\r\n+        double cache \u003d (double) FileHelper.getCacheSize(getActivity().getCacheDir()) / FileHelper.MB;\r\n         NumberFormat formatter \u003d new DecimalFormat(\"#0.00\");\r\n-        String cacheSize \u003d getActivity().getResources().getString(\r\n-                R.string.pref_data_cache_size)\r\n-                +\" \"+ (formatter.format(cache)) + \" MB\";\r\n \r\n-        mCacheSize.setText(cacheSize);\r\n-        mDarkThemeCheck.setChecked(Preferences.getPreferences(getActivity()).isDarkTheme());\r\n-    }\r\n+        settings.add(new Setting(R.drawable.ic_toolbar_storage,\r\n+                getActivity().getResources().getString(R.string.pref_data_header),\r\n+                \"\", \"\", \"\", Setting.Type.HEADER, -1));\r\n \r\n-    private void clearCache(File fileOrDirectory) {\r\n-        if (fileOrDirectory.isDirectory())\r\n-            for (File child : fileOrDirectory.listFiles())\r\n-                clearCache(child);\r\n-        fileOrDirectory.delete();\r\n-    }\r\n+        settings.add(new Setting(-1, \"\",\r\n+                getActivity().getResources().getString(R.string.pref_data_cache),\r\n+                getActivity().getResources().getString(R.string.pref_data_cache_desc),\r\n+                String.format(getActivity().getResources().getString(R.string.pref_data_cache_size),\r\n+                        formatter.format(cache) + \" MB\"),\r\n+                Setting.Type.CACHE, -1));\r\n+\r\n+        settings.add(new Setting(R.drawable.ic_toolbar_theme,\r\n+                getActivity().getResources().getString(R.string.pref_theme_header),\r\n+                \"\", \"\", \"\", Setting.Type.HEADER, -1));\r\n+\r\n+        settings.add(new Setting(-1, \"\",\r\n+                getActivity().getResources().getString(R.string.pref_theme_dark),\r\n+                getActivity().getResources().getString(R.string.pref_theme_dark_desc),\r\n+                \"\", Setting.Type.THEME, Preferences.getPreferences(getActivity()).isDarkTheme() ? 1 : 0));\r\n+\r\n+        settings.add(new Setting(R.drawable.ic_toolbar_wallpapers,\r\n+                getActivity().getResources().getString(R.string.pref_wallpaper_header),\r\n+                \"\", \"\", \"\", Setting.Type.HEADER, -1));\r\n \r\n-    private long cacheSize(File dir) {\r\n-        if (dir.exists()) {\r\n-            long result \u003d 0;\r\n-            File[] fileList \u003d dir.listFiles();\r\n-            for (File aFileList : fileList) {\r\n-                if (aFileList.isDirectory()) {\r\n-                    result +\u003d cacheSize(aFileList);\r\n-                } else {\r\n-                    result +\u003d aFileList.length();\r\n-                }\r\n-            }\r\n-            return result;\r\n+        String directory \u003d getActivity().getResources().getString(R.string.pref_wallpaper_location_desc);\r\n+        if (Preferences.getPreferences(getActivity()).getWallsDirectory().length() \u003e 0) {\r\n+            directory \u003d Preferences.getPreferences(getActivity()).getWallsDirectory() + File.separator;\r\n         }\r\n-        return 0;\r\n+\r\n+        settings.add(new Setting(-1, \"\",\r\n+                getActivity().getResources().getString(R.string.pref_wallpaper_location),\r\n+                directory, \"\", Setting.Type.WALLPAPER, -1));\r\n+\r\n+        mRecyclerView.setAdapter(new SettingsAdapter(getActivity(), settings));\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/WallpaperSearchFragment.java",
          "patch": "@@ -33,9 +33,8 @@\n import com.dm.wallpaper.board.helpers.SoftKeyboardHelper;\r\n import com.dm.wallpaper.board.helpers.ViewHelper;\r\n import com.dm.wallpaper.board.items.Wallpaper;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperListener;\r\n-import com.pluscubed.recyclerfastscroll.RecyclerFastScroller;\r\n \r\n import java.util.ArrayList;\r\n import java.util.List;\r\n@@ -65,8 +64,6 @@\n \r\n     @BindView(R2.id.recyclerview)\r\n     RecyclerView mRecyclerView;\r\n-    @BindView(R2.id.fastscroll)\r\n-    RecyclerFastScroller mFastScroll;\r\n     @BindView(R2.id.swipe)\r\n     SwipeRefreshLayout mSwipe;\r\n     @BindView(R2.id.search_result)\r\n@@ -89,15 +86,13 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);\r\n         setHasOptionsMenu(true);\r\n         ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mRecyclerView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, false);\r\n         mSwipe.setEnabled(false);\r\n \r\n         mRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n         mRecyclerView.setLayoutManager(new GridLayoutManager(getActivity(),\r\n-                getActivity().getResources().getInteger(R.integer.column_num)));\r\n+                getActivity().getResources().getInteger(R.integer.wallpapers_column_count)));\r\n         mRecyclerView.setHasFixedSize(false);\r\n-        mFastScroll.attachRecyclerView(mRecyclerView);\r\n \r\n         getWallpapers();\r\n     }\r\n@@ -107,7 +102,7 @@ public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n         super.onCreateOptionsMenu(menu, inflater);\r\n         inflater.inflate(R.menu.menu_wallpaper_search, menu);\r\n         MenuItem search \u003d menu.findItem(R.id.menu_search);\r\n-        int color \u003d ColorHelper.getAttributeColor(getActivity(), R.attr.search_toolbar_icon);\r\n+        int color \u003d ColorHelper.getAttributeColor(getActivity(), R.attr.toolbar_icon);\r\n         search.setIcon(DrawableHelper.getTintedDrawable(getActivity(),\r\n                 R.drawable.ic_toolbar_search, color));\r\n \r\n@@ -121,7 +116,7 @@ public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n         mSearchView.clearFocus();\r\n \r\n         ViewHelper.changeSearchViewTextColor(mSearchView, color,\r\n-                ColorHelper.getAttributeColor(getActivity(), R.attr.search_toolbar_hint));\r\n+                ColorHelper.setColorAlpha(color, 0.6f));\r\n         View view \u003d mSearchView.findViewById(android.support.v7.appcompat.R.id.search_plate);\r\n         if (view !\u003d null) view.setBackgroundColor(Color.TRANSPARENT);\r\n \r\n@@ -153,7 +148,7 @@ public boolean onQueryTextSubmit(String string) {\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n         ViewHelper.resetSpanCount(getActivity(), mRecyclerView);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mRecyclerView, newConfig.orientation);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, false);\r\n     }\r\n \r\n     @Override\r\n@@ -163,7 +158,7 @@ public void onDestroy() {\n     }\r\n \r\n     @Override\r\n-    public void OnWallpaperSelected(int position) {\r\n+    public void onWallpaperSelected(int position) {\r\n         if (mAdapter \u003d\u003d null) return;\r\n         if (position \u003c 0 || position \u003e mAdapter.getItemCount()) return;\r\n \r\n@@ -181,7 +176,7 @@ private void filterSearch(String query) {\n             }\r\n             else mSearchResult.setVisibility(View.GONE);\r\n         } catch (Exception e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n         }\r\n     }\r\n \r\n@@ -205,7 +200,7 @@ protected Boolean doInBackground(Void... voids) {\n                         wallpapers \u003d database.getFilteredWallpapers();\r\n                         return true;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/WallpapersFragment.java",
          "patch": "@@ -11,7 +11,6 @@\n import android.support.v4.app.FragmentTransaction;\r\n import android.support.v4.content.ContextCompat;\r\n import android.support.v4.view.MenuItemCompat;\r\n-import android.support.v4.view.ViewCompat;\r\n import android.support.v4.widget.SwipeRefreshLayout;\r\n import android.support.v7.widget.DefaultItemAnimator;\r\n import android.support.v7.widget.GridLayoutManager;\r\n@@ -41,10 +40,10 @@\n import com.dm.wallpaper.board.utils.Animator;\r\n import com.dm.wallpaper.board.utils.Extras;\r\n import com.dm.wallpaper.board.utils.ListUtils;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.SearchListener;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperBoardListener;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperListener;\r\n-import com.pluscubed.recyclerfastscroll.RecyclerFastScroller;\r\n import com.rafakob.drawme.DrawMeButton;\r\n \r\n import java.io.InputStream;\r\n@@ -78,8 +77,6 @@\n \r\n     @BindView(R2.id.recyclerview)\r\n     RecyclerView mRecyclerView;\r\n-    @BindView(R2.id.fastscroll)\r\n-    RecyclerFastScroller mFastScroll;\r\n     @BindView(R2.id.swipe)\r\n     SwipeRefreshLayout mSwipe;\r\n     @BindView(R2.id.progress)\r\n@@ -99,18 +96,15 @@ public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,\n     @Override\r\n     public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n         super.onActivityCreated(savedInstanceState);\r\n-        ViewCompat.setNestedScrollingEnabled(mRecyclerView, false);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mRecyclerView,\r\n-                getActivity().getResources().getConfiguration().orientation);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, true);\r\n \r\n         mProgress.getIndeterminateDrawable().setColorFilter(ColorHelper.getAttributeColor(\r\n                 getActivity(), R.attr.colorAccent), PorterDuff.Mode.SRC_IN);\r\n \r\n         mRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n         mRecyclerView.setLayoutManager(new GridLayoutManager(getActivity(),\r\n-                getActivity().getResources().getInteger(R.integer.column_num)));\r\n+                getActivity().getResources().getInteger(R.integer.wallpapers_column_count)));\r\n         mRecyclerView.setHasFixedSize(false);\r\n-        mFastScroll.attachRecyclerView(mRecyclerView);\r\n \r\n         mSwipe.setColorSchemeColors(ColorHelper.getAttributeColor(\r\n                 getActivity(), R.attr.colorAccent));\r\n@@ -129,7 +123,7 @@ public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n     public void onConfigurationChanged(Configuration newConfig) {\r\n         super.onConfigurationChanged(newConfig);\r\n         ViewHelper.resetSpanCount(getActivity(), mRecyclerView);\r\n-        ViewHelper.resetNavigationBarBottomPadding(getActivity(), mRecyclerView, newConfig.orientation);\r\n+        ViewHelper.resetViewBottomPadding(mRecyclerView, true);\r\n     }\r\n \r\n     @Override\r\n@@ -146,7 +140,7 @@ public boolean onMenuItemActionExpand(MenuItem item) {\n \r\n                 setHasOptionsMenu(false);\r\n                 SearchListener listener \u003d (SearchListener) getActivity();\r\n-                listener.OnSearchExpanded(true);\r\n+                listener.onSearchExpanded(true);\r\n \r\n                 FragmentTransaction ft \u003d fm.beginTransaction()\r\n                         .replace(R.id.container, new WallpaperSearchFragment(),\r\n@@ -184,7 +178,7 @@ public void onDestroy() {\n     }\r\n \r\n     @Override\r\n-    public void OnWallpaperSelected(int position) {\r\n+    public void onWallpaperSelected(int position) {\r\n         if (mAdapter \u003d\u003d null) return;\r\n         if (position \u003c 0 || position \u003e mAdapter.getItemCount()) return;\r\n \r\n@@ -204,7 +198,7 @@ public void initPopupBubble() {\n                 Animator.startAlphaAnimation(getActivity().findViewById(R.id.popup_bubble), 200, View.GONE);\r\n                 getWallpapers(true);\r\n             });\r\n-            Animator.startSlideDownAnimation(getActivity(), popupBubble, null);\r\n+            Animator.startSlideDownAnimation(popupBubble, View.VISIBLE);\r\n         }\r\n     }\r\n \r\n@@ -297,7 +291,7 @@ protected Boolean doInBackground(Void... voids) {\n                         }\r\n                         return false;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -315,7 +309,7 @@ protected void onPostExecute(Boolean aBoolean) {\n                     mRecyclerView.setAdapter(mAdapter);\r\n \r\n                     WallpaperBoardListener listener \u003d (WallpaperBoardListener) getActivity();\r\n-                    listener.OnWallpapersChecked(new Intent().putExtra(Extras.EXTRA_SIZE,\r\n+                    listener.onWallpapersChecked(new Intent().putExtra(Extras.EXTRA_SIZE,\r\n                             Preferences.getPreferences(getActivity()).getAvailableWallpapersCount()));\r\n                 } else {\r\n                     Toast.makeText(getActivity(), R.string.connection_failed, Toast.LENGTH_LONG).show();\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/CreditsFragment.java",
          "patch": "@@ -18,6 +18,8 @@\n import com.dm.wallpaper.board.adapters.CreditsAdapter;\r\n import com.dm.wallpaper.board.items.Credit;\r\n import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n+\r\n import org.xmlpull.v1.XmlPullParser;\r\n \r\n import java.util.ArrayList;\r\n@@ -46,6 +48,13 @@\n \r\n public class CreditsFragment extends DialogFragment {\r\n \r\n+    @BindView(R2.id.listview)\r\n+    ListView mListView;\r\n+\r\n+    private int mType;\r\n+\r\n+    private AsyncTask\u003cVoid, Void, Boolean\u003e mGetCredits;\r\n+\r\n     private static final String TAG \u003d \"com.field.guide.dialog.credits\";\r\n \r\n     private static CreditsFragment newInstance(int type) {\r\n@@ -69,13 +78,6 @@ public static void showCreditsDialog(FragmentManager fm, int type) {\n         } catch (IllegalStateException | IllegalArgumentException ignored) {}\r\n     }\r\n \r\n-    @BindView(R2.id.listview)\r\n-    ListView mListView;\r\n-\r\n-    private int mType;\r\n-\r\n-    private AsyncTask\u003cVoid, Void, Boolean\u003e mGetCredits;\r\n-\r\n     @Override\r\n     public void onCreate(@Nullable Bundle savedInstanceState) {\r\n         super.onCreate(savedInstanceState);\r\n@@ -163,7 +165,7 @@ protected Boolean doInBackground(Void... voids) {\n                         }\r\n                         return true;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -182,5 +184,4 @@ protected void onPostExecute(Boolean aBoolean) {\n             }\r\n         }.execute();\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/FilterFragment.java",
          "patch": "@@ -45,6 +45,9 @@\n \r\n public class FilterFragment extends DialogFragment {\r\n \r\n+    @BindView(R2.id.listview)\r\n+    ListView listView;\r\n+\r\n     private boolean mIsMuzei;\r\n \r\n     private static final String MUZEI \u003d \"muzei\";\r\n@@ -71,9 +74,6 @@ public static void showFilterDialog(FragmentManager fm, boolean isMuzei) {\n         } catch (IllegalArgumentException | IllegalStateException ignored) {}\r\n     }\r\n \r\n-    @BindView(R2.id.listview)\r\n-    ListView listView;\r\n-\r\n     @NonNull\r\n     @Override\r\n     public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n@@ -102,6 +102,8 @@ public void onActivityCreated(Bundle savedInstanceState) {\n \r\n     @Override\r\n     public void onDismiss(DialogInterface dialog) {\r\n+        if (getActivity() \u003d\u003d null) return;\r\n+\r\n         FragmentManager fm \u003d getActivity().getSupportFragmentManager();\r\n         if (fm \u003d\u003d null) return;\r\n \r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/InAppBillingFragment.java",
          "patch": "@@ -20,11 +20,16 @@\n import com.anjlab.android.iab.v3.BillingProcessor;\r\n import com.anjlab.android.iab.v3.SkuDetails;\r\n import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.adapters.InAppBillingAdapter;\r\n import com.dm.wallpaper.board.items.InAppBilling;\r\n import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.InAppBillingListener;\r\n \r\n+import butterknife.BindView;\r\n+import butterknife.ButterKnife;\r\n+\r\n /*\r\n  * Wallpaper Board\r\n  *\r\n@@ -45,6 +50,17 @@\n \r\n public class InAppBillingFragment extends DialogFragment {\r\n \r\n+    @BindView(R2.id.inapp_list)\r\n+    ListView mListView;\r\n+    @BindView(R2.id.progress)\r\n+    ProgressBar mProgress;\r\n+\r\n+    private String mKey;\r\n+    private String[] mProductsId;\r\n+\r\n+    private InAppBillingAdapter mAdapter;\r\n+    private AsyncTask\u003cVoid, Void, Boolean\u003e mLoadInAppProducts;\r\n+\r\n     private static BillingProcessor mBillingProcessor;\r\n \r\n     private static final String TAG \u003d \"com.dm.wallpaper.board.dialog.inappbilling\";\r\n@@ -73,15 +89,6 @@ public static void showInAppBillingDialog(@NonNull FragmentManager fm, BillingPr\n         } catch (IllegalArgumentException | IllegalStateException ignored) {}\r\n     }\r\n \r\n-    private ListView mInAppList;\r\n-    private ProgressBar mProgress;\r\n-\r\n-    private String mKey;\r\n-    private String[] mProductsId;\r\n-\r\n-    private InAppBillingAdapter mAdapter;\r\n-    private AsyncTask\u003cVoid, Void, Boolean\u003e mLoadInAppProducts;\r\n-\r\n     @Override\r\n     public void onCreate(@Nullable Bundle savedInstanceState) {\r\n         super.onCreate(savedInstanceState);\r\n@@ -101,7 +108,7 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n                     if (mLoadInAppProducts \u003d\u003d null) {\r\n                         try {\r\n                             InAppBillingListener listener \u003d (InAppBillingListener) getActivity();\r\n-                            listener.OnInAppBillingSelected(mAdapter.getSelectedProduct());\r\n+                            listener.onInAppBillingSelected(mAdapter.getSelectedProduct());\r\n                         } catch (Exception ignored) {}\r\n                         dismiss();\r\n                     }\r\n@@ -112,8 +119,7 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n         dialog.show();\r\n         setCancelable(false);\r\n \r\n-        mInAppList \u003d (ListView) dialog.findViewById(R.id.inapp_list);\r\n-        mProgress \u003d (ProgressBar) dialog.findViewById(R.id.progress);\r\n+        ButterKnife.bind(this, dialog);\r\n         return dialog;\r\n     }\r\n \r\n@@ -179,7 +185,7 @@ protected Boolean doInBackground(Void... voids) {\n                         }\r\n                         return true;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -192,7 +198,7 @@ protected void onPostExecute(Boolean aBoolean) {\n                 mProgress.setVisibility(View.GONE);\r\n                 if (aBoolean) {\r\n                     mAdapter \u003d new InAppBillingAdapter(getActivity(), inAppBillings);\r\n-                    mInAppList.setAdapter(mAdapter);\r\n+                    mListView.setAdapter(mAdapter);\r\n                 } else {\r\n                     dismiss();\r\n                     if (!isBillingNotReady)\r\n@@ -204,5 +210,4 @@ protected void onPostExecute(Boolean aBoolean) {\n \r\n         }.execute();\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/LicensesFragment.java",
          "patch": "@@ -15,12 +15,14 @@\n \r\n import com.afollestad.materialdialogs.MaterialDialog;\r\n import com.dm.wallpaper.board.R;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.R2;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n \r\n import java.io.BufferedReader;\r\n import java.io.InputStream;\r\n import java.io.InputStreamReader;\r\n \r\n+import butterknife.BindView;\r\n import butterknife.ButterKnife;\r\n \r\n /*\r\n@@ -43,6 +45,11 @@\n \r\n public class LicensesFragment extends DialogFragment {\r\n \r\n+    @BindView(R2.id.webview)\r\n+    WebView mWebView;\r\n+\r\n+    private AsyncTask\u003cVoid, Void, Boolean\u003e mLoadLicenses;\r\n+\r\n     private static final String TAG \u003d \"com.dm.wallpaper.board.dialog.licenses\";\r\n \r\n     private static LicensesFragment newInstance() {\r\n@@ -62,10 +69,6 @@ public static void showLicensesDialog(FragmentManager fm) {\n         } catch (IllegalStateException | IllegalArgumentException ignored) {}\r\n     }\r\n \r\n-    private WebView mWebView;\r\n-\r\n-    private AsyncTask\u003cVoid, Void, Boolean\u003e mLoadLicenses;\r\n-\r\n     @NonNull\r\n     @Override\r\n     public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n@@ -75,7 +78,7 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n         MaterialDialog dialog \u003d builder.build();\r\n         dialog.show();\r\n \r\n-        mWebView \u003d ButterKnife.findById(dialog, R.id.webview);\r\n+        ButterKnife.bind(this, dialog);\r\n         return dialog;\r\n     }\r\n \r\n@@ -120,7 +123,7 @@ protected Boolean doInBackground(Void... voids) {\n                         bufferedReader.close();\r\n                         return true;\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -140,7 +143,6 @@ protected void onPostExecute(Boolean aBoolean) {\n \r\n         }.execute();\r\n     }\r\n-\r\n }\r\n \r\n \r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/RefreshDurationFragment.java",
          "patch": "@@ -19,7 +19,7 @@\n import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.helpers.ColorHelper;\r\n import com.dm.wallpaper.board.helpers.DrawableHelper;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.RefreshDurationListener;\r\n \r\n import butterknife.BindView;\r\n@@ -45,6 +45,16 @@\n \r\n public class RefreshDurationFragment extends DialogFragment implements View.OnClickListener {\r\n \r\n+    @BindView(R2.id.number_picker)\r\n+    NumberPicker mNumberPicker;\r\n+    @BindView(R2.id.minute)\r\n+    AppCompatRadioButton mMinute;\r\n+    @BindView(R2.id.hour)\r\n+    AppCompatRadioButton mHour;\r\n+\r\n+    private int mRotateTime;\r\n+    private boolean mIsMinute;\r\n+\r\n     private static final String MINUTE \u003d \"minute\";\r\n     private static final String ROTATE_TIME \u003d \"rotate_time\";\r\n     private static final String TAG \u003d \"com.dm.wallpaper.board.dialog.refresh.duration\";\r\n@@ -71,16 +81,6 @@ public static void showRefreshDurationDialog(FragmentManager fm, int rotateTime,\n         } catch (IllegalStateException | IllegalArgumentException ignored) {}\r\n     }\r\n \r\n-    @BindView(R2.id.number_picker)\r\n-    NumberPicker mNumberPicker;\r\n-    @BindView(R2.id.minute)\r\n-    AppCompatRadioButton mMinute;\r\n-    @BindView(R2.id.hour)\r\n-    AppCompatRadioButton mHour;\r\n-\r\n-    private int mRotateTime;\r\n-    private boolean mIsMinute;\r\n-\r\n     @NonNull\r\n     @Override\r\n     public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n@@ -120,7 +120,7 @@ public void onActivityCreated(Bundle savedInstanceState) {\n     @Override\r\n     public void onDismiss(DialogInterface dialog) {\r\n         RefreshDurationListener listener \u003d (RefreshDurationListener) getActivity();\r\n-        listener.OnRefreshDurationSet(mNumberPicker.getValue(), mMinute.isChecked());\r\n+        listener.onRefreshDurationSet(mNumberPicker.getValue(), mMinute.isChecked());\r\n         super.onDismiss(dialog);\r\n     }\r\n \r\n@@ -146,7 +146,7 @@ private void setDividerColor (NumberPicker picker) {\n                     pf.set(picker, DrawableHelper.getTintedDrawable(\r\n                             getActivity(), R.drawable.numberpicker_divider, color));\r\n                 } catch (Exception e) {\r\n-                    Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                    LogUtil.e(Log.getStackTraceString(e));\r\n                 }\r\n                 break;\r\n             }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/WallpaperOptionsFragment.java",
          "patch": "@@ -16,7 +16,9 @@\n \r\n import com.afollestad.materialdialogs.MaterialDialog;\r\n import com.danimahardhika.cafebar.CafeBar;\r\n+import com.danimahardhika.cafebar.CafeBarTheme;\r\n import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.helpers.ColorHelper;\r\n import com.dm.wallpaper.board.helpers.DrawableHelper;\r\n import com.dm.wallpaper.board.helpers.FileHelper;\r\n@@ -26,6 +28,9 @@\n \r\n import java.io.File;\r\n \r\n+import butterknife.BindView;\r\n+import butterknife.ButterKnife;\r\n+\r\n /*\r\n  * Wallpaper Board\r\n  *\r\n@@ -46,6 +51,18 @@\n \r\n public class WallpaperOptionsFragment extends DialogFragment implements View.OnClickListener {\r\n \r\n+    @BindView(R2.id.apply)\r\n+    LinearLayout mApply;\r\n+    @BindView(R2.id.save)\r\n+    LinearLayout mSave;\r\n+    @BindView(R2.id.apply_icon)\r\n+    ImageView mApplyIcon;\r\n+    @BindView(R2.id.save_icon)\r\n+    ImageView mSaveIcon;\r\n+\r\n+    private String mName;\r\n+    private String mUrl;\r\n+\r\n     private static final String TAG \u003d \"com.dm.wallpaper.board.dialog.wallpaper.options\";\r\n \r\n     private static WallpaperOptionsFragment newInstance(String url, String name) {\r\n@@ -70,14 +87,6 @@ public static void showWallpaperOptionsDialog(FragmentManager fm, String url, St\n         } catch (IllegalArgumentException | IllegalStateException ignored) {}\r\n     }\r\n \r\n-    private LinearLayout mApply;\r\n-    private LinearLayout mSave;\r\n-    private ImageView mApplyIcon;\r\n-    private ImageView mSaveIcon;\r\n-\r\n-    private String mName;\r\n-    private String mUrl;\r\n-\r\n     @NonNull\r\n     @Override\r\n     public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n@@ -86,10 +95,7 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n         MaterialDialog dialog \u003d builder.build();\r\n         dialog.show();\r\n \r\n-        mApply \u003d (LinearLayout) dialog.findViewById(R.id.apply);\r\n-        mSave \u003d (LinearLayout) dialog.findViewById(R.id.save);\r\n-        mApplyIcon \u003d (ImageView) dialog.findViewById(R.id.apply_icon);\r\n-        mSaveIcon \u003d (ImageView) dialog.findViewById(R.id.save_icon);\r\n+        ButterKnife.bind(this, dialog);\r\n         return dialog;\r\n     }\r\n \r\n@@ -144,10 +150,9 @@ public void onClick(View view) {\n                 if (target.exists()) {\r\n                     Context context \u003d getActivity();\r\n                     CafeBar.builder(getActivity())\r\n+                            .theme(new CafeBarTheme.Custom(ColorHelper.getAttributeColor(getActivity(), R.attr.card_background)))\r\n                             .autoDismiss(false)\r\n-                            .swipeToDismiss(false)\r\n-                            .floating(true)\r\n-                            .fitSystemWindow(true)\r\n+                            .fitSystemWindow(R.bool.view_fitsystemwindow)\r\n                             .maxLines(4)\r\n                             .content(String.format(getResources().getString(R.string.wallpaper_download_exist),\r\n                                     (\"\\\"\" +mName + FileHelper.IMAGE_EXTENSION+ \"\\\"\")))\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/fragments/dialogs/WallpaperSettingsFragment.java",
          "patch": "@@ -15,8 +15,12 @@\n \r\n import com.afollestad.materialdialogs.MaterialDialog;\r\n import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.R2;\r\n import com.dm.wallpaper.board.preferences.Preferences;\r\n \r\n+import butterknife.BindView;\r\n+import butterknife.ButterKnife;\r\n+\r\n /*\r\n  * Wallpaper Board\r\n  *\r\n@@ -37,8 +41,18 @@\n \r\n public class WallpaperSettingsFragment extends DialogFragment implements View.OnClickListener {\r\n \r\n+    @BindView(R2.id.enable_scroll_radio)\r\n+    AppCompatRadioButton mEnableScrollRadio;\r\n+    @BindView(R2.id.disable_scroll_radio)\r\n+    AppCompatRadioButton mDisableScrollRadio;\r\n+    @BindView(R2.id.enable_scroll)\r\n+    LinearLayout mEnableScroll;\r\n+    @BindView(R2.id.disable_scroll)\r\n+    LinearLayout mDisableScroll;\r\n+\r\n     private static final String TAG \u003d \"com.dm.wallpaper.board.dialog.wallpaper.settings\";\r\n \r\n+    @NonNull\r\n     private static WallpaperSettingsFragment newInstance() {\r\n         return new WallpaperSettingsFragment();\r\n     }\r\n@@ -56,11 +70,6 @@ public static void showWallpaperSettings(FragmentManager fm) {\n         } catch (IllegalStateException | IllegalArgumentException ignored) {}\r\n     }\r\n \r\n-    private AppCompatRadioButton mEnableScrollRadio;\r\n-    private AppCompatRadioButton mDisableScrollRadio;\r\n-    private LinearLayout mEnableScroll;\r\n-    private LinearLayout mDisableScroll;\r\n-\r\n     @NonNull\r\n     @Override\r\n     public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n@@ -71,10 +80,7 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n         MaterialDialog dialog \u003d builder.build();\r\n         dialog.show();\r\n \r\n-        mEnableScrollRadio \u003d (AppCompatRadioButton) dialog.findViewById(R.id.enable_scroll_radio);\r\n-        mDisableScrollRadio \u003d (AppCompatRadioButton) dialog.findViewById(R.id.disable_scroll_radio);\r\n-        mEnableScroll \u003d (LinearLayout) dialog.findViewById(R.id.enable_scroll);\r\n-        mDisableScroll \u003d (LinearLayout) dialog.findViewById(R.id.disable_scroll);\r\n+        ButterKnife.bind(this, dialog);\r\n         return dialog;\r\n     }\r\n \r\n@@ -108,5 +114,4 @@ private void toggleRadio() {\n         mEnableScrollRadio.setChecked(scroll);\r\n         mDisableScrollRadio.setChecked(!scroll);\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/ColorHelper.java",
          "patch": "@@ -84,20 +84,20 @@ public static int setColorAlpha(@ColorInt int color, float alpha) {\n         return Color.argb(alpha2, red, green, blue);\r\n     }\r\n \r\n-    public static ColorStateList getColorStateList(int attr, @ColorInt int color, @ColorInt int color2) {\r\n+    public static ColorStateList getColorStateList(@ColorInt int color) {\r\n         int[][] states \u003d new int[][] {\r\n-                new int[] {attr},\r\n+                new int[] {android.R.attr.state_pressed},\r\n                 new int[] {}\r\n         };\r\n         int[] colors \u003d new int[] {\r\n-                color,\r\n-                color2\r\n+                ColorHelper.getDarkerColor(color, 0.9f),\r\n+                color\r\n         };\r\n         return new ColorStateList(states, colors);\r\n     }\r\n \r\n     private static boolean isLightToolbar(@NonNull Context context) {\r\n-        int color \u003d getAttributeColor(context, R.attr.toolbar_color);\r\n+        int color \u003d getAttributeColor(context, R.attr.colorPrimary);\r\n         int red \u003d Color.red(color);\r\n         int green \u003d Color.green(color);\r\n         int blue \u003d Color.blue(color);\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/ContextHelper.java",
          "patch": "@@ -0,0 +1,36 @@\n+package com.dm.wallpaper.board.helpers;\r\n+\r\n+import android.content.Context;\r\n+import android.support.annotation.NonNull;\r\n+import android.support.v7.view.ContextThemeWrapper;\r\n+import android.view.View;\r\n+\r\n+/*\r\n+ * Wallpaper Board\r\n+ *\r\n+ * Copyright (c) 2017 Dani Mahardhika\r\n+ *\r\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+ * you may not use this file except in compliance with the License.\r\n+ * You may obtain a copy of the License at\r\n+ *\r\n+ *      http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+public class ContextHelper {\r\n+\r\n+    @NonNull\r\n+    public static Context getBaseContext(@NonNull View view) {\r\n+        Context context \u003d view.getContext();\r\n+        if (context instanceof ContextThemeWrapper) {\r\n+            context \u003d ((ContextThemeWrapper) view.getContext()).getBaseContext();\r\n+        }\r\n+        return context;\r\n+    }\r\n+}\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/CrashReportHelper.java",
          "patch": "@@ -10,7 +10,7 @@\n \r\n import com.dm.wallpaper.board.BuildConfig;\r\n import com.dm.wallpaper.board.R;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n \r\n import java.io.BufferedWriter;\r\n import java.io.File;\r\n@@ -53,7 +53,7 @@ public static String buildCrashLog(@NonNull Context context, @NonNull File folde\n \r\n             return fileDir.toString();\r\n         } catch (Exception | OutOfMemoryError e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n         }\r\n         return null;\r\n     }\r\n@@ -88,5 +88,4 @@ public static String getDeviceInfoForCrashReport(@NonNull Context context) {\n                 \"\\nApp Name : \" +context.getResources().getString(R.string.app_name)\r\n                 + \"\\n\"+ getDeviceInfo(context);\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/DrawableHelper.java",
          "patch": "@@ -86,5 +86,4 @@ public static Drawable getTintedDrawable(@NonNull Context context, @DrawableRes\n             return null;\r\n         }\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/FileHelper.java",
          "patch": "@@ -7,7 +7,8 @@\n import android.support.v4.content.FileProvider;\r\n import android.util.Log;\r\n \r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n+\r\n import java.io.File;\r\n import java.io.FileInputStream;\r\n import java.io.FileOutputStream;\r\n@@ -35,6 +36,31 @@\n public class FileHelper {\r\n \r\n     public static final String IMAGE_EXTENSION \u003d \".jpeg\";\r\n+    public static final int MB \u003d (1024 * 1014);\r\n+    public static final int KB \u003d 1024;\r\n+\r\n+    public static long getCacheSize(@NonNull File dir) {\r\n+        if (dir.exists()) {\r\n+            long result \u003d 0;\r\n+            File[] fileList \u003d dir.listFiles();\r\n+            for (File aFileList : fileList) {\r\n+                if (aFileList.isDirectory()) {\r\n+                    result +\u003d getCacheSize(aFileList);\r\n+                } else {\r\n+                    result +\u003d aFileList.length();\r\n+                }\r\n+            }\r\n+            return result;\r\n+        }\r\n+        return 0;\r\n+    }\r\n+\r\n+    public static void clearCache(@NonNull File cache) {\r\n+        if (cache.isDirectory())\r\n+            for (File child : cache.listFiles())\r\n+                clearCache(child);\r\n+        cache.delete();\r\n+    }\r\n \r\n     static boolean copyFile(@NonNull File file, @NonNull File target) {\r\n         try {\r\n@@ -56,7 +82,7 @@ static boolean copyFile(@NonNull File file, @NonNull File target) {\n             outputStream.close();\r\n             return true;\r\n         } catch (Exception e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n         }\r\n         return false;\r\n     }\r\n@@ -66,7 +92,7 @@ public static Uri getUriFromFile(Context context, String applicationId, File fil\n         try {\r\n             return FileProvider.getUriForFile(context, applicationId + \".fileProvider\", file);\r\n         } catch (IllegalArgumentException e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n         }\r\n         return null;\r\n     }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/InAppBillingHelper.java",
          "patch": "@@ -37,7 +37,7 @@ public InAppBillingHelper(@NonNull Context context) {\n     @Override\r\n     public void onProductPurchased(String productId, TransactionDetails details) {\r\n         InAppBillingListener listener \u003d (InAppBillingListener) mContext;\r\n-        listener.OnInAppBillingConsume(productId);\r\n+        listener.onInAppBillingConsume(productId);\r\n     }\r\n \r\n     @Override\r\n@@ -49,13 +49,13 @@ public void onPurchaseHistoryRestored() {\n     public void onBillingError(int errorCode, Throwable error) {\r\n         if (errorCode \u003d\u003d Constants.BILLING_ERROR_FAILED_TO_INITIALIZE_PURCHASE) {\r\n             InAppBillingListener listener \u003d (InAppBillingListener) mContext;\r\n-            listener.OnInAppBillingInitialized(false);\r\n+            listener.onInAppBillingInitialized(false);\r\n         }\r\n     }\r\n \r\n     @Override\r\n     public void onBillingInitialized() {\r\n         InAppBillingListener listener \u003d (InAppBillingListener) mContext;\r\n-        listener.OnInAppBillingInitialized(true);\r\n+        listener.onInAppBillingInitialized(true);\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/LicenseHelper.java",
          "patch": "@@ -5,13 +5,12 @@\n import android.provider.Settings.Secure;\r\n import android.support.annotation.NonNull;\r\n import android.support.v7.app.AppCompatActivity;\r\n-import android.util.Log;\r\n import android.widget.Toast;\r\n \r\n import com.afollestad.materialdialogs.MaterialDialog;\r\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.preferences.Preferences;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.google.android.vending.licensing.AESObfuscator;\r\n import com.google.android.vending.licensing.LicenseChecker;\r\n import com.google.android.vending.licensing.LicenseCheckerCallback;\r\n@@ -41,6 +40,7 @@\n     private final Context mContext;\r\n     private MaterialDialog mDialog;\r\n \r\n+    @NonNull\r\n     public static LicenseHelper getLicenseChecker(@NonNull Context context) {\r\n         return new LicenseHelper(context);\r\n     }\r\n@@ -61,7 +61,7 @@ public void checkLicense(String licenseKey, byte[] salt) {\n             checker.checkAccess(this);\r\n             getDialog().show();\r\n         } else {\r\n-            Log.d(Extras.LOG_TAG, \"Unable to check license, random bytes is wrong!\");\r\n+            LogUtil.e(\"Unable to check license, random bytes is wrong!\");\r\n         }\r\n     }\r\n \r\n@@ -124,7 +124,7 @@ private void showLicenseDialog(int reason) {\n                 .content(message)\r\n                 .positiveText(R.string.close)\r\n                 .onPositive((dialog, which) -\u003e {\r\n-                    OnLicenseChecked(reason);\r\n+                    onLicenseChecked(reason);\r\n                     dialog.dismiss();\r\n                 })\r\n                 .cancelable(false)\r\n@@ -143,7 +143,7 @@ private void showRetryDialog() {\n                 .show();\r\n     }\r\n \r\n-    private void OnLicenseChecked(int reason) {\r\n+    private void onLicenseChecked(int reason) {\r\n         Preferences.getPreferences(mContext).setFirstRun(false);\r\n         if (reason \u003d\u003d Policy.LICENSED) {\r\n             Preferences.getPreferences(mContext).setLicensed(true);\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/MuzeiHelper.java",
          "patch": "@@ -76,5 +76,4 @@ private int getRandomInt(int size) {\n             return 0;\r\n         }\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/PermissionHelper.java",
          "patch": "@@ -56,5 +56,4 @@ public static void requestStoragePermission(@NonNull Context context) {\n     public static void showPermissionStorageDenied(@NonNull Context context) {\r\n         Toast.makeText(context, R.string.permission_storage_denied, Toast.LENGTH_LONG).show();\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/SoftKeyboardHelper.java",
          "patch": "@@ -47,7 +47,7 @@ public static void openKeyboard(@NonNull Context context) {\n         }\r\n     }\r\n \r\n-/*\r\n+    /*\r\n      * This code was taken from https://github.com/mikepenz/MaterialDrawer/issues/95#issuecomment-80519589\r\n      */\r\n \r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/ViewHelper.java",
          "patch": "@@ -4,23 +4,20 @@\n import android.content.Context;\r\n import android.content.res.Configuration;\r\n import android.content.res.Resources;\r\n+import android.content.res.TypedArray;\r\n import android.graphics.Bitmap;\r\n import android.graphics.Color;\r\n import android.graphics.Point;\r\n-import android.graphics.drawable.ColorDrawable;\r\n-import android.graphics.drawable.Drawable;\r\n-import android.graphics.drawable.TransitionDrawable;\r\n import android.os.Build;\r\n-import android.support.annotation.AttrRes;\r\n+import android.support.annotation.IntegerRes;\r\n import android.support.annotation.NonNull;\r\n import android.support.annotation.Nullable;\r\n-import android.support.design.widget.AppBarLayout;\r\n-import android.support.design.widget.CollapsingToolbarLayout;\r\n import android.support.design.widget.CoordinatorLayout;\r\n-import android.support.v4.view.ViewCompat;\r\n import android.support.v7.app.AppCompatActivity;\r\n import android.support.v7.widget.GridLayoutManager;\r\n import android.support.v7.widget.RecyclerView;\r\n+import android.support.v7.widget.StaggeredGridLayoutManager;\r\n+import android.support.v7.widget.Toolbar;\r\n import android.util.Log;\r\n import android.util.TypedValue;\r\n import android.view.Display;\r\n@@ -32,7 +29,7 @@\n import android.widget.TextView;\r\n \r\n import com.dm.wallpaper.board.R;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.nostra13.universalimageloader.core.ImageLoader;\r\n \r\n /*\r\n@@ -55,13 +52,56 @@\n \r\n public class ViewHelper {\r\n \r\n+    public static void setupToolbar(@NonNull Toolbar toolbar, boolean adjustHeight) {\r\n+        if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.LOLLIPOP) {\r\n+            Context context \u003d ContextHelper.getBaseContext(toolbar);\r\n+            int statusBarSize \u003d ViewHelper.getStatusBarHeight(context);\r\n+            toolbar.setPadding(\r\n+                    toolbar.getPaddingLeft(),\r\n+                    toolbar.getPaddingTop() + statusBarSize,\r\n+                    toolbar.getPaddingRight(),\r\n+                    toolbar.getPaddingBottom()\r\n+            );\r\n+\r\n+            if (adjustHeight) {\r\n+                toolbar.getLayoutParams().height \u003d getToolbarHeight(context) + statusBarSize;\r\n+            }\r\n+        }\r\n+    }\r\n+\r\n+    public static int getToolbarHeight(@NonNull Context context) {\r\n+        TypedValue typedValue \u003d new TypedValue();\r\n+        int[] actionBarSize \u003d new int[] { R.attr.actionBarSize };\r\n+        int indexOfAttrTextSize \u003d 0;\r\n+        TypedArray a \u003d context.obtainStyledAttributes(typedValue.data, actionBarSize);\r\n+        int size \u003d a.getDimensionPixelSize(indexOfAttrTextSize, -1);\r\n+        a.recycle();\r\n+        return size;\r\n+    }\r\n+\r\n     public static void resetSpanCount(@NonNull Context context, @NonNull RecyclerView recyclerView) {\r\n         try {\r\n             GridLayoutManager manager \u003d (GridLayoutManager) recyclerView.getLayoutManager();\r\n-            manager.setSpanCount(context.getResources().getInteger(R.integer.column_num));\r\n+            manager.setSpanCount(context.getResources().getInteger(R.integer.wallpapers_column_count));\r\n             manager.requestLayout();\r\n         } catch (Exception e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n+        }\r\n+    }\r\n+\r\n+    public static void resetSpanCount(@NonNull Context context, @NonNull RecyclerView recyclerView, @IntegerRes int res) {\r\n+        try {\r\n+            if (recyclerView.getLayoutManager() instanceof GridLayoutManager) {\r\n+                GridLayoutManager manager \u003d (GridLayoutManager) recyclerView.getLayoutManager();\r\n+                manager.setSpanCount(context.getResources().getInteger(res));\r\n+                manager.requestLayout();\r\n+            } else if (recyclerView.getLayoutManager() instanceof StaggeredGridLayoutManager) {\r\n+                StaggeredGridLayoutManager manager \u003d (StaggeredGridLayoutManager) recyclerView.getLayoutManager();\r\n+                manager.setSpanCount(context.getResources().getInteger(res));\r\n+                manager.requestLayout();\r\n+            }\r\n+        } catch (Exception e) {\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n         }\r\n     }\r\n \r\n@@ -87,45 +127,73 @@ public static void disableTranslucentNavigationBar(@NonNull Context context) {\n         }\r\n     }\r\n \r\n-    public static void resetNavigationBarBottomPadding(@NonNull Context context, @Nullable View view,\r\n-                                                       int orientation) {\r\n+    public static void resetViewBottomPadding(@Nullable View view, boolean scroll) {\r\n+        if (view \u003d\u003d null) return;\r\n+\r\n+        Context context \u003d ContextHelper.getBaseContext(view);\r\n+        int orientation \u003d context.getResources().getConfiguration().orientation;\r\n+\r\n+        int left \u003d view.getPaddingLeft();\r\n+        int right \u003d view.getPaddingRight();\r\n+        int bottom \u003d view.getPaddingBottom();\r\n+        int top \u003d view.getPaddingTop();\r\n+        int navBar \u003d 0;\r\n+\r\n         if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.LOLLIPOP) {\r\n-            if (view !\u003d null) {\r\n-                int left \u003d view.getPaddingLeft();\r\n-                int right \u003d view.getPaddingRight();\r\n-                int bottom \u003d view.getPaddingBottom();\r\n-                int top \u003d view.getPaddingTop();\r\n-                int navBar \u003d getNavigationBarHeight(context);\r\n-\r\n-                if (bottom \u003e navBar) bottom -\u003d navBar;\r\n-                boolean tabletMode \u003d context.getResources().getBoolean(R.bool.tablet_mode);\r\n-\r\n-                if (tabletMode || orientation \u003d\u003d Configuration.ORIENTATION_PORTRAIT) {\r\n-                    view.setPadding(left, top, right, (bottom + navBar));\r\n-                    return;\r\n-                }\r\n+            boolean tabletMode \u003d context.getResources().getBoolean(R.bool.tablet_mode);\r\n+            if (tabletMode || orientation \u003d\u003d Configuration.ORIENTATION_PORTRAIT) {\r\n+                navBar \u003d getNavigationBarHeight(context);\r\n+            }\r\n \r\n-                view.setPadding(left, top, right, bottom);\r\n+            if (!scroll) {\r\n+                navBar +\u003d ViewHelper.getStatusBarHeight(context);\r\n             }\r\n         }\r\n+\r\n+        if (bottom \u003e navBar) bottom -\u003d getNavigationBarHeight(context);\r\n+        if (!scroll) {\r\n+            navBar +\u003d ViewHelper.getToolbarHeight(context);\r\n+        }\r\n+        view.setPadding(left, top, right, (bottom + navBar));\r\n     }\r\n \r\n-    public static void disableAppBarDrag(@Nullable AppBarLayout appBar) {\r\n-        if (appBar !\u003d null) {\r\n-            if (ViewCompat.isLaidOut(appBar)) {\r\n-                CoordinatorLayout.LayoutParams params \u003d (CoordinatorLayout.LayoutParams)\r\n-                        appBar.getLayoutParams();\r\n-                AppBarLayout.Behavior behavior \u003d (AppBarLayout.Behavior) params.getBehavior();\r\n-                if (behavior !\u003d null) {\r\n-                    behavior.setDragCallback(new AppBarLayout.Behavior.DragCallback() {\r\n-                        @Override\r\n-                        public boolean canDrag(@NonNull AppBarLayout appBarLayout) {\r\n-                            return false;\r\n-                        }\r\n-                    });\r\n-                }\r\n+    public static void resetViewBottomMargin(@Nullable View view) {\r\n+        if (view \u003d\u003d null) return;\r\n+\r\n+        Context context \u003d ContextHelper.getBaseContext(view);\r\n+        int orientation \u003d context.getResources().getConfiguration().orientation;\r\n+\r\n+        if (!(view.getLayoutParams() instanceof CoordinatorLayout.LayoutParams))\r\n+            return;\r\n+\r\n+        CoordinatorLayout.LayoutParams params \u003d (CoordinatorLayout.LayoutParams) view.getLayoutParams();\r\n+        int left \u003d params.leftMargin;\r\n+        int right \u003d params.rightMargin;\r\n+        int bottom \u003d params.bottomMargin;\r\n+        int top \u003d params.topMargin;\r\n+        int bottomNavBar \u003d 0;\r\n+        int rightNavBar \u003d 0;\r\n+\r\n+        if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.LOLLIPOP) {\r\n+            boolean tabletMode \u003d context.getResources().getBoolean(R.bool.tablet_mode);\r\n+            if (tabletMode || orientation \u003d\u003d Configuration.ORIENTATION_PORTRAIT) {\r\n+                bottomNavBar \u003d getNavigationBarHeight(context);\r\n+            } else {\r\n+                rightNavBar \u003d getNavigationBarHeight(context);\r\n             }\r\n         }\r\n+\r\n+        int navBar \u003d getNavigationBarHeight(context);\r\n+        if ((bottom \u003e bottomNavBar) \u0026\u0026 ((bottom - navBar) \u003e 0))\r\n+            bottom -\u003d navBar;\r\n+        if ((right \u003e rightNavBar) \u0026\u0026 ((right - navBar) \u003e 0))\r\n+            right -\u003d navBar;\r\n+\r\n+        params.setMargins(left, top, (right + rightNavBar), (bottom + bottomNavBar));\r\n+        if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n+            params.setMarginEnd((right + rightNavBar));\r\n+        }\r\n+        view.setLayoutParams(params);\r\n     }\r\n \r\n     public static int getStatusBarHeight(@NonNull Context context) {\r\n@@ -183,7 +251,7 @@ public static void setApplicationWindowColor(@NonNull Context context) {\n         if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.LOLLIPOP) {\r\n             TypedValue typedValue \u003d new TypedValue();\r\n             Resources.Theme theme \u003d context.getTheme();\r\n-            theme.resolveAttribute(R.attr.toolbar_color, typedValue, true);\r\n+            theme.resolveAttribute(R.attr.colorPrimary, typedValue, true);\r\n             Bitmap bitmap \u003d ImageLoader.getInstance().loadImageSync(\"drawable://\"\r\n                     +DrawableHelper.getResourceId(context, \"icon\"));\r\n             ((AppCompatActivity) context).setTaskDescription(new ActivityManager.TaskDescription (\r\n@@ -224,21 +292,4 @@ public static void removeSearchViewSearchIcon(@Nullable View view) {\n             }\r\n         }\r\n     }\r\n-\r\n-    public static void changeSearchViewActionModeColor(@NonNull Context context, @Nullable View view,\r\n-                                                       @AttrRes int original, @AttrRes int target) {\r\n-        if (view !\u003d null) {\r\n-            CollapsingToolbarLayout collapsingToolbar \u003d (CollapsingToolbarLayout) view;\r\n-            int originalColor \u003d ColorHelper.getAttributeColor(context, original);\r\n-            int targetColor \u003d ColorHelper.getAttributeColor(context, target);\r\n-\r\n-            ColorDrawable cd1 \u003d new ColorDrawable(originalColor);\r\n-            ColorDrawable cd2 \u003d new ColorDrawable(targetColor);\r\n-\r\n-            TransitionDrawable td \u003d new TransitionDrawable(new Drawable[]{cd1, cd2});\r\n-            collapsingToolbar.setContentScrim(td);\r\n-            td.startTransition(200);\r\n-        }\r\n-    }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/helpers/WallpaperHelper.java",
          "patch": "@@ -21,16 +21,19 @@\n import android.support.v7.app.AppCompatActivity;\r\n import android.util.Log;\r\n import android.view.View;\r\n+import android.view.Window;\r\n+import android.view.WindowManager;\r\n import android.widget.Toast;\r\n \r\n import com.afollestad.materialdialogs.MaterialDialog;\r\n import com.danimahardhika.cafebar.CafeBar;\r\n import com.danimahardhika.cafebar.CafeBarDuration;\r\n+import com.danimahardhika.cafebar.CafeBarTheme;\r\n import com.dm.wallpaper.board.R;\r\n import com.dm.wallpaper.board.activities.WallpaperBoardActivity;\r\n import com.dm.wallpaper.board.preferences.Preferences;\r\n-import com.dm.wallpaper.board.utils.Extras;\r\n import com.dm.wallpaper.board.utils.ImageConfig;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.nostra13.universalimageloader.core.ImageLoader;\r\n import com.nostra13.universalimageloader.core.assist.FailReason;\r\n import com.nostra13.universalimageloader.core.assist.ImageSize;\r\n@@ -181,7 +184,7 @@ protected Boolean doInBackground(Void... voids) {\n                             return true;\r\n                         }\r\n                     } catch (Exception e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -217,9 +220,6 @@ protected void onPostExecute(Boolean aBoolean) {\n                 super.onPostExecute(aBoolean);\r\n                 dialog.dismiss();\r\n                 if (aBoolean) {\r\n-                    if (Preferences.getPreferences(context).getWallsDirectory().length() \u003d\u003d 0)\r\n-                        Preferences.getPreferences(context).setWallsDirectory(output.toString());\r\n-\r\n                     context.sendBroadcast(new Intent(\r\n                             Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, Uri.fromFile(\r\n                             new File(file.toString()))));\r\n@@ -235,17 +235,19 @@ protected void onPostExecute(Boolean aBoolean) {\n         }.execute();\r\n     }\r\n \r\n-    private static void wallpaperSaved(@NonNull Context context, @ColorInt int color, @NonNull File file) {\r\n+    private static void wallpaperSaved(@Nullable Context context, @ColorInt int color, @NonNull File file) {\r\n+        if (context \u003d\u003d null) return;\r\n+\r\n         String downloaded \u003d context.getResources().getString(\r\n                 R.string.wallpaper_downloaded);\r\n-        View rootView \u003d ((AppCompatActivity) context).getWindow().getDecorView().findViewById(R.id.rootview);\r\n+\r\n+        if (Preferences.getPreferences(context).getWallsDirectory().length() \u003d\u003d 0)\r\n+            Preferences.getPreferences(context).setWallsDirectory(file.getParent());\r\n \r\n         CafeBar.Builder builder \u003d new CafeBar.Builder(context);\r\n-        builder.to(rootView)\r\n-                .duration(CafeBarDuration.LONG.getDuration())\r\n+        builder.theme(new CafeBarTheme.Custom(ColorHelper.getAttributeColor(context, R.attr.card_background)))\r\n+                .duration(CafeBarDuration.MEDIUM.getDuration())\r\n                 .maxLines(4)\r\n-                .floating(true)\r\n-                .swipeToDismiss(false)\r\n                 .content(downloaded + \" \" + file.toString())\r\n                 .icon(R.drawable.ic_toolbar_download)\r\n                 .neutralText(R.string.open)\r\n@@ -263,8 +265,15 @@ private static void wallpaperSaved(@NonNull Context context, @ColorInt int color\n                     cafeBar.dismiss();\r\n                 });\r\n \r\n-        if (rootView \u003d\u003d null) {\r\n+        Window window \u003d ((AppCompatActivity) context).getWindow();\r\n+        WindowManager.LayoutParams params \u003d window.getAttributes();\r\n+        int flags \u003d params.flags;\r\n+\r\n+        if ((flags \u0026 WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION) \u003d\u003d\r\n+                WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION) {\r\n             builder.fitSystemWindow(true);\r\n+        } else {\r\n+            builder.fitSystemWindow(R.bool.view_fitsystemwindow);\r\n         }\r\n \r\n         CafeBar cafeBar \u003d builder.build();\r\n@@ -332,21 +341,21 @@ public static void applyWallpaper(@NonNull Context context, @Nullable RectF rect\n         String imageUri \u003d getWallpaperUri(context, url, name + FileHelper.IMAGE_EXTENSION);\r\n \r\n         ImageSize imageSize \u003d getScaledSize(context, url);\r\n-        loadBitmap(context, dialog, 1, imageUri, rectF, imageSize.getWidth(), imageSize.getHeight());\r\n+        loadBitmap(context, dialog, 1, imageUri, rectF, imageSize);\r\n     }\r\n \r\n     private static void loadBitmap(Context context, MaterialDialog dialog, int call, String imageUri,\r\n-                                   RectF rectF, int width, int height) {\r\n+                                   RectF rectF, ImageSize imageSize) {\r\n         final AsyncTask\u003cBitmap, Void, Boolean\u003e setWallpaper \u003d getWallpaperAsync(\r\n-                context, dialog, rectF, width, height);\r\n+                context, dialog, rectF);\r\n \r\n         dialog.setOnDismissListener(dialogInterface -\u003e {\r\n             ImageLoader.getInstance().stop();\r\n             setWallpaper.cancel(true);\r\n         });\r\n \r\n         ImageLoader.getInstance().handleSlowNetwork(true);\r\n-        ImageLoader.getInstance().loadImage(imageUri, new ImageSize(width, height),\r\n+        ImageLoader.getInstance().loadImage(imageUri, imageSize,\r\n                 ImageConfig.getWallpaperOptions(), new ImageLoadingListener() {\r\n \r\n                     @Override\r\n@@ -362,11 +371,11 @@ public void onLoadingFailed(String imageUri, View view, FailReason failReason) {\n                         if (failReason.getType() \u003d\u003d FailReason.FailType.OUT_OF_MEMORY) {\r\n                             if (call \u003c\u003d 5) {\r\n                                 double scaleFactor \u003d 1 - (0.1 * call);\r\n-                                int scaledWidth \u003d Double.valueOf(width * scaleFactor).intValue();\r\n-                                int scaledHeight \u003d Double.valueOf(height * scaleFactor).intValue();\r\n+                                int scaledWidth \u003d Double.valueOf(imageSize.getWidth() * scaleFactor).intValue();\r\n+                                int scaledHeight \u003d Double.valueOf(imageSize.getHeight() * scaleFactor).intValue();\r\n \r\n                                 RectF scaledRecF \u003d getScaledRectF(rectF, (float) scaleFactor);\r\n-                                loadBitmap(context, dialog, (call + 1), imageUri, scaledRecF, scaledWidth, scaledHeight);\r\n+                                loadBitmap(context, dialog, (call + 1), imageUri, scaledRecF, new ImageSize(scaledWidth, scaledHeight));\r\n                                 return;\r\n                             }\r\n                         }\r\n@@ -393,7 +402,7 @@ public void onLoadingCancelled(String imageUri, View view) {\n     }\r\n \r\n     private static AsyncTask\u003cBitmap, Void, Boolean\u003e getWallpaperAsync(@NonNull Context context, MaterialDialog dialog,\r\n-                                                                      RectF rectF, int width, int height) {\r\n+                                                                      RectF rectF) {\r\n         return new AsyncTask\u003cBitmap, Void, Boolean\u003e() {\r\n \r\n             @Override\r\n@@ -406,11 +415,21 @@ protected Boolean doInBackground(Bitmap... bitmaps) {\n                             Bitmap bitmap \u003d bitmaps[0];\r\n \r\n                             if (!Preferences.getPreferences(context).isScrollWallpaper() \u0026\u0026 rectF !\u003d null) {\r\n-                                bitmap \u003d Bitmap.createBitmap(width, height, bitmaps[0].getConfig());\r\n+                                Point point \u003d ViewHelper.getRealScreenSize(context);\r\n+\r\n+                                int targetWidth \u003d Double.valueOf(\r\n+                                        ((double) bitmaps[0].getHeight() / (double) point.y)\r\n+                                                * (double) point.x).intValue();\r\n+\r\n+                                bitmap \u003d Bitmap.createBitmap(\r\n+                                        targetWidth,\r\n+                                        bitmaps[0].getHeight(),\r\n+                                        bitmaps[0].getConfig());\r\n                                 Paint paint \u003d new Paint();\r\n                                 paint.setFilterBitmap(true);\r\n                                 paint.setAntiAlias(true);\r\n                                 paint.setDither(true);\r\n+\r\n                                 Canvas canvas \u003d new Canvas(bitmap);\r\n                                 canvas.drawBitmap(bitmaps[0], null, rectF, paint);\r\n                             }\r\n@@ -424,7 +443,7 @@ protected Boolean doInBackground(Bitmap... bitmaps) {\n                         }\r\n                         return false;\r\n                     } catch (Exception | OutOfMemoryError e) {\r\n-                        Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+                        LogUtil.e(Log.getStackTraceString(e));\r\n                         return false;\r\n                     }\r\n                 }\r\n@@ -443,8 +462,12 @@ protected void onPostExecute(Boolean aBoolean) {\n                 super.onPostExecute(aBoolean);\r\n                 dialog.dismiss();\r\n                 if (aBoolean) {\r\n-                    Toast.makeText(context, R.string.wallpaper_applied,\r\n-                            Toast.LENGTH_LONG).show();\r\n+                    CafeBar.builder(context)\r\n+                            .theme(new CafeBarTheme.Custom(ColorHelper.getAttributeColor(\r\n+                                    context, R.attr.card_background)))\r\n+                            .fitSystemWindow(R.bool.view_fitsystemwindow)\r\n+                            .content(R.string.wallpaper_applied)\r\n+                            .build().show();\r\n                 } else {\r\n                     Toast.makeText(context, R.string.wallpaper_apply_failed,\r\n                             Toast.LENGTH_LONG).show();\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/items/Setting.java",
          "patch": "@@ -0,0 +1,95 @@\n+package com.dm.wallpaper.board.items;\r\n+\r\n+import android.support.annotation.DrawableRes;\r\n+import android.support.annotation.IntRange;\r\n+import android.support.annotation.NonNull;\r\n+\r\n+/*\r\n+ * Wallpaper Board\r\n+ *\r\n+ * Copyright (c) 2017 Dani Mahardhika\r\n+ *\r\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+ * you may not use this file except in compliance with the License.\r\n+ * You may obtain a copy of the License at\r\n+ *\r\n+ *      http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+public class Setting {\r\n+\r\n+    private final int mIcon;\r\n+    private final String mTitle;\r\n+    private final String mSubtitle;\r\n+    private final String mContent;\r\n+    private String mFooter;\r\n+    private final Setting.Type mType;\r\n+    private final int mCheckState;\r\n+\r\n+    public Setting(@DrawableRes int icon, String title, String subtitle, String content, String footer,\r\n+                   @NonNull Setting.Type type, @IntRange(from \u003d -1, to \u003d 1) int checkState) {\r\n+        mIcon \u003d icon;\r\n+        mTitle \u003d title;\r\n+        mSubtitle \u003d subtitle;\r\n+        mContent \u003d content;\r\n+        mFooter \u003d footer;\r\n+        mType \u003d type;\r\n+        mCheckState \u003d checkState;\r\n+    }\r\n+\r\n+    @DrawableRes\r\n+    public int getIcon() {\r\n+        return mIcon;\r\n+    }\r\n+\r\n+    public String getTitle() {\r\n+        return mTitle;\r\n+    }\r\n+\r\n+    public String getSubtitle() {\r\n+        return mSubtitle;\r\n+    }\r\n+\r\n+    public String getContent() {\r\n+        return mContent;\r\n+    }\r\n+\r\n+    public String getFooter() {\r\n+        return mFooter;\r\n+    }\r\n+\r\n+    public Setting.Type getType() {\r\n+        return mType;\r\n+    }\r\n+\r\n+    public int getCheckState() {\r\n+        return mCheckState;\r\n+    }\r\n+\r\n+    public void setFooter(String footer) {\r\n+        mFooter \u003d footer;\r\n+    }\r\n+\r\n+   public enum Type {\r\n+       HEADER(0),\r\n+       CACHE(1),\r\n+       THEME(2),\r\n+       WALLPAPER(3);\r\n+\r\n+       private final int mType;\r\n+\r\n+       Type(int type) {\r\n+           mType \u003d type;\r\n+       }\r\n+\r\n+       public int getType() {\r\n+           return mType;\r\n+       }\r\n+   }\r\n+}\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/items/WallpaperJson.java",
          "patch": "@@ -26,19 +26,19 @@\n @JsonObject\r\n public class WallpaperJson {\r\n \r\n-    @JsonField(name \u003d \"name\")\r\n+    @JsonField\r\n     public String name;\r\n \r\n-    @JsonField(name \u003d \"author\")\r\n+    @JsonField\r\n     public String author;\r\n \r\n-    @JsonField(name \u003d \"url\")\r\n+    @JsonField\r\n     public String url;\r\n \r\n-    @JsonField(name \u003d \"thumbUrl\")\r\n+    @JsonField\r\n     public String thumbUrl;\r\n \r\n-    @JsonField(name \u003d \"category\")\r\n+    @JsonField\r\n     public String category;\r\n \r\n     @JsonField(name \u003d \"Wallpapers\")\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/preferences/Preferences.java",
          "patch": "@@ -1,5 +1,10 @@\n package com.dm.wallpaper.board.preferences;\r\n \r\n+import android.content.Context;\r\n+import android.support.annotation.NonNull;\r\n+\r\n+import com.dm.wallpaper.board.helpers.PreferencesHelper;\r\n+\r\n /*\r\n  * Wallpaper Board\r\n  *\r\n@@ -18,15 +23,10 @@\n  * limitations under the License.\r\n  */\r\n \r\n-import android.content.Context;\r\n-import android.support.annotation.NonNull;\r\n-\r\n-import com.dm.wallpaper.board.helpers.PreferencesHelper;\r\n-\r\n public class Preferences {\r\n \r\n+    @NonNull\r\n     public static PreferencesHelper getPreferences(@NonNull Context context) {\r\n         return new PreferencesHelper(context);\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/receivers/WallpaperBoardReceiver.java",
          "patch": "@@ -3,7 +3,9 @@\n import android.content.BroadcastReceiver;\r\n import android.content.Context;\r\n import android.content.Intent;\r\n+import android.util.Log;\r\n \r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n import com.dm.wallpaper.board.utils.listeners.WallpaperBoardListener;\r\n \r\n /*\r\n@@ -30,7 +32,11 @@\n \r\n     @Override\r\n     public void onReceive(Context context, Intent intent) {\r\n-        WallpaperBoardListener listener \u003d (WallpaperBoardListener) context;\r\n-        listener.OnWallpapersChecked(intent);\r\n+        try {\r\n+            WallpaperBoardListener listener \u003d (WallpaperBoardListener) context;\r\n+            listener.onWallpapersChecked(intent);\r\n+        } catch (Exception e) {\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n+        }\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/services/WallpaperBoardService.java",
          "patch": "@@ -10,6 +10,7 @@\n import com.dm.wallpaper.board.items.WallpaperJson;\r\n import com.dm.wallpaper.board.receivers.WallpaperBoardReceiver;\r\n import com.dm.wallpaper.board.utils.Extras;\r\n+import com.dm.wallpaper.board.utils.LogUtil;\r\n \r\n import java.io.InputStream;\r\n import java.net.HttpURLConnection;\r\n@@ -61,11 +62,12 @@ protected void onHandleIntent(Intent intent) {\n                 if (wallpapersJson \u003d\u003d null) return;\r\n \r\n                 int size \u003d wallpapersJson.getWallpapers.size();\r\n+                broadcastIntent.putExtra(Extras.EXTRA_PACKAGE_NAME, getPackageName());\r\n                 broadcastIntent.putExtra(Extras.EXTRA_SIZE, size);\r\n                 sendBroadcast(broadcastIntent);\r\n             }\r\n         } catch (Exception e) {\r\n-            Log.d(Extras.LOG_TAG, Log.getStackTraceString(e));\r\n+            LogUtil.e(Log.getStackTraceString(e));\r\n         }\r\n     }\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/Animator.java",
          "patch": "@@ -12,6 +12,7 @@\n import android.view.animation.AnimationUtils;\r\n \r\n import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.helpers.ContextHelper;\r\n \r\n /*\r\n  * Wallpaper Board\r\n@@ -44,26 +45,11 @@ public static void startAlphaAnimation(@Nullable View view, long duration, int v\n         view.startAnimation(alphaAnimation);\r\n     }\r\n \r\n-    public static void startSlideDownAnimation(@NonNull Context context, @NonNull View view, @Nullable View view2) {\r\n-        Animation slideDown \u003d AnimationUtils.loadAnimation(context, R.anim.slide_down_from_top);\r\n-        slideDown.setAnimationListener(new Animation.AnimationListener() {\r\n-            @Override\r\n-            public void onAnimationStart(Animation animation) {\r\n-\r\n-            }\r\n-\r\n-            @Override\r\n-            public void onAnimationEnd(Animation animation) {\r\n-                if (view2 !\u003d null) startAlphaAnimation(view2, 200, View.VISIBLE);\r\n-            }\r\n-\r\n-            @Override\r\n-            public void onAnimationRepeat(Animation animation) {\r\n-\r\n-            }\r\n-        });\r\n-        view.startAnimation(slideDown);\r\n-        view.setVisibility(View.VISIBLE);\r\n+    public static void startSlideDownAnimation(@NonNull View view, int visibility) {\r\n+        Context context \u003d ContextHelper.getBaseContext(view);\r\n+        Animation animation \u003d AnimationUtils.loadAnimation(context, R.anim.slide_down_from_top);\r\n+        view.startAnimation(animation);\r\n+        view.setVisibility(visibility);\r\n     }\r\n \r\n     public static void showFab(@Nullable FloatingActionButton fab) {\r\n@@ -82,5 +68,4 @@ public static void showFab(@Nullable FloatingActionButton fab) {\n         fab.animate().setDuration(200).scaleX(1).scaleY(1).alpha(1)\r\n                 .setInterpolator(new LinearOutSlowInInterpolator());\r\n     }\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/Extras.java",
          "patch": "@@ -31,13 +31,14 @@\n     public static final String EXTRA_NAME \u003d \"name\";\r\n     public static final String EXTRA_AUTHOR \u003d \"author\";\r\n     public static final String EXTRA_IMAGE \u003d \"image\";\r\n+\r\n     public static final String EXTRA_SIZE \u003d \"size\";\r\n+    public static final String EXTRA_PACKAGE_NAME \u003d \"packageName\";\r\n+\r\n     public static final String EXTRA_KEY \u003d \"key\";\r\n     public static final String EXTRA_PRODUCT_ID \u003d \"productId\";\r\n     public static final String EXTRA_TYPE \u003d \"type\";\r\n \r\n     public static final int TYPE_CONTRIBUTORS \u003d 1;\r\n \r\n-    public static final String LOG_TAG \u003d \"WallpaperBoard\";\r\n-\r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/ImageConfig.java",
          "patch": "@@ -5,6 +5,7 @@\n import android.support.annotation.NonNull;\r\n \r\n import com.dm.wallpaper.board.R;\r\n+import com.dm.wallpaper.board.helpers.FileHelper;\r\n import com.nostra13.universalimageloader.cache.disc.impl.UnlimitedDiskCache;\r\n import com.nostra13.universalimageloader.core.DisplayImageOptions;\r\n import com.nostra13.universalimageloader.core.ImageLoaderConfiguration;\r\n@@ -40,23 +41,24 @@ public static ImageLoaderConfiguration getImageLoaderConfiguration(@NonNull Cont\n         L.writeLogs(false);\r\n         L.writeDebugLogs(false);\r\n         return new ImageLoaderConfiguration.Builder(context)\r\n-                .diskCacheSize(200 * 1024 * 1024)\r\n                 .threadPriority(Thread.NORM_PRIORITY - 2)\r\n                 .threadPoolSize(4)\r\n                 .tasksProcessingOrder(QueueProcessingType.FIFO)\r\n+                .diskCacheSize(256 * FileHelper.MB)\r\n                 .diskCache(new UnlimitedDiskCache(new File(\r\n                         context.getCacheDir().toString() + \"/uil-images\")))\r\n+                .memoryCacheSize(6 * FileHelper.MB)\r\n                 .build();\r\n     }\r\n \r\n-    public static DisplayImageOptions getDefaultImageOptions(boolean cacheOnDisk) {\r\n+    public static DisplayImageOptions getDefaultImageOptions() {\r\n         DisplayImageOptions.Builder options \u003d new DisplayImageOptions.Builder();\r\n         options.delayBeforeLoading(10)\r\n                 .resetViewBeforeLoading(true)\r\n                 .bitmapConfig(Bitmap.Config.RGB_565)\r\n                 .imageScaleType(ImageScaleType.EXACTLY)\r\n                 .displayer(new FadeInBitmapDisplayer(700))\r\n-                .cacheOnDisk(cacheOnDisk)\r\n+                .cacheOnDisk(true)\r\n                 .cacheInMemory(false);\r\n         return options.build();\r\n     }\r\n@@ -84,6 +86,5 @@ public static ImageSize getThumbnailSize(@NonNull Context context) {\n         if (quality \u003c\u003d 0) quality \u003d 1;\r\n         return new ImageSize((50 * quality), (50 * quality));\r\n     }\r\n-\r\n }\r\n \r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/LogUtil.java",
          "patch": "@@ -0,0 +1,42 @@\n+package com.dm.wallpaper.board.utils;\r\n+\r\n+import android.util.Log;\r\n+\r\n+/*\r\n+ * Wallpaper Board\r\n+ *\r\n+ * Copyright (c) 2017 Dani Mahardhika\r\n+ *\r\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+ * you may not use this file except in compliance with the License.\r\n+ * You may obtain a copy of the License at\r\n+ *\r\n+ *      http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+public class LogUtil {\r\n+\r\n+    private static boolean sIsLoggingEnabled \u003d false;\r\n+\r\n+    private static final String TAG \u003d \"WallpaperBoard\";\r\n+\r\n+    public static void setLoggingEnabled(boolean enabled) {\r\n+        LogUtil.sIsLoggingEnabled \u003d enabled;\r\n+    }\r\n+\r\n+    public static void d(String message) {\r\n+        if (LogUtil.sIsLoggingEnabled)\r\n+            Log.d(TAG, message);\r\n+    }\r\n+\r\n+    public static void e(String message) {\r\n+        if (LogUtil.sIsLoggingEnabled)\r\n+            Log.e(TAG, message);\r\n+    }\r\n+}\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/listeners/InAppBillingListener.java",
          "patch": "@@ -22,8 +22,8 @@\n \r\n public interface InAppBillingListener {\r\n \r\n-    void OnInAppBillingSelected(InAppBilling product);\r\n-    void OnInAppBillingInitialized(boolean success);\r\n-    void OnInAppBillingConsume(String productId);\r\n+    void onInAppBillingSelected(InAppBilling product);\r\n+    void onInAppBillingInitialized(boolean success);\r\n+    void onInAppBillingConsume(String productId);\r\n \r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/listeners/RefreshDurationListener.java",
          "patch": "@@ -20,6 +20,6 @@\n \r\n public interface RefreshDurationListener {\r\n \r\n-    void OnRefreshDurationSet(int rotateTime, boolean isMinute);\r\n+    void onRefreshDurationSet(int rotateTime, boolean isMinute);\r\n \r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/listeners/SearchListener.java",
          "patch": "@@ -20,6 +20,6 @@\n \r\n public interface SearchListener {\r\n \r\n-    void OnSearchExpanded(boolean expand);\r\n+    void onSearchExpanded(boolean expand);\r\n \r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/listeners/WallpaperBoardListener.java",
          "patch": "@@ -23,6 +23,6 @@\n \r\n public interface WallpaperBoardListener {\r\n \r\n-    void OnWallpapersChecked(@Nullable Intent intent);\r\n+    void onWallpapersChecked(@Nullable Intent intent);\r\n \r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/listeners/WallpaperListener.java",
          "patch": "@@ -20,6 +20,6 @@\n \r\n public interface WallpaperListener {\r\n \r\n-    void OnWallpaperSelected(int position);\r\n+    void onWallpaperSelected(int position);\r\n \r\n }\r"
        },
        {
          "file_name": "library/src/main/java/com/dm/wallpaper/board/utils/views/HeaderView.java",
          "patch": "@@ -0,0 +1,51 @@\n+package com.dm.wallpaper.board.utils.views;\r\n+\r\n+import android.content.Context;\r\n+import android.content.res.TypedArray;\r\n+import android.support.v7.widget.AppCompatImageView;\r\n+import android.util.AttributeSet;\r\n+\r\n+import com.dm.wallpaper.board.R;\r\n+\r\n+/*\r\n+ * CandyBar - Material Dashboard\r\n+ *\r\n+ * Copyright (c) 2014-2016 Dani Mahardhika\r\n+ *\r\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n+ * you may not use this file except in compliance with the License.\r\n+ * You may obtain a copy of the License at\r\n+ *\r\n+ *      http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+public class HeaderView extends AppCompatImageView {\r\n+\r\n+    private int mWidthRatio;\r\n+    private int mHeightRatio;\r\n+\r\n+    public HeaderView(Context context, AttributeSet attrs) {\r\n+        super(context, attrs);\r\n+        TypedArray typedArray \u003d context.obtainStyledAttributes(attrs, R.styleable.HeaderView);\r\n+\r\n+        try {\r\n+            mWidthRatio \u003d typedArray.getInteger(R.styleable.HeaderView_widthRatio, 16);\r\n+            mHeightRatio \u003d typedArray.getInteger(R.styleable.HeaderView_heightRatio, 9);\r\n+        } finally {\r\n+            typedArray.recycle();\r\n+        }\r\n+    }\r\n+\r\n+    @Override\r\n+    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n+        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n+        double height \u003d (widthMeasureSpec/mWidthRatio) * mHeightRatio;\r\n+        setMeasuredDimension(widthMeasureSpec, Double.valueOf(height).intValue());\r\n+    }\r\n+}\r"
        },
        {
          "file_name": "library/src/main/res/drawable/ic_drawer_wallpapers.xml",
          "patch": "@@ -5,5 +5,5 @@\n         android:viewportHeight\u003d\"24.0\"\u003e\n     \u003cpath\n         android:fillColor\u003d\"#FF000000\"\n-        android:pathData\u003d\"M21,19V5c0,-1.1 -0.9,-2 -2,-2H5c-1.1,0 -2,0.9 -2,2v14c0,1.1 0.9,2 2,2h14c1.1,0 2,-0.9 2,-2zM8.5,13.5l2.5,3.01L14.5,12l4.5,6H5l3.5,-4.5z\"/\u003e\n+        android:pathData\u003d\"M4,4h7L11,2L4,2c-1.1,0 -2,0.9 -2,2v7h2L4,4zM10,13l-4,5h12l-3,-4 -2.03,2.71L10,13zM17,8.5c0,-0.83 -0.67,-1.5 -1.5,-1.5S14,7.67 14,8.5s0.67,1.5 1.5,1.5S17,9.33 17,8.5zM20,2h-7v2h7v7h2L22,4c0,-1.1 -0.9,-2 -2,-2zM20,20h-7v2h7c1.1,0 2,-0.9 2,-2v-7h-2v7zM4,13L2,13v7c0,1.1 0.9,2 2,2h7v-2L4,20v-7z\"/\u003e\n \u003c/vector\u003e"
        },
        {
          "file_name": "library/src/main/res/drawable/ic_toolbar_close.xml",
          "patch": "@@ -4,6 +4,6 @@\n         android:viewportWidth\u003d\"24.0\"\n         android:viewportHeight\u003d\"24.0\"\u003e\n     \u003cpath\n-        android:fillColor\u003d\"?attr/search_toolbar_icon\"\n+        android:fillColor\u003d\"?attr/toolbar_icon\"\n         android:pathData\u003d\"M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z\"/\u003e\n \u003c/vector\u003e"
        },
        {
          "file_name": "library/src/main/res/drawable/ic_toolbar_storage.xml",
          "patch": "@@ -0,0 +1,9 @@\n+\u003cvector xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+        android:width\u003d\"24dp\"\n+        android:height\u003d\"24dp\"\n+        android:viewportWidth\u003d\"24.0\"\n+        android:viewportHeight\u003d\"24.0\"\u003e\n+    \u003cpath\n+        android:fillColor\u003d\"#FF000000\"\n+        android:pathData\u003d\"M2,20h20v-4L2,16v4zM4,17h2v2L4,19v-2zM2,4v4h20L22,4L2,4zM6,7L4,7L4,5h2v2zM2,14h20v-4L2,10v4zM4,11h2v2L4,13v-2z\"/\u003e\n+\u003c/vector\u003e"
        },
        {
          "file_name": "library/src/main/res/drawable/ic_toolbar_theme.xml",
          "patch": "@@ -0,0 +1,9 @@\n+\u003cvector xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+        android:width\u003d\"24dp\"\n+        android:height\u003d\"24dp\"\n+        android:viewportWidth\u003d\"24.0\"\n+        android:viewportHeight\u003d\"24.0\"\u003e\n+    \u003cpath\n+        android:fillColor\u003d\"#FF000000\"\n+        android:pathData\u003d\"M17.66,7.93L12,2.27 6.34,7.93c-3.12,3.12 -3.12,8.19 0,11.31C7.9,20.8 9.95,21.58 12,21.58c2.05,0 4.1,-0.78 5.66,-2.34 3.12,-3.12 3.12,-8.19 0,-11.31zM12,19.59c-1.6,0 -3.11,-0.62 -4.24,-1.76C6.62,16.69 6,15.19 6,13.59s0.62,-3.11 1.76,-4.24L12,5.1v14.49z\"/\u003e\n+\u003c/vector\u003e"
        },
        {
          "file_name": "library/src/main/res/drawable/ic_toolbar_wallpapers.xml",
          "patch": "@@ -0,0 +1,9 @@\n+\u003cvector xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\n+        android:width\u003d\"24dp\"\n+        android:height\u003d\"24dp\"\n+        android:viewportWidth\u003d\"24.0\"\n+        android:viewportHeight\u003d\"24.0\"\u003e\n+    \u003cpath\n+        android:fillColor\u003d\"#FF000000\"\n+        android:pathData\u003d\"M4,4h7L11,2L4,2c-1.1,0 -2,0.9 -2,2v7h2L4,4zM10,13l-4,5h12l-3,-4 -2.03,2.71L10,13zM17,8.5c0,-0.83 -0.67,-1.5 -1.5,-1.5S14,7.67 14,8.5s0.67,1.5 1.5,1.5S17,9.33 17,8.5zM20,2h-7v2h7v7h2L22,4c0,-1.1 -0.9,-2 -2,-2zM20,20h-7v2h7c1.1,0 2,-0.9 2,-2v-7h-2v7zM4,13L2,13v7c0,1.1 0.9,2 2,2h7v-2L4,20v-7z\"/\u003e\n+\u003c/vector\u003e"
        },
        {
          "file_name": "library/src/main/res/drawable/navigation_view_item_background.xml",
          "patch": "@@ -0,0 +1,6 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cselector xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    android:enterFadeDuration\u003d\"200\"\r\n+    android:exitFadeDuration\u003d\"200\"\u003e\r\n+    \u003citem android:drawable\u003d\"@color/navigationViewSelectedBackground\" android:state_checked\u003d\"true\" /\u003e\r\n+\u003c/selector\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/drawable/navigation_view_item_background_dark.xml",
          "patch": "@@ -0,0 +1,6 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cselector xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    android:enterFadeDuration\u003d\"200\"\r\n+    android:exitFadeDuration\u003d\"200\"\u003e\r\n+    \u003citem android:drawable\u003d\"@color/navigationViewSelectedBackgroundDark\" android:state_checked\u003d\"true\" /\u003e\r\n+\u003c/selector\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout-land/fragment_about_item_footer.xml",
          "patch": "@@ -0,0 +1,82 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003candroid.support.v7.widget.CardView\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:layout_marginRight\u003d\"@dimen/content_padding\"\r\n+    android:layout_marginEnd\u003d\"@dimen/content_padding\"\r\n+    android:layout_marginBottom\u003d\"@dimen/content_padding\"\r\n+    app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n+    app:cardElevation\u003d\"@dimen/card_elevation\"\r\n+    app:cardUseCompatPadding\u003d\"@bool/card_use_compat_padding\"\r\n+    app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"vertical\"\r\n+        android:padding\u003d\"@dimen/content_margin\"\r\n+        android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+        \u003cTextView\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:text\u003d\"@string/about_dashboard\"\r\n+            android:textSize\u003d\"@dimen/text_content_title\"\r\n+            android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003cTextView\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+            android:text\u003d\"@string/about_dashboard_dev\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+            fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+        \u003cLinearLayout\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:orientation\u003d\"horizontal\"\r\n+            android:gravity\u003d\"end\"\r\n+            android:layout_marginTop\u003d\"@dimen/content_margin\"\u003e\r\n+\r\n+            \u003candroid.support.v7.widget.AppCompatButton\r\n+                android:id\u003d\"@+id/dev_google_plus\"\r\n+                android:layout_width\u003d\"wrap_content\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:gravity\u003d\"center\"\r\n+                android:text\u003d\"@string/about_dashboard_dev_google_plus_title\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                android:textColor\u003d\"?attr/colorAccent\"\r\n+                android:maxLines\u003d\"1\"\r\n+                android:ellipsize\u003d\"end\"\r\n+                android:background\u003d\"?attr/selectableItemBackground\"\r\n+                android:theme\u003d\"@style/AccentButtonStyle\"\r\n+                style\u003d\"@style/Widget.AppCompat.Button.Borderless\"\r\n+                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+            \u003candroid.support.v7.widget.AppCompatButton\r\n+                android:id\u003d\"@+id/dev_github\"\r\n+                android:layout_width\u003d\"wrap_content\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:gravity\u003d\"center\"\r\n+                android:text\u003d\"@string/about_dashboard_dev_github_title\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                android:textColor\u003d\"?attr/colorAccent\"\r\n+                android:maxLines\u003d\"1\"\r\n+                android:ellipsize\u003d\"end\"\r\n+                android:background\u003d\"?attr/selectableItemBackground\"\r\n+                android:theme\u003d\"@style/AccentButtonStyle\"\r\n+                style\u003d\"@style/Widget.AppCompat.Button.Borderless\"\r\n+                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003c/LinearLayout\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+\u003c/android.support.v7.widget.CardView\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout-land/fragment_about_item_header.xml",
          "patch": "@@ -0,0 +1,128 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003candroid.support.v7.widget.CardView\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:layout_marginRight\u003d\"@dimen/content_padding\"\r\n+    android:layout_marginEnd\u003d\"@dimen/content_padding\"\r\n+    android:layout_marginBottom\u003d\"@dimen/content_padding\"\r\n+    app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n+    app:cardElevation\u003d\"@dimen/card_elevation\"\r\n+    app:cardUseCompatPadding\u003d\"@bool/card_use_compat_padding\"\r\n+    app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"vertical\"\r\n+        android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+        \u003ccom.dm.wallpaper.board.utils.views.HeaderView\r\n+            android:id\u003d\"@+id/image\"\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"match_parent\"\r\n+            android:scaleType\u003d\"centerCrop\"\r\n+            app:heightRatio\u003d\"7\"\r\n+            app:widthRatio\u003d\"16\"/\u003e\r\n+\r\n+        \u003ccom.mikhaellopez.circularimageview.CircularImageView\r\n+            android:id\u003d\"@+id/profile\"\r\n+            android:layout_width\u003d\"@dimen/about_profile\"\r\n+            android:layout_height\u003d\"@dimen/about_profile\"\r\n+            android:layout_marginTop\u003d\"@dimen/about_profile_margin_top\"\r\n+            android:layout_gravity\u003d\"center_horizontal\"\r\n+            app:civ_border_color\u003d\"?attr/card_background\"\r\n+            app:civ_border_width\u003d\"@dimen/about_profile_border\"\r\n+            app:civ_shadow\u003d\"true\"\r\n+            app:civ_shadow_radius\u003d\"12\"\r\n+            app:civ_shadow_color\u003d\"#22000000\"/\u003e\r\n+\r\n+        \u003cTextView\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+            android:layout_marginLeft\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginStart\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginRight\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginEnd\u003d\"@dimen/content_margin\"\r\n+            android:gravity\u003d\"center_horizontal\"\r\n+            android:text\u003d\"@string/about_title\"\r\n+            android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+            android:textSize\u003d\"@dimen/text_title\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003corg.sufficientlysecure.htmltextview.HtmlTextView\r\n+            android:id\u003d\"@+id/subtitle\"\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+            android:layout_marginLeft\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginStart\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginRight\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginEnd\u003d\"@dimen/content_margin\"\r\n+            android:paddingTop\u003d\"@dimen/content_padding\"\r\n+            android:gravity\u003d\"center_horizontal\"\r\n+            android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+        \u003cLinearLayout\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:orientation\u003d\"horizontal\"\r\n+            android:padding\u003d\"@dimen/content_margin\"\r\n+            android:gravity\u003d\"end\"\u003e\r\n+\r\n+            \u003candroid.support.v7.widget.AppCompatButton\r\n+                android:id\u003d\"@+id/link2\"\r\n+                android:layout_width\u003d\"wrap_content\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:gravity\u003d\"center\"\r\n+                android:text\u003d\"@string/about_link_2_title\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                android:textColor\u003d\"?attr/colorAccent\"\r\n+                android:maxLines\u003d\"1\"\r\n+                android:ellipsize\u003d\"end\"\r\n+                android:background\u003d\"?attr/selectableItemBackground\"\r\n+                android:theme\u003d\"@style/AccentButtonStyle\"\r\n+                style\u003d\"@style/Widget.AppCompat.Button.Borderless\"\r\n+                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+            \u003candroid.support.v7.widget.AppCompatButton\r\n+                android:id\u003d\"@+id/link1\"\r\n+                android:layout_width\u003d\"wrap_content\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:gravity\u003d\"center\"\r\n+                android:text\u003d\"@string/about_link_1_title\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                android:textColor\u003d\"?attr/colorAccent\"\r\n+                android:maxLines\u003d\"1\"\r\n+                android:ellipsize\u003d\"end\"\r\n+                android:background\u003d\"?attr/selectableItemBackground\"\r\n+                android:theme\u003d\"@style/AccentButtonStyle\"\r\n+                style\u003d\"@style/Widget.AppCompat.Button.Borderless\"\r\n+                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+            \u003candroid.support.v7.widget.AppCompatButton\r\n+                android:id\u003d\"@+id/email\"\r\n+                android:layout_width\u003d\"wrap_content\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:gravity\u003d\"center\"\r\n+                android:text\u003d\"@string/about_email_title\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                android:textColor\u003d\"?attr/colorAccent\"\r\n+                android:maxLines\u003d\"1\"\r\n+                android:ellipsize\u003d\"end\"\r\n+                android:background\u003d\"?attr/selectableItemBackground\"\r\n+                android:theme\u003d\"@style/AccentButtonStyle\"\r\n+                style\u003d\"@style/Widget.AppCompat.Button.Borderless\"\r\n+                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003c/LinearLayout\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+\u003c/android.support.v7.widget.CardView\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout-land/fragment_about_item_sub.xml",
          "patch": "@@ -0,0 +1,38 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003candroid.support.v7.widget.CardView\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:layout_marginRight\u003d\"@dimen/content_padding\"\r\n+    android:layout_marginEnd\u003d\"@dimen/content_padding\"\r\n+    android:layout_marginBottom\u003d\"@dimen/content_padding\"\r\n+    app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n+    app:cardElevation\u003d\"@dimen/card_elevation\"\r\n+    app:cardUseCompatPadding\u003d\"@bool/card_use_compat_padding\"\r\n+    app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"vertical\"\r\n+        android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+        \u003cTextView\r\n+            android:id\u003d\"@+id/title\"\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:padding\u003d\"@dimen/content_margin\"\r\n+            android:drawablePadding\u003d\"@dimen/content_margin\"\r\n+            android:gravity\u003d\"center_vertical\"\r\n+            android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+            android:textSize\u003d\"@dimen/text_content_title\"\r\n+            android:background\u003d\"?attr/selectableItemBackground\"\r\n+            android:theme\u003d\"@style/ButtonStyle\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+\u003c/android.support.v7.widget.CardView\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout-v21/fragment_wallpapers_item_grid.xml",
          "patch": "@@ -0,0 +1,92 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003candroid.support.v7.widget.CardView\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    android:id\u003d\"@+id/card\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:layout_marginRight\u003d\"@dimen/card_margin_right\"\r\n+    android:layout_marginEnd\u003d\"@dimen/card_margin_right\"\r\n+    android:layout_marginBottom\u003d\"@dimen/card_margin_bottom\"\r\n+    app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n+    app:cardElevation\u003d\"@dimen/card_elevation\"\r\n+    app:cardUseCompatPadding\u003d\"@bool/card_use_compat_padding\"\r\n+    app:cardCornerRadius\u003d\"0dp\"\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:id\u003d\"@+id/container\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"vertical\"\r\n+        android:foreground\u003d\"?attr/selectableItemBackground\"\r\n+        android:clickable\u003d\"true\"\r\n+        android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n+\r\n+        \u003ccom.dm.wallpaper.board.utils.views.HeaderView\r\n+            android:id\u003d\"@+id/image\"\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"match_parent\"\r\n+            android:scaleType\u003d\"centerCrop\"\r\n+            app:heightRatio\u003d\"1\"\r\n+            app:widthRatio\u003d\"1\"/\u003e\r\n+\r\n+        \u003cLinearLayout\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:orientation\u003d\"horizontal\"\r\n+            android:gravity\u003d\"center_vertical\"\u003e\r\n+\r\n+            \u003cLinearLayout\r\n+                android:layout_width\u003d\"0dp\"\r\n+                android:layout_weight\u003d\"1\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:paddingTop\u003d\"@dimen/content_margin\"\r\n+                android:paddingBottom\u003d\"@dimen/content_margin\"\r\n+                android:paddingLeft\u003d\"@dimen/content_margin\"\r\n+                android:paddingStart\u003d\"@dimen/content_margin\"\r\n+                android:paddingRight\u003d\"8dp\"\r\n+                android:paddingEnd\u003d\"8dp\"\r\n+                android:orientation\u003d\"vertical\"\u003e\r\n+\r\n+                \u003cTextView\r\n+                    android:id\u003d\"@+id/name\"\r\n+                    android:layout_width\u003d\"match_parent\"\r\n+                    android:layout_height\u003d\"wrap_content\"\r\n+                    android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+                    android:textSize\u003d\"@dimen/text_content\"\r\n+                    android:maxLines\u003d\"1\"\r\n+                    android:ellipsize\u003d\"end\"\r\n+                    fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+                \u003cTextView\r\n+                    android:id\u003d\"@+id/author\"\r\n+                    android:layout_width\u003d\"match_parent\"\r\n+                    android:layout_height\u003d\"wrap_content\"\r\n+                    android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n+                    android:textSize\u003d\"@dimen/text_content\"\r\n+                    android:maxLines\u003d\"1\"\r\n+                    android:ellipsize\u003d\"end\"\r\n+                    fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+            \u003c/LinearLayout\u003e\r\n+\r\n+            \u003cImageView\r\n+                android:id\u003d\"@+id/favorite\"\r\n+                android:layout_width\u003d\"40dp\"\r\n+                android:layout_height\u003d\"match_parent\"\r\n+                android:paddingTop\u003d\"4dp\"\r\n+                android:paddingBottom\u003d\"4dp\"\r\n+                android:paddingLeft\u003d\"4dp\"\r\n+                android:paddingStart\u003d\"4dp\"\r\n+                android:paddingRight\u003d\"12dp\"\r\n+                android:paddingEnd\u003d\"12dp\"\r\n+                android:background\u003d\"?attr/selectableItemBackgroundBorderless\"\r\n+                android:theme\u003d\"@style/ButtonStyle\"/\u003e\r\n+\r\n+        \u003c/LinearLayout\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+\u003c/android.support.v7.widget.CardView\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/activity_muzei.xml",
          "patch": "@@ -13,15 +13,14 @@\n         android:layout_width\u003d\"match_parent\"\r\n         android:layout_height\u003d\"?attr/actionBarSize\"\r\n         android:minHeight\u003d\"?attr/actionBarSize\"\r\n-        android:background\u003d\"?attr/toolbar_color\"\r\n-        app:theme\u003d\"@style/ToolbarStyle\"\u003e\r\n+        android:background\u003d\"?attr/colorPrimary\"\u003e\r\n \r\n         \u003cTextView\r\n             android:layout_width\u003d\"wrap_content\"\r\n             android:layout_height\u003d\"match_parent\"\r\n             android:gravity\u003d\"center_vertical\"\r\n             android:textColor\u003d\"?attr/toolbar_icon\"\r\n-            android:singleLine\u003d\"true\"\r\n+            android:maxLines\u003d\"1\"\r\n             android:ellipsize\u003d\"end\"\r\n             android:text\u003d\"@string/muzei_settings\"\r\n             android:textSize\u003d\"@dimen/text_toolbar_title\"\r\n@@ -178,7 +177,7 @@\n         android:id\u003d\"@+id/muzei_save\"\r\n         android:layout_width\u003d\"match_parent\"\r\n         android:layout_height\u003d\"wrap_content\"\r\n-        android:padding\u003d\"@dimen/card_padding\"\r\n+        android:padding\u003d\"@dimen/content_margin\"\r\n         android:orientation\u003d\"horizontal\"\r\n         android:layout_alignParentBottom\u003d\"true\"\r\n         android:gravity\u003d\"center\"\r"
        },
        {
          "file_name": "library/src/main/res/layout/activity_splash.xml",
          "patch": "@@ -7,45 +7,11 @@\n     android:layout_height\u003d\"match_parent\"\r\n     android:fitsSystemWindows\u003d\"true\"\u003e\r\n \r\n-    \u003cLinearLayout\r\n-        android:layout_width\u003d\"match_parent\"\r\n-        android:layout_height\u003d\"wrap_content\"\r\n-        android:orientation\u003d\"vertical\"\r\n-        android:gravity\u003d\"center\"\r\n-        android:layout_centerInParent\u003d\"true\"\u003e\r\n-\r\n-        \u003cImageView\r\n-            android:layout_width\u003d\"@dimen/splash_screen_logo\"\r\n-            android:layout_height\u003d\"@dimen/splash_screen_logo\"\r\n-            android:src\u003d\"@drawable/ic_splash_screen\" /\u003e\r\n-\r\n-        \u003cLinearLayout\r\n-            android:layout_width\u003d\"wrap_content\"\r\n-            android:layout_height\u003d\"wrap_content\"\r\n-            android:orientation\u003d\"horizontal\"\r\n-            android:gravity\u003d\"center_vertical\"\r\n-            android:layout_marginTop\u003d\"@dimen/card_padding\"\u003e\r\n-\r\n-            \u003cProgressBar\r\n-                android:id\u003d\"@+id/progress\"\r\n-                android:layout_width\u003d\"28dp\"\r\n-                android:layout_height\u003d\"28dp\"\r\n-                android:visibility\u003d\"invisible\"\r\n-                style\u003d\"?android:attr/progressBarStyle\"/\u003e\r\n-\r\n-            \u003cTextView\r\n-                android:id\u003d\"@+id/splash_loading\"\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                android:layout_marginLeft\u003d\"@dimen/card_padding\"\r\n-                android:layout_marginStart\u003d\"@dimen/card_padding\"\r\n-                android:textSize\u003d\"@dimen/text_content\"\r\n-                android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-        \u003c/LinearLayout\u003e\r\n-\r\n-    \u003c/LinearLayout\u003e\r\n+    \u003cImageView\r\n+        android:layout_width\u003d\"@dimen/splash_screen_logo\"\r\n+        android:layout_height\u003d\"@dimen/splash_screen_logo\"\r\n+        android:src\u003d\"@drawable/ic_splash_screen\"\r\n+        android:layout_centerInParent\u003d\"true\"/\u003e\r\n \r\n     \u003cTextView\r\n         android:id\u003d\"@+id/splash_title\"\r"
        },
        {
          "file_name": "library/src/main/res/layout/activity_wallpaper_board.xml",
          "patch": "@@ -7,20 +7,71 @@\n     android:id\u003d\"@+id/drawer_layout\"\r\n     android:layout_width\u003d\"match_parent\"\r\n     android:layout_height\u003d\"match_parent\"\r\n-    android:fitsSystemWindows\u003d\"true\"\r\n     tools:openDrawer\u003d\"start\"\u003e\r\n \r\n-    \u003cinclude layout\u003d\"@layout/toolbar\"\r\n+    \u003candroid.support.design.widget.CoordinatorLayout\r\n+        android:id\u003d\"@+id/coordinator\"\r\n         android:layout_width\u003d\"match_parent\"\r\n-        android:layout_height\u003d\"wrap_content\"/\u003e\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:clipToPadding\u003d\"false\"\u003e\r\n+\r\n+        \u003candroid.support.design.widget.AppBarLayout\r\n+            android:id\u003d\"@+id/appbar\"\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            app:elevation\u003d\"0dp\"\u003e\r\n+\r\n+            \u003candroid.support.v7.widget.Toolbar\r\n+                android:id\u003d\"@+id/toolbar\"\r\n+                android:layout_width\u003d\"match_parent\"\r\n+                android:layout_height\u003d\"?attr/actionBarSize\"\r\n+                android:minHeight\u003d\"?attr/actionBarSize\"\r\n+                android:background\u003d\"?attr/colorPrimary\"\r\n+                app:layout_scrollFlags\u003d\"scroll|enterAlways\"\u003e\r\n+\r\n+                \u003cTextView\r\n+                    android:id\u003d\"@+id/toolbar_title\"\r\n+                    android:layout_width\u003d\"wrap_content\"\r\n+                    android:layout_height\u003d\"match_parent\"\r\n+                    android:gravity\u003d\"center_vertical\"\r\n+                    android:textColor\u003d\"?attr/toolbar_icon\"\r\n+                    android:maxLines\u003d\"1\"\r\n+                    android:ellipsize\u003d\"end\"\r\n+                    android:textSize\u003d\"@dimen/text_toolbar_title\"\r\n+                    fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+                \u003cTextView\r\n+                    android:id\u003d\"@+id/toolbar_logo\"\r\n+                    android:layout_width\u003d\"wrap_content\"\r\n+                    android:layout_height\u003d\"match_parent\"\r\n+                    android:gravity\u003d\"center_vertical\"\r\n+                    android:text\u003d\"@string/toolbar_title\"\r\n+                    android:textColor\u003d\"?attr/toolbar_icon\"\r\n+                    android:maxLines\u003d\"1\"\r\n+                    android:ellipsize\u003d\"end\"\r\n+                    android:textSize\u003d\"@dimen/text_toolbar_title\"\r\n+                    android:visibility\u003d\"gone\"\r\n+                    fontPath\u003d\"fonts/Font-Logo.ttf\"/\u003e\r\n+\r\n+            \u003c/android.support.v7.widget.Toolbar\u003e\r\n+\r\n+        \u003c/android.support.design.widget.AppBarLayout\u003e\r\n+\r\n+        \u003cFrameLayout\r\n+            android:id\u003d\"@+id/container\"\r\n+            android:layout_width\u003d\"match_parent\"\r\n+            android:layout_height\u003d\"match_parent\"\r\n+            app:layout_behavior\u003d\"@string/appbar_scrolling_view_behavior\"/\u003e\r\n+\r\n+    \u003c/android.support.design.widget.CoordinatorLayout\u003e\r\n \r\n     \u003candroid.support.design.widget.NavigationView\r\n         android:id\u003d\"@+id/navigation_view\"\r\n         android:layout_width\u003d\"@dimen/navigation_view_width\"\r\n         android:layout_height\u003d\"match_parent\"\r\n         android:layout_gravity\u003d\"start\"\r\n         android:fitsSystemWindows\u003d\"true\"\r\n-        android:background\u003d\"?attr/main_background\"\r\n+        android:background\u003d\"?attr/card_background\"\r\n         android:theme\u003d\"@style/NavigationViewStyle\"\r\n         app:headerLayout\u003d\"@layout/navigation_view_header\"\r\n         app:itemIconTint\u003d\"@color/navigation_view_item_highlight\"\r"
        },
        {
          "file_name": "library/src/main/res/layout/activity_wallpaper_preview.xml",
          "patch": "@@ -1,10 +1,10 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n-\u003cFrameLayout\r\n+\u003candroid.support.design.widget.CoordinatorLayout\r\n     xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n     xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n     xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n     tools:ignore\u003d\"MissingPrefix\"\r\n-    android:id\u003d\"@+id/container\"\r\n+    android:id\u003d\"@+id/rootview\"\r\n     android:layout_width\u003d\"match_parent\"\r\n     android:layout_height\u003d\"match_parent\"\u003e\r\n \r\n@@ -19,25 +19,6 @@\n         android:layout_height\u003d\"match_parent\"\r\n         android:fitsSystemWindows\u003d\"true\"\u003e\r\n \r\n-        \u003candroid.support.design.widget.CoordinatorLayout\r\n-            android:id\u003d\"@+id/rootview\"\r\n-            android:layout_width\u003d\"match_parent\"\r\n-            android:layout_height\u003d\"match_parent\"\r\n-            android:fitsSystemWindows\u003d\"true\"\u003e\r\n-\r\n-            \u003candroid.support.design.widget.FloatingActionButton\r\n-                android:id\u003d\"@+id/fab\"\r\n-                android:layout_width\u003d\"@dimen/fab_size\"\r\n-                android:layout_height\u003d\"@dimen/fab_size\"\r\n-                android:layout_gravity\u003d\"bottom|end\"\r\n-                android:layout_marginRight\u003d\"20dp\"\r\n-                android:layout_marginEnd\u003d\"20dp\"\r\n-                android:layout_marginBottom\u003d\"20dp\"\r\n-                android:visibility\u003d\"gone\"\r\n-                app:backgroundTint\u003d\"?attr/colorAccent\" /\u003e\r\n-\r\n-        \u003c/android.support.design.widget.CoordinatorLayout\u003e\r\n-\r\n         \u003candroid.support.v7.widget.Toolbar\r\n             android:id\u003d\"@+id/toolbar\"\r\n             android:layout_width\u003d\"match_parent\"\r\n@@ -49,8 +30,8 @@\n             \u003cLinearLayout\r\n                 android:layout_width\u003d\"wrap_content\"\r\n                 android:layout_height\u003d\"wrap_content\"\r\n-                android:paddingTop\u003d\"@dimen/card_padding\"\r\n-                android:paddingBottom\u003d\"@dimen/card_padding\"\r\n+                android:paddingTop\u003d\"@dimen/content_margin\"\r\n+                android:paddingBottom\u003d\"@dimen/content_margin\"\r\n                 android:orientation\u003d\"vertical\"\u003e\r\n \r\n                 \u003cTextView\r\n@@ -59,9 +40,9 @@\n                     android:layout_height\u003d\"wrap_content\"\r\n                     android:gravity\u003d\"center_vertical\"\r\n                     android:textColor\u003d\"@android:color/white\"\r\n-                    android:singleLine\u003d\"true\"\r\n+                    android:maxLines\u003d\"1\"\r\n                     android:ellipsize\u003d\"end\"\r\n-                    android:textSize\u003d\"@dimen/text_toolbar_title\"\r\n+                    android:textSize\u003d\"@dimen/text_content_title\"\r\n                     fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n \r\n                 \u003cTextView\r\n@@ -70,9 +51,9 @@\n                     android:layout_height\u003d\"wrap_content\"\r\n                     android:gravity\u003d\"center_vertical\"\r\n                     android:textColor\u003d\"@android:color/white\"\r\n-                    android:singleLine\u003d\"true\"\r\n+                    android:maxLines\u003d\"1\"\r\n                     android:ellipsize\u003d\"end\"\r\n-                    android:textSize\u003d\"@dimen/text_content_title\"\r\n+                    android:textSize\u003d\"@dimen/text_content\"\r\n                     fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n \r\n             \u003c/LinearLayout\u003e\r\n@@ -89,4 +70,15 @@\n         android:visibility\u003d\"gone\"\r\n         style\u003d\"?android:attr/progressBarStyleLarge\"/\u003e\r\n \r\n-\u003c/FrameLayout\u003e\n\\ No newline at end of file\n+    \u003candroid.support.design.widget.FloatingActionButton\r\n+        android:id\u003d\"@+id/fab\"\r\n+        android:layout_width\u003d\"@dimen/fab_size\"\r\n+        android:layout_height\u003d\"@dimen/fab_size\"\r\n+        android:layout_gravity\u003d\"bottom|end\"\r\n+        android:layout_marginRight\u003d\"20dp\"\r\n+        android:layout_marginEnd\u003d\"20dp\"\r\n+        android:layout_marginBottom\u003d\"20dp\"\r\n+        android:visibility\u003d\"gone\"\r\n+        app:backgroundTint\u003d\"?attr/colorAccent\" /\u003e\r\n+\r\n+\u003c/android.support.design.widget.CoordinatorLayout\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_about.xml",
          "patch": "@@ -1,316 +1,14 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cFrameLayout\r\n     xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n-    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n-    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n-    tools:ignore\u003d\"MissingPrefix\"\r\n     android:layout_width\u003d\"match_parent\"\r\n     android:layout_height\u003d\"match_parent\"\u003e\r\n \r\n-    \u003candroid.support.v4.widget.NestedScrollView\r\n-        android:id\u003d\"@+id/scrollview\"\r\n+    \u003candroid.support.v7.widget.RecyclerView\r\n+        android:id\u003d\"@+id/recyclerview\"\r\n         android:layout_width\u003d\"match_parent\"\r\n         android:layout_height\u003d\"match_parent\"\r\n-        android:clipToPadding\u003d\"false\"\u003e\r\n-\r\n-        \u003cLinearLayout\r\n-            android:layout_width\u003d\"match_parent\"\r\n-            android:layout_height\u003d\"wrap_content\"\r\n-            android:orientation\u003d\"vertical\"\r\n-            android:padding\u003d\"@dimen/content_padding\"\r\n-            android:clipToPadding\u003d\"false\"\u003e\r\n-\r\n-            \u003candroid.support.v7.widget.CardView\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n-                app:cardElevation\u003d\"@dimen/card_elevation\"\r\n-                app:cardUseCompatPadding\u003d\"true\"\r\n-                app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n-\r\n-                \u003cRelativeLayout\r\n-                    android:layout_width\u003d\"match_parent\"\r\n-                    android:layout_height\u003d\"match_parent\"\u003e\r\n-\r\n-                    \u003cImageView\r\n-                        android:id\u003d\"@+id/image\"\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"@dimen/about_image_height\"\r\n-                        android:scaleType\u003d\"centerCrop\" /\u003e\r\n-\r\n-                    \u003ccom.mikhaellopez.circularimageview.CircularImageView\r\n-                        android:id\u003d\"@+id/profile\"\r\n-                        android:layout_width\u003d\"@dimen/about_profile\"\r\n-                        android:layout_height\u003d\"@dimen/about_profile\"\r\n-                        android:layout_alignBottom\u003d\"@+id/image\"\r\n-                        android:layout_marginBottom\u003d\"-44dp\"\r\n-                        android:layout_centerHorizontal\u003d\"true\"\r\n-                        app:civ_border_color\u003d\"?attr/card_background\"\r\n-                        app:civ_border_width\u003d\"4dp\"\r\n-                        app:civ_shadow\u003d\"true\"\r\n-                        app:civ_shadow_radius\u003d\"10\"\r\n-                        app:civ_shadow_color\u003d\"#22000000\"/\u003e\r\n-\r\n-                    \u003cLinearLayout\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:orientation\u003d\"vertical\"\r\n-                        android:layout_below\u003d\"@+id/image\"\r\n-                        android:layout_marginTop\u003d\"44dp\"\u003e\r\n-\r\n-                        \u003cTextView\r\n-                            android:layout_width\u003d\"match_parent\"\r\n-                            android:layout_height\u003d\"wrap_content\"\r\n-                            android:layout_marginLeft\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginStart\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginRight\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginEnd\u003d\"@dimen/card_padding\"\r\n-                            android:gravity\u003d\"center\"\r\n-                            android:text\u003d\"@string/about_title\"\r\n-                            android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                            android:textSize\u003d\"@dimen/text_content_title\"\r\n-                            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                        \u003corg.sufficientlysecure.htmltextview.HtmlTextView\r\n-                            android:id\u003d\"@+id/about_desc\"\r\n-                            android:layout_width\u003d\"match_parent\"\r\n-                            android:layout_height\u003d\"wrap_content\"\r\n-                            android:layout_marginLeft\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginStart\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginRight\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginEnd\u003d\"@dimen/card_padding\"\r\n-                            android:layout_marginTop\u003d\"2dp\"\r\n-                            android:gravity\u003d\"center\"\r\n-                            android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n-                            android:textSize\u003d\"@dimen/text_content\"\r\n-                            fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-                        \u003cLinearLayout\r\n-                            android:layout_width\u003d\"match_parent\"\r\n-                            android:layout_height\u003d\"wrap_content\"\r\n-                            android:orientation\u003d\"horizontal\"\r\n-                            android:baselineAligned\u003d\"false\"\r\n-                            android:paddingLeft\u003d\"@dimen/card_padding\"\r\n-                            android:paddingStart\u003d\"@dimen/card_padding\"\r\n-                            android:paddingRight\u003d\"@dimen/card_padding\"\r\n-                            android:paddingEnd\u003d\"@dimen/card_padding\"\r\n-                            android:paddingTop\u003d\"10dp\"\r\n-                            android:paddingBottom\u003d\"@dimen/card_padding\"\r\n-                            android:gravity\u003d\"end\"\u003e\r\n-\r\n-                            \u003cTextView\r\n-                                android:id\u003d\"@+id/email\"\r\n-                                android:layout_width\u003d\"wrap_content\"\r\n-                                android:layout_height\u003d\"wrap_content\"\r\n-                                android:textAllCaps\u003d\"true\"\r\n-                                android:padding\u003d\"@dimen/button_padding\"\r\n-                                android:gravity\u003d\"center\"\r\n-                                android:text\u003d\"@string/about_email_title\"\r\n-                                android:textSize\u003d\"@dimen/text_content\"\r\n-                                android:textColor\u003d\"?attr/colorAccent\"\r\n-                                android:singleLine\u003d\"true\"\r\n-                                android:ellipsize\u003d\"end\"\r\n-                                android:background\u003d\"?attr/selectableItemBackground\"\r\n-                                android:theme\u003d\"@style/AccentButtonStyle\"\r\n-                                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                            \u003cTextView\r\n-                                android:id\u003d\"@+id/link1\"\r\n-                                android:layout_width\u003d\"wrap_content\"\r\n-                                android:layout_height\u003d\"wrap_content\"\r\n-                                android:textAllCaps\u003d\"true\"\r\n-                                android:padding\u003d\"@dimen/button_padding\"\r\n-                                android:gravity\u003d\"center\"\r\n-                                android:text\u003d\"@string/about_link_1_title\"\r\n-                                android:textSize\u003d\"@dimen/text_content\"\r\n-                                android:textColor\u003d\"?attr/colorAccent\"\r\n-                                android:singleLine\u003d\"true\"\r\n-                                android:ellipsize\u003d\"end\"\r\n-                                android:background\u003d\"?attr/selectableItemBackground\"\r\n-                                android:theme\u003d\"@style/AccentButtonStyle\"\r\n-                                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                            \u003cTextView\r\n-                                android:id\u003d\"@+id/link2\"\r\n-                                android:layout_width\u003d\"wrap_content\"\r\n-                                android:layout_height\u003d\"wrap_content\"\r\n-                                android:textAllCaps\u003d\"true\"\r\n-                                android:padding\u003d\"@dimen/button_padding\"\r\n-                                android:gravity\u003d\"center\"\r\n-                                android:text\u003d\"@string/about_link_2_title\"\r\n-                                android:textSize\u003d\"@dimen/text_content\"\r\n-                                android:textColor\u003d\"?attr/colorAccent\"\r\n-                                android:singleLine\u003d\"true\"\r\n-                                android:ellipsize\u003d\"end\"\r\n-                                android:background\u003d\"?attr/selectableItemBackground\"\r\n-                                android:theme\u003d\"@style/AccentButtonStyle\"\r\n-                                fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                        \u003c/LinearLayout\u003e\r\n-\r\n-                    \u003c/LinearLayout\u003e\r\n-\r\n-                \u003c/RelativeLayout\u003e\r\n-\r\n-            \u003c/android.support.v7.widget.CardView\u003e\r\n-\r\n-            \u003candroid.support.v7.widget.CardView\r\n-                android:id\u003d\"@+id/card_contributors\"\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                android:visibility\u003d\"gone\"\r\n-                app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n-                app:cardElevation\u003d\"@dimen/card_elevation\"\r\n-                app:cardUseCompatPadding\u003d\"true\"\r\n-                app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n-\r\n-                \u003cLinearLayout\r\n-                    android:id\u003d\"@+id/contributors\"\r\n-                    android:layout_width\u003d\"match_parent\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:orientation\u003d\"horizontal\"\r\n-                    android:gravity\u003d\"center_vertical\"\r\n-                    android:padding\u003d\"@dimen/card_padding\"\r\n-                    android:background\u003d\"?attr/selectableItemBackground\"\r\n-                    android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n-\r\n-                    \u003cImageView\r\n-                        android:id\u003d\"@+id/contributors_icon\"\r\n-                        android:layout_width\u003d\"28dp\"\r\n-                        android:layout_height\u003d\"28dp\"\r\n-                        android:layout_marginRight\u003d\"@dimen/card_padding\"\r\n-                        android:layout_marginEnd\u003d\"@dimen/card_padding\"/\u003e\r\n-\r\n-                    \u003cTextView\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:text\u003d\"@string/about_contributors_title\"\r\n-                        android:textSize\u003d\"@dimen/text_content_title\"\r\n-                        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                        android:gravity\u003d\"center_vertical\"\r\n-                        fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-                \u003c/LinearLayout\u003e\r\n-\r\n-            \u003c/android.support.v7.widget.CardView\u003e\r\n-\r\n-            \u003candroid.support.v7.widget.CardView\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n-                app:cardElevation\u003d\"@dimen/card_elevation\"\r\n-                app:cardUseCompatPadding\u003d\"true\"\r\n-                app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n-\r\n-                \u003cLinearLayout\r\n-                    android:id\u003d\"@+id/licenses\"\r\n-                    android:layout_width\u003d\"match_parent\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:orientation\u003d\"horizontal\"\r\n-                    android:gravity\u003d\"center_vertical\"\r\n-                    android:padding\u003d\"@dimen/card_padding\"\r\n-                    android:background\u003d\"?attr/selectableItemBackground\"\r\n-                    android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n-\r\n-                    \u003cImageView\r\n-                        android:id\u003d\"@+id/licenses_icon\"\r\n-                        android:layout_width\u003d\"28dp\"\r\n-                        android:layout_height\u003d\"28dp\"\r\n-                        android:layout_marginRight\u003d\"@dimen/card_padding\"\r\n-                        android:layout_marginEnd\u003d\"@dimen/card_padding\"/\u003e\r\n-\r\n-                    \u003cTextView\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:text\u003d\"@string/about_open_source_licenses\"\r\n-                        android:textSize\u003d\"@dimen/text_content_title\"\r\n-                        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                        android:gravity\u003d\"center_vertical\"\r\n-                        fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-                \u003c/LinearLayout\u003e\r\n-\r\n-            \u003c/android.support.v7.widget.CardView\u003e\r\n-\r\n-            \u003candroid.support.v7.widget.CardView\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                app:cardBackgroundColor\u003d\"?attr/card_background\"\r\n-                app:cardElevation\u003d\"@dimen/card_elevation\"\r\n-                app:cardUseCompatPadding\u003d\"true\"\r\n-                app:cardCornerRadius\u003d\"@dimen/card_corner_radius\"\u003e\r\n-\r\n-                \u003cLinearLayout\r\n-                    android:layout_width\u003d\"match_parent\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:orientation\u003d\"vertical\"\r\n-                    android:padding\u003d\"@dimen/card_padding\"\u003e\r\n-\r\n-                    \u003cTextView\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:text\u003d\"@string/about_dashboard\"\r\n-                        android:textSize\u003d\"@dimen/text_content_title\"\r\n-                        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                        fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                    \u003cTextView\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:layout_marginTop\u003d\"6dp\"\r\n-                        android:text\u003d\"@string/about_dashboard_dev\"\r\n-                        android:textSize\u003d\"@dimen/text_content\"\r\n-                        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                        fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-                    \u003cLinearLayout\r\n-                        android:layout_width\u003d\"match_parent\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:orientation\u003d\"horizontal\"\r\n-                        android:paddingTop\u003d\"10dp\"\r\n-                        android:gravity\u003d\"end\"\u003e\r\n-\r\n-                        \u003cTextView\r\n-                            android:id\u003d\"@+id/dev_google_plus\"\r\n-                            android:layout_width\u003d\"wrap_content\"\r\n-                            android:layout_height\u003d\"wrap_content\"\r\n-                            android:textAllCaps\u003d\"true\"\r\n-                            android:padding\u003d\"@dimen/button_padding\"\r\n-                            android:gravity\u003d\"center\"\r\n-                            android:text\u003d\"@string/about_dashboard_dev_google_plus_title\"\r\n-                            android:textSize\u003d\"@dimen/text_content\"\r\n-                            android:textColor\u003d\"?attr/colorAccent\"\r\n-                            android:singleLine\u003d\"true\"\r\n-                            android:ellipsize\u003d\"end\"\r\n-                            android:background\u003d\"?attr/selectableItemBackground\"\r\n-                            android:theme\u003d\"@style/AccentButtonStyle\"\r\n-                            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                        \u003cTextView\r\n-                            android:id\u003d\"@+id/dev_github\"\r\n-                            android:layout_width\u003d\"wrap_content\"\r\n-                            android:layout_height\u003d\"wrap_content\"\r\n-                            android:textAllCaps\u003d\"true\"\r\n-                            android:padding\u003d\"@dimen/button_padding\"\r\n-                            android:gravity\u003d\"center\"\r\n-                            android:text\u003d\"@string/about_dashboard_dev_github_title\"\r\n-                            android:textSize\u003d\"@dimen/text_content\"\r\n-                            android:textColor\u003d\"?attr/colorAccent\"\r\n-                            android:singleLine\u003d\"true\"\r\n-                            android:ellipsize\u003d\"end\"\r\n-                            android:background\u003d\"?attr/selectableItemBackground\"\r\n-                            android:theme\u003d\"@style/AccentButtonStyle\"\r\n-                            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                    \u003c/LinearLayout\u003e\r\n-\r\n-                \u003c/LinearLayout\u003e\r\n-\r\n-            \u003c/android.support.v7.widget.CardView\u003e\r\n-\r\n-        \u003c/LinearLayout\u003e\r\n-\r\n-    \u003c/android.support.v4.widget.NestedScrollView\u003e\r\n+        android:clipToPadding\u003d\"false\"/\u003e\r\n \r\n     \u003cView\r\n         android:layout_width\u003d\"match_parent\"\r"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_about_item_footer.xml",
          "patch": "@@ -0,0 +1,63 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cLinearLayout\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:orientation\u003d\"vertical\"\r\n+    android:padding\u003d\"@dimen/content_margin\"\r\n+    android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+    \u003cTextView\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:text\u003d\"@string/about_dashboard\"\r\n+        android:textSize\u003d\"@dimen/text_content_title\"\r\n+        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+        fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003cTextView\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+        android:text\u003d\"@string/about_dashboard_dev\"\r\n+        android:textSize\u003d\"@dimen/text_content\"\r\n+        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+        fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"horizontal\"\r\n+        android:gravity\u003d\"end\"\r\n+        android:layout_marginTop\u003d\"@dimen/content_margin\"\u003e\r\n+\r\n+        \u003candroid.support.v7.widget.AppCompatButton\r\n+            android:id\u003d\"@+id/dev_google_plus\"\r\n+            android:layout_width\u003d\"wrap_content\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:gravity\u003d\"center\"\r\n+            android:text\u003d\"@string/about_dashboard_dev_google_plus_title\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            android:maxLines\u003d\"1\"\r\n+            android:ellipsize\u003d\"end\"\r\n+            app:backgroundTint\u003d\"?attr/card_background\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003candroid.support.v7.widget.AppCompatButton\r\n+            android:id\u003d\"@+id/dev_github\"\r\n+            android:layout_width\u003d\"wrap_content\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:gravity\u003d\"center\"\r\n+            android:text\u003d\"@string/about_dashboard_dev_github_title\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            android:maxLines\u003d\"1\"\r\n+            android:ellipsize\u003d\"end\"\r\n+            app:backgroundTint\u003d\"?attr/colorAccent\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+\u003c/LinearLayout\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_about_item_header.xml",
          "patch": "@@ -0,0 +1,111 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cLinearLayout\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:orientation\u003d\"vertical\"\r\n+    android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+    \u003ccom.dm.wallpaper.board.utils.views.HeaderView\r\n+        android:id\u003d\"@+id/image\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"match_parent\"\r\n+        android:scaleType\u003d\"centerCrop\"\r\n+        app:heightRatio\u003d\"7\"\r\n+        app:widthRatio\u003d\"16\"/\u003e\r\n+\r\n+    \u003ccom.mikhaellopez.circularimageview.CircularImageView\r\n+        android:id\u003d\"@+id/profile\"\r\n+        android:layout_width\u003d\"@dimen/about_profile\"\r\n+        android:layout_height\u003d\"@dimen/about_profile\"\r\n+        android:layout_marginTop\u003d\"@dimen/about_profile_margin_top\"\r\n+        android:layout_gravity\u003d\"center_horizontal\"\r\n+        app:civ_border_color\u003d\"?attr/card_background\"\r\n+        app:civ_border_width\u003d\"@dimen/about_profile_border\"\r\n+        app:civ_shadow\u003d\"true\"\r\n+        app:civ_shadow_radius\u003d\"12\"\r\n+        app:civ_shadow_color\u003d\"#22000000\"/\u003e\r\n+\r\n+    \u003cTextView\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+        android:layout_marginLeft\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginStart\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginRight\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginEnd\u003d\"@dimen/content_margin\"\r\n+        android:gravity\u003d\"center_horizontal\"\r\n+        android:text\u003d\"@string/about_title\"\r\n+        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+        android:textSize\u003d\"@dimen/text_title\"\r\n+        fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003corg.sufficientlysecure.htmltextview.HtmlTextView\r\n+        android:id\u003d\"@+id/subtitle\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+        android:layout_marginLeft\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginStart\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginRight\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginEnd\u003d\"@dimen/content_margin\"\r\n+        android:paddingTop\u003d\"@dimen/content_padding\"\r\n+        android:gravity\u003d\"center_horizontal\"\r\n+        android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n+        android:textSize\u003d\"@dimen/text_content\"\r\n+        fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"horizontal\"\r\n+        android:padding\u003d\"@dimen/content_margin\"\r\n+        android:gravity\u003d\"end\"\u003e\r\n+\r\n+        \u003candroid.support.v7.widget.AppCompatButton\r\n+            android:id\u003d\"@+id/link2\"\r\n+            android:layout_width\u003d\"wrap_content\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:gravity\u003d\"center\"\r\n+            android:text\u003d\"@string/about_link_2_title\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            android:maxLines\u003d\"1\"\r\n+            android:ellipsize\u003d\"end\"\r\n+            app:backgroundTint\u003d\"?attr/card_background\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003candroid.support.v7.widget.AppCompatButton\r\n+            android:id\u003d\"@+id/link1\"\r\n+            android:layout_width\u003d\"wrap_content\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:gravity\u003d\"center\"\r\n+            android:text\u003d\"@string/about_link_1_title\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            android:maxLines\u003d\"1\"\r\n+            android:ellipsize\u003d\"end\"\r\n+            app:backgroundTint\u003d\"?attr/card_background\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+        \u003candroid.support.v7.widget.AppCompatButton\r\n+            android:id\u003d\"@+id/email\"\r\n+            android:layout_width\u003d\"wrap_content\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:gravity\u003d\"center\"\r\n+            android:text\u003d\"@string/about_email_title\"\r\n+            android:textSize\u003d\"@dimen/text_content\"\r\n+            android:maxLines\u003d\"1\"\r\n+            android:ellipsize\u003d\"end\"\r\n+            app:backgroundTint\u003d\"?attr/colorAccent\"\r\n+            fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+    \u003cView\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"@dimen/content_divider_size\"\r\n+        android:background\u003d\"?android:attr/listDivider\" /\u003e\r\n+\r\n+\u003c/LinearLayout\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_about_item_sub.xml",
          "patch": "@@ -0,0 +1,29 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cLinearLayout\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:orientation\u003d\"vertical\"\r\n+    android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+    \u003cTextView\r\n+        android:id\u003d\"@+id/title\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:padding\u003d\"@dimen/content_margin\"\r\n+        android:drawablePadding\u003d\"@dimen/content_margin\"\r\n+        android:gravity\u003d\"center_vertical\"\r\n+        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+        android:textSize\u003d\"@dimen/text_content_title\"\r\n+        android:background\u003d\"?attr/selectableItemBackground\"\r\n+        android:theme\u003d\"@style/ButtonStyle\"\r\n+        fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003cView\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"@dimen/content_divider_size\"\r\n+        android:background\u003d\"?android:attr/listDivider\" /\u003e\r\n+\r\n+\u003c/LinearLayout\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_credits_item_list.xml",
          "patch": "@@ -2,25 +2,24 @@\n \u003cLinearLayout\r\n     android:id\u003d\"@+id/container\"\r\n     xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n-    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n     xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n     tools:ignore\u003d\"MissingPrefix\"\r\n     android:layout_height\u003d\"wrap_content\"\r\n     android:layout_width\u003d\"match_parent\"\r\n     android:orientation\u003d\"vertical\"\r\n-    android:padding\u003d\"@dimen/card_padding\"\r\n+    android:padding\u003d\"@dimen/content_margin\"\r\n     android:gravity\u003d\"center_vertical\"\r\n     android:background\u003d\"?attr/selectableItemBackground\"\r\n-    app:theme\u003d\"@style/ButtonStyle\"\u003e\r\n+    android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n \r\n     \u003cTextView\r\n         android:id\u003d\"@+id/title\"\r\n         android:layout_width\u003d\"match_parent\"\r\n         android:layout_height\u003d\"wrap_content\"\r\n-        android:paddingLeft\u003d\"@dimen/card_padding\"\r\n-        android:paddingStart\u003d\"@dimen/card_padding\"\r\n-        android:paddingRight\u003d\"@dimen/card_padding\"\r\n-        android:paddingEnd\u003d\"@dimen/card_padding\"\r\n+        android:paddingLeft\u003d\"@dimen/content_margin\"\r\n+        android:paddingStart\u003d\"@dimen/content_margin\"\r\n+        android:paddingRight\u003d\"@dimen/content_margin\"\r\n+        android:paddingEnd\u003d\"@dimen/content_margin\"\r\n         android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n         android:textSize\u003d\"@dimen/text_content_subtitle\"\r\n         fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n@@ -29,10 +28,10 @@\n         android:id\u003d\"@+id/subtitle\"\r\n         android:layout_width\u003d\"match_parent\"\r\n         android:layout_height\u003d\"wrap_content\"\r\n-        android:paddingLeft\u003d\"@dimen/card_padding\"\r\n-        android:paddingStart\u003d\"@dimen/card_padding\"\r\n-        android:paddingRight\u003d\"@dimen/card_padding\"\r\n-        android:paddingEnd\u003d\"@dimen/card_padding\"\r\n+        android:paddingLeft\u003d\"@dimen/content_margin\"\r\n+        android:paddingStart\u003d\"@dimen/content_margin\"\r\n+        android:paddingRight\u003d\"@dimen/content_margin\"\r\n+        android:paddingEnd\u003d\"@dimen/content_margin\"\r\n         android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n         android:textSize\u003d\"@dimen/text_content\"\r\n         fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_filter_item_list.xml",
          "patch": "@@ -1,7 +1,6 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cLinearLayout\r\n     xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n-    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n     xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n     tools:ignore\u003d\"MissingPrefix\"\r\n     android:id\u003d\"@+id/container\"\r\n@@ -16,26 +15,24 @@\n     android:paddingRight\u003d\"@dimen/dialog_content_padding\"\r\n     android:paddingEnd\u003d\"@dimen/dialog_content_padding\"\r\n     android:background\u003d\"?attr/selectableItemBackground\"\r\n-    app:theme\u003d\"@style/ButtonStyle\"\u003e\r\n+    android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n \r\n     \u003candroid.support.v7.widget.AppCompatCheckBox\r\n         android:id\u003d\"@+id/checkbox\"\r\n         android:layout_width\u003d\"wrap_content\"\r\n         android:layout_height\u003d\"wrap_content\"\r\n         android:clickable\u003d\"false\"\r\n         android:background\u003d\"@android:color/transparent\"\r\n-        app:theme\u003d\"@style/CheckBoxStyle\"/\u003e\r\n+        android:theme\u003d\"@style/CheckBoxStyle\"/\u003e\r\n \r\n     \u003cTextView\r\n         android:id\u003d\"@+id/title\"\r\n         android:layout_width\u003d\"0dp\"\r\n         android:layout_weight\u003d\"1\"\r\n         android:layout_height\u003d\"wrap_content\"\r\n-        android:paddingLeft\u003d\"@dimen/card_padding\"\r\n-        android:paddingStart\u003d\"@dimen/card_padding\"\r\n+        android:paddingLeft\u003d\"@dimen/content_margin\"\r\n+        android:paddingStart\u003d\"@dimen/content_margin\"\r\n         android:textSize\u003d\"@dimen/text_content_title\"\r\n-        android:singleLine\u003d\"true\"\r\n-        android:ellipsize\u003d\"end\"\r\n         android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n         fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n \r"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_settings.xml",
          "patch": "@@ -1,155 +1,14 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n-\u003cFrameLayout xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n-    xmlns:app\u003d\"http://schemas.android.com/apk/res-auto\"\r\n-    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n-    tools:ignore\u003d\"MissingPrefix\"\r\n-    android:orientation\u003d\"vertical\"\r\n+\u003cFrameLayout\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n     android:layout_width\u003d\"match_parent\"\r\n     android:layout_height\u003d\"match_parent\"\u003e\r\n \r\n-    \u003candroid.support.v4.widget.NestedScrollView\r\n-        android:id\u003d\"@+id/scrollview\"\r\n+    \u003candroid.support.v7.widget.RecyclerView\r\n+        android:id\u003d\"@+id/recyclerview\"\r\n         android:layout_width\u003d\"match_parent\"\r\n         android:layout_height\u003d\"match_parent\"\r\n-        android:clipToPadding\u003d\"false\"\u003e\r\n-\r\n-        \u003cLinearLayout\r\n-            android:layout_width\u003d\"match_parent\"\r\n-            android:layout_height\u003d\"wrap_content\"\r\n-            android:orientation\u003d\"vertical\"\u003e\r\n-\r\n-            \u003cLinearLayout\r\n-                android:id\u003d\"@+id/pref_cache_clear\"\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                android:padding\u003d\"@dimen/content_margin\"\r\n-                android:orientation\u003d\"vertical\"\r\n-                android:background\u003d\"?attr/selectableItemBackground\"\r\n-                app:theme\u003d\"@style/ButtonStyle\"\u003e\r\n-\r\n-                \u003cTextView\r\n-                    android:layout_width\u003d\"wrap_content\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:text\u003d\"@string/pref_data_cache\"\r\n-                    android:textSize\u003d\"@dimen/text_content_title\"\r\n-                    android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                    fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                \u003cTextView\r\n-                    android:layout_width\u003d\"wrap_content\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:text\u003d\"@string/pref_data_cache_desc\"\r\n-                    android:textSize\u003d\"@dimen/text_content\"\r\n-                    android:layout_marginTop\u003d\"4dp\"\r\n-                    android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n-                    fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-                \u003cTextView\r\n-                    android:id\u003d\"@+id/pref_cache_size\"\r\n-                    android:layout_width\u003d\"wrap_content\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:text\u003d\"@string/pref_data_cache_size\"\r\n-                    android:textSize\u003d\"@dimen/text_content\"\r\n-                    android:layout_marginTop\u003d\"8dp\"\r\n-                    android:textColor\u003d\"?attr/colorAccent\"\r\n-                    fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-            \u003c/LinearLayout\u003e\r\n-\r\n-            \u003cView\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"1dp\"\r\n-                android:layout_marginLeft\u003d\"16dp\"\r\n-                android:layout_marginStart\u003d\"16dp\"\r\n-                android:layout_marginEnd\u003d\"16dp\"\r\n-                android:layout_marginRight\u003d\"16dp\"\r\n-                android:background\u003d\"?attr/divider_list\"/\u003e\r\n-\r\n-            \u003cLinearLayout\r\n-                android:id\u003d\"@+id/pref_dark_theme\"\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                android:orientation\u003d\"horizontal\"\r\n-                android:gravity\u003d\"center_vertical\"\r\n-                android:background\u003d\"?attr/selectableItemBackground\"\r\n-                app:theme\u003d\"@style/ButtonStyle\"\u003e\r\n-\r\n-                \u003cLinearLayout\r\n-                    android:layout_width\u003d\"0dp\"\r\n-                    android:layout_weight\u003d\"1\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:padding\u003d\"16dp\"\r\n-                    android:orientation\u003d\"vertical\"\u003e\r\n-\r\n-                    \u003cTextView\r\n-                        android:layout_width\u003d\"wrap_content\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:text\u003d\"@string/pref_theme_dark\"\r\n-                        android:textSize\u003d\"@dimen/text_content_title\"\r\n-                        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                        fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                    \u003cTextView\r\n-                        android:layout_width\u003d\"wrap_content\"\r\n-                        android:layout_height\u003d\"wrap_content\"\r\n-                        android:text\u003d\"@string/pref_theme_dark_desc\"\r\n-                        android:textSize\u003d\"@dimen/text_content\"\r\n-                        android:layout_marginTop\u003d\"4dp\"\r\n-                        android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n-                        android:textAppearance\u003d\"?android:attr/textAppearanceLarge\"\r\n-                        fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-                \u003c/LinearLayout\u003e\r\n-\r\n-                \u003candroid.support.v7.widget.AppCompatCheckBox\r\n-                    android:id\u003d\"@+id/pref_dark_theme_check\"\r\n-                    android:layout_width\u003d\"wrap_content\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:clickable\u003d\"false\"\r\n-                    android:background\u003d\"@android:color/transparent\"\r\n-                    android:layout_margin\u003d\"16dp\"\r\n-                    app:theme\u003d\"@style/CheckBoxStyle\"/\u003e\r\n-\r\n-            \u003c/LinearLayout\u003e\r\n-\r\n-            \u003cView\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"1dp\"\r\n-                android:layout_marginLeft\u003d\"16dp\"\r\n-                android:layout_marginStart\u003d\"16dp\"\r\n-                android:layout_marginEnd\u003d\"16dp\"\r\n-                android:layout_marginRight\u003d\"16dp\"\r\n-                android:background\u003d\"?attr/divider_list\"/\u003e\r\n-\r\n-            \u003cLinearLayout\r\n-                android:layout_width\u003d\"match_parent\"\r\n-                android:layout_height\u003d\"wrap_content\"\r\n-                android:padding\u003d\"16dp\"\r\n-                android:orientation\u003d\"vertical\"\u003e\r\n-\r\n-                \u003cTextView\r\n-                    android:layout_width\u003d\"wrap_content\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:text\u003d\"@string/pref_wallpaper_location\"\r\n-                    android:textSize\u003d\"@dimen/text_content_title\"\r\n-                    android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n-                    fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n-\r\n-                \u003cTextView\r\n-                    android:id\u003d\"@+id/pref_walls_directory\"\r\n-                    android:layout_width\u003d\"wrap_content\"\r\n-                    android:layout_height\u003d\"wrap_content\"\r\n-                    android:text\u003d\"@string/pref_wallpaper_location_desc\"\r\n-                    android:textSize\u003d\"@dimen/text_content\"\r\n-                    android:layout_marginTop\u003d\"4dp\"\r\n-                    android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n-                    fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n-\r\n-            \u003c/LinearLayout\u003e\r\n-\r\n-        \u003c/LinearLayout\u003e\r\n-\r\n-    \u003c/android.support.v4.widget.NestedScrollView\u003e\r\n+        android:clipToPadding\u003d\"false\"/\u003e\r\n \r\n     \u003cView\r\n         android:layout_width\u003d\"match_parent\"\r"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_settings_item_footer.xml",
          "patch": "@@ -0,0 +1,13 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cRelativeLayout\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:paddingBottom\u003d\"@dimen/content_margin\"\u003e\r\n+\r\n+    \u003cView\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"@dimen/toolbar_shadow\"\r\n+        android:background\u003d\"@drawable/toolbar_shadow\"/\u003e\r\n+\r\n+\u003c/RelativeLayout\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_settings_item_list.xml",
          "patch": "@@ -0,0 +1,88 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cLinearLayout\r\n+    xmlns:android\u003d\"http://schemas.android.com/apk/res/android\"\r\n+    xmlns:tools\u003d\"http://schemas.android.com/tools\"\r\n+    tools:ignore\u003d\"MissingPrefix\"\r\n+    android:layout_width\u003d\"match_parent\"\r\n+    android:layout_height\u003d\"wrap_content\"\r\n+    android:orientation\u003d\"vertical\"\r\n+    android:background\u003d\"?attr/card_background\"\u003e\r\n+\r\n+    \u003cView\r\n+        android:id\u003d\"@+id/divider\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"@dimen/content_divider_size\"\r\n+        android:background\u003d\"?android:attr/listDivider\" /\u003e\r\n+\r\n+    \u003cTextView\r\n+        android:id\u003d\"@+id/title\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:layout_marginTop\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginLeft\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginStart\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginRight\u003d\"@dimen/content_margin\"\r\n+        android:layout_marginEnd\u003d\"@dimen/content_margin\"\r\n+        android:drawablePadding\u003d\"@dimen/content_margin\"\r\n+        android:gravity\u003d\"center_vertical\"\r\n+        android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+        android:textSize\u003d\"@dimen/text_content_header\"\r\n+        fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n+\r\n+    \u003cLinearLayout\r\n+        android:id\u003d\"@+id/container\"\r\n+        android:layout_width\u003d\"match_parent\"\r\n+        android:layout_height\u003d\"wrap_content\"\r\n+        android:orientation\u003d\"horizontal\"\r\n+        android:padding\u003d\"@dimen/content_margin\"\r\n+        android:background\u003d\"?attr/selectableItemBackground\"\r\n+        android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n+\r\n+        \u003cLinearLayout\r\n+            android:layout_width\u003d\"0dp\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:layout_weight\u003d\"1\"\r\n+            android:orientation\u003d\"vertical\"\r\n+            android:paddingStart\u003d\"@dimen/settings_content_margin_start\"\r\n+            android:paddingLeft\u003d\"@dimen/settings_content_margin_start\"\u003e\r\n+\r\n+            \u003cTextView\r\n+                android:id\u003d\"@+id/subtitle\"\r\n+                android:layout_width\u003d\"match_parent\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n+                android:textSize\u003d\"@dimen/text_content_title\"\r\n+                fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+            \u003cTextView\r\n+                android:id\u003d\"@+id/content\"\r\n+                android:layout_width\u003d\"match_parent\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+            \u003cTextView\r\n+                android:id\u003d\"@+id/footer\"\r\n+                android:layout_width\u003d\"match_parent\"\r\n+                android:layout_height\u003d\"wrap_content\"\r\n+                android:layout_marginTop\u003d\"@dimen/content_padding\"\r\n+                android:textColor\u003d\"?attr/colorAccent\"\r\n+                android:textSize\u003d\"@dimen/text_content\"\r\n+                fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n+\r\n+        \u003c/LinearLayout\u003e\r\n+\r\n+        \u003candroid.support.v7.widget.AppCompatCheckBox\r\n+            android:id\u003d\"@+id/checkbox\"\r\n+            android:layout_width\u003d\"wrap_content\"\r\n+            android:layout_height\u003d\"wrap_content\"\r\n+            android:layout_marginLeft\u003d\"@dimen/content_margin\"\r\n+            android:layout_marginStart\u003d\"@dimen/content_margin\"\r\n+            android:clickable\u003d\"false\"\r\n+            android:background\u003d\"@android:color/transparent\"\r\n+            android:theme\u003d\"@style/CheckBoxStyle\"/\u003e\r\n+\r\n+    \u003c/LinearLayout\u003e\r\n+\r\n+\u003c/LinearLayout\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_wallpapers.xml",
          "patch": "@@ -20,19 +20,13 @@\n             android:paddingStart\u003d\"@dimen/card_margin_left\"\r\n             android:paddingLeft\u003d\"@dimen/card_margin_left\"\r\n             android:paddingBottom\u003d\"@dimen/card_margin_bottom\"\r\n-            android:clipToPadding\u003d\"false\"/\u003e\r\n+            android:clipToPadding\u003d\"false\"\r\n+            android:scrollbars\u003d\"vertical\"\r\n+            android:scrollbarThumbVertical\u003d\"?attr/colorAccent\"\r\n+            android:scrollbarSize\u003d\"4dp\"/\u003e\r\n \r\n     \u003c/android.support.v4.widget.SwipeRefreshLayout\u003e\r\n \r\n-    \u003ccom.pluscubed.recyclerfastscroll.RecyclerFastScroller\r\n-        android:id\u003d\"@+id/fastscroll\"\r\n-        android:layout_width\u003d\"wrap_content\"\r\n-        android:layout_height\u003d\"match_parent\"\r\n-        android:layout_gravity\u003d\"end\"\r\n-        app:rfs_barColor\u003d\"?attr/fast_scroll\"\r\n-        app:rfs_handleNormalColor\u003d\"?attr/fast_scroll\"\r\n-        app:rfs_handlePressedColor\u003d\"?attr/colorAccent\"/\u003e\r\n-\r\n     \u003cProgressBar\r\n         android:id\u003d\"@+id/progress\"\r\n         android:layout_width\u003d\"wrap_content\"\r"
        },
        {
          "file_name": "library/src/main/res/layout/fragment_wallpapers_item_grid.xml",
          "patch": "@@ -22,13 +22,15 @@\n         android:orientation\u003d\"vertical\"\r\n         android:foreground\u003d\"?attr/selectableItemBackground\"\r\n         android:clickable\u003d\"true\"\r\n-        app:theme\u003d\"@style/ButtonStyle\"\u003e\r\n+        android:theme\u003d\"@style/ButtonStyle\"\u003e\r\n \r\n-        \u003ccom.dm.wallpaper.board.utils.views.WallpaperView\r\n+        \u003ccom.dm.wallpaper.board.utils.views.HeaderView\r\n             android:id\u003d\"@+id/image\"\r\n             android:layout_width\u003d\"match_parent\"\r\n             android:layout_height\u003d\"match_parent\"\r\n-            android:scaleType\u003d\"centerCrop\" /\u003e\r\n+            android:scaleType\u003d\"centerCrop\"\r\n+            app:heightRatio\u003d\"1\"\r\n+            app:widthRatio\u003d\"1\"/\u003e\r\n \r\n         \u003cLinearLayout\r\n             android:layout_width\u003d\"match_parent\"\r\n@@ -40,7 +42,12 @@\n                 android:layout_width\u003d\"0dp\"\r\n                 android:layout_weight\u003d\"1\"\r\n                 android:layout_height\u003d\"wrap_content\"\r\n-                android:padding\u003d\"@dimen/card_padding\"\r\n+                android:paddingTop\u003d\"@dimen/content_margin\"\r\n+                android:paddingBottom\u003d\"@dimen/content_margin\"\r\n+                android:paddingLeft\u003d\"@dimen/content_margin\"\r\n+                android:paddingStart\u003d\"@dimen/content_margin\"\r\n+                android:paddingRight\u003d\"8dp\"\r\n+                android:paddingEnd\u003d\"8dp\"\r\n                 android:orientation\u003d\"vertical\"\u003e\r\n \r\n                 \u003cTextView\r\n@@ -49,7 +56,7 @@\n                     android:layout_height\u003d\"wrap_content\"\r\n                     android:textColor\u003d\"?android:attr/textColorPrimary\"\r\n                     android:textSize\u003d\"@dimen/text_content\"\r\n-                    android:singleLine\u003d\"true\"\r\n+                    android:maxLines\u003d\"1\"\r\n                     android:ellipsize\u003d\"end\"\r\n                     fontPath\u003d\"fonts/Font-Medium.ttf\"/\u003e\r\n \r\n@@ -59,7 +66,7 @@\n                     android:layout_height\u003d\"wrap_content\"\r\n                     android:textColor\u003d\"?android:attr/textColorSecondary\"\r\n                     android:textSize\u003d\"@dimen/text_content\"\r\n-                    android:singleLine\u003d\"true\"\r\n+                    android:maxLines\u003d\"1\"\r\n                     android:ellipsize\u003d\"end\"\r\n                     fontPath\u003d\"fonts/Font-Regular.ttf\"/\u003e\r\n \r\n@@ -73,7 +80,7 @@\n                 android:layout_marginRight\u003d\"@dimen/content_padding\"\r\n                 android:layout_marginEnd\u003d\"@dimen/content_padding\"\r\n                 android:background\u003d\"?attr/selectableItemBackgroundBorderless\"\r\n-                app:theme\u003d\"@style/ButtonStyle\"/\u003e\r\n+                android:theme\u003d\"@style/ButtonStyle\"/\u003e\r\n \r\n         \u003c/LinearLayout\u003e\r\n \r"
        },
        {
          "file_name": "library/src/main/res/raw/licenses.html",
          "patch": "@@ -217,25 +217,6 @@\n limitations under the License.\r\n \u003c/pre\u003e\r\n \u003cul\u003e\r\n-    \u003cli\u003eRecyclerView Fast Scroll\u003c/li\u003e\r\n-\u003c/ul\u003e\r\n-\r\n-\u003cpre\u003e\r\n-Copyright (c) 2016 Daniel Ciao\r\n-\r\n-Licensed under the Apache License, Version 2.0 (the \"License\");\r\n-you may not use this file except in compliance with the License.\r\n-You may obtain a copy of the License at\r\n-\r\n-   http://www.apache.org/licenses/LICENSE-2.0\r\n-\r\n-Unless required by applicable law or agreed to in writing, software\r\n-distributed under the License is distributed on an \"AS IS\" BASIS,\r\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n-See the License for the specific language governing permissions and\r\n-limitations under the License.\r\n-\u003c/pre\u003e\r\n-\u003cul\u003e\r\n     \u003cli\u003eDrawMe\u003c/li\u003e\r\n \u003c/ul\u003e\r\n \r"
        },
        {
          "file_name": "library/src/main/res/values-land-v21/bools.xml",
          "patch": "@@ -0,0 +1,7 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cresources\u003e\r\n+\r\n+    \u003c!-- View --\u003e\r\n+    \u003cbool name\u003d\"view_fitsystemwindow\"\u003efalse\u003c/bool\u003e\r\n+\r\n+\u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-land/integers.xml",
          "patch": "@@ -1,6 +1,8 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cresources\u003e\r\n \r\n-    \u003cinteger name\u003d\"column_num\"\u003e3\u003c/integer\u003e\r\n+    \u003cinteger name\u003d\"wallpapers_column_count\"\u003e3\u003c/integer\u003e\r\n+\r\n+    \u003cinteger name\u003d\"about_column_count\"\u003e2\u003c/integer\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-sw600dp-land/integers.xml",
          "patch": "@@ -1,6 +1,6 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cresources\u003e\r\n \r\n-    \u003cinteger name\u003d\"column_num\"\u003e4\u003c/integer\u003e\r\n+    \u003cinteger name\u003d\"wallpapers_column_count\"\u003e4\u003c/integer\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-sw600dp-v21/bools.xml",
          "patch": "@@ -0,0 +1,7 @@\n+\u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n+\u003cresources\u003e\r\n+\r\n+    \u003c!-- View --\u003e\r\n+    \u003cbool name\u003d\"view_fitsystemwindow\"\u003etrue\u003c/bool\u003e\r\n+\r\n+\u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-sw600dp/dimens.xml",
          "patch": "@@ -6,7 +6,8 @@\n     \u003cdimen name\u003d\"splash_screen_text\"\u003e16sp\u003c/dimen\u003e\r\n \r\n     \u003c!-- About header image height --\u003e\r\n-    \u003cdimen name\u003d\"about_profile\"\u003e110dp\u003c/dimen\u003e\r\n-    \u003cdimen name\u003d\"about_image_height\"\u003e180dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"about_profile\"\u003e140dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"about_profile_border\"\u003e4dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"about_profile_margin_top\"\u003e-70dp\u003c/dimen\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-sw600dp/integers.xml",
          "patch": "@@ -1,6 +1,6 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cresources\u003e\r\n \r\n-    \u003cinteger name\u003d\"column_num\"\u003e3\u003c/integer\u003e\r\n+    \u003cinteger name\u003d\"wallpapers_column_count\"\u003e3\u003c/integer\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-v21/bools.xml",
          "patch": "@@ -4,6 +4,7 @@\n     \u003c!-- Card --\u003e\r\n     \u003cbool name\u003d\"card_use_compat_padding\"\u003efalse\u003c/bool\u003e\r\n \r\n-    \u003cbool name\u003d\"tablet_mode\"\u003efalse\u003c/bool\u003e\r\n+    \u003c!-- View --\u003e\r\n+    \u003cbool name\u003d\"view_fitsystemwindow\"\u003etrue\u003c/bool\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-v21/dimens.xml",
          "patch": "@@ -6,8 +6,7 @@\n     \u003cdimen name\u003d\"card_margin_left\"\u003e4dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_margin_top\"\u003e4dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_margin_bottom\"\u003e4dp\u003c/dimen\u003e\r\n-    \u003cdimen name\u003d\"card_padding_bottom\"\u003e4dp\u003c/dimen\u003e\r\n-    \u003cdimen name\u003d\"card_elevation\"\u003e2.5dp\u003c/dimen\u003e\r\n+\r\n     \u003cdimen name\u003d\"card_corner_radius\"\u003e2dp\u003c/dimen\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values-v21/styles.xml",
          "patch": "@@ -8,9 +8,8 @@\n         \u003citem name\u003d\"android:windowAllowReturnTransitionOverlap\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowSharedElementEnterTransition\"\u003e@android:transition/move\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowSharedElementExitTransition\"\u003e@android:transition/move\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:windowDrawsSystemBarBackgrounds\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:statusBarColor\"\u003e@android:color/transparent\u003c/item\u003e\r\n-        \u003citem name\u003d\"windowActionModeOverlay\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowTranslucentStatus\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowTranslucentNavigation\"\u003etrue\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n@@ -21,10 +20,40 @@\n         \u003citem name\u003d\"android:windowAllowReturnTransitionOverlap\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowSharedElementEnterTransition\"\u003e@android:transition/move\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowSharedElementExitTransition\"\u003e@android:transition/move\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:windowDrawsSystemBarBackgrounds\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:statusBarColor\"\u003e@android:color/transparent\u003c/item\u003e\r\n-        \u003citem name\u003d\"windowActionModeOverlay\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowTranslucentStatus\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowTranslucentNavigation\"\u003etrue\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n+    \u003c!-- Wallpaper Theme --\u003e\r\n+    \u003cstyle name\u003d\"WallpaperTheme\" parent\u003d\"AppTheme\"\u003e\r\n+        \u003citem name\u003d\"android:windowTranslucentStatus\"\u003efalse\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowDrawsSystemBarBackgrounds\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowIsTranslucent\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowBackground\"\u003e@android:color/transparent\u003c/item\u003e\r\n+    \u003c/style\u003e\r\n+\r\n+    \u003c!-- Wallpaper Theme Dark --\u003e\r\n+    \u003cstyle name\u003d\"WallpaperThemeDark\" parent\u003d\"AppThemeDark\"\u003e\r\n+        \u003citem name\u003d\"android:windowTranslucentStatus\"\u003efalse\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowDrawsSystemBarBackgrounds\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowIsTranslucent\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowBackground\"\u003e@android:color/transparent\u003c/item\u003e\r\n+    \u003c/style\u003e\r\n+\r\n+\r\n+    \u003c!-- Muzei Theme --\u003e\r\n+    \u003cstyle name\u003d\"MuzeiTheme\" parent\u003d\"AppTheme\"\u003e\r\n+        \u003citem name\u003d\"android:windowDrawsSystemBarBackgrounds\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowTranslucentStatus\"\u003efalse\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowBackground\"\u003e@color/mainBackground\u003c/item\u003e\r\n+    \u003c/style\u003e\r\n+\r\n+    \u003c!-- Muzei Theme --\u003e\r\n+    \u003cstyle name\u003d\"MuzeiThemeDark\" parent\u003d\"AppThemeDark\"\u003e\r\n+        \u003citem name\u003d\"android:windowDrawsSystemBarBackgrounds\"\u003etrue\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowTranslucentStatus\"\u003efalse\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowBackground\"\u003e@color/mainBackgroundDark\u003c/item\u003e\r\n+    \u003c/style\u003e\r\n+\r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values/attrs.xml",
          "patch": "@@ -6,15 +6,12 @@\n     \u003cattr name\u003d\"ripple_color\" format\u003d\"color\"/\u003e\r\n     \u003cattr name\u003d\"ripple_accent\" format\u003d\"color\"/\u003e\r\n     \u003cattr name\u003d\"divider_list\" format\u003d\"color\"/\u003e\r\n-    \u003cattr name\u003d\"fast_scroll\" format\u003d\"color\"/\u003e\r\n \r\n-    \u003cattr name\u003d\"toolbar_color\" format\u003d\"color\"/\u003e\r\n-    \u003cattr name\u003d\"toolbar_accent\" format\u003d\"color\"/\u003e\r\n     \u003cattr name\u003d\"toolbar_icon\" format\u003d\"color\"/\u003e\r\n-    \u003cattr name\u003d\"toolbar_hint\" format\u003d\"color\"/\u003e\r\n \r\n-    \u003cattr name\u003d\"search_toolbar_color\" format\u003d\"color\"/\u003e\r\n-    \u003cattr name\u003d\"search_toolbar_icon\" format\u003d\"color\"/\u003e\r\n-    \u003cattr name\u003d\"search_toolbar_hint\" format\u003d\"color\"/\u003e\r\n+    \u003cdeclare-styleable name\u003d\"HeaderView\"\u003e\r\n+        \u003cattr name\u003d\"widthRatio\" format\u003d\"integer\"/\u003e\r\n+        \u003cattr name\u003d\"heightRatio\" format\u003d\"integer\"/\u003e\r\n+    \u003c/declare-styleable\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values/bools.xml",
          "patch": "@@ -4,4 +4,9 @@\n     \u003c!-- Card --\u003e\r\n     \u003cbool name\u003d\"card_use_compat_padding\"\u003etrue\u003c/bool\u003e\r\n \r\n+    \u003cbool name\u003d\"tablet_mode\"\u003efalse\u003c/bool\u003e\r\n+\r\n+    \u003c!-- View --\u003e\r\n+    \u003cbool name\u003d\"view_fitsystemwindow\"\u003efalse\u003c/bool\u003e\r\n+\r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values/colors.xml",
          "patch": "@@ -1,71 +1,62 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cresources\u003e\r\n \r\n-    \u003ccolor name\u003d\"colorPrimary\"\u003e#828282\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"colorPrimaryDark\"\u003e#E0E0E0\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"colorAccent\"\u003e#F44336\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"colorPrimary\"\u003e#DC4316\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"colorPrimaryDark\"\u003e#C43916\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"colorAccent\"\u003e#F25A16\u003c/color\u003e\r\n \r\n-    \u003ccolor name\u003d\"darkColorPrimary\"\u003e#FFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"darkColorPrimaryDark\"\u003e#121212\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"darkColorAccent\"\u003e#F44336\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"darkColorPrimary\"\u003e#DC4316\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"darkColorPrimaryDark\"\u003e#C43916\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"darkColorAccent\"\u003e#F25A16\u003c/color\u003e\r\n \r\n     \u003c!-- Splash Screen --\u003e\r\n     \u003ccolor name\u003d\"splashColor\"\u003e#F2F2F2\u003c/color\u003e\r\n \r\n     \u003c!-- Toolbar --\u003e\r\n-    \u003ccolor name\u003d\"toolbar\"\u003e#F5F5F5\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"toolbarDark\"\u003e#181818\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"toolbarIcon\"\u003e#424242\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"toolbarIconDark\"\u003e#BBFFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"toolbarHintText\"\u003e#44FFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"toolbarHintTextDark\"\u003e#44FFFFFF\u003c/color\u003e\r\n-\r\n-    \u003c!-- Toolbar Search --\u003e\r\n-    \u003ccolor name\u003d\"searchToolbar\"\u003e#F5F5F5\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"searchToolbarDark\"\u003e#181818\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"searchToolbarIcon\"\u003e#424242\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"searchToolbarIconDark\"\u003e#DDFFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"searchToolbarHintText\"\u003e#44000000\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"searchToolbarHintTextDark\"\u003e#44FFFFFF\u003c/color\u003e\r\n-\r\n-    \u003c!-- Popup Bubble --\u003e\r\n-    \u003ccolor name\u003d\"popupBubble\"\u003e#F44336\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"popupBubbleText\"\u003e#FFFFFF\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"toolbarIcon\"\u003e#FFFFFF\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"toolbarIconDark\"\u003e#FFFFFF\u003c/color\u003e\r\n \r\n     \u003c!-- Navigation View --\u003e\r\n     \u003ccolor name\u003d\"navigationViewTitle\"\u003e#FFFFFF\u003c/color\u003e\r\n     \u003ccolor name\u003d\"navigationViewTitleBack\"\u003e#55000000\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"navigationViewText\"\u003e#484848\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"navigationViewTextDark\"\u003e#DDFFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"navigationViewTextSelected\"\u003e#F44336\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"navigationViewTextSelectedDark\"\u003e#F44336\u003c/color\u003e\r\n+\r\n+    \u003ccolor name\u003d\"navigationViewText\"\u003e#D9000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"navigationViewTextDark\"\u003e#FFFFFF\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"navigationViewTextSelected\"\u003e#DC4316\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"navigationViewTextSelectedDark\"\u003e#DC4316\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"navigationViewSelectedBackground\"\u003e#00000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"navigationViewSelectedBackgroundDark\"\u003e#00000000\u003c/color\u003e\r\n+\r\n+    \u003c!-- Popup Bubble --\u003e\r\n+    \u003ccolor name\u003d\"popupBubble\"\u003e#F25A16\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"popupBubbleText\"\u003e#FFFFFF\u003c/color\u003e\r\n \r\n     \u003c!-- Card --\u003e\r\n     \u003ccolor name\u003d\"cardBackground\"\u003e#FFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"cardBackgroundDark\"\u003e#181818\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"rippleColor\"\u003e#55000000\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"rippleColorDark\"\u003e#55FFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"rippleAccent\"\u003e#44F44336\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"rippleAccentDark\"\u003e#44F44336\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"cardBackgroundDark\"\u003e#222222\u003c/color\u003e\r\n+\r\n+    \u003c!-- Ripple --\u003e\r\n+    \u003ccolor name\u003d\"rippleColor\"\u003e#4D000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"rippleColorDark\"\u003e#4DFFFFFF\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"rippleAccent\"\u003e#44DC4316\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"rippleAccentDark\"\u003e#44DC4316\u003c/color\u003e\r\n \r\n     \u003c!-- Attributes --\u003e\r\n-    \u003ccolor name\u003d\"mainBackground\"\u003e#FAFAFA\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"mainBackgroundDark\"\u003e#000000\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"primaryText\"\u003e#484848\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"primaryTextDark\"\u003e#EEFFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"secondaryText\"\u003e#777777\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"secondaryTextDark\"\u003e#99FFFFFF\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"dividerList\"\u003e#EEEEEE\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"dividerListDark\"\u003e#22FFFFFF\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"mainBackground\"\u003e#EAEAEA\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"mainBackgroundDark\"\u003e#181818\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"primaryText\"\u003e#D9000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"primaryTextDark\"\u003e#FFFFFF\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"secondaryText\"\u003e#8C000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"secondaryTextDark\"\u003e#B3FFFFFF\u003c/color\u003e\r\n \r\n-    \u003ccolor name\u003d\"fastScrollTrack\"\u003e#666666\u003c/color\u003e\r\n-    \u003ccolor name\u003d\"fastScrollTrackDark\"\u003e#BBBBBB\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"dividerList\"\u003e#18000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"dividerListDark\"\u003e#18FFFFFF\u003c/color\u003e\r\n \r\n     \u003c!-- Favorite Wallpaper --\u003e\r\n-    \u003ccolor name\u003d\"favoriteColor\"\u003e#F44336\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"favoriteColor\"\u003e#DC4316\u003c/color\u003e\r\n \r\n     \u003c!-- Wallpaper Preview --\u003e\r\n-    \u003ccolor name\u003d\"wallpaperStatusBar\"\u003e#88000000\u003c/color\u003e\r\n+    \u003ccolor name\u003d\"wallpaperStatusBar\"\u003e#AA000000\u003c/color\u003e\r\n     \u003ccolor name\u003d\"wallpaperToolbar\"\u003e#66000000\u003c/color\u003e\r\n \r\n \u003c/resources\u003e\r"
        },
        {
          "file_name": "library/src/main/res/values/dashboard_strings.xml",
          "patch": "@@ -48,6 +48,9 @@\n     \u003cstring name\u003d\"wallpaper_scroll_disable_desc\"\u003eDashboard will apply wallpaper based on current view of wallpaper.\r\n         Drag to left or right to adjust wallpaper. Pinch or double tap to zoom wallpaper.\u003c/string\u003e\r\n \r\n+    \u003cstring name\u003d\"wallpaper_favorite_added\"\u003e%s added to favorite\u003c/string\u003e\r\n+    \u003cstring name\u003d\"wallpaper_favorite_removed\"\u003e%s removed from favorite\u003c/string\u003e\r\n+\r\n     \u003c!-- Muzei --\u003e\r\n     \u003cstring name\u003d\"minute\"\u003eMinute\u003c/string\u003e\r\n     \u003cstring name\u003d\"hour\"\u003eHour\u003c/string\u003e\r\n@@ -73,18 +76,21 @@\n     \u003cstring name\u003d\"billing_load_product_failed\"\u003eUnable to load InApp Purchase products\u003c/string\u003e\r\n \r\n     \u003c!-- Preferences --\u003e\r\n+    \u003cstring name\u003d\"pref_data_header\"\u003eData \u0026amp; Cache\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_data_cache\"\u003eClear Cache\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_data_cache_desc\"\u003eRemove image cache from your storage created\r\n         after loading cloud wallpaper thumbnails\u003c/string\u003e\r\n-    \u003cstring name\u003d\"pref_data_cache_size\"\u003eCache Size :\u003c/string\u003e\r\n+    \u003cstring name\u003d\"pref_data_cache_size\"\u003eCache Size: %s\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_data_cache_cleared\"\u003eCache Cleared\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_data_cache_clear_dialog\"\u003eDo you really want to clear cache?\u003c/string\u003e\r\n \r\n+    \u003cstring name\u003d\"pref_theme_header\"\u003eTheme\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_theme_dark\"\u003eDark Theme\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_theme_dark_desc\"\u003eSwitch between dark or light theme\u003c/string\u003e\r\n \r\n+    \u003cstring name\u003d\"pref_wallpaper_header\"\u003eWallpaper\u003c/string\u003e\r\n     \u003cstring name\u003d\"pref_wallpaper_location\"\u003eWallpaper Save Location\u003c/string\u003e\r\n-    \u003cstring name\u003d\"pref_wallpaper_location_desc\"\u003eTry to download at least one wallpaper first.\u003c/string\u003e\r\n+    \u003cstring name\u003d\"pref_wallpaper_location_desc\"\u003eTry to download at least one wallpaper first\u003c/string\u003e\r\n \r\n     \u003c!-- Permission --\u003e\r\n     \u003cstring name\u003d\"permission_storage_denied\"\u003eStorage permission needed to save wallpaper\u003c/string\u003e\r\n@@ -102,7 +108,7 @@\n     \u003cstring name\u003d\"license_check_retry\"\u003eUnable to check license, please try again in a few moments\u003c/string\u003e\r\n \r\n     \u003c!-- Search --\u003e\r\n-    \u003cstring name\u003d\"search_result_empty\"\u003eNo result found for %s\u003c/string\u003e\r\n+    \u003cstring name\u003d\"search_result_empty\"\u003eNo result found for \\\"%s\\\"\u003c/string\u003e\r\n \r\n     \u003c!-- Crash Report --\u003e\r\n     \u003cstring name\u003d\"crash_report\"\u003eCrash Report\u003c/string\u003e\r\n@@ -122,7 +128,6 @@\n \r\n     \u003c!-- Splash screen --\u003e\r\n     \u003cstring name\u003d\"splash_screen_title\"\u003eWallpaper Board\u003c/string\u003e\r\n-    \u003cstring name\u003d\"splash_screen_loading\"\u003ePreparing %s …\u003c/string\u003e\r\n \r\n     \u003c!-- DrawerToggle --\u003e\r\n     \u003cstring name\u003d\"txt_open\"\u003eOpen\u003c/string\u003e\r"
        },
        {
          "file_name": "library/src/main/res/values/dimens.xml",
          "patch": "@@ -2,37 +2,40 @@\n \u003cresources\u003e\r\n \r\n     \u003cdimen name\u003d\"content_margin\"\u003e16dp\u003c/dimen\u003e\r\n-    \u003cdimen name\u003d\"content_padding\"\u003e6dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"content_padding\"\u003e8dp\u003c/dimen\u003e\r\n+\r\n+    \u003cdimen name\u003d\"content_divider_size\"\u003e1dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- Card Global --\u003e\r\n-    \u003cdimen name\u003d\"card_padding\"\u003e14dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_margin_right\"\u003e3dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_margin_left\"\u003e3dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_margin_top\"\u003e4dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_margin_bottom\"\u003e1dp\u003c/dimen\u003e\r\n+\r\n     \u003cdimen name\u003d\"card_padding_bottom\"\u003e4dp\u003c/dimen\u003e\r\n-    \u003cdimen name\u003d\"card_elevation\"\u003e2.5dp\u003c/dimen\u003e\r\n+\r\n+    \u003cdimen name\u003d\"card_elevation\"\u003e2dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"card_corner_radius\"\u003e0dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- FAB --\u003e\r\n     \u003cdimen name\u003d\"fab_size\"\u003e56dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- Default Image --\u003e\r\n-    \u003cdimen name\u003d\"default_image_padding\"\u003e40dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"default_image_padding\"\u003e50dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- Toolbar --\u003e\r\n-    \u003cdimen name\u003d\"toolbar_shadow\"\u003e8dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"toolbar_shadow\"\u003e4dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- Dialog --\u003e\r\n-    \u003cdimen name\u003d\"dialog_content_padding\"\u003e20dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"dialog_content_padding\"\u003e24dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"dialog_item_padding\"\u003e8dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- Button --\u003e\r\n     \u003cdimen name\u003d\"button_padding\"\u003e10dp\u003c/dimen\u003e\r\n \r\n     \u003c!-- Text --\u003e\r\n-    \u003cdimen name\u003d\"text_toolbar_logo\"\u003e22sp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"text_toolbar_title\"\u003e20sp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"text_title\"\u003e24sp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"text_content_header\"\u003e18sp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"text_content_title\"\u003e16sp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"text_content_subtitle\"\u003e15sp\u003c/dimen\u003e\r\n@@ -42,8 +45,12 @@\n     \u003cdimen name\u003d\"splash_screen_logo\"\u003e96dp\u003c/dimen\u003e\r\n     \u003cdimen name\u003d\"splash_screen_text\"\u003e14sp\u003c/dimen\u003e\r\n \r\n+    \u003c!-- Settings --\u003e\r\n+    \u003cdimen name\u003d\"settings_content_margin_start\"\u003e40dp\u003c/dimen\u003e\r\n+\r\n     \u003c!-- About header image height --\u003e\r\n-    \u003cdimen name\u003d\"about_profile\"\u003e96dp\u003c/dimen\u003e\r\n-    \u003cdimen name\u003d\"about_image_height\"\u003e120dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"about_profile\"\u003e120dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"about_profile_border\"\u003e3dp\u003c/dimen\u003e\r\n+    \u003cdimen name\u003d\"about_profile_margin_top\"\u003e-60dp\u003c/dimen\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values/integers.xml",
          "patch": "@@ -1,6 +1,8 @@\n \u003c?xml version\u003d\"1.0\" encoding\u003d\"utf-8\"?\u003e\r\n \u003cresources\u003e\r\n \r\n-    \u003cinteger name\u003d\"column_num\"\u003e2\u003c/integer\u003e\r\n+    \u003cinteger name\u003d\"wallpapers_column_count\"\u003e2\u003c/integer\u003e\r\n+\r\n+    \u003cinteger name\u003d\"about_column_count\"\u003e1\u003c/integer\u003e\r\n \r\n \u003c/resources\u003e\n\\ No newline at end of file"
        },
        {
          "file_name": "library/src/main/res/values/styles.xml",
          "patch": "@@ -3,41 +3,37 @@\n     \u003c!-- Base Application Theme --\u003e\r\n     \u003cstyle name\u003d\"AppBaseTheme\" parent\u003d\"@style/Theme.AppCompat.Light.DarkActionBar\"\u003e\r\n         \u003citem name\u003d\"android:windowAnimationStyle\"\u003e@null\u003c/item\u003e\r\n-        \u003citem name\u003d\"windowActionModeOverlay\"\u003etrue\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n     \u003c!-- Base Application Theme --\u003e\r\n     \u003cstyle name\u003d\"AppBaseThemeDark\" parent\u003d\"@style/Theme.AppCompat\"\u003e\r\n         \u003citem name\u003d\"android:windowAnimationStyle\"\u003e@null\u003c/item\u003e\r\n-        \u003citem name\u003d\"windowActionModeOverlay\"\u003etrue\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n     \u003c!-- App Theme--\u003e\r\n     \u003cstyle name\u003d\"AppTheme\" parent\u003d\"AppBaseTheme\"\u003e\r\n         \u003citem name\u003d\"colorPrimary\"\u003e@color/colorPrimary\u003c/item\u003e\r\n         \u003citem name\u003d\"colorPrimaryDark\"\u003e@color/colorPrimaryDark\u003c/item\u003e\r\n         \u003citem name\u003d\"colorAccent\"\u003e@color/colorAccent\u003c/item\u003e\r\n+        \u003citem name\u003d\"colorControlNormal\"\u003e@color/toolbarIcon\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:textColorPrimary\"\u003e@color/primaryText\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:textColorSecondary\"\u003e@color/secondaryText\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:listDivider\"\u003e@color/dividerList\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowBackground\"\u003e@color/mainBackground\u003c/item\u003e\r\n         \u003citem name\u003d\"windowNoTitle\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"windowActionBar\"\u003efalse\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowNoTitle\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowContentOverlay\"\u003e@null\u003c/item\u003e\r\n         \u003citem name\u003d\"drawerArrowStyle\"\u003e@style/DrawerArrowStyle\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:textColorPrimary\"\u003e@color/primaryText\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:textColorSecondary\"\u003e@color/secondaryText\u003c/item\u003e\r\n+        \u003citem name\u003d\"actionModeCloseDrawable\"\u003e@drawable/ic_toolbar_back\u003c/item\u003e\r\n \r\n         \u003citem name\u003d\"main_background\"\u003e@color/mainBackground\u003c/item\u003e\r\n         \u003citem name\u003d\"card_background\"\u003e@color/cardBackground\u003c/item\u003e\r\n         \u003citem name\u003d\"ripple_color\"\u003e@color/rippleColor\u003c/item\u003e\r\n         \u003citem name\u003d\"ripple_accent\"\u003e@color/rippleAccent\u003c/item\u003e\r\n         \u003citem name\u003d\"divider_list\"\u003e@color/dividerList\u003c/item\u003e\r\n-        \u003citem name\u003d\"fast_scroll\"\u003e@color/fastScrollTrack\u003c/item\u003e\r\n-        \u003citem name\u003d\"toolbar_color\"\u003e@color/toolbar\u003c/item\u003e\r\n-        \u003citem name\u003d\"toolbar_accent\"\u003e@color/colorAccent\u003c/item\u003e\r\n+\r\n         \u003citem name\u003d\"toolbar_icon\"\u003e@color/toolbarIcon\u003c/item\u003e\r\n-        \u003citem name\u003d\"toolbar_hint\"\u003e@color/toolbarHintText\u003c/item\u003e\r\n-        \u003citem name\u003d\"search_toolbar_color\"\u003e@color/searchToolbar\u003c/item\u003e\r\n-        \u003citem name\u003d\"search_toolbar_icon\"\u003e@color/searchToolbarIcon\u003c/item\u003e\r\n-        \u003citem name\u003d\"search_toolbar_hint\"\u003e@color/searchToolbarHintText\u003c/item\u003e\r\n \r\n         \u003citem name\u003d\"md_positive_color\"\u003e@color/colorAccent\u003c/item\u003e\r\n         \u003citem name\u003d\"md_neutral_color\"\u003e@color/primaryText\u003c/item\u003e\r\n@@ -53,27 +49,25 @@\n         \u003citem name\u003d\"colorPrimary\"\u003e@color/darkColorPrimary\u003c/item\u003e\r\n         \u003citem name\u003d\"colorPrimaryDark\"\u003e@color/darkColorPrimaryDark\u003c/item\u003e\r\n         \u003citem name\u003d\"colorAccent\"\u003e@color/darkColorAccent\u003c/item\u003e\r\n+        \u003citem name\u003d\"colorControlNormal\"\u003e@color/toolbarIconDark\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:textColorPrimary\"\u003e@color/primaryTextDark\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:textColorSecondary\"\u003e@color/secondaryTextDark\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:listDivider\"\u003e@color/dividerListDark\u003c/item\u003e\r\n+        \u003citem name\u003d\"android:windowBackground\"\u003e@color/mainBackgroundDark\u003c/item\u003e\r\n         \u003citem name\u003d\"windowNoTitle\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"windowActionBar\"\u003efalse\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowNoTitle\"\u003etrue\u003c/item\u003e\r\n         \u003citem name\u003d\"android:windowContentOverlay\"\u003e@null\u003c/item\u003e\r\n         \u003citem name\u003d\"drawerArrowStyle\"\u003e@style/DrawerArrowStyle\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:textColorPrimary\"\u003e@color/primaryTextDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:textColorSecondary\"\u003e@color/secondaryTextDark\u003c/item\u003e\r\n+        \u003citem name\u003d\"actionModeCloseDrawable\"\u003e@drawable/ic_toolbar_back\u003c/item\u003e\r\n \r\n         \u003citem name\u003d\"main_background\"\u003e@color/mainBackgroundDark\u003c/item\u003e\r\n         \u003citem name\u003d\"card_background\"\u003e@color/cardBackgroundDark\u003c/item\u003e\r\n         \u003citem name\u003d\"ripple_color\"\u003e@color/rippleColorDark\u003c/item\u003e\r\n         \u003citem name\u003d\"ripple_accent\"\u003e@color/rippleAccentDark\u003c/item\u003e\r\n         \u003citem name\u003d\"divider_list\"\u003e@color/dividerListDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"fast_scroll\"\u003e@color/fastScrollTrackDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"toolbar_color\"\u003e@color/toolbarDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"toolbar_accent\"\u003e@color/darkColorAccent\u003c/item\u003e\r\n+\r\n         \u003citem name\u003d\"toolbar_icon\"\u003e@color/toolbarIconDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"toolbar_hint\"\u003e@color/toolbarHintTextDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"search_toolbar_color\"\u003e@color/searchToolbarDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"search_toolbar_icon\"\u003e@color/searchToolbarIconDark\u003c/item\u003e\r\n-        \u003citem name\u003d\"search_toolbar_hint\"\u003e@color/searchToolbarHintTextDark\u003c/item\u003e\r\n \r\n         \u003citem name\u003d\"md_background_color\"\u003e@color/cardBackgroundDark\u003c/item\u003e\r\n         \u003citem name\u003d\"md_positive_color\"\u003e@color/darkColorAccent\u003c/item\u003e\r\n@@ -123,35 +117,19 @@\n         \u003citem name\u003d\"android:listPreferredItemHeightSmall\"\u003e48dp\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n-    \u003cstyle name\u003d\"ActionModeStyle\" parent\u003d\"@style/Widget.AppCompat.ActionMode\"\u003e\r\n-        \u003citem name\u003d\"background\"\u003e?attr/toolbar_color\u003c/item\u003e\r\n-        \u003citem name\u003d\"titleTextStyle\"\u003e@style/ActionModeTitleStyle\u003c/item\u003e\r\n-    \u003c/style\u003e\r\n-\r\n-    \u003cstyle name\u003d\"ActionModeTitleStyle\"\u003e\r\n-        \u003citem name\u003d\"android:textColor\"\u003e?attr/toolbar_icon\u003c/item\u003e\r\n-        \u003citem name\u003d\"android:textSize\"\u003e@dimen/text_toolbar_title\u003c/item\u003e\r\n-        \u003citem name\u003d\"fontPath\"\u003efonts/Font-Medium.ttf\u003c/item\u003e\r\n-    \u003c/style\u003e\r\n-\r\n     \u003cstyle name\u003d\"ButtonStyle\"\u003e\r\n+        \u003citem name\u003d\"colorControlNormal\"\u003e?android:attr/textColorSecondary\u003c/item\u003e\r\n         \u003citem name\u003d\"colorControlHighlight\"\u003e?attr/ripple_color\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n     \u003cstyle name\u003d\"AccentButtonStyle\"\u003e\r\n+        \u003citem name\u003d\"colorControlNormal\"\u003e?android:attr/textColorSecondary\u003c/item\u003e\r\n         \u003citem name\u003d\"colorControlHighlight\"\u003e?attr/ripple_accent\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n     \u003cstyle name\u003d\"CheckBoxStyle\"\u003e\r\n+        \u003citem name\u003d\"colorControlNormal\"\u003e?android:attr/textColorSecondary\u003c/item\u003e\r\n         \u003citem name\u003d\"colorControlActivated\"\u003e?attr/colorAccent\u003c/item\u003e\r\n     \u003c/style\u003e\r\n \r\n-    \u003cstyle name\u003d\"ToolbarStyle\" parent\u003d\"@style/Theme.AppCompat.Light.DarkActionBar\"\u003e\r\n-        \u003citem name\u003d\"colorPrimary\"\u003e?attr/toolbar_color\u003c/item\u003e\r\n-        \u003citem name\u003d\"colorAccent\"\u003e?attr/toolbar_accent\u003c/item\u003e\r\n-        \u003citem name\u003d\"colorControlNormal\"\u003e?attr/toolbar_icon\u003c/item\u003e\r\n-        \u003citem name\u003d\"actionModeStyle\"\u003e@style/ActionModeStyle\u003c/item\u003e\r\n-        \u003citem name\u003d\"actionModeCloseDrawable\"\u003e@drawable/ic_toolbar_back\u003c/item\u003e\r\n-    \u003c/style\u003e\r\n-\r\n \u003c/resources\u003e\r"
        }
      ]
    }
  },
  {
    "name": "App getting crashed on double tapping capture button in camera",
    "url": "https://github.com/fossasia/phimpme-android/issues/252",
    "description": "**Actual Behaviour**\r\n\r\nApp getting crashed on double tapping capture button in camera\r\n\r\n**Expected Behaviour**\r\n\r\nsecond click should not have any effect.\r\n\r\n**LogCat for the issue**\r\n\r\n java.lang.RuntimeException: takePicture failed\r\n                                                                     at android.hardware.Camera.native_takePicture(Native Method)\r\n                                                                     at android.hardware.Camera.takePicture(Camera.java:1492)\r\n                                                                     at android.hardware.Camera.takePicture(Camera.java:1436)\r\n                                                                     at vn.mbm.phimp.me.Camera2$3.onClick(Camera2.java:303)\r\n                                                                     at android.view.View.performClick(View.java:5204)\r\n                                                                     at android.view.View$PerformClick.run(View.java:21158)\r\n                                                                     at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                     at android.os.Looper.loop(Looper.java:148)\r\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n\r\n**Would you like to work on the issue?**\r\n\r\nYes, I would like to work on the issue.",
    "keywords": [
      "app",
      "takepicture",
      "handler",
      "view",
      "os",
      "method",
      "android",
      "camera",
      "zygoteinit",
      "hardware"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/phimpme-android/commit/911651abe5f83da1099f47ad78f20ac06b165113",
      "files": [
        {
          "file_name": "app/src/main/java/vn/mbm/phimp/me/Camera2.java",
          "patch": "@@ -91,6 +91,8 @@\n \tprivate final int FLASH_OFF \u003d 1;\n \tprivate final int FLASH_AUTO \u003d 2;\n \n+\tprivate boolean FLAG_CAPTURE_IN_PROGRESS \u003d false;\n+\n \t@Nullable\n \t@Override\n \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n@@ -301,7 +303,10 @@ else if (locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER)!\n \t\tbuttonClick.setOnClickListener( new OnClickListener() {\n \t\t\tpublic void onClick(View v) {\n \t\t\t\t//progress \u003d ProgressDialog.show(ctx, \"\", \"\");\n-\t\t\t\tpreview.mCamera.takePicture(shutterCallback, null, jpegCallback);\n+\t\t\t\tif (!FLAG_CAPTURE_IN_PROGRESS) {\n+\t\t\t\t\tFLAG_CAPTURE_IN_PROGRESS \u003d true;\n+\t\t\t\t\tpreview.mCamera.takePicture(shutterCallback, null, jpegCallback);\n+\t\t\t\t}\n \t\t\t}\n \t\t});\n \t\tcamera_switch \u003d (ImageButton)view.findViewById(R.id.switch_camera);\n@@ -497,6 +502,10 @@ else if (degrees \u003c -90 \u0026\u0026 degrees \u003e\u003d -180 ){\n \t\t\t_intent.putExtra(\"longtitude\",lon);*/\n \t\t\t_intent.putExtra(\"scale\", true);\n \t\t\t_intent.putExtra(\"activityName\", \"Camera2\");\n+\n+\t\t\t//resetting capture progress flag\n+\t\t\tFLAG_CAPTURE_IN_PROGRESS \u003d false;\n+\n \t\t\tstartActivityForResult(_intent, 1);\n \t\t\t//progress.dismiss();\n "
        }
      ]
    }
  },
  {
    "name": "Падение при отсутвии места на диске",
    "url": "https://github.com/nextgis/android_gisapp/issues/355",
    "description": "```\nandroid.database.sqlite.SQLiteFullException: database or disk is full (code 13)\n    at android.database.sqlite.SQLiteConnection.nativeExecuteForChangedRowCount(Native Method)\n    at android.database.sqlite.SQLiteConnection.executeForChangedRowCount(SQLiteConnection.java:734)\n    at android.database.sqlite.SQLiteSession.executeForChangedRowCount(SQLiteSession.java:767)\n    at android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:68)\n    at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1687)\n    at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1616)\n    at com.nextgis.maplib.map.VectorLayer.delete(VectorLayer.java:883)\n    at com.nextgis.maplibui.mapui.VectorLayerUI.delete(VectorLayerUI.java:136)\n    at com.nextgis.mobile.activity.SettingsActivity.deleteLayers(SettingsActivity.java:526)\n    at com.nextgis.mobile.activity.SettingsActivity$10$1.onClick(SettingsActivity.java:467)\n    at android.support.v7.app.AlertController$ButtonHandler.handleMessage(AlertController.java:157)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:150)\n    at android.app.ActivityThread.main(ActivityThread.java:5162)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:525)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:744)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\n    at dalvik.system.NativeStart.main(Native Method)\n```\n\nДумаю надо при ситуации когда мало места (пара десятков мегабайт) переводить все в режим read only (не писать треки, не править слои, не кэшировать тайлы).\n",
    "keywords": [
      "com",
      "sqlitedatabase",
      "database sqlite",
      "sqlite",
      "os",
      "method",
      "nextgis",
      "sqliteconnection",
      "android",
      "main",
      "database",
      "native",
      "не",
      "settingsactivity",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/f7407af121ff9fb68d58c729150a17fce880a7ba",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/activity/SettingsActivity.java",
          "patch": "@@ -30,6 +30,8 @@\n import android.content.Context;\n import android.content.DialogInterface;\n import android.content.SharedPreferences;\n+import android.database.sqlite.SQLiteException;\n+import android.database.sqlite.SQLiteFullException;\n import android.os.AsyncTask;\n import android.os.Build;\n import android.os.Bundle;\n@@ -42,6 +44,7 @@\n \n import com.nextgis.maplib.api.ILayer;\n import com.nextgis.maplib.map.MapBase;\n+import com.nextgis.maplib.map.MapContentProviderHelper;\n import com.nextgis.maplib.util.SettingsConstants;\n import com.nextgis.maplibui.activity.NGPreferenceActivity;\n import com.nextgis.maplibui.util.ControlHelper;\n@@ -521,6 +524,12 @@ protected static void deleteLayers(Activity activity) {\n                     \u0026\u0026 !layer.getPath().getName().equals(MainApplication.LAYER_TRACKS))\n                 layer.delete();\n         }\n+\n+        try {\n+            ((MapContentProviderHelper) MapBase.getInstance()).getDatabase(false).execSQL(\"VACUUM\");\n+        } catch (SQLiteException e) {\n+            e.printStackTrace();\n+        }\n     }\n \n "
        },
        {
          "file_name": "maplib",
          "patch": "@@ -1 +1 @@\n-Subproject commit 4987b3d0620797ffddbc70edc7637d48590b1f08\n+Subproject commit 430942442b113dea4eae742845ed740ba0cac423"
        }
      ]
    }
  },
  {
    "name": "crash while scrolling through Activity tabs",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/340",
    "description": "This *usually* happens whenever I scroll through a bunch of rows in the Activity tabs.\r\n\r\nhttps://fabric.io/inaturalist/android/apps/org.inaturalist.android/issues/58f0cea30aeb16625bac5a67\r\nhttps://play.google.com/apps/publish/?dev_acc\u003d15421172454815845728#ErrorClusterDetailsPlace:p\u003dorg.inaturalist.android\u0026et\u003dCRASH\u0026sh\u003dfalse\u0026lr\u003dLAST_7_DAYS\u0026av\u003d1.5.14\u0026ecn\u003djava.lang.NullPointerException\u0026tf\u003dBitmap.java\u0026tc\u003dandroid.graphics.Bitmap\u0026tm\u003dcreateBitmap\u0026nid\u0026an\u0026c\u0026s\u003dnew_status_desc\u0026ed\u003d1493608460947\r\n\r\n```\r\njava.lang.RuntimeException: Transformation circle crashed with exception.\r\n\tat com.squareup.picasso.BitmapHunter$3.run(BitmapHunter.java:434)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6121)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\nCaused by: java.lang.NullPointerException: Attempt to read from field \u0027int android.graphics.Bitmap$Config.nativeInt\u0027 on a null object reference\r\n\tat android.graphics.Bitmap.createBitmap(Bitmap.java:879)\r\n\tat android.graphics.Bitmap.createBitmap(Bitmap.java:856)\r\n\tat android.graphics.Bitmap.createBitmap(Bitmap.java:823)\r\n\tat org.inaturalist.android.UserActivitiesAdapter$CircleTransform.transform(UserActivitiesAdapter.java:449)\r\n\tat com.squareup.picasso.BitmapHunter.applyCustomTransformations(BitmapHunter.java:429)\r\n\tat com.squareup.picasso.BitmapHunter.hunt(BitmapHunter.java:238)\r\n\tat com.squareup.picasso.BitmapHunter.run(BitmapHunter.java:159)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n\tat java.lang.Thread.run(Thread.java:761)\r\n\tat com.squareup.picasso.Utils$PicassoThread.run(Utils.java:411)\r\n```",
    "keywords": [
      "com",
      "threadpoolexecutor",
      "handler",
      "squareup",
      "createbitmap",
      "os",
      "android graphics",
      "android",
      "concurrent",
      "run",
      "graphics",
      "bitmaphunter",
      "java",
      "util",
      "inaturalist",
      "bitmap",
      "squareup picasso",
      "util concurrent",
      "lang",
      "zygoteinit",
      "picasso"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/9ab2143f859dc974cf64e31d735346d2b4c00ba3",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/UserActivitiesAdapter.java",
          "patch": "@@ -446,7 +446,9 @@ public Bitmap transform(Bitmap source) {\n                 source.recycle();\n             }\n \n-            Bitmap bitmap \u003d Bitmap.createBitmap(size, size, source.getConfig());\n+            Bitmap.Config config \u003d source.getConfig();\n+            if (config \u003d\u003d null) config \u003d squaredBitmap.getConfig();\n+            Bitmap bitmap \u003d Bitmap.createBitmap(size, size, config !\u003d null ? config : Bitmap.Config.ARGB_8888);\n \n             Canvas canvas \u003d new Canvas(bitmap);\n             Paint paint \u003d new Paint();"
        }
      ]
    }
  },
  {
    "name": "NPE updating ArrivalsListHeader with trip info",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/674",
    "description": "**Summary:** \n\nFrom Android Developer Console for v2.1.0:\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027void org.onebusaway.android.ui.ArrivalsListHeader.setTripsForStop(android.content.ContentQueryMap)\u0027 on a null object reference\n    at org.onebusaway.android.ui.ArrivalsListFragment$TripsForStopCallback.onLoadFinished(ArrivalsListFragment.java:1536)\n    at org.onebusaway.android.ui.ArrivalsListFragment$TripsForStopCallback.onLoadFinished(ArrivalsListFragment.java:1517)\n    at android.support.v4.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:476)\n    at android.support.v4.app.LoaderManagerImpl$LoaderInfo.reportStart(LoaderManager.java:315)\n    at android.support.v4.app.LoaderManagerImpl.doReportStart(LoaderManager.java:819)\n    at android.support.v4.app.Fragment.performStart(Fragment.java:2009)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1102)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1252)\n    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:742)\n    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1617)\n    at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:517)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5422)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n\n**Steps to reproduce:** \n\nUnknown \n\n**Expected behavior:** \n\nNot crash\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\nVariety of devices, including:\n- Nexus 5X (bullhead)\n- Galaxy S6 (zerofltespr)\n- Galaxy S5 (kltetmo)\n- Galaxy Note4 (trlteatt)\n\nVariety of Android versions, including:\n- Android 6.0\n- Android 5.1\n",
    "keywords": [
      "app",
      "handler",
      "os",
      "method",
      "org",
      "android",
      "android support",
      "support v4",
      "run",
      "onebusaway",
      "loadermanager",
      "ui",
      "v4 app",
      "fragmentmanager",
      "galaxy",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/df4c4df6eea53fcbcc1a19ea23571664fc5f3e66",
      "files": [
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/ArrivalsListFragment.java",
          "patch": "@@ -1166,6 +1166,9 @@ public void onClick(DialogInterface dialog, int index) {\n      * Toggle the visibility of arrivals in the header\n      */\n     private void doShowHideHeaderArrivals() {\n+        if (mHeader \u003d\u003d null) {\n+            return;\n+        }\n         boolean showArrivals \u003d Application.getPrefs()\n                 .getBoolean(getString(R.string.preference_key_show_header_arrivals), false);\n \n@@ -1533,7 +1536,9 @@ public void onLoadFinished(Loader\u003cCursor\u003e loader, Cursor c) {\n                     new ContentQueryMap(c, ObaContract.Trips._ID, true, null);\n             // Call back into the adapter and header and say we\u0027ve finished this.\n             mAdapter.setTripsForStop(map);\n-            mHeader.setTripsForStop(map);\n+            if (mHeader !\u003d null) {\n+                mHeader.setTripsForStop(map);\n+            }\n         }\n \n         @Override"
        }
      ]
    }
  },
  {
    "name": "Crash when trying to narrow to a private message thread with the Zulip Notification Bot",
    "url": "https://github.com/zulip/zulip-android/issues/244",
    "description": "[edited -- this wasn\u0027t a group PM thread]\r\n\r\nI got this crash in the simulator trying to narrow to a private message thread with the Zulip Notification Bot.\r\n```\r\n                  --------- beginning of crash\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.zulip.android.dev, PID: 3280\r\n                  java.lang.NullPointerException: Attempt to read from field \u0027int com.zulip.android.models.Person.id\u0027 on a null object reference\r\n                      at com.zulip.android.models.Message.recipientList(Message.java:240)\r\n                      at com.zulip.android.filters.NarrowFilterPM.\u003cinit\u003e(NarrowFilterPM.java:39)\r\n                      at com.zulip.android.activities.RecyclerMessageAdapter$1.onItemClick(RecyclerMessageAdapter.java:138)\r\n                      at com.zulip.android.viewholders.MessageHeaderParent$MessageHeaderHolder.onClick(MessageHeaderParent.java:136)\r\n                      at android.view.View.performClick(View.java:4780)\r\n                      at android.view.View$PerformClick.run(View.java:19866)\r\n                      at android.os.Handler.handleCallback(Handler.java:739)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                      at android.os.Looper.loop(Looper.java:135)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at java.lang.reflect.Method.invoke(Method.java:372)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n```\r\n\r\nMy guess is that we expect all the users that one might exchange messages with to be included in the data we receive from the server on realm users, but that isn\u0027t a correct assumption; Zulip has limited support for cross-organization messages.  \r\n\r\nOn web we address this problem by creating \"skeleton\" user objects for users we see in messages etc. that aren\u0027t part of the realm. ",
    "keywords": [
      "com",
      "handler",
      "os",
      "method",
      "android",
      "main",
      "message",
      "users",
      "crash",
      "com zulip",
      "view",
      "java",
      "zulip",
      "messages",
      "lang",
      "zulip android",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/zulip/zulip-android/commit/b6454813deebc50a7eb1d26bac76f9f7e8902915",
      "files": [
        {
          "file_name": "app/src/androidTest/java/com/zulip/android/test/UnsortedTests.java",
          "patch": "@@ -217,7 +217,7 @@ public void testAGOMFetch() throws SQLException, InterruptedException,\n     private Message sampleMessage(ZulipApp app, int id) throws SQLException {\n         Message rtr \u003d new Message(app);\n         rtr.setSender(Person.getOrUpdate(app, \"Test User\",\n-                TESTUSER_EXAMPLE_COM, \"\"));\n+                TESTUSER_EXAMPLE_COM, \"\", 0));\n         rtr.setContent(\"Test message\");\n         rtr.setType(MessageType.PRIVATE_MESSAGE);\n         rtr.setRecipient(new String[]{TESTUSER_EXAMPLE_COM});"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/ZulipApp.java",
          "patch": "@@ -44,6 +44,7 @@\n import java.lang.reflect.Type;\n import java.sql.SQLException;\n import java.util.Date;\n+import java.util.List;\n import java.util.Map;\n import java.util.Queue;\n import java.util.concurrent.Callable;\n@@ -242,7 +243,12 @@ public Message deserialize(JsonElement json, Type typeOfT, JsonDeserializationCo\n                         } else {\n                             Message.ZulipDirectMessage msg \u003d naiveGson.fromJson(json, Message.ZulipDirectMessage.class);\n                             if (msg.getDisplayRecipient() !\u003d null) {\n-                                msg.setRecipients(msg.getDisplayRecipient().toArray(new Person[msg.getDisplayRecipient().size()]));\n+                                List\u003cPerson\u003e people \u003d msg.getDisplayRecipient();\n+                                for (Person person : people) {\n+                                    person.setId(person.getRecipientId());\n+                                }\n+\n+                                msg.setRecipients(people.toArray(new Person[people.size()]));\n                             }\n \n                             msg.setContent(Message.formatContent(msg.getFormattedContent(), ZulipApp.get()).toString());\n@@ -390,7 +396,13 @@ public String getEmail() {\n \n     public void setEmail(String email) {\n         databaseHelper \u003d new DatabaseHelper(this, email);\n-        this.you \u003d Person.getOrUpdate(this, email, null, null);\n+        if (this.getYou() !\u003d null) {\n+            // on every consequent refresh\n+            this.you \u003d Person.getOrUpdate(this, email, null, null, this.getYou().getId());\n+        } else {\n+            // only on first login\n+            this.you \u003d Person.getOrUpdate(this, email, null, null, 0);\n+        }\n     }\n \n     public DatabaseHelper getDatabaseHelper() {"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/models/Message.java",
          "patch": "@@ -148,7 +148,8 @@ public Message(ZulipApp app, JSONObject message,\n         this.setSender(Person.getOrUpdate(app,\n                 message.getString(\"sender_email\"),\n                 message.getString(\"sender_full_name\"),\n-                message.getString(\"avatar_url\"), personCache));\n+                message.getString(\"avatar_url\"),\n+                Integer.parseInt(message.getString(\"sender_id\")), personCache));\n \n         if (message.getString(\"type\").equals(\"stream\")) {\n             this.setType(MessageType.STREAM_MESSAGE);\n@@ -178,7 +179,7 @@ public Message(ZulipApp app, JSONObject message,\n             for (int i \u003d 0; i \u003c jsonRecipients.length(); i++) {\n                 JSONObject obj \u003d jsonRecipients.getJSONObject(i);\n                 Person person \u003d Person.getOrUpdate(app, obj.getString(\"email\"),\n-                        obj.getString(\"full_name\"), null, personCache);\n+                        obj.getString(\"full_name\"), null, Integer.parseInt(obj.getString(\"sender_id\")), personCache);\n                 r[i] \u003d person;\n             }\n             setRecipients(recipientList(r));\n@@ -234,7 +235,7 @@ public Void call() throws Exception {\n                     RuntimeExceptionDao\u003cMessage, Object\u003e messageDao \u003d app.getDao(Message.class);\n \n                     for (Message m : messages) {\n-                        Person person \u003d Person.getOrUpdate(app, m.getSenderEmail(), m.getSenderFullName(), m.getAvatarUrl());\n+                        Person person \u003d Person.getOrUpdate(app, m.getSenderEmail(), m.getSenderFullName(), m.getAvatarUrl(), m.getSenderId());\n                         m.setSender(person);\n                         Stream stream \u003d null;\n                         if (m.getType() \u003d\u003d MessageType.STREAM_MESSAGE) {\n@@ -429,14 +430,14 @@ public void setRecipients(Person[] list) {\n         this.recipientsCache \u003d list;\n \n         try {\n-            Person to \u003d ZulipApp.get().getDao(Person.class, true).queryBuilder().where().eq(Person.EMAIL_FIELD, list[0].getEmail()).queryForFirst();\n-            ;\n+            Person to \u003d list[0];\n+\n             if (list.length \u003d\u003d 1) {\n                 setRecipients(to.getId() + \"\");\n                 return;\n             }\n-            Person from \u003d ZulipApp.get().getDao(Person.class, true).queryBuilder().where().eq(Person.EMAIL_FIELD, list[1].getEmail()).queryForFirst();\n \n+            Person from \u003d list[1];\n             if (to \u003d\u003d null \u0026\u0026 from !\u003d null) {\n                 setRecipients(\"\" + from.getId());\n             }"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/models/Person.java",
          "patch": "@@ -62,6 +62,9 @@\n     @SerializedName(\"is_mirror_dummy\")\n     private boolean isMirrorDummy;\n \n+    @SerializedName(\"id\")\n+    private int recipientId;\n+\n     public Person(String name, String email) {\n         this.setName(name);\n         this.setEmail(email);\n@@ -113,7 +116,7 @@ public static Person getByEmail(Dao\u003cPerson, ?\u003e dao, String email) {\n \n     @SuppressWarnings(\"WeakerAccess\")\n     public static Person getOrUpdate(ZulipApp app, String email, String name,\n-                                     String avatarURL, Map\u003cString, Person\u003e personCache) {\n+                                     String avatarURL, int personId, Map\u003cString, Person\u003e personCache) {\n \n         Person person \u003d null;\n \n@@ -130,6 +133,7 @@ public static Person getOrUpdate(ZulipApp app, String email, String name,\n \n         if (person \u003d\u003d null) {\n             person \u003d new Person(name, email, avatarURL);\n+            person.setId(personId);\n             app.getDao(Person.class).create(person);\n         } else {\n             boolean changed \u003d false;\n@@ -149,8 +153,8 @@ public static Person getOrUpdate(ZulipApp app, String email, String name,\n     }\n \n     public static Person getOrUpdate(ZulipApp app, String email, String name,\n-                                     String avatarURL) {\n-        return getOrUpdate(app, email, name, avatarURL, null);\n+                                     String avatarURL, int personId) {\n+        return getOrUpdate(app, email, name, avatarURL, personId, null);\n     }\n \n     public static Person getById(ZulipApp app, int id) {\n@@ -284,4 +288,11 @@ public void setActive(boolean active) {\n         isActive \u003d active;\n     }\n \n+    public int getRecipientId() {\n+        return this.recipientId;\n+    }\n+\n+    public void setRecipientId(int id) {\n+        this.recipientId \u003d id;\n+    }\n }"
        }
      ]
    }
  },
  {
    "name": "Catch another session expiration crash in home button logic",
    "url": "https://github.com/dimagi/commcare-android/pull/1469",
    "description": "Yet another crash due to home screen button setup code not handling session expiration correctly.\n\n```\norg.commcare.utils.SessionUnavailableException\nat org.commcare.CommCareApplication.getSession(CommCareApplication.java:1190)\nat org.commcare.CommCareApplication.getUserDbHandle(CommCareApplication.java:737)\nat org.commcare.CommCareApplication$3.getHandle(CommCareApplication.java:791)\nat org.commcare.models.database.SqlStorage.getIDsForValues(SqlStorage.java:87)\nat org.commcare.utils.StorageUtils.getNumIncompleteForms(StorageUtils.java:47)\nat org.commcare.activities.HomeButtons$6.update(HomeButtons.java:160)\nat org.commcare.adapters.SquareButtonAdapter.bindCard(SquareButtonAdapter.java:78)\nat org.commcare.adapters.SquareButtonAdapter.onBindViewHolder(SquareButtonAdapter.java:63)\nat org.commcare.adapters.HomeScreenAdapter.onBindViewHolder(HomeScreenAdapter.java:84)\nat android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:5801)\nat android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5037)\nat android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:4913)\nat android.support.v7.widget.LayoutState.next(LayoutState.java:100)\nat android.support.v7.widget.StaggeredGridLayoutManager.fill(StaggeredGridLayoutManager.java:1555)\nat android.support.v7.widget.StaggeredGridLayoutManager.onLayoutChildren(StaggeredGridLayoutManager.java:665)\nat android.support.v7.widget.StaggeredGridLayoutManager.onLayoutChildren(StaggeredGridLayoutManager.java:597)\nat android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3260)\nat android.support.v7.widget.RecyclerView.dispatchLayout(RecyclerView.java:3069)\nat android.support.v7.widget.RecyclerView.onLayout(RecyclerView.java:3518)\nat android.view.View.layout(View.java:17938)\nat android.view.ViewGroup.layout(ViewGroup.java:5814)\nat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1742)\nat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)\nat android.widget.LinearLayout.onLayout(LinearLayout.java:1494)\nat android.view.View.layout(View.java:17938)\nat android.view.ViewGroup.layout(ViewGroup.java:5814)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:281)\nat android.view.View.layout(View.java:17938)\nat android.view.ViewGroup.layout(ViewGroup.java:5814)\nat com.android.internal.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:493)\nat android.view.View.layout(View.java:17938)\nat android.view.ViewGroup.layout(ViewGroup.java:5814)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:281)\nat com.android.internal.policy.PhoneWindow$DecorView.onLayout(PhoneWindow.java:3193)\nat android.view.View.layout(View.java:17938)\nat android.view.ViewGroup.layout(ViewGroup.java:5814)\nat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2666)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2367)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1437)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7397)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:920)\nat android.view.Choreographer.doCallbacks(Choreographer.java:695)\nat android.view.Choreographer.doFrame(Choreographer.java:631)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:906)\nat android.os.Handler.handleCallback(Handler.java:739)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:158)\nat android.app.ActivityThread.main(ActivityThread.java:7224)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n```\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "internal",
      "widget",
      "java:17938",
      "recyclerview",
      "choreographer",
      "framelayout",
      "view viewgroup",
      "android",
      "squarebuttonadapter",
      "android support",
      "java:5814",
      "run",
      "commcare",
      "linearlayout",
      "view layout",
      "view",
      "support v7",
      "android widget",
      "org commcare",
      "viewgroup",
      "commcareapplication",
      "android view",
      "zygoteinit",
      "view java:17938",
      "adapters",
      "onlayout",
      "os",
      "org",
      "commcare adapters",
      "layout",
      "viewrootimpl",
      "staggeredgridlayoutmanager",
      "v7 widget",
      "layout viewgroup",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/dimagi/commcare-android/commit/9fb8c9276877fa78f7cc90c5db71e2fa872c9bb7",
      "files": [
        {
          "file_name": "app/src/org/commcare/activities/HomeButtons.java",
          "patch": "@@ -11,6 +11,7 @@\n import org.commcare.dalvik.R;\n import org.commcare.logging.analytics.GoogleAnalyticsFields;\n import org.commcare.logging.analytics.GoogleAnalyticsUtils;\n+import org.commcare.utils.SessionUnavailableException;\n import org.commcare.utils.StorageUtils;\n import org.commcare.utils.SyncDetailCalculations;\n import org.javarosa.core.services.locale.Localization;\n@@ -157,7 +158,14 @@ public void update(HomeCardDisplayData cardDisplayData,\n                                SquareButtonViewHolder squareButtonViewHolder,\n                                Context context,\n                                String notificationText) {\n-                int numIncompleteForms \u003d StorageUtils.getNumIncompleteForms();\n+                int numIncompleteForms;\n+                try {\n+                    numIncompleteForms \u003d StorageUtils.getNumIncompleteForms();\n+                } catch (SessionUnavailableException e) {\n+                    // stop button setup, since redirection to login is imminent\n+                    return;\n+                }\n+\n                 if (numIncompleteForms \u003e 0) {\n                     Spannable incompleteIndicator \u003d\n                             (activity.localize(\"home.forms.incomplete.indicator\","
        }
      ]
    }
  },
  {
    "name": "NullPointerException: uri in ComposeActivity.java:1132 (?) \"Unable to resume activity\"",
    "url": "https://github.com/Vavassor/Tusky/issues/326",
    "description": "Another crash I caught:\r\n\r\n```\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: FATAL EXCEPTION: main\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: Process: com.keylesspalace.tusky, PID: 18647\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: java.lang.RuntimeException: Unable to resume activity {com.keylesspalace.tusky/com.keylesspalace.tusky.ComposeActivity}: java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d2, result\u003d-1, data\u003dnull} to activity {com.keylesspalace.tusky/com.keylesspalace.tusky.ComposeActivity}: java.lang.NullPointerException: uri\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.performResumeActivity(ActivityThread.java:3429)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3469)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2732)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4519)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.-wrap19(ActivityThread.java)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1483)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:154)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:6126)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: Caused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d2, result\u003d-1, data\u003dnull} to activity {com.keylesspalace.tusky/com.keylesspalace.tusky.ComposeActivity}: java.lang.NullPointerException: uri\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.deliverResults(ActivityThread.java:4089)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.performResumeActivity(ActivityThread.java:3403)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \t... 11 more\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: Caused by: java.lang.NullPointerException: uri\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat com.android.internal.util.Preconditions.checkNotNull(Preconditions.java:111)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.content.ContentResolver.query(ContentResolver.java:517)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.content.ContentResolver.query(ContentResolver.java:475)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat com.keylesspalace.tusky.ComposeActivity.a(ComposeActivity.java:1132)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat com.keylesspalace.tusky.ComposeActivity.onActivityResult(ComposeActivity.java:1152)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.Activity.dispatchActivityResult(Activity.java:6932)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \tat android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\r\n07-01 23:25:01.833 18647 18647 E AndroidRuntime: \t... 12 more\r\n```\r\nthis is on the playstore version, 1.1.3 tag",
    "keywords": [
      "com",
      "composeactivity}",
      "internal",
      "activity",
      "18647 e",
      "07-01 23:25:01",
      "android",
      "main",
      "tusky composeactivity}",
      "tusky/com keylesspalace",
      "{com keylesspalace",
      "java",
      "833",
      "composeactivity",
      "tusky",
      "runtimeexception",
      "lang",
      "tusky/com",
      "zygoteinit",
      "{com",
      "app",
      "23:25:01 833",
      "os",
      "e",
      "18647 18647",
      "keylesspalace",
      "androidruntime",
      "nullpointerexception",
      "uri",
      "java lang",
      "activitythread",
      "833 18647",
      "23:25:01",
      "e androidruntime",
      "07-01",
      "nullpointerexception: uri",
      "android app",
      "contentresolver",
      "18647"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/Vavassor/Tusky/commit/b06dda47c1ff28a9d21e41104e595ec2fe7cdce5",
      "files": [
        {
          "file_name": "app/src/main/java/com/keylesspalace/tusky/ComposeActivity.java",
          "patch": "@@ -238,11 +238,13 @@ public void onClick(View v) {\n             if (previousInputContentInfo !\u003d null) {\n                 onCommitContentInternal(previousInputContentInfo, previousFlags);\n             }\n+            photoUploadUri \u003d savedInstanceState.getParcelable(\"photoUploadUri\");\n         } else {\n             showMarkSensitive \u003d false;\n             startingVisibility \u003d preferences.getString(\"rememberedVisibility\", \"public\");\n             statusMarkSensitive \u003d false;\n             startingHideText \u003d false;\n+            photoUploadUri \u003d null;\n         }\n \n         /* If the composer is started up as a reply to another post, override the \"starting\" state\n@@ -435,6 +437,7 @@ protected void onSaveInstanceState(Bundle outState) {\n         }\n         currentInputContentInfo \u003d null;\n         currentFlags \u003d 0;\n+        outState.putParcelable(\"photoUploadUri\", photoUploadUri);\n         super.onSaveInstanceState(outState);\n     }\n \n@@ -821,6 +824,7 @@ public void onClick(View v) {\n         }\n     }\n \n+    @NonNull\n     private File createNewImageFile() throws IOException {\n         // Create an image file name\n         String timeStamp \u003d new SimpleDateFormat(\"yyyyMMdd_HHmmss\", Locale.US).format(new Date());\n@@ -1092,11 +1096,11 @@ private void cancelReadyingMedia(QueuedMedia item) {\n     @Override\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n         super.onActivityResult(requestCode, resultCode, data);\n-        if (requestCode \u003d\u003d MEDIA_PICK_RESULT \u0026\u0026 resultCode \u003d\u003d RESULT_OK \u0026\u0026 data !\u003d null) {\n+        if (resultCode \u003d\u003d RESULT_OK \u0026\u0026 requestCode \u003d\u003d MEDIA_PICK_RESULT \u0026\u0026 data !\u003d null) {\n             Uri uri \u003d data.getData();\n             long mediaSize \u003d MediaUtils.getMediaSize(getContentResolver(), uri);\n             pickMedia(uri, mediaSize);\n-        } else if (requestCode \u003d\u003d MEDIA_TAKE_PHOTO_RESULT \u0026\u0026 resultCode \u003d\u003d RESULT_OK) {\n+        } else if (resultCode \u003d\u003d RESULT_OK \u0026\u0026 requestCode \u003d\u003d MEDIA_TAKE_PHOTO_RESULT) {\n             long mediaSize \u003d MediaUtils.getMediaSize(getContentResolver(), photoUploadUri);\n             pickMedia(photoUploadUri, mediaSize);\n         }"
        }
      ]
    }
  },
  {
    "name": "App crashing when try to pause",
    "url": "https://github.com/lingochamp/FileDownloader/issues/462",
    "description": "Fatal Exception: java.lang.RuntimeException: Unable to destroy activity {MyApplication}: java.lang.NullPointerException: Attempt to invoke interface method \u0027com.liulishuo.filedownloader.BaseDownloadTask com.liulishuo.filedownloader.BaseDownloadTask$IRunningTask.getOrigin()\u0027 on a null object reference\r\n       at android.app.ActivityThread.performDestroyActivity(ActivityThread.java:5066)\r\n       at android.app.ActivityThread.handleDestroyActivity(ActivityThread.java:5089)\r\n       at android.app.ActivityThread.access$1700(ActivityThread.java:222)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1854)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:158)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7229)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\nCaused by java.lang.NullPointerException: Attempt to invoke interface method \u0027com.liulishuo.filedownloader.BaseDownloadTask com.liulishuo.filedownloader.BaseDownloadTask$IRunningTask.getOrigin()\u0027 on a null object reference\r\n       at com.liulishuo.filedownloader.FileDownloadMessenger.process(FileDownloadMessenger.java:198)\r\n       at com.liulishuo.filedownloader.FileDownloadMessenger.notifyPaused(FileDownloadMessenger.java:183)\r\n       at com.liulishuo.filedownloader.FileDownloadList.remove(FileDownloadList.java:200)\r\n       at com.liulishuo.filedownloader.DownloadTaskHunter.pause(DownloadTaskHunter.java:426)\r\n       at com.liulishuo.filedownloader.DownloadTask.pause(DownloadTask.java:338)\r\n       at com.liulishuo.filedownloader.FileDownloader.pauseAll(FileDownloader.java:229)\r\n       at br.com.MyApplication.onActivityDestroyed(MyApplication.java:162)\r\n       at android.app.Application.dispatchActivityDestroyed(Application.java:275)\r\n       at android.app.Activity.onDestroy(Activity.java:1870)\r\n       at android.support.v4.app.FragmentActivity.onDestroy(FragmentActivity.java:386)\r\n       at android.support.v7.app.AppCompatActivity.onDestroy(AppCompatActivity.java:212)\r\n       at br.com.MyApplication(MyActivity.java:217)\r\n       at android.app.Activity.performDestroy(Activity.java:7102)\r\n       at android.app.Instrumentation.callActivityOnDestroy(Instrumentation.java:1170)\r\n       at android.app.ActivityThread.performDestroyActivity(ActivityThread.java:5044)\r\n       at android.app.ActivityThread.handleDestroyActivity(ActivityThread.java:5089)\r\n       at android.app.ActivityThread.access$1700(ActivityThread.java:222)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1854)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:158)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7229)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)",
    "keywords": [
      "com",
      "myapplication",
      "app",
      "handler",
      "internal",
      "filedownloader",
      "os",
      "activity",
      "method",
      "app activitythread",
      "android",
      "main",
      "looper",
      "invoke",
      "pause",
      "java lang",
      "activitythread",
      "java",
      "liulishuo",
      "com liulishuo",
      "android app",
      "ondestroy",
      "lang",
      "filedownloadmessenger",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/lingochamp/FileDownloader/commit/69d25462df6160f7ee42ff9a277c9dc0361843c0",
      "files": [
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/FileDownloadMessenger.java",
          "patch": "@@ -195,6 +195,18 @@ public void notifyCompleted(MessageSnapshot snapshot) {\n     }\n \n     private void process(MessageSnapshot snapshot) {\n+        if (mTask \u003d\u003d null) {\n+            if (FileDownloadLog.NEED_LOG) {\n+                // the most possible of occurring this case is the thread for flowing the paused\n+                // message is different with others.\n+                FileDownloadLog.d(this, \"occur this case, it would be the host task of this \" +\n+                                \"messenger has been over(paused/warn/completed/error) on the \" +\n+                                \"other thread before receiving the snapshot(id[%d], status[%d])\",\n+                        snapshot.getId(), snapshot.getStatus());\n+            }\n+            return;\n+        }\n+\n         if (mIsDiscard || mTask.getOrigin().getListener() \u003d\u003d null) {\n             if (FileDownloadMonitor.isValid() \u0026\u0026\n                     snapshot.getStatus() \u003d\u003d FileDownloadStatus.blockComplete) {\n@@ -213,9 +225,6 @@ private void process(MessageSnapshot snapshot) {\n \n     private void offer(MessageSnapshot snapshot) {\n         final byte status \u003d snapshot.getStatus();\n-        Assert.assertTrue(\n-                FileDownloadUtils.formatString(\"request process message %d, but has already over %d\",\n-                        status, parcelQueue.size()), mTask !\u003d null);\n \n         parcelQueue.offer(snapshot);\n     }"
        }
      ]
    }
  },
  {
    "name": "Camera2 always crashes after Permission Dialog",
    "url": "https://github.com/google/cameraview/issues/1",
    "description": "1) Build and run the Demo app\n2) When the Permission dialog pops up, just accept it\n3) Demo app crashes immediately\n--- or ---\n1) Revoke the Permission from Setting and re-enter the app, \n2) after the Permission Rationale dialog is shown, just accept the Permission Dialog\n3) watch it crash again.\n\nDevice: Nexus 5x running on Nougat (NRD90M)\n\nhttps://github.com/google/cameraview/blob/master/library/src/main/camera2/com/google/android/cameraview/Camera2.java#L132\n\n``` java\n09-11 07:05:44.562 23963-23963/com.google.android.cameraview.demo E/AndroidRuntime: FATAL EXCEPTION: main\n     Process: com.google.android.cameraview.demo, PID: 23963\n     java.lang.IllegalStateException: Session has been closed; further changes are illegal.\n         at android.hardware.camera2.impl.CameraCaptureSessionImpl.checkNotClosed(CameraCaptureSessionImpl.java:606)\n         at android.hardware.camera2.impl.CameraCaptureSessionImpl.setRepeatingRequest(CameraCaptureSessionImpl.java:227)\n         at com.google.android.cameraview.Camera2$3.onConfigured(Camera2.java:132)\n         at java.lang.reflect.Method.invoke(Native Method)\n         at android.hardware.camera2.dispatch.InvokeDispatcher.dispatch(InvokeDispatcher.java:39)\n         at android.hardware.camera2.dispatch.HandlerDispatcher$1.run(HandlerDispatcher.java:65)\n         at android.os.Handler.handleCallback(Handler.java:751)\n         at android.os.Handler.dispatchMessage(Handler.java:95)\n         at android.os.Looper.loop(Looper.java:154)\n         at android.app.ActivityThread.main(ActivityThread.java:6077)\n         at java.lang.reflect.Method.invoke(Native Method)\n         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n```\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "dispatch",
      "os",
      "method",
      "android",
      "cameracapturesessionimpl",
      "main",
      "run",
      "permission",
      "cameraview",
      "google",
      "demo",
      "permission dialog",
      "dialog",
      "camera2",
      "java",
      "lang",
      "zygoteinit",
      "hardware"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/google/cameraview/commit/ebc177251d5980a7351c7aa8371902cace5c63b3",
      "files": [
        {
          "file_name": "library/src/main/api21/com/google/android/cameraview/Camera2.java",
          "patch": "@@ -98,6 +98,8 @@ public void onConfigured(@NonNull CameraCaptureSession session) {\n                 mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),\n                         mCaptureCallback, null);\n             } catch (CameraAccessException e) {\n+                Log.e(TAG, \"Failed to start camera preview because it couldn\u0027t access camera\", e);\n+            } catch (IllegalStateException e) {\n                 Log.e(TAG, \"Failed to start camera preview.\", e);\n             }\n         }\n@@ -109,7 +111,9 @@ public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n \n         @Override\n         public void onClosed(@NonNull CameraCaptureSession session) {\n-            mCaptureSession \u003d null;\n+            if (mCaptureSession !\u003d null \u0026\u0026 mCaptureSession.equals(session)) {\n+                mCaptureSession \u003d null;\n+            }\n         }\n \n     };"
        }
      ]
    }
  },
  {
    "name": "Failed to send/receive big queue to/from remote service",
    "url": "https://github.com/marverenic/Jockey/issues/293",
    "description": "When I play a large playlist (such as 3500 songs) in my LG G2 device, Jockey doesn\u0027t work correctly:\r\n  * I saw `TransactionTooLargeException` exception in logcat, I lost the log but I found people discuss about it here: [StackOverflow](http://stackoverflow.com/questions/11451393/what-to-do-on-transactiontoolargeexception/12809171#12809171)\r\n  * The music still playing, but \"Now playing queue\" in the UI is empty\r\n  * And also many errors below were printed out when UI try to get now playing queue from remote service\r\n\r\n```\r\nServicePlayerController: Failed to fetch queue property.\r\n                                                                               android.os.DeadObjectException: Transaction failed on small parcel; remote process probably died\r\n                                                                                   at android.os.BinderProxy.transactNative(Native Method)\r\n                                                                                   at android.os.BinderProxy.transact(Binder.java:615)\r\n                                                                                   at com.marverenic.music.IPlayerService$Stub$Proxy.getQueue(IPlayerService.java:639)\r\n                                                                                   at com.marverenic.music.player.ServicePlayerController$$Lambda$12.retrieve(Unknown Source)\r\n                                                                                   at com.marverenic.music.player.ServicePlayerController$Prop$$Lambda$5.call(Unknown Source)\r\n                                                                                   at rx.internal.operators.OnSubscribeFromCallable.call(OnSubscribeFromCallable.java:48)\r\n                                                                                   at rx.internal.operators.OnSubscribeFromCallable.call(OnSubscribeFromCallable.java:33)\r\n                                                                                   at rx.Observable.unsafeSubscribe(Observable.java:10346)\r\n                                                                                   at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n                                                                                   at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n                                                                                   at rx.Observable.unsafeSubscribe(Observable.java:10346)\r\n                                                                                   at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)\r\n                                                                                   at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)\r\n                                                                                   at rx.Observable.subscribe(Observable.java:10442)\r\n                                                                                   at rx.Observable.subscribe(Observable.java:10409)\r\n                                                                                   at rx.Observable.subscribe(Observable.java:10249)\r\n                                                                                   at com.marverenic.music.player.ServicePlayerController$Prop.invalidate(ServicePlayerController.java:686)\r\n                                                                                   at com.marverenic.music.player.ServicePlayerController.invalidateAll(ServicePlayerController.java:231)\r\n                                                                                   at com.marverenic.music.player.ServicePlayerController.access$700(ServicePlayerController.java:53)\r\n                                                                                   at com.marverenic.music.player.ServicePlayerController$Listener.onReceive(ServicePlayerController.java:629)\r\n                                                                                   at android.app.ActivityThread.handleReceiver(ActivityThread.java:3076)\r\n                                                                                   at android.app.ActivityThread.-wrap18(ActivityThread.java)\r\n                                                                                   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1587)\r\n                                                                                   at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                   at android.os.Looper.loop(Looper.java:153)\r\n                                                                                   at android.app.ActivityThread.main(ActivityThread.java:6205)\r\n                                                                                   at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\r\n                                                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:783)\r\n```",
    "keywords": [
      "com",
      "internal",
      "rx",
      "android",
      "remote",
      "internal operators",
      "music",
      "operators",
      "onsubscribefromcallable",
      "java:48",
      "player",
      "zygoteinit",
      "marverenic",
      "marverenic music",
      "app",
      "android os",
      "method",
      "os",
      "subscribe",
      "serviceplayercontroller",
      "onsubscribemap call",
      "*",
      "observable subscribe",
      "failed",
      "music player",
      "call",
      "onsubscribemap",
      "activitythread",
      "com marverenic",
      "observable",
      "playing",
      "java:33",
      "queue"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/marverenic/Jockey/commit/4cbd21e50fad78bc61c44eaf64004f387abbddfd",
      "files": [
        {
          "file_name": "app/src/main/aidl/com/marverenic/music/IPlayerService.aidl",
          "patch": "@@ -16,6 +16,9 @@ interface IPlayerService {\n     void pause();\n     void setPreferences(in ImmutablePreferenceStore preferences);\n     void setQueue(in List\u003cSong\u003e newQueue, int newPosition);\n+    void beginBigQueue();\n+    void sendQueueChunk(in List\u003cSong\u003e chunk);\n+    void endBigQueue(int flag, int newPosition);\n     void changeSong(int position);\n     void editQueue(in List\u003cSong\u003e newQueue, int newPosition);\n     void queueNext(in Song song);\n@@ -29,6 +32,7 @@ interface IPlayerService {\n     List\u003cSong\u003e getQueue();\n     int getQueuePosition();\n     int getQueueSize();\n+    List\u003cSong\u003e getQueueChunk(int offset, int length);\n     int getCurrentPosition();\n     int getDuration();\n "
        },
        {
          "file_name": "app/src/main/java/com/marverenic/music/player/PlayerController.java",
          "patch": "@@ -18,6 +18,10 @@\n  */\n public interface PlayerController {\n \n+    int MINIMUM_SONG_PER_CHUNK \u003d 500;\n+    int FLAG_SET_QUEUE \u003d 0x0;\n+    int FLAG_EDIT_QUEUE \u003d 0x1;\n+\n     /**\n      * Gets error messages from the service that can be displayed on the UI\n      * @return An observable stream of user-presentable error messages"
        },
        {
          "file_name": "app/src/main/java/com/marverenic/music/player/PlayerService.java",
          "patch": "@@ -28,9 +28,11 @@\n import com.marverenic.music.utils.MediaStyleHelper;\n \n import java.io.IOException;\n+import java.util.ArrayList;\n import java.util.Collections;\n import java.util.List;\n \n+import dagger.internal.Preconditions;\n import timber.log.Timber;\n \n public class PlayerService extends Service implements MusicPlayer.OnPlaybackChangeListener {\n@@ -369,6 +371,7 @@ public void onPlaybackChange() {\n     public static class Stub extends IPlayerService.Stub {\n \n         private PlayerService mService;\n+        private List\u003cSong\u003e mQueueTemp;\n \n         public Stub(PlayerService service) {\n             mService \u003d service;\n@@ -497,6 +500,26 @@ public void setQueue(List\u003cSong\u003e newQueue, int newPosition) throws RemoteExceptio\n         }\n \n         @Override\n+        public void beginBigQueue() throws RemoteException {\n+            mQueueTemp \u003d new ArrayList\u003c\u003e();\n+        }\n+\n+        @Override\n+        public void sendQueueChunk(List\u003cSong\u003e chunk) throws RemoteException {\n+            Preconditions.checkNotNull(mQueueTemp).addAll(chunk);\n+        }\n+\n+        @Override\n+        public void endBigQueue(int flag, int newPosition) throws RemoteException {\n+            List\u003cSong\u003e queue \u003d Preconditions.checkNotNull(mQueueTemp);\n+            mQueueTemp \u003d null;\n+            if (flag \u003d\u003d PlayerController.FLAG_SET_QUEUE)\n+                setQueue(queue, newPosition);\n+            else if (flag \u003d\u003d PlayerController.FLAG_EDIT_QUEUE)\n+                editQueue(queue, newPosition);\n+        }\n+\n+        @Override\n         public void changeSong(int position) throws RemoteException {\n             if (!isMusicPlayerReady()) {\n                 Timber.i(\"PlayerService.changeSong(): Service is not ready. Dropping command\");\n@@ -672,6 +695,26 @@ public int getQueueSize() throws RemoteException {\n         }\n \n         @Override\n+        public List\u003cSong\u003e getQueueChunk(int offset, int length) throws RemoteException {\n+            List\u003cSong\u003e currentQueue \u003d getQueue();\n+            try {\n+                return currentQueue.subList(offset, offset + length);\n+            } catch (IndexOutOfBoundsException ex) {\n+                // https://blog.classycode.com/dealing-with-exceptions-in-aidl-9ba904c6d63\n+                // propagate exception to client to handle, maybe queue is changed while client side\n+                // try to read it\n+                Timber.e(ex, \"getQueueChunk ERROR: offset: %d; length: %d; queue size: %d\",\n+                        offset, length, currentQueue.size());\n+                throw new IllegalArgumentException(\"Invalid offset:\" + offset\n+                        + \"and length:\" + length\n+                        + \"; queue size: \" + currentQueue.size());\n+            } catch (RuntimeException ex) {\n+                Timber.e(ex, \"Remote call to PlayerService.getQueueChunk() failed\");\n+                throw ex;\n+            }\n+        }\n+\n+        @Override\n         public int getCurrentPosition() throws RemoteException {\n             if (!isMusicPlayerReady()) {\n                 return 0;"
        },
        {
          "file_name": "app/src/main/java/com/marverenic/music/player/ServicePlayerController.java",
          "patch": "@@ -21,6 +21,7 @@\n import com.marverenic.music.utils.Optional;\n import com.marverenic.music.utils.Util;\n \n+import java.util.ArrayList;\n import java.util.Collections;\n import java.util.List;\n import java.util.concurrent.TimeUnit;\n@@ -196,7 +197,7 @@ private void releaseAllProperties() {\n     private void initAllProperties() {\n         mPlaying.setFunction(mBinding::isPlaying);\n         mNowPlaying.setFunction(mBinding::getNowPlaying);\n-        mQueue.setFunction(mBinding::getQueue);\n+        mQueue.setFunction(this::getBigQueue);\n         mQueuePosition.setFunction(mBinding::getQueuePosition);\n         mCurrentPosition.setFunction(mBinding::getCurrentPosition);\n         mDuration.setFunction(mBinding::getDuration);\n@@ -332,6 +333,10 @@ public void updatePlayerPreferences(ReadOnlyPreferenceStore preferenceStore) {\n \n     @Override\n     public void setQueue(List\u003cSong\u003e newQueue, int newPosition) {\n+        if (newQueue.size() \u003e MINIMUM_SONG_PER_CHUNK) {\n+            sendBigQueue(newQueue, newPosition, FLAG_SET_QUEUE);\n+            return;\n+        }\n         execute(() -\u003e {\n             try {\n                 mBinding.setQueue(newQueue, newPosition);\n@@ -342,6 +347,60 @@ public void setQueue(List\u003cSong\u003e newQueue, int newPosition) {\n         });\n     }\n \n+    /**\n+     * This function works like {@link #setQueue(List, int)}, except it will split queue to chunks\n+     * and send one by one (keep order) to remote service. if newQueue size is\n+     * less than {@link #MINIMUM_SONG_PER_CHUNK}, use {@link #setQueue(List, int)} instead.\n+     * Needn\u0027t expose this method.\n+     *\n+     * @param newQueue New queue which contains large number of songs.\n+     * @param newPosition The index in the queue to start playback from\n+     */\n+    private void sendBigQueue(List\u003cSong\u003e newQueue, int newPosition, int flag) {\n+        execute(() -\u003e {\n+            try {\n+                mBinding.beginBigQueue();\n+                int i;\n+                for (i \u003d 0; i + MINIMUM_SONG_PER_CHUNK \u003c\u003d newQueue.size(); i +\u003d MINIMUM_SONG_PER_CHUNK) {\n+                    mBinding.sendQueueChunk(newQueue.subList(i, i + MINIMUM_SONG_PER_CHUNK));\n+                }\n+                if (i \u003c newQueue.size())\n+                    mBinding.sendQueueChunk(newQueue.subList(i, newQueue.size()));\n+                mBinding.endBigQueue(flag, newPosition);\n+                invalidateAll();\n+            } catch (RemoteException exception) {\n+                Timber.e(exception, \"Failed to set queue\");\n+            }\n+        });\n+    }\n+\n+    /**\n+     * This method allow read queue from remote service by chunks, but if the queue size is less\n+     * than {@link #MINIMUM_SONG_PER_CHUNK}, this method will return {@link IPlayerService#getQueue()}\n+     * directly.\n+     *\n+     * @return Now playing queue.\n+     */\n+    private List\u003cSong\u003e getBigQueue() throws RemoteException {\n+        int queueSize \u003d mBinding.getQueueSize();\n+        if (queueSize \u003c\u003d MINIMUM_SONG_PER_CHUNK) {\n+            return mBinding.getQueue();\n+        } else {\n+            List\u003cSong\u003e queue \u003d new ArrayList\u003c\u003e();\n+            try {\n+                int offset;\n+                for (offset \u003d 0; offset + MINIMUM_SONG_PER_CHUNK \u003c\u003d queueSize; offset +\u003d MINIMUM_SONG_PER_CHUNK) {\n+                    queue.addAll(mBinding.getQueueChunk(offset, MINIMUM_SONG_PER_CHUNK));\n+                }\n+                if (offset \u003c queueSize) queue.addAll(mBinding.getQueueChunk(offset, queueSize - offset));\n+            } catch (IllegalArgumentException ex) {\n+                // maybe queue is modified --\u003e just return what was read\n+                Timber.d(ex, \"Can\u0027t get queue chunk, return current queue with size: %d\", queue.size());\n+            }\n+            return queue;\n+        }\n+    }\n+\n     @Override\n     public void clearQueue() {\n         setQueue(Collections.emptyList(), 0);\n@@ -362,6 +421,10 @@ public void changeSong(int newPosition) {\n \n     @Override\n     public void editQueue(List\u003cSong\u003e queue, int newPosition) {\n+        if (queue.size() \u003e MINIMUM_SONG_PER_CHUNK) {\n+            sendBigQueue(queue, newPosition, FLAG_EDIT_QUEUE);\n+            return;\n+        }\n         execute(() -\u003e {\n             try {\n                 mBinding.editQueue(queue, newPosition);"
        }
      ]
    }
  },
  {
    "name": "Array index out of bounds exception on map",
    "url": "https://github.com/cgeo/cgeo/issues/4611",
    "description": "I am sure we already have an issue somewhere with a similar thing (or it is just on Google Play crash reports up to now):\n\nNormally this issue happens after using the live map quite a long time (scrolling, loading, and so on).\nHowever just now I tested 2015.01.11-RC with all available connectors activated and just after some movement of the live map I got the following in the log.\nNote: This is no crash at that time, only the exception in the debug log.\n\n```\n23:25:57.409 Error cgeo 3811  [main] GoogleMapView.draw\n23:25:57.409 Error cgeo 3811  java.lang.ArrayIndexOutOfBoundsException: length\u003d40; index\u003d52\n23:25:57.409 Error cgeo 3811    at com.google.android.maps.ItemizedOverlay.draw(ItemizedOverlay.java:241)\n23:25:57.409 Error cgeo 3811    at cgeo.geocaching.maps.google.v1.GoogleCacheOverlay.superDraw(GoogleCacheOverlay.java:96)\n23:25:57.409 Error cgeo 3811    at cgeo.geocaching.maps.AbstractItemizedOverlay.draw(AbstractItemizedOverlay.java:44)\n23:25:57.409 Error cgeo 3811    at cgeo.geocaching.maps.CachesOverlay.draw(CachesOverlay.java:104)\n23:25:57.409 Error cgeo 3811    at cgeo.geocaching.maps.google.v1.GoogleCacheOverlay.draw(GoogleCacheOverlay.java:66)\n23:25:57.409 Error cgeo 3811    at com.google.android.maps.Overlay.draw(Overlay.java:179)\n23:25:57.409 Error cgeo 3811    at com.google.android.maps.OverlayBundle.draw(OverlayBundle.java:45)\n23:25:57.409 Error cgeo 3811    at com.google.android.maps.MapView.onDraw(MapView.java:532)\n23:25:57.409 Error cgeo 3811    at android.view.View.draw(View.java:15303)\n23:25:57.409 Error cgeo 3811    at cgeo.geocaching.maps.google.v1.GoogleMapView.draw(GoogleMapView.java:68)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14197)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3272)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14134)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3272)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14134)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3272)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14134)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3272)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14134)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3272)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14134)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3272)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14134)\n23:25:57.409 Error cgeo 3811    at android.view.View.getDisplayList(View.java:14239)\n23:25:57.409 Error cgeo 3811    at android.view.HardwareRenderer$GlRenderer.buildDisplayList(HardwareRenderer.java:1570)\n23:25:57.409 Error cgeo 3811    at android.view.HardwareRenderer$GlRenderer.draw(HardwareRenderer.java:1449)\n23:25:57.409 Error cgeo 3811    at android.view.ViewRootImpl.draw(ViewRootImpl.java:2705)\n23:25:57.409 Error cgeo 3811    at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2571)\n23:25:57.409 Error cgeo 3811    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2143)\n23:25:57.409 Error cgeo 3811    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1236)\n23:25:57.409 Error cgeo 3811    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6471)\n23:25:57.409 Error cgeo 3811    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:803)\n23:25:57.409 Error cgeo 3811    at android.view.Choreographer.doCallbacks(Choreographer.java:603)\n23:25:57.409 Error cgeo 3811    at android.view.Choreographer.doFrame(Choreographer.java:573)\n23:25:57.409 Error cgeo 3811    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:789)\n23:25:57.409 Error cgeo 3811    at android.os.Handler.handleCallback(Handler.java:733)\n23:25:57.409 Error cgeo 3811    at android.os.Handler.dispatchMessage(Handler.java:95)\n23:25:57.409 Error cgeo 3811    at android.os.Looper.loop(Looper.java:157)\n23:25:57.409 Error cgeo 3811    at android.app.ActivityThread.main(ActivityThread.java:5356)\n23:25:57.409 Error cgeo 3811    at java.lang.reflect.Method.invokeNative(Native Method)\n23:25:57.409 Error cgeo 3811    at java.lang.reflect.Method.invoke(Method.java:515)\n23:25:57.409 Error cgeo 3811    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\n23:25:57.409 Error cgeo 3811    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\n23:25:57.409 Error cgeo 3811    at dalvik.system.NativeStart.main(Native Method)\n```\n",
    "keywords": [
      "com",
      "view java:14239",
      "geocaching maps",
      "handler",
      "java:3272",
      "choreographer",
      "android",
      "main",
      "run",
      "view java:14134",
      "error",
      "23:25:57 409",
      "view",
      "java",
      "java:14134",
      "google android",
      "viewgroup",
      "android view",
      "lang",
      "map",
      "3811",
      "just",
      "java:14239",
      "zygoteinit",
      "error cgeo",
      "view getdisplaylist",
      "cgeo",
      "android os",
      "method",
      "os",
      "maps",
      "409 error",
      "google",
      "23:25:57",
      "draw",
      "viewgroup dispatchgetdisplaylist",
      "getdisplaylist",
      "dispatchgetdisplaylist",
      "geocaching",
      "googlemapview",
      "viewrootimpl",
      "googlecacheoverlay",
      "v1",
      "viewgroup java:3272",
      "409",
      "cgeo 3811"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/abdb4d61b575c32c43c4e75e1ab27bb0383826df",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/maps/CachesOverlay.java",
          "patch": "@@ -103,9 +103,15 @@ void switchCircles() {\n     @Override\n     public void draw(final Canvas canvas, final MapViewImpl mapView, final boolean shadow) {\n \n-        drawInternal(canvas, mapView.getMapProjection());\n+        // prevent content changes\n+        getOverlayImpl().lock();\n+        try {\n+            drawInternal(canvas, mapView.getMapProjection());\n \n-        super.draw(canvas, mapView, false);\n+            super.draw(canvas, mapView, false);\n+        } finally {\n+            getOverlayImpl().unlock();\n+        }\n     }\n \n     @Override\n@@ -122,39 +128,33 @@ private void drawInternal(final Canvas canvas, final MapProjectionImpl projectio\n             return;\n         }\n \n-        // prevent content changes\n-        getOverlayImpl().lock();\n-        try {\n-            lazyInitializeDrawingObjects();\n-            canvas.setDrawFilter(setFilter);\n-            final int height \u003d canvas.getHeight();\n-            final int width \u003d canvas.getWidth();\n-\n-            final int radius \u003d calculateDrawingRadius(projection);\n-            final Point center \u003d new Point();\n-\n-            for (final CachesOverlayItemImpl item : items) {\n-                if (item.applyDistanceRule()) {\n-                    final Geopoint itemCoord \u003d item.getCoord().getCoords();\n-                    final GeoPointImpl itemGeo \u003d mapItemFactory.getGeoPointBase(itemCoord);\n-                    projection.toPixels(itemGeo, center);\n-                    if (center.x \u003e -radius \u0026\u0026 center.y \u003e -radius \u0026\u0026 center.x \u003c width + radius \u0026\u0026 center.y \u003c height + radius) {\n-                        // dashed circle around the waypoint\n-                        blockedCircle.setColor(0x66BB0000);\n-                        blockedCircle.setStyle(Style.STROKE);\n-                        canvas.drawCircle(center.x, center.y, radius, blockedCircle);\n-\n-                        // filling the circle area with a transparent color\n-                        blockedCircle.setColor(0x44BB0000);\n-                        blockedCircle.setStyle(Style.FILL);\n-                        canvas.drawCircle(center.x, center.y, radius, blockedCircle);\n-                    }\n+        lazyInitializeDrawingObjects();\n+        canvas.setDrawFilter(setFilter);\n+        final int height \u003d canvas.getHeight();\n+        final int width \u003d canvas.getWidth();\n+\n+        final int radius \u003d calculateDrawingRadius(projection);\n+        final Point center \u003d new Point();\n+\n+        for (final CachesOverlayItemImpl item : items) {\n+            if (item.applyDistanceRule()) {\n+                final Geopoint itemCoord \u003d item.getCoord().getCoords();\n+                final GeoPointImpl itemGeo \u003d mapItemFactory.getGeoPointBase(itemCoord);\n+                projection.toPixels(itemGeo, center);\n+                if (center.x \u003e -radius \u0026\u0026 center.y \u003e -radius \u0026\u0026 center.x \u003c width + radius \u0026\u0026 center.y \u003c height + radius) {\n+                    // dashed circle around the waypoint\n+                    blockedCircle.setColor(0x66BB0000);\n+                    blockedCircle.setStyle(Style.STROKE);\n+                    canvas.drawCircle(center.x, center.y, radius, blockedCircle);\n+\n+                    // filling the circle area with a transparent color\n+                    blockedCircle.setColor(0x44BB0000);\n+                    blockedCircle.setStyle(Style.FILL);\n+                    canvas.drawCircle(center.x, center.y, radius, blockedCircle);\n                 }\n             }\n-            canvas.setDrawFilter(removeFilter);\n-        } finally {\n-            getOverlayImpl().unlock();\n         }\n+        canvas.setDrawFilter(removeFilter);\n     }\n \n     /**"
        }
      ]
    }
  },
  {
    "name": "AndStatus crashes when I try to view an item from a search",
    "url": "https://github.com/andstatus/andstatus/issues/405",
    "description": "Hi, \n\nwhenever I try to view a search result of a global search, And status crashes.\n\nThe crash report is as follows:\n\nUSER_COMMENT\u003dtried to open a tweet from a global search\nANDROID_VERSION\u003d5.1.1\nAPP_VERSION_NAME\u003d27.04\nBRAND\u003dsamsung\nPHONE_MODEL\u003dSM-G800F\nCUSTOM_DATA\u003d\nSTACK_TRACE\u003dandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act\u003dorg.andstatus.app.action.VIEW_CONVERSATION dat\u003dcontent://org.andstatus.app.data.MyProvider/msg/0/lt/search/origin/1/user/0/search/foobar/item/120841 }\n    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1861)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1534)\n    at android.app.Activity.startActivityForResult(Activity.java:4091)\n    at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:48)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\n    at android.app.Activity.startActivityForResult(Activity.java:4038)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:871)\n    at org.andstatus.app.msg.TimelineActivity.startActivityForResult(TimelineActivity.java:956)\n    at android.app.Activity.startActivity(Activity.java:4362)\n    at android.app.Activity.startActivity(Activity.java:4330)\n    at org.andstatus.app.msg.TimelineActivity.onItemClick(TimelineActivity.java:510)\n    at org.andstatus.app.msg.TimelineAdapter.onClick(TimelineAdapter.java:261)\n    at android.view.View.performClick(View.java:5242)\n    at android.view.View$PerformClick.run(View.java:21196)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:145)\n    at android.app.ActivityThread.main(ActivityThread.java:6938)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)\n",
    "keywords": [
      "msg",
      "timelineactivity",
      "app",
      "handler",
      "os",
      "activity",
      "method",
      "andstatus",
      "org",
      "android",
      "fragmentactivity",
      "view",
      "search",
      "startactivityforresult",
      "android app",
      "instrumentation",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/andstatus/andstatus/commit/d26ad48d3877fb7a3752f941d5681f545e24196b",
      "files": [
        {
          "file_name": "app/src/main/java/org/andstatus/app/msg/TimelineActivity.java",
          "patch": "@@ -520,7 +520,8 @@ public void onItemClick(TimelineViewItem item) {\n             return;\n         }\n         Uri uri \u003d MatchedUri.getTimelineItemUri(\n-                getParamsLoaded().getTimeline().fromIsCombined(myContext, false).fromMyAccount(myContext, ma),\n+                Timeline.getTimeline(TimelineType.EVERYTHING, null, 0,\n+                        myContext.persistentOrigins().fromId(item.originId)),\n                 item.msgId);\n \n         String action \u003d getIntent().getAction();"
        }
      ]
    }
  },
  {
    "name": "NullPointerException in AestheticToolbar",
    "url": "https://github.com/afollestad/aesthetic/issues/21",
    "description": "- [x] I have verified there are no duplicate active or recent bugs, questions, or requests\r\n- [x] I have verified that I am using the latest version of Aesthetic (see the README)\r\n- [x] I have given my issue description title\r\n- [x] I have read over the documentation (before asking questions on how to do something).\r\n\r\n###### Include the following:\r\n - Aesthetic version: `0.4.3`\r\n - Device OS version: `7.1.2+`\r\n - Device: Any\r\n\r\n```gradle\r\nio.reactivex.exceptions.CompositeException: 1 exceptions occurred. \r\n                                                                         at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:77)\r\n                                                                         at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:64)\r\n                                                                         at io.reactivex.internal.operators.observable.ObservableDistinctUntilChanged$DistinctUntilChangedObserver.onNext(ObservableDistinctUntilChanged.java:85)\r\n                                                                         at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)\r\n                                                                         at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\r\n                                                                         at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)\r\n                                                                         at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                         at android.os.Looper.loop(Looper.java:154)\r\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:6244)\r\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\r\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\r\n                                                                       ComposedException 1 :\r\n                                                                     \tjava.lang.NullPointerException: Attempt to invoke virtual method \u0027void io.reactivex.subjects.PublishSubject.onNext(java.lang.Object)\u0027 on a null object reference\r\n                                                                         at com.afollestad.aesthetic.AestheticToolbar.invalidateColors(AestheticToolbar.java:54)\r\n                                                                         at com.afollestad.aesthetic.AestheticToolbar.access$000(AestheticToolbar.java:21)\r\n                                                                         at com.afollestad.aesthetic.AestheticToolbar$1.accept(AestheticToolbar.java:93)\r\n                                                                         at com.afollestad.aesthetic.AestheticToolbar$1.accept(AestheticToolbar.java:90)\r\n                                                                         at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:60)\r\n                                                                         at io.reactivex.internal.operators.observable.ObservableDistinctUntilChanged$DistinctUntilChangedObserver.onNext(ObservableDistinctUntilChanged.java:85)\r\n                                                                         at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)\r\n                                                                         at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\r\n                                                                         at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)\r\n                                                                         at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                         at android.os.Looper.loop(Looper.java:154)\r\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:6244)\r\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\r\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\r\n```\r\n \r\n###### Reproduction Steps\r\nLaunch app for first time or after clearing data\r\n\r\n###### Expected Result\r\nSuccessful launch\r\n\r\n###### Actual Result\r\nCrash\r\n",
    "keywords": [
      "com",
      "aesthetic",
      "[x]",
      "handler",
      "internal",
      "com afollestad",
      "android",
      "operators observable",
      "main",
      "run",
      "looper",
      "invoke",
      "reactivex",
      "observableobserveon$observeonobserver",
      "afollestad",
      "java",
      "operators",
      "lambdaobserver",
      "######",
      "observableobserveon",
      "aesthetictoolbar",
      "lang",
      "zygoteinit",
      "app",
      "android os",
      "os",
      "method",
      "io",
      "version",
      "java lang",
      "reactivex internal",
      "activitythread",
      "1",
      "observable",
      "onnext",
      "observers"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/afollestad/aesthetic/commit/c8ec8eec746cfc4faeb0771cd9f2c6af686170d6",
      "files": [
        {
          "file_name": "README.md",
          "patch": "@@ -48,7 +48,7 @@ Add this to your module\u0027s `build.gradle` file:\n ```gradle\n dependencies {\n     // ... other dependencies\n-    compile \u0027com.afollestad:aesthetic:0.4.3\u0027\n+    compile \u0027com.afollestad:aesthetic:0.4.4\u0027\n }\n ```\n "
        },
        {
          "file_name": "dependencies.gradle",
          "patch": "@@ -2,8 +2,8 @@ ext.versions \u003d [\n         minSdk            : 16,\n         compileSdk        : 25,\n         buildTools        : \u002725.0.3\u0027,\n-        publishVersion    : \u00270.4.3\u0027,\n-        publishVersionCode: 15,\n+        publishVersion    : \u00270.4.4\u0027,\n+        publishVersionCode: 16,\n         gradlePlugin      : \u00272.3.2\u0027,\n \n         supportLib        : \u002725.3.1\u0027,"
        },
        {
          "file_name": "library/src/main/java/com/afollestad/aesthetic/AestheticToolbar.java",
          "patch": "@@ -26,21 +26,14 @@\n \n   public AestheticToolbar(Context context) {\n     super(context);\n-    init();\n   }\n \n   public AestheticToolbar(Context context, @Nullable AttributeSet attrs) {\n     super(context, attrs);\n-    init();\n   }\n \n   public AestheticToolbar(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n     super(context, attrs, defStyleAttr);\n-    init();\n-  }\n-\n-  private void init() {\n-    onColorUpdated \u003d PublishSubject.create();\n   }\n \n   private void invalidateColors(BgIconColorState state) {\n@@ -80,6 +73,7 @@ public void setNavigationIcon(@Nullable Drawable icon, @ColorInt int color) {\n   @Override\n   protected void onAttachedToWindow() {\n     super.onAttachedToWindow();\n+    onColorUpdated \u003d PublishSubject.create();\n     subscription \u003d\n         Observable.combineLatest(\n                 Aesthetic.get().colorPrimary(),"
        }
      ]
    }
  },
  {
    "name": "NullPointerException: Attempt to invoke virtual method \u0027boolean android.os.Handler.postDelayed #768",
    "url": "https://github.com/walkingice/Progressbar/issues/4",
    "description": "Crash in Focus:\r\nhttps://github.com/mozilla-mobile/focus-android/issues/768",
    "keywords": [],
    "code": {
      "language": "Java",
      "url": "https://github.com/walkingice/Progressbar/commit/7bc153c9d924a9cc6378cf02161aae53ba8d3a92",
      "files": [
        {
          "file_name": "geckowidget/src/main/java/org/mozilla/gecko/widget/AnimatedProgressBar.java",
          "patch": "@@ -14,6 +14,7 @@\n import android.graphics.Rect;\n import android.graphics.drawable.Drawable;\n import android.os.Build;\n+import android.os.Handler;\n import android.support.annotation.InterpolatorRes;\n import android.support.annotation.NonNull;\n import android.support.annotation.Nullable;\n@@ -222,12 +223,16 @@ private void setVisibilityImmediately(int value) {\n \n     private void animateClosing() {\n         mClosingAnimator.cancel();\n-        getHandler().postDelayed(new Runnable() {\n-            @Override\n-            public void run() {\n-                mClosingAnimator.start();\n-            }\n-        }, CLOSING_DELAY);\n+        final Handler handler \u003d getHandler();\n+        // if this view is detached from window, the handler would be null\n+        if (handler !\u003d null) {\n+            handler.postDelayed(new Runnable() {\n+                @Override\n+                public void run() {\n+                    mClosingAnimator.start();\n+                }\n+            }, CLOSING_DELAY);\n+        }\n     }\n \n     private void setProgressImmediately(int progress) {"
        }
      ]
    }
  },
  {
    "name": "Context race condition (null reference)",
    "url": "https://github.com/kontalk/androidclient/issues/965",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.res.Resources android.content.Context.getResources()\u0027 on a null object reference\r\n       at org.kontalk.util.Preferences.getEncryptionEnabled(Preferences.java:196)\r\n       at org.kontalk.ui.AbstractComposeFragment.updateUI(AbstractComposeFragment.java:1963)\r\n       at org.kontalk.ui.ComposeMessageFragment.updateUI(ComposeMessageFragment.java:1027)\r\n       at org.kontalk.ui.AbstractComposeFragment.onCreateOptionsMenu(AbstractComposeFragment.java:765)\r\n       at android.support.v4.app.Fragment.performCreateOptionsMenu(Fragment.java:2288)\r\n       at android.support.v4.app.FragmentManagerImpl.dispatchCreateOptionsMenu(FragmentManager.java:2984)\r\n       at android.support.v4.app.FragmentController.dispatchCreateOptionsMenu(FragmentController.java:328)\r\n       at android.support.v4.app.FragmentActivity.onCreatePanelMenu(FragmentActivity.java:363)\r\n       at android.support.v7.view.WindowCallbackWrapper.onCreatePanelMenu(WindowCallbackWrapper.java:98)\r\n       at android.support.v7.app.AppCompatDelegateImplBase$AppCompatWindowCallbackBase.onCreatePanelMenu(AppCompatDelegateImplBase.java:335)\r\n       at android.support.v7.view.WindowCallbackWrapper.onCreatePanelMenu(WindowCallbackWrapper.java:98)\r\n       at android.support.v7.app.ToolbarActionBar.populateOptionsMenu(ToolbarActionBar.java:454)\r\n       at android.support.v7.app.ToolbarActionBar$1.run(ToolbarActionBar.java:61)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5669)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n```",
    "keywords": [
      "app",
      "v7",
      "handler",
      "os",
      "method",
      "org",
      "android",
      "abstractcomposefragment",
      "android support",
      "invoke",
      "org kontalk",
      "windowcallbackwrapper",
      "java",
      "ui",
      "oncreatepanelmenu",
      "toolbaractionbar",
      "lang",
      "support",
      "kontalk",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/f43304fe70da9d42425378d7be74048556970ee7",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -1958,18 +1958,20 @@ protected void updateUI() {\n \n         if (mToggleEncryptionMenu !\u003d null) {\n             Context context \u003d getActivity();\n-            if (mConversation !\u003d null \u0026\u0026 Preferences.getEncryptionEnabled(context)) {\n-                boolean encryption \u003d mConversation.isEncryptionEnabled();\n-                mToggleEncryptionMenu\n-                    .setVisible(true)\n-                    .setEnabled(true)\n-                    .setChecked(encryption);\n-            }\n-            else {\n-                mToggleEncryptionMenu\n-                    .setVisible(false)\n-                    .setEnabled(false)\n-                    .setChecked(false);\n+            if (context !\u003d null) {\n+                if (mConversation !\u003d null \u0026\u0026 Preferences.getEncryptionEnabled(context)) {\n+                    boolean encryption \u003d mConversation.isEncryptionEnabled();\n+                    mToggleEncryptionMenu\n+                        .setVisible(true)\n+                        .setEnabled(true)\n+                        .setChecked(encryption);\n+                }\n+                else {\n+                    mToggleEncryptionMenu\n+                        .setVisible(false)\n+                        .setEnabled(false)\n+                        .setChecked(false);\n+                }\n             }\n         }\n     }"
        }
      ]
    }
  },
  {
    "name": "Crash due to NumberFormatException",
    "url": "https://github.com/zulip/zulip-android/issues/431",
    "description": "Stacktrace for the bug\r\n```\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.zulip.android/com.zulip.android.activities.ZulipActivity}: android.view.InflateException: Binary XML file line #35: Error inflating class ImageView\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2447)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2507)\r\n       at android.app.ActivityThread.access$900(ActivityThread.java:172)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1308)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:146)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5692)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1291)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1107)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\nCaused by android.view.InflateException: Binary XML file line #35: Error inflating class ImageView\r\n       at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:719)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:761)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:769)\r\n       at android.view.LayoutInflater.parseInclude(LayoutInflater.java:825)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:751)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:769)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:769)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:498)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:398)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:354)\r\n       at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:280)\r\n       at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\r\n       at com.zulip.android.activities.ZulipActivity.onCreate(ZulipActivity.java:338)\r\n       at android.app.Activity.performCreate(Activity.java:5541)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1093)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2411)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2507)\r\n       at android.app.ActivityThread.access$900(ActivityThread.java:172)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1308)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:146)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5692)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1291)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1107)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\nCaused by java.lang.NumberFormatException: Invalid int: \"res/color/secondary_text_light.xml\"\r\n       at java.lang.Integer.invalidInt(Integer.java:137)\r\n       at java.lang.Integer.parse(Integer.java:374)\r\n       at java.lang.Integer.parseInt(Integer.java:365)\r\n       at com.android.internal.util.XmlUtils.convertValueToInt(XmlUtils.java:122)\r\n       at android.content.res.TypedArray.getInt(TypedArray.java:255)\r\n       at android.widget.ImageView.\u003cinit\u003e(ImageView.java:165)\r\n       at android.support.v7.widget.AppCompatImageView.\u003cinit\u003e(AppCompatImageView.java:57)\r\n       at android.support.v7.widget.AppCompatImageView.\u003cinit\u003e(AppCompatImageView.java:53)\r\n       at android.support.v7.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:106)\r\n       at android.support.v7.app.AppCompatDelegateImplV7.createView(AppCompatDelegateImplV7.java:1008)\r\n       at android.support.v7.app.AppCompatDelegateImplV7.onCreateView(AppCompatDelegateImplV7.java:1067)\r\n       at android.support.v4.view.LayoutInflaterCompatHC$FactoryWrapperHC.onCreateView(LayoutInflaterCompatHC.java:44)\r\n       at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:690)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:761)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:769)\r\n       at android.view.LayoutInflater.parseInclude(LayoutInflater.java:825)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:751)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:769)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:769)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:498)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:398)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:354)\r\n       at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:280)\r\n       at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\r\n       at com.zulip.android.activities.ZulipActivity.onCreate(ZulipActivity.java:338)\r\n       at android.app.Activity.performCreate(Activity.java:5541)\r\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1093)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2411)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2507)\r\n       at android.app.ActivityThread.access$900(ActivityThread.java:172)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1308)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:146)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5692)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1291)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1107)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```\r\n\r\nAndroid version: 4.4.2",
    "keywords": [
      "rinflate layoutinflater",
      "com",
      "v7",
      "appcompatdelegateimplv7",
      "handler",
      "java:515",
      "dalvik",
      "invoke",
      "main",
      "run",
      "integer",
      "lang reflect",
      "view",
      "reflect",
      "java",
      "layoutinflater",
      "support v7",
      "zulip",
      "loop",
      "xml",
      "java:1308",
      "layoutinflater rinflate",
      "instrumentation",
      "performlaunchactivity",
      "app",
      "android os",
      "method",
      "java:769",
      "inflate layoutinflater",
      "\u003cinit\u003e",
      "view layoutinflater",
      "java:172",
      "system",
      "imageview",
      "android app",
      "support",
      "handlemessage",
      "dispatchmessage",
      "internal",
      "widget",
      "java:1291",
      "activity",
      "java:5692",
      "app activitythread",
      "android",
      "android support",
      "looper",
      "nativestart",
      "invokenative",
      "setcontentview",
      "android internal",
      "android view",
      "activitythread$h",
      "lang",
      "java:102",
      "java:146",
      "internal os",
      "zygoteinit",
      "os",
      "layoutinflater java:769",
      "appcompatactivity",
      "zygoteinit$methodandargscaller",
      "java:1107",
      "com android",
      "appcompatimageview",
      "rinflate",
      "access$900",
      "java lang",
      "v7 app",
      "activitythread",
      "handlelaunchactivity",
      "inflate",
      "java:2507",
      "activities",
      "layoutinflater inflate",
      "zulipactivity"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/zulip/zulip-android/commit/f6224f5208583b2dc5bd9e05f590984f62ce8a35",
      "files": [
        {
          "file_name": "app/src/main/java/com/zulip/android/activities/ZulipActivity.java",
          "patch": "@@ -1365,6 +1365,9 @@ private void setupFab() {\n         fab \u003d (FloatingActionButton) findViewById(R.id.fab);\n         chatBox \u003d (SwipeRemoveLinearLayout) findViewById(R.id.messageBoxContainer);\n         chatBox.registerToSwipeEvents(this);\n+        addFileBtn.setColorFilter(getResources().getColorStateList(R.color.colorTextSecondary).getColorForState(addFileBtn.getDrawableState(), 0));\n+        sendBtn.setColorFilter(getResources().getColorStateList(R.color.colorTextSecondary).getColorForState(sendBtn.getDrawableState(), 0));\n+        togglePrivateStreamBtn.setColorFilter(getResources().getColorStateList(R.color.colorTextSecondary).getColorForState(togglePrivateStreamBtn.getDrawableState(), 0));\n         fabHidder \u003d new CountDownTimer(Constants.HIDE_FAB_AFTER_SEC * 1000, Constants.HIDE_FAB_AFTER_SEC * 1000) {\n             public void onTick(long millisUntilFinished) {\n             }"
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/util/ListDialog.java",
          "patch": "@@ -8,6 +8,7 @@\n import android.os.Bundle;\n import android.view.LayoutInflater;\n import android.view.View;\n+import android.widget.ImageView;\n \n import com.zulip.android.R;\n \n@@ -55,6 +56,12 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n         View rootView \u003d inflater.inflate(R.layout.list_dialog, null);\n         View cameraListItem \u003d rootView.findViewById(R.id.picture_dialog);\n         View fileListItem \u003d rootView.findViewById(R.id.pick_file_dialog);\n+        ImageView cameraImage \u003d(ImageView) rootView.findViewById(R.id.camera_share_icon);\n+        ImageView fileImage \u003d(ImageView) rootView.findViewById(R.id.file_share_icon);\n+\n+        //Add proper colorState tinting to the camera and fileList Icons\n+        cameraImage.setColorFilter(getResources().getColorStateList(R.color.colorTextSecondary).getColorForState(cameraImage.getDrawableState(), 0));\n+        fileImage.setColorFilter(getResources().getColorStateList(R.color.colorTextSecondary).getColorForState(fileImage.getDrawableState(), 0));\n \n         // if device doesn\u0027t have camera, disable camera option\n         if (!getActivity().getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA)) {"
        },
        {
          "file_name": "app/src/main/res/layout/chatbox.xml",
          "patch": "@@ -38,8 +38,7 @@\n             android:layout_height\u003d\"wrap_content\"\n             android:contentDescription\u003d\"@string/stream_private_content_desp\"\n             android:padding\u003d\"3dp\"\n-            android:src\u003d\"@drawable/ic_action_person\"\n-            android:tint\u003d\"@color/colorTextSecondary\" /\u003e\n+            android:src\u003d\"@drawable/ic_action_person\" /\u003e\n     \u003c/LinearLayout\u003e\n \n     \u003cLinearLayout\n@@ -58,8 +57,7 @@\n             android:paddingLeft\u003d\"8dp\"\n             android:paddingRight\u003d\"4dp\"\n             android:paddingTop\u003d\"4dp\"\n-            android:src\u003d\"@drawable/ic_add_circle_outline_black_24dp\"\n-            android:tint\u003d\"@color/colorTextSecondary\" /\u003e\n+            android:src\u003d\"@drawable/ic_add_circle_outline_black_24dp\" /\u003e\n \n         \u003cAutoCompleteTextView\n             android:id\u003d\"@+id/message_et\"\n@@ -78,8 +76,7 @@\n             android:alpha\u003d\"0.7\"\n             android:contentDescription\u003d\"@string/send_content_desp\"\n             android:padding\u003d\"4dp\"\n-            android:src\u003d\"@drawable/ic_send_24dp\"\n-            android:tint\u003d\"@color/colorTextSecondary\" /\u003e\n+            android:src\u003d\"@drawable/ic_send_24dp\" /\u003e\n \n     \u003c/LinearLayout\u003e\n "
        },
        {
          "file_name": "app/src/main/res/layout/list_dialog.xml",
          "patch": "@@ -10,11 +10,11 @@\n         android:layout_marginBottom\u003d\"16dp\"\n         android:orientation\u003d\"horizontal\"\u003e\n     \u003cImageView\n+        android:id\u003d\"@+id/camera_share_icon\"\n         android:layout_width\u003d\"wrap_content\"\n         android:layout_height\u003d\"wrap_content\"\n         android:layout_gravity\u003d\"center_vertical\"\n         android:src\u003d\"@drawable/ic_photo_camera_black_24dp\"\n-        android:tint\u003d\"?attr/colorControlNormal\"\n         android:alpha\u003d\"0.7\"/\u003e\n     \u003cTextView\n         android:layout_width\u003d\"wrap_content\"\n@@ -33,11 +33,11 @@\n         android:orientation\u003d\"horizontal\"\n         android:layout_marginTop\u003d\"8dp\"\u003e\n     \u003cImageView\n+        android:id\u003d\"@+id/file_share_icon\"\n         android:layout_width\u003d\"wrap_content\"\n         android:layout_height\u003d\"wrap_content\"\n         android:layout_gravity\u003d\"center_vertical\"\n         android:src\u003d\"@drawable/ic_insert_drive_file_black_24dp\"\n-        android:tint\u003d\"?attr/colorControlNormal\"\n         android:alpha\u003d\"0.7\"/\u003e\n     \u003cTextView\n         android:layout_width\u003d\"wrap_content\""
        }
      ]
    }
  },
  {
    "name": "Occasional crash when returning from rep call page to issue details",
    "url": "https://github.com/5calls/android/issues/73",
    "description": "java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState\r\n\tat android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1842)\r\n\tat android.support.v4.app.FragmentManagerImpl.popBackStackImmediate(FragmentManager.java:775)\r\n\tat android.support.v4.app.FragmentActivity.onBackPressed(FragmentActivity.java:178)\r\n\tat org.a5calls.android.a5calls.controller.RepCallActivity$1.onCallReported(RepCallActivity.java:128)\r\n\tat org.a5calls.android.a5calls.model.FiveCallsApi$5.onResponse(FiveCallsApi.java:202)\r\n\tat org.a5calls.android.a5calls.model.FiveCallsApi$5.onResponse(FiveCallsApi.java:198)\r\n\tat com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:60)\r\n\tat com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:30)\r\n\tat com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:99)\r\n\tat android.os.Handler.handleCallback(Handler.java:751)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n\tat android.os.Looper.loop(Looper.java:154)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6119)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)",
    "keywords": [
      "com",
      "app",
      "handler",
      "android a5calls",
      "os",
      "org",
      "volley",
      "android",
      "com android",
      "a5calls",
      "support",
      "v4",
      "stringrequest",
      "org a5calls",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/5calls/android/commit/673d563716bd658cf5c76b4eb6d57f71d41c0ab7",
      "files": [
        {
          "file_name": "5calls/app/src/main/AndroidManifest.xml",
          "patch": "@@ -26,14 +26,41 @@\n                 \u003ccategory android:name\u003d\"android.intent.category.LAUNCHER\" /\u003e\n             \u003c/intent-filter\u003e\n         \u003c/activity\u003e\n-        \u003cactivity android:name\u003d\".controller.IssueActivity\" /\u003e\n-        \u003cactivity android:name\u003d\".controller.RepCallActivity\" /\u003e\n-        \u003cactivity android:name\u003d\".controller.AboutActivity\" /\u003e\n+        \u003cactivity android:name\u003d\".controller.IssueActivity\"\n+            android:launchMode\u003d\"singleTop\"\n+            android:parentActivityName\u003d\".controller.MainActivity\"\u003e\n+            \u003cmeta-data\n+                android:name\u003d\"android.support.PARENT_ACTIVITY\"\n+                android:value\u003d\".controller.MainActivity\" /\u003e\n+            \u003c/activity\u003e\n+        \u003cactivity android:name\u003d\".controller.RepCallActivity\"\n+            android:parentActivityName\u003d\".controller.IssueActivity\"\u003e\n+            \u003cmeta-data\n+                android:name\u003d\"android.support.PARENT_ACTIVITY\"\n+                android:value\u003d\".controller.IssueActivity\" /\u003e\n+        \u003c/activity\u003e\n+        \u003cactivity android:name\u003d\".controller.AboutActivity\"\n+            android:parentActivityName\u003d\".controller.MainActivity\"\u003e\n+            \u003cmeta-data\n+                android:name\u003d\"android.support.PARENT_ACTIVITY\"\n+                android:value\u003d\".controller.MainActivity\" /\u003e\n+        \u003c/activity\u003e\n         \u003cactivity android:name\u003d\".controller.TutorialActivity\" /\u003e\n-        \u003cactivity android:name\u003d\".controller.SettingsActivity\" /\u003e\n+        \u003cactivity android:name\u003d\".controller.SettingsActivity\"\n+            android:parentActivityName\u003d\".controller.MainActivity\"\u003e\n+            \u003cmeta-data\n+                android:name\u003d\"android.support.PARENT_ACTIVITY\"\n+                android:value\u003d\".controller.MainActivity\" /\u003e\n+        \u003c/activity\u003e\n         \u003cactivity android:name\u003d\".controller.LocationActivity\"/\u003e\n         \u003cactivity android:name\u003d\".controller.StatsActivity\"\n-            android:label\u003d\"@string/stats_activity\"/\u003e\n+            android:label\u003d\"@string/stats_activity\"\n+            android:parentActivityName\u003d\".controller.MainActivity\"\u003e\n+            \u003cmeta-data\n+                android:name\u003d\"android.support.PARENT_ACTIVITY\"\n+                android:value\u003d\".controller.MainActivity\" /\u003e\n+        \u003c/activity\u003e\n+\n         \u003creceiver\n             android:name\u003d\".controller.NotifyBroadcastReceiver\" /\u003e\n         \u003creceiver"
        },
        {
          "file_name": "5calls/app/src/main/java/org/a5calls/android/a5calls/controller/IssueActivity.java",
          "patch": "@@ -71,8 +71,10 @@ protected void onCreate(@Nullable Bundle savedInstanceState) {\n         setContentView(R.layout.activity_issue);\n         ButterKnife.bind(this);\n \n-        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n-        getSupportActionBar().setTitle(mIssue.name);\n+        if (getSupportActionBar() !\u003d null) {\n+            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+            getSupportActionBar().setTitle(mIssue.name);\n+        }\n \n         issueName.setText(mIssue.name);\n         issueDescription.setText(mIssue.reason);"
        },
        {
          "file_name": "5calls/app/src/main/java/org/a5calls/android/a5calls/controller/LocationActivity.java",
          "patch": "@@ -70,7 +70,9 @@ protected void onCreate(Bundle savedInstanceState) {\n         Intent intent \u003d getIntent();\n         if (intent !\u003d null) {\n             if (intent.getBooleanExtra(ALLOW_HOME_UP_KEY, false)) {\n-                getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+                if (getSupportActionBar() !\u003d null) {\n+                    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+                }\n                 allowsHomeUp \u003d true;\n             }\n         }\n@@ -148,7 +150,7 @@ private void returnToMain() {\n         // If we came from MainActivity and return with another Intent, it will create a deep stack\n         // of activities!\n         if (allowsHomeUp) {\n-            onBackPressed();\n+            finish();\n         } else {\n             Intent intent \u003d new Intent(this, MainActivity.class);\n             startActivity(intent);\n@@ -160,7 +162,7 @@ private void returnToMain() {\n     public boolean onOptionsItemSelected(MenuItem item) {\n         switch (item.getItemId()) {\n             case android.R.id.home:\n-                onBackPressed();\n+                returnToMain();\n                 return true;\n         }\n         return super.onOptionsItemSelected(item);"
        },
        {
          "file_name": "5calls/app/src/main/java/org/a5calls/android/a5calls/controller/MainActivity.java",
          "patch": "@@ -125,8 +125,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         ButterKnife.bind(this);\n \n         setSupportActionBar(actionBar);\n-        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n-        getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_menu_white_24dp);\n+        if (getSupportActionBar() !\u003d null) {\n+            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+            getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_menu_white_24dp);\n+        }\n \n         if (navigationView !\u003d null) {\n             setupDrawerContent(navigationView);"
        },
        {
          "file_name": "5calls/app/src/main/java/org/a5calls/android/a5calls/controller/RepCallActivity.java",
          "patch": "@@ -1,10 +1,12 @@\n package org.a5calls.android.a5calls.controller;\n \n import android.content.DialogInterface;\n+import android.content.Intent;\n import android.graphics.Bitmap;\n import android.os.Bundle;\n import android.support.annotation.Nullable;\n import android.support.design.widget.Snackbar;\n+import android.support.v4.app.NavUtils;\n import android.support.v4.graphics.drawable.RoundedBitmapDrawable;\n import android.support.v4.graphics.drawable.RoundedBitmapDrawableFactory;\n import android.support.v7.app.AlertDialog;\n@@ -100,8 +102,10 @@ protected void onCreate(@Nullable Bundle savedInstanceState) {\n         setContentView(R.layout.activity_rep_call);\n         ButterKnife.bind(this);\n \n-        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n-        getSupportActionBar().setTitle(mIssue.name);\n+        if (getSupportActionBar() !\u003d null) {\n+            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+            getSupportActionBar().setTitle(mIssue.name);\n+        }\n \n         mStatusListener \u003d new FiveCallsApi.CallRequestListener() {\n             @Override\n@@ -125,7 +129,7 @@ public void onCallCount(int count) {\n             public void onCallReported() {\n                 // Note: Skips are not reported.\n                 Log.d(TAG, \"call reported successfully!\");\n-                onBackPressed();\n+                returnToIssue();\n             }\n         };\n         FiveCallsApi controller \u003d AppSingleton.getInstance(getApplicationContext())\n@@ -201,7 +205,7 @@ protected void onResume() {\n     public boolean onOptionsItemSelected(MenuItem item) {\n         switch (item.getItemId()) {\n             case android.R.id.home:\n-                onBackPressed();\n+                returnToIssue();\n                 return true;\n         }\n         return super.onOptionsItemSelected(item);\n@@ -284,7 +288,7 @@ public void onClick(View v) {\n             public void onClick(View v) {\n                 reportEvent(\"skip\");\n                 // Since this is the last contact, just go back to the main menu if they \"skip\"\n-                onBackPressed();\n+                returnToIssue();\n             }\n         });\n     }\n@@ -354,4 +358,13 @@ private void reportEvent(String event) {\n                     .build());\n         }\n     }\n+\n+    private void returnToIssue() {\n+        if (isFinishing()) {\n+            return;\n+        }\n+        Intent upIntent \u003d NavUtils.getParentActivityIntent(this);\n+        upIntent.putExtra(IssueActivity.KEY_ISSUE, mIssue);\n+        NavUtils.navigateUpTo(this, upIntent);\n+    }\n }"
        },
        {
          "file_name": "5calls/app/src/main/java/org/a5calls/android/a5calls/controller/StatsActivity.java",
          "patch": "@@ -54,7 +54,9 @@ protected void onCreate(@Nullable Bundle savedInstanceState) {\n         setContentView(R.layout.activity_stats);\n         ButterKnife.bind(this);\n \n-        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+        if (getSupportActionBar() !\u003d null) {\n+            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n+        }\n \n         DatabaseHelper db \u003d AppSingleton.getInstance(this).getDatabaseHelper();\n         initializeUI(db);"
        },
        {
          "file_name": "5calls/app/src/main/res/values-es/strings.xml",
          "patch": "@@ -348,15 +348,15 @@\n     \u003cstring name\u003d\"snooze\"\u003eRecuérdeme más tarde\u003c/string\u003e\n \n     \u003c!-- Button to load more and/or inactive issues [CHAR_LIMIT\u003d50] --\u003e\n-    \u003cstring name\u003d\"load_more_btn\"\u003ecargar más asuntos\u003c/string\u003e\n+    \u003cstring name\u003d\"load_more_btn\"\u003emostrar más asuntos\u003c/string\u003e\n \n     \u003c!-- Stats summary shown on the home page [CHAR_LIMIT\u003d75] --\u003e\n-    \u003cstring name\u003d\"your_call_count_summary\"\u003eHas hecho \u003cxliff:g id\u003d\"callCount\"\u003e%1$d\u003c/xliff:g\u003e llamadas\u003c/string\u003e\n+    \u003cstring name\u003d\"your_call_count_summary\"\u003eHa hecho \u003cxliff:g id\u003d\"callCount\"\u003e%1$d\u003c/xliff:g\u003e llamadas\u003c/string\u003e\n \n     \u003c!-- Navigation link to the FAQ page [CHAR_LIMIT\u003d25] --\u003e\n-    \u003cstring name\u003d\"menu_faq\"\u003eFAQ\u003c/string\u003e\n+    \u003cstring name\u003d\"menu_faq\"\u003ePreguntas frecuentes\u003c/string\u003e\n \n     \u003c!-- Header for the representatives / contacts list [CHAR_LIMIT\u003d100] --\u003e\n-    \u003cstring name\u003d\"rep_section_prompt\"\u003eContactos para llamar a este asunto:\u003c/string\u003e\n+    \u003cstring name\u003d\"rep_section_prompt\"\u003eContactos para llamar sobre asunto:\u003c/string\u003e\n \n \u003c/resources\u003e"
        }
      ]
    }
  },
  {
    "name": "FInishing activity without returning has no price",
    "url": "https://github.com/kontalk/androidclient/issues/985",
    "description": "Ehm :-)\r\nBe careful to caller methods expecting some data to be prepared.\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027long org.kontalk.data.Conversation.getThreadId()\u0027 on a null object reference\r\n       at org.kontalk.ui.GroupMessageFragment.handleActionViewConversation(GroupMessageFragment.java:303)\r\n       at org.kontalk.ui.AbstractComposeFragment.processArguments(AbstractComposeFragment.java:1419)\r\n       at org.kontalk.ui.AbstractComposeFragment.onActivityCreated(AbstractComposeFragment.java:286)\r\n       at android.support.v4.app.Fragment.performActivityCreated(Fragment.java:2198)\r\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1326)\r\n       at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)\r\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)\r\n       at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2888)\r\n       at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\r\n       at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:603)\r\n       at android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\r\n       at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1248)\r\n       at android.app.Activity.performStart(Activity.java:6698)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2687)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2789)\r\n       at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1527)\r\n       at android.os.Handler.dispatchMessage(Handler.java:110)\r\n       at android.os.Looper.loop(Looper.java:203)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6251)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1063)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:924)\r\n```",
    "keywords": [
      "app",
      "os",
      "activity",
      "method",
      "kontalk ui",
      "org",
      "app activitythread",
      "android",
      "abstractcomposefragment",
      "android support",
      "support v4",
      "activitythread",
      "java",
      "ui",
      "v4 app",
      "android app",
      "fragmentmanager",
      "support",
      "fragmentmanagerimpl",
      "kontalk",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/c3687dc467262914d4be20a34acf4f3e055ccc7b",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/AbstractComposeFragment.java",
          "patch": "@@ -1365,7 +1365,7 @@ public void onSaveInstanceState(Bundle out) {\n     protected abstract void handleActionView(Uri uri);\n \n     /** Handles ACTION_VIEW_USERID intents: providing the user ID/JID. */\n-    protected abstract void handleActionViewConversation(Uri uri, Bundle args);\n+    protected abstract boolean handleActionViewConversation(Uri uri, Bundle args);\n \n     private void processArguments(Bundle savedInstanceState) {\n         Bundle args;\n@@ -1414,7 +1414,10 @@ else if (ComposeMessage.ACTION_VIEW_CONVERSATION.equals(action)) {\n             // view conversation - just userId provided\n             else if (ComposeMessage.ACTION_VIEW_USERID.equals(action)) {\n                 Uri uri \u003d args.getParcelable(\"data\");\n-                handleActionViewConversation(uri, args);\n+                if (!handleActionViewConversation(uri, args)) {\n+                    getActivity().finish();\n+                    return;\n+                }\n             }\n         }\n "
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ComposeMessageFragment.java",
          "patch": "@@ -272,7 +272,7 @@ else if (mUserJID \u003d\u003d null) {\n     }\n \n     @Override\n-    protected void handleActionViewConversation(Uri uri, Bundle args) {\n+    protected boolean handleActionViewConversation(Uri uri, Bundle args) {\n         mUserJID \u003d uri.getPathSegments().get(1);\n         mConversation \u003d Conversation.loadFromUserId(getActivity(),\n             mUserJID);\n@@ -300,6 +300,8 @@ protected void handleActionViewConversation(Uri uri, Bundle args) {\n             mUserName \u003d mUserJID;\n             mUserPhone \u003d null;\n         }\n+\n+        return true;\n     }\n \n     @Override"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/GroupMessageFragment.java",
          "patch": "@@ -291,17 +291,18 @@ protected void handleActionView(Uri uri) {\n      * Used only during activity restore.\n      */\n     @Override\n-    protected void handleActionViewConversation(Uri uri, Bundle args) {\n+    protected boolean handleActionViewConversation(Uri uri, Bundle args) {\n         mGroupJID \u003d uri.getPathSegments().get(1);\n         mConversation \u003d Conversation.loadFromUserId(getActivity(), mGroupJID);\n         // unlikely, but better safe than sorry\n         if (mConversation \u003d\u003d null) {\n             Log.i(TAG, \"conversation for \" + mGroupJID + \" not found - exiting\");\n-            getActivity().finish();\n+            return false;\n         }\n \n         setThreadId(mConversation.getThreadId());\n         mUserName \u003d mGroupJID;\n+        return true;\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "Crash due to ArrayIndexOutOfBoundsException for RecylerMessageAdapter list items",
    "url": "https://github.com/zulip/zulip-android/issues/459",
    "description": "Stacktrace\r\n\r\n```\r\nCrashed: main: 0 0 0x0000000000000000\r\n       at java.util.ArrayList.get(ArrayList.java:310)\r\n       at com.zulip.android.activities.RecyclerMessageAdapter.getItem(RecyclerMessageAdapter.java:581)\r\n       at com.zulip.android.activities.MessageListFragment.scrolledToLastMessage(MessageListFragment.java:791)\r\n       at com.zulip.android.activities.ZulipActivity.onNewMessages(ZulipActivity.java:2265)\r\n       at com.zulip.android.networking.AsyncGetEvents$6.run(AsyncGetEvents.java:401)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:145)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5942)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1399)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1194)\r\n\r\n--\r\n\r\nFatal Exception: java.lang.ArrayIndexOutOfBoundsException: length\u003d12; index\u003d-1\r\n       at java.util.ArrayList.get(ArrayList.java:310)\r\n       at com.zulip.android.activities.RecyclerMessageAdapter.getItem(RecyclerMessageAdapter.java:581)\r\n       at com.zulip.android.activities.MessageListFragment.scrolledToLastMessage(MessageListFragment.java:791)\r\n       at com.zulip.android.activities.ZulipActivity.onNewMessages(ZulipActivity.java:2265)\r\n       at com.zulip.android.networking.AsyncGetEvents$6.run(AsyncGetEvents.java:401)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:145)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5942)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1399)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1194)\r\n```\r\n\r\n",
    "keywords": [
      "com",
      "handler",
      "internal",
      "android os",
      "os",
      "recyclermessageadapter",
      "method",
      "android",
      "run",
      "main",
      "looper",
      "invoke",
      "arraylist",
      "android activities",
      "com zulip",
      "activitythread",
      "reflect",
      "java",
      "zulip",
      "activities",
      "messagelistfragment",
      "lang",
      "zulip android",
      "zulipactivity",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/zulip/zulip-android/commit/13b7a305ef888de38654541026db438227484440",
      "files": [
        {
          "file_name": "app/src/main/java/com/zulip/android/activities/MessageListFragment.java",
          "patch": "@@ -854,8 +854,17 @@ public void showLatestMessages() {\n         }\n     }\n \n-    public boolean scrolledToLastMessage() {\n-        Object object \u003d adapter.getItem(linearLayoutManager.findLastVisibleItemPosition());\n+    public boolean isScrolledToLastMessage() {\n+        int index \u003d linearLayoutManager.findLastVisibleItemPosition();\n+        if (index \u003d\u003d -1) return false;\n+        Object object \u003d adapter.getItem(index);\n+        if (object instanceof Integer) {\n+            /**\n+             * A Loading Indicator (see here {@link RecyclerMessageAdapter#getItemViewType})\n+             * Therefore before this should be a message\n+             */\n+            object \u003d adapter.getItem(index - 1);\n+        }\n         return object instanceof Message \u0026\u0026 (((Message) object).getId() \u003e\u003d app.getMaxMessageId() - 2);\n     }\n "
        },
        {
          "file_name": "app/src/main/java/com/zulip/android/activities/ZulipActivity.java",
          "patch": "@@ -2536,7 +2536,7 @@ public void onNewMessages(Message[] messages) {\n         if (narrowedList !\u003d null) {\n             narrowedList.onNewMessages(messages);\n         }\n-        if (!currentList.scrolledToLastMessage())\n+        if (!currentList.isScrolledToLastMessage())\n             showSnackbarNotification(messages); //Show notification\n     }\n "
        }
      ]
    }
  },
  {
    "name": "NullPointerException",
    "url": "https://github.com/facebook/stetho/issues/381",
    "description": "I\u0027m can\u0027t reproduce it every time  (version 1.3.1)\n\n```\nProcess: com.adoriasoft.quietping, PID: 9303\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027int java.lang.Integer.intValue()\u0027 on a null\nat com.facebook.stetho.inspector.elements.Document$4.store(Document.java:388)\nat com.facebook.stetho.inspector.elements.ShadowDocument$Update.getChangedElements(ShadowDocument.java:297)\nat com.facebook.stetho.inspector.elements.Document.applyDocumentUpdate(Document.java:372)\nat com.facebook.stetho.inspector.elements.Document.updateTree(Document.java:327)\nat com.facebook.stetho.inspector.elements.Document.access$1200(Document.java:30)\nat com.facebook.stetho.inspector.elements.Document$ProviderListener.onPossiblyChanged(Document.java:682)\nat com.facebook.stetho.inspector.elements.android.AndroidDocumentProvider$1.run(AndroidDocumentProvider.java:67)\nat android.os.Handler.handleCallback(Handler.java:739)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:145)\nat android.app.ActivityThread.main(ActivityThread.java:5951)\nat java.lang.reflect.Method.invoke(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:372)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1400)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1195)\n```\n",
    "keywords": [
      "com",
      "handler",
      "os",
      "method",
      "android",
      "document",
      "facebook",
      "invoke",
      "inspector",
      "facebook stetho",
      "java lang",
      "inspector elements",
      "java",
      "elements",
      "stetho",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/facebook/stetho/commit/37e615ed293ab49073f57b37e51fdcc6334cf919",
      "files": [
        {
          "file_name": "stetho/src/main/java/com/facebook/stetho/inspector/elements/Document.java",
          "patch": "@@ -344,61 +344,82 @@ private void applyDocumentUpdate(final ShadowDocument.Update docUpdate) {\n     // TODO: it\u0027d be nice if we could delegate our calls into mPeerManager.sendNotificationToPeers()\n     //       to a background thread so as to offload the UI from JSON serialization stuff\n \n-    // First, any elements that have been disconnected from the tree, and any elements in those\n-    // sub-trees which have not been reconnected to the tree, should be garbage collected.\n-    // We do this first so that we can tag nodes as garbage by removing them from mObjectIdMapper\n-    // (which also unhooks them). We rely on this marking later.\n+    // Applying the ShadowDocument.Update is done in five stages. You may notice that the code is\n+    // calling mObjectIdMapper.getIdForObject(), which returns Integer and whose return is annotated\n+    // with @Nullable, and storing it in an int without doing a null check. This is intentional: if\n+    // the element being requested is not in mObjectIdMapper, then that indicates a pretty serious\n+    // bug in the implementation of this algorithm. It\u0027s a cheap runtime assert, in other words.\n+\n+    // Stage 1: any elements that have been disconnected from the tree, and any elements in those\n+    // sub-trees which have not been reconnected to the tree, should be garbage collected. For now\n+    // we gather a list of garbage element IDs which we use in stages 2 to test a changed element\n+    // to see if it\u0027s also garbage. Then during stage 3 we use this list to unhook all of the\n+    // garbage elements.\n+\n+    // This is used to collect the garbage element IDs in stage 1. It is sorted before stage 2 so\n+    // that it can use a binary search as a quick \"contains()\" method.\n+    // Note that this could be accomplished in a simpler way by employing a HashSet\u003cObject\u003e and\n+    // storing the element Objects. However, HashSet wraps HashMap and we would have a lot more\n+    // allocations (Map.Entry, iterator during stage 3) and thus GC pressure.\n+    // Using SparseArray wouldn\u0027t be good because it ensures sorted ordering as you go, but we don\u0027t\n+    // need that during stage 1. Using ArrayList with int boxing is fine because the Integers are\n+    // already boxed inside of mObjectIdMapper and we make sure to reuse that allocation.\n+    final ArrayList\u003cInteger\u003e garbageElementIds \u003d new ArrayList\u003c\u003e();\n+\n     docUpdate.getGarbageElements(new Accumulator\u003cObject\u003e() {\n       @Override\n       public void store(Object element) {\n-        if (!mObjectIdMapper.containsObject(element)) {\n-          throw new IllegalStateException();\n-        }\n-\n+        int nodeId \u003d mObjectIdMapper.getIdForObject(element);\n         ElementInfo newElementInfo \u003d docUpdate.getElementInfo(element);\n \n         // Only raise onChildNodeRemoved for the root of a disconnected tree. The remainder of the\n         // sub-tree is included automatically, so we don\u0027t need to send events for those.\n         if (newElementInfo.parentElement \u003d\u003d null) {\n           ElementInfo oldElementInfo \u003d mShadowDocument.getElementInfo(element);\n           int parentNodeId \u003d mObjectIdMapper.getIdForObject(oldElementInfo.parentElement);\n-          int nodeId \u003d mObjectIdMapper.getIdForObject(element);\n           mUpdateListeners.onChildNodeRemoved(parentNodeId, nodeId);\n         }\n \n-        // All garbage elements should be unhooked.\n-        mObjectIdMapper.removeObject(element);\n+        garbageElementIds.add(nodeId);\n       }\n     });\n \n-    // Second, remove all elements that have been reparented. Otherwise we get into trouble if we\n+    Collections.sort(garbageElementIds);\n+\n+    // Stage 2: remove all elements that have been reparented. Otherwise we get into trouble if we\n     // transmit an event to insert under the new parent before we\u0027ve transmitted an event to remove\n     // it from the old parent. The removal event is ignored because the parent doesn\u0027t match the\n     // listener\u0027s expectations, so we get ghost elements that are stuck and can\u0027t be exorcised.\n     docUpdate.getChangedElements(new Accumulator\u003cObject\u003e() {\n       @Override\n       public void store(Object element) {\n-        // If this returns false then it means the element was garbage and has already been removed\n-        if (!mObjectIdMapper.containsObject(element)) {\n+        int nodeId \u003d mObjectIdMapper.getIdForObject(element);\n+\n+        // Skip garbage elements\n+        if (Collections.binarySearch(garbageElementIds, nodeId) \u003e 0) {\n           return;\n         }\n \n+        // Skip new elements\n         final ElementInfo oldElementInfo \u003d mShadowDocument.getElementInfo(element);\n         if (oldElementInfo \u003d\u003d null) {\n           return;\n         }\n \n         final ElementInfo newElementInfo \u003d docUpdate.getElementInfo(element);\n-\n         if (newElementInfo.parentElement !\u003d oldElementInfo.parentElement) {\n           int parentNodeId \u003d mObjectIdMapper.getIdForObject(oldElementInfo.parentElement);\n-          int nodeId \u003d mObjectIdMapper.getIdForObject(element);\n           mUpdateListeners.onChildNodeRemoved(parentNodeId, nodeId);\n         }\n       }\n     });\n \n-    // Third, transmit all other changes to our listener. This includes inserting reparented\n+    // Stage 3: unhook garbage elements\n+    for (int i \u003d 0, N \u003d garbageElementIds.size(); i \u003c N; ++i) {\n+      mObjectIdMapper.removeObjectById(garbageElementIds.get(i));\n+    }\n+\n+    // Stage 4: transmit all other changes to our listener. This includes inserting reparented\n     // elements that we removed in the 2nd stage.\n     docUpdate.getChangedElements(new Accumulator\u003cObject\u003e() {\n       private final HashSet\u003cObject\u003e listenerInsertedElements \u003d new HashSet\u003c\u003e();\n@@ -417,8 +438,9 @@ public void store(Object element) {\n \n       @Override\n       public void store(Object element) {\n-        // If this returns false then it means the element was garbage and has already been removed\n         if (!mObjectIdMapper.containsObject(element)) {\n+          // The element was garbage and has already been removed. At this stage that\u0027s okay and we\n+          // just skip it and continue forward with the algorithm.\n           return;\n         }\n \n@@ -459,6 +481,7 @@ public void store(Object element) {\n       }\n     });\n \n+    // Stage 5: Finally, commit the update to the ShadowDocument.\n     docUpdate.commit();\n   }\n "
        },
        {
          "file_name": "stetho/src/main/java/com/facebook/stetho/inspector/elements/ElementInfo.java",
          "patch": "@@ -12,19 +12,20 @@\n import com.facebook.stetho.common.ListUtil;\n import com.facebook.stetho.common.Util;\n \n+import javax.annotation.Nullable;\n import javax.annotation.concurrent.Immutable;\n \n import java.util.List;\n \n @Immutable\n public final class ElementInfo {\n   public final Object element;\n-  public final Object parentElement;\n+  public @Nullable final Object parentElement;\n   public final List\u003cObject\u003e children;\n \n-  public ElementInfo(\n+  ElementInfo(\n       Object element,\n-      Object parentElement,\n+      @Nullable Object parentElement,\n       List\u003cObject\u003e children) {\n     this.element \u003d Util.throwIfNull(element);\n     this.parentElement \u003d parentElement;"
        },
        {
          "file_name": "stetho/src/main/java/com/facebook/stetho/inspector/elements/ShadowDocument.java",
          "patch": "@@ -355,19 +355,96 @@ public void commit() {\n       mElementToInfoMap.putAll(mElementToInfoChangesMap);\n \n       // Remove garbage elements: those that have a null parent (other than mRootElement), and\n-      // their entire sub-trees.\n+      // their entire sub-trees, but excluding reparented elements.\n       for (Object element : mRootElementChangesSet) {\n-        removeSubTree(mElementToInfoMap, element);\n+        removeGarbageSubTree(mElementToInfoMap, element);\n       }\n \n       mIsUpdating \u003d false;\n+\n+      // Not usually enabled because it\u0027s expensive. Very useful for debugging.\n+      //validateTree(mElementToInfoMap);\n     }\n \n-    private void removeSubTree(Map\u003cObject, ElementInfo\u003e elementToInfoMap, Object element) {\n+    private void removeGarbageSubTree(\n+        Map\u003cObject, ElementInfo\u003e elementToInfoMap,\n+        Object element) {\n       final ElementInfo elementInfo \u003d elementToInfoMap.get(element);\n+\n+      // If this element has a parent (it\u0027s not a root), and that parent is still in the tree after\n+      // changes have been applied and after our caller (removeGarbageSubTree) removed another\n+      // element that claims this element as its child, then that means this element should not be\n+      // removed. It has been reparented, and recursion stops here.\n+      if (elementInfo.parentElement !\u003d null \u0026\u0026\n+          elementToInfoMap.containsKey(elementInfo.parentElement)) {\n+        return;\n+      }\n+\n       elementToInfoMap.remove(element);\n+\n       for (int i \u003d 0, N \u003d elementInfo.children.size(); i \u003c N; ++i) {\n-        removeSubTree(elementToInfoMap, elementInfo.children.get(i));\n+        removeGarbageSubTree(elementToInfoMap, elementInfo.children.get(i));\n+      }\n+    }\n+\n+    // This method is intended for use during debugging. Put a breakpoint on each throw statement in\n+    // order to catch structural problems in the tree. This method should only be called at the very\n+    // end of commit().\n+    private void validateTree(Map\u003cObject, ElementInfo\u003e elementToInfoMap) {\n+      // We need a tree, not a forest.\n+      HashSet\u003cObject\u003e rootElements \u003d new HashSet\u003c\u003e();\n+\n+      for (Map.Entry\u003cObject, ElementInfo\u003e entry : elementToInfoMap.entrySet()) {\n+        final Object element \u003d entry.getKey();\n+        final ElementInfo elementInfo \u003d entry.getValue();\n+\n+        if (element !\u003d elementInfo.element) {\n+          // should not be possible\n+          throw new IllegalStateException(\"element !\u003d elementInfo.element\");\n+        }\n+\n+        // Verify children\n+        for (int i \u003d 0, N \u003d elementInfo.children.size(); i \u003c N; ++i) {\n+          final Object childElement \u003d elementInfo.children.get(i);\n+          final ElementInfo childElementInfo \u003d elementToInfoMap.get(childElement);\n+\n+          if (childElementInfo \u003d\u003d null) {\n+            throw new IllegalStateException(String.format(\n+                \"elementInfo.get(elementInfo.children.get(%s)) \u003d\u003d null\",\n+                i));\n+          }\n+\n+          if (childElementInfo.parentElement !\u003d element) {\n+            throw new IllegalStateException(\"childElementInfo.parentElement !\u003d element\");\n+          }\n+        }\n+\n+        // Verify parent\n+        if (elementInfo.parentElement \u003d\u003d null) {\n+          rootElements.add(element);\n+        } else {\n+          final ElementInfo parentElementInfo \u003d elementToInfoMap.get(elementInfo.parentElement);\n+          if (parentElementInfo \u003d\u003d null) {\n+            throw new IllegalStateException(\n+                \"elementToInfoMap.get(elementInfo.parentElementInfo) \u003d\u003d NULL\");\n+          }\n+\n+          if (elementInfo.parentElement !\u003d parentElementInfo.element) {\n+            // should not be possible\n+            throw new IllegalStateException(\n+                \"elementInfo.parentElementInfo !\u003d parentElementInfo.parent\");\n+          }\n+\n+          if (!parentElementInfo.children.contains(element)) {\n+            throw new IllegalStateException(\n+                \"parentElementInfo.children.contains(element) \u003d\u003d FALSE\");\n+          }\n+        }\n+      }\n+\n+      if (rootElements.size() !\u003d 1) {\n+        throw new IllegalStateException(\n+            \"elementToInfoMap is a forest, not a tree. rootElements.size() !\u003d 1\");\n       }\n     }\n   }"
        }
      ]
    }
  },
  {
    "name": "New Map: NullPointerException",
    "url": "https://github.com/cgeo/cgeo/issues/6159",
    "description": "From Google Play with beta version 2016.11.21-RC:\r\n```\r\njava.lang.NullPointerException\r\n\tat cgeo.geocaching.maps.mapsforge.v6.NewMap.onPrepareOptionsMenu(NewMap.java:294)\r\n\tat android.support.v7.app.ActionBarActivityDelegate.onPrepareOptionsPanel(ActionBarActivityDelegate.java:157)\r\n\tat android.support.v7.app.ActionBarActivity.onPrepareOptionsPanel(ActionBarActivity.java:213)\r\n\tat android.support.v4.app.FragmentActivity.onPreparePanel(FragmentActivity.java:440)\r\n\tat android.support.v7.app.ActionBarActivity.superOnPreparePanel(ActionBarActivity.java:237)\r\n\tat android.support.v7.app.ActionBarActivityDelegateICS.onPreparePanel(ActionBarActivityDelegateICS.java:154)\r\n\tat android.support.v7.app.ActionBarActivity.onPreparePanel(ActionBarActivity.java:205)\r\n\tat android.support.v7.app.ActionBarActivityDelegateICS$WindowCallbackWrapper.onPreparePanel(ActionBarActivityDelegateICS.java:298)\r\n\tat com.android.internal.policy.impl.PhoneWindow.preparePanel(PhoneWindow.java:416)\r\n\tat com.android.internal.policy.impl.PhoneWindow.invalidatePanelMenu(PhoneWindow.java:739)\r\n\tat com.android.internal.policy.impl.PhoneWindow$1.run(PhoneWindow.java:2833)\r\n\tat android.os.Handler.handleCallback(Handler.java:605)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n\tat android.os.Looper.loop(Looper.java:137)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:4430)\r\n\tat java.lang.reflect.Method.invokeNative(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:511)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:792)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:559)\r\n\tat dalvik.system.NativeStart.main(Native Method)\r\n```\r\n\r\nUser message:\r\nust a crash while selection fom C:Geo app.",
    "keywords": [
      "com",
      "app",
      "v7",
      "handler",
      "internal",
      "os",
      "method",
      "onpreparepanel",
      "android",
      "android support",
      "actionbaractivitydelegateics",
      "main",
      "phonewindow",
      "v7 app",
      "impl",
      "java",
      "app actionbaractivity",
      "android internal",
      "support v7",
      "policy impl",
      "actionbaractivity",
      "lang",
      "support",
      "policy",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/cgeo/cgeo/commit/886d28d64d1f9235b54ffd74087fe49b0131d480",
      "files": [
        {
          "file_name": "main/src/cgeo/geocaching/maps/mapsforge/v6/NewMap.java",
          "patch": "@@ -291,7 +291,7 @@ public boolean onPrepareOptionsMenu(final Menu menu) {\n             menu.findItem(R.id.menu_circle_mode).setVisible(false);\n             menu.findItem(R.id.menu_trail_mode).setChecked(Settings.isMapTrail());\n \n-            menu.findItem(R.id.menu_theme_mode).setVisible(tileLayer.hasThemes());\n+            menu.findItem(R.id.menu_theme_mode).setVisible(tileLayerHasThemes());\n \n             menu.findItem(R.id.menu_as_list).setVisible(!caches.isDownloading() \u0026\u0026 caches.getVisibleItemsCount() \u003e 0);\n \n@@ -650,6 +650,14 @@ private void pauseTileLayer() {\n         }\n     }\n \n+    private boolean tileLayerHasThemes() {\n+        if (tileLayer !\u003d null) {\n+            return tileLayer.hasThemes();\n+        }\n+\n+        return false;\n+    }\n+\n     @Override\n     protected void onResume() {\n         super.onResume();"
        }
      ]
    }
  },
  {
    "name": "permission required: READ_PHONE_STATE ",
    "url": "https://github.com/medic/medic-gateway/issues/103",
    "description": "On some phones, sending a multipart unicode message fails with style:\r\n\r\n```\r\nI/MedicGateway(17355): java.lang.SecurityException: Requires READ_PHONE_STATE: Neither user 10096 nor current process has android.permission.READ_PHONE_STATE..\r\nI/MedicGateway(17355):  at android.os.Parcel.readException(Parcel.java:1549)\r\nI/MedicGateway(17355):  at android.os.Parcel.readException(Parcel.java:1502)\r\nI/MedicGateway(17355):  at com.android.internal.telephony.IPhoneSubInfo$Stub$Proxy.getGroupIdLevel1(IPhoneSubInfo.java:556)\r\nI/MedicGateway(17355):  at android.telephony.TelephonyManager.getGroupIdLevel1(TelephonyManager.java:1917)\r\nI/MedicGateway(17355):  at android.telephony.SmsMessage.hasEmsSupport(SmsMessage.java:812)\r\nI/MedicGateway(17355):  at com.android.internal.telephony.gsm.SmsMessage.calculateLength(SmsMessage.java:851)\r\nI/MedicGateway(17355):  at android.telephony.SmsMessage.fragmentText(SmsMessage.java:338)\r\nI/MedicGateway(17355):  at android.telephony.SmsMessage.fragmentText(SmsMessage.java:924)\r\nI/MedicGateway(17355):  at android.telephony.SmsManager.divideMessage(SmsManager.java:340)\r\nI/MedicGateway(17355):  at medic.gateway.alert.WakefulService.a(Unknown Source)\r\nI/MedicGateway(17355):  at com.commonsware.cwac.wakeful.a.onHandleIntent(Unknown Source)\r\nI/MedicGateway(17355):  at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\nI/MedicGateway(17355):  at android.os.Handler.dispatchMessage(Handler.java:102)\r\nI/MedicGateway(17355):  at android.os.Looper.loop(Looper.java:135)\r\nI/MedicGateway(17355):  at android.os.HandlerThread.run(HandlerThread.java:61)\r\n ```\r\n\r\nSeen on Huawei Gplay Mini.  cc @bishwas-medic @ashish-medic",
    "keywords": [
      "com",
      "i/medicgateway",
      "17355",
      "parcel",
      "android os",
      "os",
      "i/medicgateway 17355",
      "telephony",
      "android",
      "smsmessage",
      "17355 ",
      "read_phone_state"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/medic/medic-gateway/commit/75c38267adee03f1ee3b6d7cbfb897017cc94851",
      "files": [
        {
          "file_name": "src/main/AndroidManifest.xml",
          "patch": "@@ -26,6 +26,10 @@\n \t\u003cuses-permission android:name\u003d\"android.permission.CHANGE_WIFI_STATE\"/\u003e\n \t\u003cuses-permission android:name\u003d\"android.permission.ACCESS_NETWORK_STATE\"/\u003e\n \n+\t\u003c!-- Required internally for sending multipart UCS2 messages - see:\n+\t       https://github.com/medic/medic-gateway/issues/103 --\u003e\n+\t\u003cuses-permission android:name\u003d\"android.permission.READ_PHONE_STATE\"/\u003e\n+\n \t\u003capplication android:label\u003d\"@string/app_name\"\n \t\t\tandroid:icon\u003d\"@mipmap/icn_launcher\"\n \t\t\tandroid:allowBackup\u003d\"false\""
        }
      ]
    }
  },
  {
    "name": "Force close when zooming out a photo",
    "url": "https://github.com/nioc/tumblr-photo-browse/issues/2",
    "description": "Log report:\r\n````\r\n07-11 16:14:52.522 12388-12388/eu.nioc.tumblrbrowse E/MotionEvent-JNI: An exception occurred: pointerCount 1, pointerIndex -1.\r\n07-11 16:14:52.528 12388-12388/eu.nioc.tumblrbrowse E/InputEventReceiver: Exception dispatching input event.\r\n07-11 16:14:52.529 12388-12388/eu.nioc.tumblrbrowse D/AndroidRuntime: Shutting down VM\r\n                                                                      \r\n                                                                      \r\n                                                                      --------- beginning of crash\r\n07-11 16:14:52.534 12388-12388/eu.nioc.tumblrbrowse E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                      Process: eu.nioc.tumblrbrowse, PID: 12388\r\n                                                                      java.lang.IllegalArgumentException: pointerIndex out of range\r\n                                                                          at android.view.MotionEvent.nativeGetAxisValue(Native Method)\r\n                                                                          at android.view.MotionEvent.getX(MotionEvent.java:2416)\r\n                                                                          at android.support.v4.view.ViewPager.onInterceptTouchEvent(ViewPager.java:2092)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2402)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2865)\r\n                                                                          at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2550)\r\n                                                                          at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:607)\r\n                                                                          at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1890)\r\n                                                                          at android.app.Activity.dispatchTouchEvent(Activity.java:3240)\r\n                                                                          at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:71)\r\n                                                                          at android.support.v7.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:71)\r\n                                                                          at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:569)\r\n                                                                          at android.view.View.dispatchPointerEvent(View.java:11008)\r\n                                                                          at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5162)\r\n                                                                          at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5014)\r\n                                                                          at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4539)\r\n                                                                          at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4592)\r\n                                                                          at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4558)\r\n                                                                          at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4691)\r\n                                                                          at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4566)\r\n                                                                          at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4748)\r\n                                                                          at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4539)\r\n                                                                          at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4592)\r\n                                                                          at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4558)\r\n                                                                          at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4566)\r\n                                                                          at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4539)\r\n                                                                          at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7098)\r\n                                                                          at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7030)\r\n                                                                          at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6991)\r\n                                                                          at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7208)\r\n                                                                          at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:185)\r\n                                                                          at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(Native Method)\r\n                                                                          at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:176)\r\n                                                                          at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:7172)\r\n                                                                          at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:7235)\r\n                                                                          at android.view.Choreographer$CallbackRecord.run(Choreographer.java:959)\r\n                                                                          at android.view.Choreographer.doCallbacks(Choreographer.java:734)\r\n                                                                          at android.view.Choreographer.doFrame(Choreographer.java:664)\r\n                                                                          at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:945)\r\n07-11 16:14:52.534 12388-12388/eu.nioc.tumblrbrowse E/AndroidRuntime:     at android.os.Handler.handleCallback(Handler.java:751)\r\n                                                                          at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                          at android.os.Looper.loop(Looper.java:154)\r\n                                                                          at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n                                                                          at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\r\n                                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)\r\n````",
    "keywords": [
      "com",
      "exception",
      "motionevent",
      "handler",
      "internal",
      "choreographer",
      "nioc tumblrbrowse",
      "view viewgroup",
      "android",
      "decorview",
      "deliver",
      "main",
      "run",
      "java:2865",
      "dispatchtransformedtouchevent",
      "16:14:52",
      "tumblrbrowse",
      "view",
      "viewrootimpl$inputstage",
      "view viewrootimpl$inputstage",
      "android internal",
      "native",
      "viewgroup",
      "07-11",
      "android view",
      "zygoteinit",
      "policy",
      "java:2550",
      "dispatchtouchevent",
      "method",
      "os",
      "apply",
      "forward",
      "viewgroup java:2865",
      "java:4539",
      "viewgroup dispatchtransformedtouchevent",
      "inputeventreceiver",
      "deliver viewrootimpl",
      "windowcallbackwrapper",
      "viewrootimpl",
      "dispatchtouchevent viewgroup",
      "nioc",
      "12388-12388/eu",
      "support",
      "07-11 16:14:52"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nioc/tumblr-photo-browse/commit/d70111351c7c31e40a517d8e623c95857a06d20a",
      "files": [
        {
          "file_name": "app/src/main/java/eu/nioc/tumblrbrowse/utils/HackyViewPager.java",
          "patch": "@@ -0,0 +1,26 @@\n+package eu.nioc.tumblrbrowse.utils;\n+\n+import android.content.Context;\n+import android.support.v4.view.ViewPager;\n+import android.util.AttributeSet;\n+import android.view.MotionEvent;\n+\n+/**\n+ * Local class extending ViewPager used as a workaround for the PhotoView issue\n+ */\n+public class HackyViewPager extends ViewPager {\n+\n+    public HackyViewPager(Context context, AttributeSet attrs) {\n+        super(context, attrs);\n+    }\n+\n+    @Override\n+    public boolean onInterceptTouchEvent(MotionEvent ev) {\n+        try {\n+            return super.onInterceptTouchEvent(ev);\n+        } catch (IllegalArgumentException e) {\n+            //no need to get the stack trace...\n+            return false;\n+        }\n+    }\n+}"
        },
        {
          "file_name": "app/src/main/res/layout/activity_blog.xml",
          "patch": "@@ -32,7 +32,7 @@\n         android:id\u003d\"@+id/pagerLayout\"\u003e\n \n         \u003c!-- fullscreen pager for hosting the photo --\u003e\n-        \u003candroid.support.v4.view.ViewPager\n+        \u003ceu.nioc.tumblrbrowse.utils.HackyViewPager\n             android:layout_width\u003d\"match_parent\"\n             android:layout_height\u003d\"match_parent\"\n             android:id\u003d\"@+id/pager\"\n@@ -44,7 +44,7 @@\n                 android:layout_height\u003d\"match_parent\"\n                 android:id\u003d\"@+id/fullscreen_photo\"/\u003e\n \n-        \u003c/android.support.v4.view.ViewPager\u003e\n+        \u003c/eu.nioc.tumblrbrowse.utils.HackyViewPager\u003e\n \n         \u003c!-- caption layout --\u003e\n         \u003cLinearLayout"
        }
      ]
    }
  },
  {
    "name": "Crash due to LinkPreviewLoading",
    "url": "https://github.com/fossasia/susi_android/issues/249",
    "description": "**Actual Behaviour**\n\nCrashes if activity is destroyed before link preview is loaded.\n\n**Expected Behaviour**\n\nShould not crash.\n\n**Steps to reproduce it**\n\nSend a link and exit before its preview is loaded.\n\n_LogCat for the issue_*\n\n10-18 18:49:43.081 12129-12129/org.fossasia.susi.ai E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                      Process: org.fossasia.susi.ai, PID: 12129\n                                                                      java.lang.IllegalArgumentException: You cannot start a load for a destroyed activity\n                                                                          at com.bumptech.glide.manager.RequestManagerRetriever.assertNotDestroyed(RequestManagerRetriever.java:134)\n                                                                          at com.bumptech.glide.manager.RequestManagerRetriever.get(RequestManagerRetriever.java:102)\n                                                                          at com.bumptech.glide.manager.RequestManagerRetriever.get(RequestManagerRetriever.java:87)\n                                                                          at com.bumptech.glide.Glide.with(Glide.java:629)\n                                                                          at org.fossasia.susi.ai.adapters.recyclerAdapters.ChatFeedRecyclerAdapter$12.onPos(ChatFeedRecyclerAdapter.java:539)\n                                                                          at com.leocardz.link.preview.library.TextCrawler$GetCode.onPostExecute(TextCrawler.java:64)\n                                                                          at com.leocardz.link.preview.library.TextCrawler$GetCode.onPostExecute(TextCrawler.java:43)\n                                                                          at android.os.AsyncTask.finish(AsyncTask.java:651)\n                                                                          at android.os.AsyncTask.access$500(AsyncTask.java:180)\n                                                                          at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)\n                                                                          at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                          at android.os.Looper.loop(Looper.java:148)\n                                                                          at android.app.ActivityThread.main(ActivityThread.java:5441)\n                                                                          at java.lang.reflect.Method.invoke(Native Method)\n                                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:738)\n                                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:628)\n\n**Screenshots of the issue**\n\n![screenshot_2016-10-18-18-53-33-081_com miui bugreport](https://cloud.githubusercontent.com/assets/12713808/19479418/4396aef4-9564-11e6-9b08-470fbf6d5969.png)\n\n**Would you like to work on the issue?**\n\nYes\n",
    "keywords": [
      "com",
      "preview",
      "bumptech",
      "android os",
      "os",
      "asynctask",
      "manager",
      "android",
      "link",
      "ai",
      "main",
      "susi",
      "requestmanagerretriever",
      "link preview",
      "fossasia",
      "glide",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/fossasia/susi_android/commit/9f2c81fb292b07f3294895f4c74fb722ace176b3",
      "files": [
        {
          "file_name": "app/src/main/java/org/fossasia/susi/ai/activities/MainActivity.java",
          "patch": "@@ -49,6 +49,8 @@\n import android.widget.TextView;\n import android.widget.Toast;\n \n+import com.bumptech.glide.Glide;\n+\n import org.fossasia.susi.ai.R;\n import org.fossasia.susi.ai.adapters.recyclerAdapters.ChatFeedRecyclerAdapter;\n import org.fossasia.susi.ai.helper.Constant;\n@@ -469,7 +471,7 @@ private void setupAdapter() {\n         rvChatFeed.setHasFixedSize(false);\n \n         chatMessageDatabaseList \u003d realm.where(ChatMessage.class).findAllSorted(\"id\");\n-        recyclerAdapter \u003d new ChatFeedRecyclerAdapter(this, chatMessageDatabaseList, true);\n+        recyclerAdapter \u003d new ChatFeedRecyclerAdapter(Glide.with(this),this, chatMessageDatabaseList, true);\n \n         rvChatFeed.setAdapter(recyclerAdapter);\n         rvChatFeed.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {"
        },
        {
          "file_name": "app/src/main/java/org/fossasia/susi/ai/adapters/recyclerAdapters/ChatFeedRecyclerAdapter.java",
          "patch": "@@ -21,6 +21,7 @@\n import android.view.ViewGroup;\n \n import com.bumptech.glide.Glide;\n+import com.bumptech.glide.RequestManager;\n import com.github.mikephil.charting.data.Entry;\n import com.github.mikephil.charting.data.PieData;\n import com.github.mikephil.charting.data.PieDataSet;\n@@ -82,9 +83,11 @@\n //    private Activity activity;\n     private String TAG \u003d ChatFeedRecyclerAdapter.class.getSimpleName();\n     private RecyclerView recyclerView;\n+    private final RequestManager glide;\n \n-    public ChatFeedRecyclerAdapter(@NonNull Context context, @Nullable OrderedRealmCollection\u003cChatMessage\u003e data, boolean autoUpdate) {\n+    public ChatFeedRecyclerAdapter(RequestManager glide,@NonNull Context context, @Nullable OrderedRealmCollection\u003cChatMessage\u003e data, boolean autoUpdate) {\n         super(context, data, autoUpdate);\n+        this.glide \u003d glide;\n         currContext \u003d context;\n         lastMsgCount \u003d getItemCount();\n         RealmChangeListener\u003cRealmResults\u003e listener \u003d new RealmChangeListener\u003cRealmResults\u003e() {\n@@ -467,8 +470,7 @@ public void onPos(final SourceContent sourceContent, boolean b) {\n                 if (imageList \u003d\u003d null || imageList.size() \u003d\u003d 0) {\n                     linkPreviewViewHolder.previewImageView.setVisibility(View.GONE);\n                 } else {\n-                    Glide.with(currContext)\n-                            .load(imageList.get(0))\n+                    glide.load(imageList.get(0))\n                             .centerCrop()\n                             .into(linkPreviewViewHolder.previewImageView);\n                 }"
        }
      ]
    }
  },
  {
    "name": "Crash: Fragment State loss exception ",
    "url": "https://github.com/commons-app/apps-android-commons/issues/614",
    "description": "The app is crashing as we are trying to commit the fragment `onPostExecute` call of an `AsyncTask` but theres a possibility that the `onSaveInstanceState` has already been called for it. Here\u0027s a [blog post](http://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html) explaining why this happens. \r\n\r\n```\r\nFATAL EXCEPTION: main Process: fr.free.nrw.commons, PID: 10644\r\njava.lang.IllegalStateException: Can not perform this action after onSaveInstanceState\r\n at android.support.v4.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:1842)\r\n at android.support.v4.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:1860)\r\n at android.support.v4.app.BackStackRecord.commitInternal(BackStackRecord.java:649)\r\n at android.support.v4.app.BackStackRecord.commit(BackStackRecord.java:609)\r\n at fr.free.nrw.commons.nearby.NearbyActivity.setListFragment(NearbyActivity.java:247)\r\n at fr.free.nrw.commons.nearby.NearbyActivity$NearbyAsyncTask.onPostExecute(NearbyActivity.java:219)\r\n at fr.free.nrw.commons.nearby.NearbyActivity$NearbyAsyncTask.onPostExecute(NearbyActivity.java:166)\r\n at android.os.AsyncTask.finish(AsyncTask.java:651)\r\n at android.os.AsyncTask.-wrap1(AsyncTask.java)\r\n at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:668)\r\n at android.os.Handler.dispatchMessage(Handler.java:102)\r\n at android.os.Looper.loop(Looper.java:148)\r\n at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n at java.lang.reflect.Method.invoke(Native Method)\r\n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```\r\n\r\nThe issue is similar to #435 but its because of a different code path. And the fix in this case would be different as described in the blog post. ",
    "keywords": [
      "app",
      "android os",
      "os",
      "asynctask",
      "android",
      "backstackrecord",
      "nearbyactivity",
      "main",
      "fr",
      "nearby",
      "commons",
      "nrw commons",
      "nrw",
      "java",
      "fr free",
      "free",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/commons-app/apps-android-commons/commit/5fc9f84e79911254bf3a714e2134925fe4b9d1e7",
      "files": [
        {
          "file_name": "app/src/main/java/fr/free/nrw/commons/nearby/NearbyActivity.java",
          "patch": "@@ -149,6 +149,12 @@ protected void onResume() {\n         checkGps();\n     }\n \n+    @Override\n+    protected void onPause() {\n+        super.onPause();\n+        nearbyAsyncTask.cancel(true);\n+    }\n+\n     protected void refreshView() {\n         nearbyAsyncTask \u003d new NearbyAsyncTask(this);\n         nearbyAsyncTask.execute();"
        }
      ]
    }
  },
  {
    "name": "JSONException: No value for Invalid",
    "url": "https://github.com/syncthing/syncthing-android/issues/291",
    "description": "Not sure?\n\n```\nW/RestApi ( 2224): Failed to read devices\nW/RestApi ( 2224): org.json.JSONException: No value for Invalid\nW/RestApi ( 2224):  at org.json.JSONObject.get(JSONObject.java:389)\nW/RestApi ( 2224):  at org.json.JSONObject.getString(JSONObject.java:550)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.syncthing.RestApi.getFolders(RestApi.java:484)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.fragments.FoldersFragment.initAdapter(FoldersFragment.java:60)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.fragments.FoldersFragment.onApiChange(FoldersFragment.java:43)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.syncthing.SyncthingService.onApiChange(SyncthingService.java:400)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.syncthing.SyncthingService.access$500(SyncthingService.java:42)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.syncthing.SyncthingService$PollWebGuiAvailableTaskImpl.onPostExecute(SyncthingService.java:382)\nW/RestApi ( 2224):  at com.nutomic.syncthingandroid.syncthing.SyncthingService$PollWebGuiAvailableTaskImpl.onPostExecute(SyncthingService.java:370)\nW/RestApi ( 2224):  at android.os.AsyncTask.finish(AsyncTask.java:632)\nW/RestApi ( 2224):  at android.os.AsyncTask.access$600(AsyncTask.java:177)\nW/RestApi ( 2224):  at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\nW/RestApi ( 2224):  at android.os.Handler.dispatchMessage(Handler.java:102)\nW/RestApi ( 2224):  at android.os.Looper.loop(Looper.java:135)\nW/RestApi ( 2224):  at android.app.ActivityThread.main(ActivityThread.java:5221)\nW/RestApi ( 2224):  at java.lang.reflect.Method.invoke(Native Method)\nW/RestApi ( 2224):  at java.lang.reflect.Method.invoke(Method.java:372)\nW/RestApi ( 2224):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\nW/RestApi ( 2224):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\nI/RestApi ( 2224): Syncthing version is v0.10.26\n```\n",
    "keywords": [
      "com",
      "android os",
      "foldersfragment",
      "w/restapi 2224",
      "os",
      "asynctask",
      "method",
      "org",
      "android",
      "syncthingandroid syncthing",
      "nutomic",
      "syncthing",
      "jsonobject",
      "2224",
      "json",
      "com nutomic",
      "syncthingservice",
      "syncthingandroid",
      "w/restapi",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/syncthing/syncthing-android/commit/e317b11c5770cb480bb2610bea28471b71a142c6",
      "files": [
        {
          "file_name": "src/main/java/com/nutomic/syncthingandroid/syncthing/RestApi.java",
          "patch": "@@ -519,7 +519,11 @@ protected void onPostExecute(String s) {\n                 Folder r \u003d new Folder();\n                 r.path \u003d json.getString(\"path\");\n                 r.id \u003d json.getString(\"id\");\n-                r.invalid \u003d json.getString(\"invalid\");\n+                if (json.has(\"invalid\")) {\n+                    r.invalid \u003d json.getString(\"invalid\"); // TODO Upstream bug\n+                } else {\n+                    r.invalid \u003d \"\";\n+                }\n                 r.deviceIds \u003d new ArrayList\u003c\u003e();\n                 JSONArray devices \u003d json.getJSONArray(\"devices\");\n                 for (int j \u003d 0; j \u003c devices.length(); j++) {"
        }
      ]
    }
  },
  {
    "name": "Serialization issue when running multiple bezirk apps on the same device.",
    "url": "https://github.com/Bezirk-Bosch/Middleware/issues/121",
    "description": "All other apps crash due to serialVersionUID mismatch.\n\n09-21 10:19:26.782 7796-7796/? E/AndroidRuntime: FATAL EXCEPTION: main\n                                                 Process: com.bezirk.examples.pubsub, PID: 7796\n                                                 java.lang.RuntimeException: Unable to start receiver com.bezirk.middleware.android.ZirkMessageReceiver: java.lang.RuntimeException: Parcelable encountered IOException reading a Serializable object (name \u003d com.bezirk.middleware.core.actions.UnicastEventAction)\n                                                     at android.app.ActivityThread.handleReceiver(ActivityThread.java:3018)\n                                                     at android.app.ActivityThread.-wrap18(ActivityThread.java)\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                     at android.os.Looper.loop(Looper.java:154)\n                                                     at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                     at java.lang.reflect.Method.invoke(Native Method)\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                  Caused by: java.lang.RuntimeException: Parcelable encountered IOException reading a Serializable object (name \u003d com.bezirk.middleware.core.actions.UnicastEventAction)\n                                                     at android.os.Parcel.readSerializable(Parcel.java:2611)\n                                                     at android.os.Parcel.readValue(Parcel.java:2415)\n                                                     at android.os.Parcel.readArrayMapInternal(Parcel.java:2717)\n                                                     at android.os.BaseBundle.unparcel(BaseBundle.java:269)\n                                                     at android.os.BaseBundle.getSerializable(BaseBundle.java:1064)\n                                                     at android.os.Bundle.getSerializable(Bundle.java:934)\n                                                     at android.content.Intent.getSerializableExtra(Intent.java:6281)\n                                                     at com.bezirk.middleware.android.ZirkMessageReceiver.onReceive(ZirkMessageReceiver.java:36)\n                                                     at android.app.ActivityThread.handleReceiver(ActivityThread.java:3011)\n                                                     at android.app.ActivityThread.-wrap18(ActivityThread.java) \n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544) \n                                                     at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                     at android.os.Looper.loop(Looper.java:154) \n                                                     at android.app.ActivityThread.main(ActivityThread.java:6077) \n                                                     at java.lang.reflect.Method.invoke(Native Method) \n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n                                                  Caused by: java.io.InvalidClassException: com.bezirk.middleware.core.actions.UnicastEventAction; local class incompatible: stream classdesc serialVersionUID \u003d -8287413093514019295, local class serialVersionUID \u003d -772143748078804070\n                                                     at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:606)\n                                                     at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1623)\n                                                     at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1518)\n                                                     at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1772)\n                                                     at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n                                                     at java.io.ObjectInputStream.readObject(ObjectInputStream.java:373)\n                                                     at android.os.Parcel.readSerializable(Parcel.java:2609)\n                                                     at android.os.Parcel.readValue(Parcel.java:2415) \n                                                     at android.os.Parcel.readArrayMapInternal(Parcel.java:2717) \n                                                     at android.os.BaseBundle.unparcel(BaseBundle.java:269) \n                                                     at android.os.BaseBundle.getSerializable(BaseBundle.java:1064) \n                                                     at android.os.Bundle.getSerializable(Bundle.java:934) \n                                                     at android.content.Intent.getSerializableExtra(Intent.java:6281) \n                                                     at com.bezirk.middleware.android.ZirkMessageReceiver.onReceive(ZirkMessageReceiver.java:36) \n                                                     at android.app.ActivityThread.handleReceiver(ActivityThread.java:3011) \n                                                     at android.app.ActivityThread.-wrap18(ActivityThread.java) \n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544) \n                                                     at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                     at android.os.Looper.loop(Looper.java:154) \n                                                     at android.app.ActivityThread.main(ActivityThread.java:6077) \n                                                     at java.lang.reflect.Method.invoke(Native Method) \n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n",
    "keywords": [
      "com",
      "os parcel",
      "handler",
      "serialversionuid",
      "lang runtimeexception",
      "os handler",
      "invoke",
      "main",
      "run",
      "reflect",
      "java",
      "loop",
      "runtimeexception",
      " ",
      "app",
      "parcel",
      "android os",
      "zygoteinit$methodandargscaller run",
      "-wrap18",
      "method",
      "io",
      "handlereceiver",
      "getserializable",
      "zygoteinit java:865",
      "core",
      "android app",
      "actions",
      "handlemessage",
      "dispatchmessage",
      "internal",
      "app activitythread",
      "android",
      "objectinputstream",
      "looper",
      "-wrap18 activitythread",
      "native",
      "os basebundle",
      "java:865",
      "activitythread$h",
      "lang",
      "bundle",
      "java:102",
      "internal os",
      "middleware",
      "zygoteinit",
      "main activitythread",
      "java io",
      "dispatchmessage handler",
      "os",
      "java:6077",
      "bezirk",
      "zygoteinit$methodandargscaller",
      "java:1544",
      "com android",
      "intent",
      "io objectinputstream",
      "activitythread",
      "zirkmessagereceiver",
      "basebundle",
      "java:755",
      "java:154",
      "bezirk middleware"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/Bezirk-Bosch/Middleware/commit/9e4e24c526f2b41e26e12204125cdcf86e01cb66",
      "files": [
        {
          "file_name": "android/android-libraries/android-zirk-proxy/src/main/java/com/bezirk/middleware/android/ZirkMessageReceiver.java",
          "patch": "@@ -19,6 +19,7 @@\n import com.bezirk.middleware.proxy.api.impl.BezirkZirkEndPoint;\n import com.bezirk.middleware.proxy.api.impl.ZirkId;\n \n+import java.io.InvalidClassException;\n import java.util.Date;\n import java.util.List;\n import java.util.Map;\n@@ -33,7 +34,13 @@\n \n     @Override\n     public void onReceive(Context context, Intent intent) {\n-        ZirkAction message \u003d (ZirkAction) intent.getSerializableExtra(\"message\");\n+        ZirkAction message;\n+        try {\n+            message \u003d (ZirkAction) intent.getSerializableExtra(\"message\");\n+        } catch (Exception e) { //to prevent app crash due to  java.io.InvalidClassException\n+            Log.w(TAG, e.getMessage());\n+            return;\n+        }\n \n         if (isValidRequest(message.getZirkId())) {\n             switch (message.getAction()) {"
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/addressing/RecipientSelector.java",
          "patch": "@@ -28,7 +28,9 @@\n  * @see Location\n  */\n public class RecipientSelector implements Serializable {\n+\n     private static final Gson gson;\n+    private static final long serialVersionUID \u003d -6831867323290640758L;\n \n     static {\n         final GsonBuilder builder \u003d new GsonBuilder();"
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/identity/Alias.java",
          "patch": "@@ -12,6 +12,8 @@\n  * are created and managed by the middleware.\n  */\n public class Alias implements Serializable {\n+\n+    private static final long serialVersionUID \u003d -7970996737976317494L;\n     private final String name;\n     private final byte[] hash;\n "
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/Event.java",
          "patch": "@@ -14,4 +14,6 @@\n  * @see StreamDescriptor\n  */\n public class Event extends Message {\n+\n+    private static final long serialVersionUID \u003d 2069566077448432587L;\n }"
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/EventSet.java",
          "patch": "@@ -12,6 +12,8 @@\n  * to a small set of ad hoc events. See {@link MessageSet} for examples.\n  */\n public class EventSet extends MessageSet {\n+\n+    private static final long serialVersionUID \u003d 3824727820246453131L;\n     private static final org.slf4j.Logger logger \u003d LoggerFactory.getLogger(EventSet.class);\n     private transient EventReceiver receiver;\n "
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/IdentifiedEvent.java",
          "patch": "@@ -36,6 +36,8 @@\n  * \u003c/pre\u003e\n  */\n public class IdentifiedEvent extends Event {\n+\n+    private static final long serialVersionUID \u003d 1259872377550330321L;\n     private Alias alias;\n \n     private boolean isMiddlewareUser;"
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/Message.java",
          "patch": "@@ -21,11 +21,12 @@\n  * transfer/reception.\n  */\n public abstract class Message implements Serializable {\n+    private static final long serialVersionUID \u003d 448363597771246254L;\n     private static Gson gson;\n     private String msgId;\n \n-    //defualt value\n-    private static final long serialVersionUID \u003d 1L;\n+\n+    //private static final long serialVersionUID \u003d 1L;\n \n     static {\n         final GsonBuilder gsonBuilder \u003d new GsonBuilder();\n@@ -44,7 +45,7 @@\n      *     //create gson builder\n      *     GsonBuilder builder \u003d new GsonBuilder();\n      *     RuntimeTypeAdapterFactory \u0026lt;Interface\u0026gt; interfaceAdapter \u003d RuntimeTypeAdapterFactory.of(Interface.class);\n-     *     qualityAdapter.registerSubtype(Implementation1.class).registerSubtype(Implementation2.class);\n+     *     interfaceAdapter.registerSubtype(Implementation1.class).registerSubtype(Implementation2.class);\n      *     builder.registerTypeAdapterFactory(interfaceAdapter);\n      *\n      *     //set builder"
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/MessageSet.java",
          "patch": "@@ -70,6 +70,8 @@\n  * @see StreamDescriptor\n  */\n public abstract class MessageSet implements Serializable {\n+\n+    private static final long serialVersionUID \u003d -6232492956322531924L;\n     private final Set\u003cString\u003e messageClassList \u003d new HashSet\u003c\u003e();\n     private final String setId;\n "
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/StreamDescriptor.java",
          "patch": "@@ -15,6 +15,8 @@\n  * @see Event\n  */\n public class StreamDescriptor extends Message {\n+\n+    private static final long serialVersionUID \u003d -9093454918659207882L;\n     /**\n      * Subclass sets to \u003ccode\u003etrue\u003c/code\u003e if the payload can be processed incrementally (e.g. a\n      * music stream) or \u003ccode\u003efalse\u003c/code\u003e if all data elements must be received before processing"
        },
        {
          "file_name": "core/bezirk-middleware-api/src/main/java/com/bezirk/middleware/messages/StreamSet.java",
          "patch": "@@ -11,6 +11,8 @@\n  * to a small set of ad hoc streams. See {@link MessageSet} for examples.\n  */\n public class StreamSet extends MessageSet {\n+\n+    private static final long serialVersionUID \u003d 3461827337792455818L;\n     private transient StreamReceiver receiver;\n \n     @SafeVarargs"
        },
        {
          "file_name": "core/bezirk/src/main/java/com/bezirk/middleware/proxy/api/impl/ZirkId.java",
          "patch": "@@ -5,6 +5,8 @@\n import java.io.Serializable;\n \n public final class ZirkId implements Serializable {\n+\n+    private static final long serialVersionUID \u003d -6695395311323807495L;\n     private final String zirkId;\n     private String bezirkEventId;\n "
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/Action.java",
          "patch": "@@ -3,7 +3,8 @@\n import java.io.Serializable;\n \n public abstract class Action implements Serializable {\n-    static final long serialVersionUID \u003d 42L;\n+\n+    private static final long serialVersionUID \u003d 978832741251577122L;\n \n     public abstract BezirkAction getAction();\n }"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/EventAction.java",
          "patch": "@@ -4,6 +4,8 @@\n import com.bezirk.middleware.proxy.api.impl.ZirkId;\n \n public abstract class EventAction extends ZirkAction {\n+\n+    private static final long serialVersionUID \u003d 7767357774933115392L;\n     private final String serializedEvent;\n     private final String messageId;\n     private final String eventName;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/ReceiveFileStreamAction.java",
          "patch": "@@ -6,6 +6,8 @@\n import java.io.File;\n \n public final class ReceiveFileStreamAction extends ZirkAction {\n+\n+    private static final long serialVersionUID \u003d 5232331060924538823L;\n     private final String serializedStream;\n     /**\n      * Path to downloaded file."
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/RegisterZirkAction.java",
          "patch": "@@ -3,6 +3,8 @@\n import com.bezirk.middleware.proxy.api.impl.ZirkId;\n \n public class RegisterZirkAction extends ZirkAction {\n+\n+    private static final long serialVersionUID \u003d 3741338959971855300L;\n     private final String zirkName;\n \n     public RegisterZirkAction(ZirkId zirkId, String zirkName) {"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/SendMulticastEventAction.java",
          "patch": "@@ -7,7 +7,9 @@\n \n import java.io.Serializable;\n \n-public class SendMulticastEventAction extends EventAction implements Serializable {\n+public class SendMulticastEventAction extends EventAction {\n+\n+    private static final long serialVersionUID \u003d 5208841186626658098L;\n     private final RecipientSelector selector;\n     private boolean isIdentified \u003d false;\n     private Alias alias;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/ServiceAction.java",
          "patch": "@@ -2,4 +2,5 @@\n \n public abstract class ServiceAction extends Action {\n \n+    private static final long serialVersionUID \u003d 4852983485582189904L;\n }"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/SetLocationAction.java",
          "patch": "@@ -4,6 +4,8 @@\n import com.bezirk.middleware.proxy.api.impl.ZirkId;\n \n public class SetLocationAction extends ZirkAction {\n+\n+    private static final long serialVersionUID \u003d -3253426082978826042L;\n     private final Location location;\n \n     public SetLocationAction(ZirkId zirkId, Location location) {\n@@ -21,7 +23,7 @@ public Location getLocation() {\n     }\n \n     @Override\n-    public com.bezirk.middleware.core.actions.BezirkAction getAction() {\n-        return com.bezirk.middleware.core.actions.BezirkAction.ACTION_BEZIRK_SET_LOCATION;\n+    public BezirkAction getAction() {\n+        return BezirkAction.ACTION_BEZIRK_SET_LOCATION;\n     }\n }"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/StartServiceAction.java",
          "patch": "@@ -4,6 +4,7 @@\n \n public class StartServiceAction extends ServiceAction {\n \n+    private static final long serialVersionUID \u003d -729245176942825895L;\n     private final Config config;\n \n     public StartServiceAction(final Config config) {"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/StopServiceAction.java",
          "patch": "@@ -1,6 +1,9 @@\n package com.bezirk.middleware.core.actions;\n \n public class StopServiceAction extends ServiceAction {\n+\n+    private static final long serialVersionUID \u003d 1731898551169340692L;\n+\n     @Override\n     public BezirkAction getAction() {\n         return BezirkAction.ACTION_STOP_BEZIRK;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/StreamAction.java",
          "patch": "@@ -7,6 +7,8 @@\n import java.io.File;\n \n public abstract class StreamAction extends ZirkAction {\n+\n+    private static final long serialVersionUID \u003d 2456894243312933233L;\n     private final ZirkEndPoint recipient;\n     private StreamDescriptor descriptor;\n     private final short streamId;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/SubscriptionAction.java",
          "patch": "@@ -18,7 +18,9 @@\n import java.lang.reflect.Type;\n \n public class SubscriptionAction extends ZirkAction {\n+\n     private static final Gson gson;\n+    private static final long serialVersionUID \u003d -5818106760459744698L;\n \n     static {\n         final GsonBuilder gsonBuilder \u003d new GsonBuilder();"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/UnicastEventAction.java",
          "patch": "@@ -6,6 +6,8 @@\n import com.bezirk.middleware.proxy.api.impl.ZirkId;\n \n public class UnicastEventAction extends EventAction {\n+\n+    private static final long serialVersionUID \u003d -8287413093514019296L;\n     private final BezirkAction action;\n     private final ZirkEndPoint endpoint;\n     private boolean isIdentified \u003d false;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/actions/ZirkAction.java",
          "patch": "@@ -5,6 +5,8 @@\n import org.jetbrains.annotations.NotNull;\n \n public abstract class ZirkAction extends Action {\n+\n+    private static final long serialVersionUID \u003d -6199816601027328006L;\n     private final ZirkId zirkId;\n \n     public ZirkAction(@NotNull ZirkId zirkId) {"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/comms/processor/WireMessage.java",
          "patch": "@@ -20,10 +20,12 @@\n  * New wire message will contain the control / even ledger message to send and receive\n  */\n public class WireMessage implements Serializable {\n+    private static final long serialVersionUID \u003d 8351148484329885907L;\n     public static final Logger logger \u003d LoggerFactory.getLogger(WireMessage.class);\n     private static final String MSG_VER_STRING \u003d \"\\\"msgVer\\\":\\\"\";\n     /// if the parser type is json, to check the message version VERSION STRING\n     private static final String MSG_VER \u003d MSG_VER_STRING + BezirkVersion.getWireVersion() + \"\\\"\";\n+\n     //private String msgVer \u003d BezirkVersion.BEZIRK_VERSION;\n     // increment the wire message version in bezirk version. when there is a change in message format\n     private String msgVer \u003d BezirkVersion.getWireVersion();"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/proxy/Config.java",
          "patch": "@@ -7,6 +7,7 @@\n import java.util.Map;\n \n public class Config implements Serializable {\n+    private static final long serialVersionUID \u003d 2330364021536661076L;\n     private static final String DEFAULT_GROUP_NAME \u003d \"BEZIRK_GROUP\";\n     private static final String DEFAULT_APP_NAME \u003d \"Bezirk\";\n     private static final Level DEFAULT_LOG_LEVEL \u003d Level.ERROR;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/pubsubbroker/PubSubBrokerRegistry.java",
          "patch": "@@ -24,7 +24,10 @@\n  * Registry Class that deals with all the maps\n  */\n public class PubSubBrokerRegistry implements Serializable {\n+    private static final long serialVersionUID \u003d -2245727406798376754L;\n+\n     private static final Logger logger \u003d LoggerFactory.getLogger(PubSubBrokerRegistry.class);\n+\n     /**\n      * Stores the list of Registered ZirkId\u0027s of the Zirks.\n      */"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/sphere/impl/DeviceInformation.java",
          "patch": "@@ -10,9 +10,6 @@\n  */\n public class DeviceInformation implements Serializable {\n \n-    /**\n-     *\n-     */\n     private static final long serialVersionUID \u003d -7659289630471500105L;\n \n     private String deviceName;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/sphere/impl/Zirk.java",
          "patch": "@@ -4,14 +4,8 @@\n import java.util.HashSet;\n import java.util.Set;\n \n-/**\n- * @author Rishabh Gulati\n- */\n public abstract class Zirk implements Serializable {\n \n-    /**\n-     *\n-     */\n     private static final long serialVersionUID \u003d -2130386016234942372L;\n     // set of sphereID\u0027s the zirk is a part of\n     private HashSet\u003cString\u003e sphereSet;"
        },
        {
          "file_name": "core/commons/src/main/java/com/bezirk/middleware/core/sphere/security/SphereKeys.java",
          "patch": "@@ -6,6 +6,8 @@\n \n public final class SphereKeys implements Serializable {\n \n+\n+    private static final long serialVersionUID \u003d 6032713440561575641L;\n     /**\n      * The key used for encrypting all the sphere information\n      */"
        },
        {
          "file_name": "core/data-storage/src/main/java/com/bezirk/middleware/core/datastorage/ProxyRegistry.java",
          "patch": "@@ -5,6 +5,7 @@\n \n public class ProxyRegistry implements Serializable {\n \n+    private static final long serialVersionUID \u003d -7100050208684429860L;\n     private final HashMap\u003cString, String\u003e serviceIdsMap \u003d new HashMap\u003cString, String\u003e();\n \n     public String getBezirkServiceId(final String serviceName) {"
        },
        {
          "file_name": "core/sphere/src/main/java/com/bezirk/middleware/core/sphere/impl/MemberSphere.java",
          "patch": "@@ -13,7 +13,7 @@\n /**\n  * @author Rishabh Gulati\n  */\n-public final class MemberSphere extends com.bezirk.middleware.core.sphere.impl.Sphere implements Serializable {\n+public final class MemberSphere extends Sphere implements Serializable {\n     private static final long serialVersionUID \u003d 4338578155881822594L;\n     /**\n      * Used to identify if the sphere was a sharable sphere of another device"
        },
        {
          "file_name": "core/sphere/src/main/java/com/bezirk/middleware/core/sphere/impl/OwnerSphere.java",
          "patch": "@@ -10,7 +10,7 @@\n /**\n  * @author Rishabh Gulati\n  */\n-public final class OwnerSphere extends com.bezirk.middleware.core.sphere.impl.Sphere implements Serializable {\n+public final class OwnerSphere extends Sphere implements Serializable {\n     private static final long serialVersionUID \u003d 8307802592890417699L;\n \n     public OwnerSphere() {"
        }
      ]
    }
  },
  {
    "name": "Insert point failed",
    "url": "https://github.com/nextgis/android_gisapp/issues/503",
    "description": "```\njava.lang.ClassCastException: com.nextgis.maplib.datasource.GeometryRTree$Node cannot be cast to com.nextgis.maplib.datasource.GeometryRTree$Entry\n    at com.nextgis.maplib.datasource.GeometryRTree.search(GeometryRTree.java:288)\n    at com.nextgis.maplib.datasource.GeometryRTree.search(GeometryRTree.java:301)\n    at com.nextgis.maplib.datasource.GeometryRTree.search(GeometryRTree.java:257)\n    at com.nextgis.maplib.map.VectorLayer.checkPointOverlaps(VectorLayer.java:641)\n    at com.nextgis.maplib.map.VectorLayer.prepareGeometry(VectorLayer.java:657)\n    at com.nextgis.maplib.map.VectorLayer.insertInternal(VectorLayer.java:1302)\n    at com.nextgis.maplib.map.NGWVectorLayer.insertInternal(NGWVectorLayer.java:283)\n    at com.nextgis.maplib.map.VectorLayer.insert(VectorLayer.java:1294)\n    at com.nextgis.maplib.map.VectorLayer.insert(VectorLayer.java:1398)\n    at com.nextgis.maplib.datasource.LayerContentProvider.insert(LayerContentProvider.java:167)\n    at android.content.ContentProvider$Transport.insert(ContentProvider.java:267)\n    at android.content.ContentResolver.insert(ContentResolver.java:1234)\n    at com.nextgis.maplibui.activity.ModifyAttributesActivity.saveFeature(ModifyAttributesActivity.java:566)\n    at com.nextgis.maplibui.activity.FormBuilderModifyAttributesActivity.saveFeature(FormBuilderModifyAttributesActivity.java:312)\n    at com.nextgis.maplibui.activity.ModifyAttributesActivity.onOptionsItemSelected(ModifyAttributesActivity.java:485)\n    at android.app.Activity.onMenuItemSelected(Activity.java:2948)\n    at android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:421)\n    at android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:188)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:69)\n    at android.support.v7.widget.Toolbar$1.onMenuItemClick(Toolbar.java:202)\n    at android.support.v7.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:761)\n    at android.support.v7.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:810)\n    at android.support.v7.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)\n    at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:957)\n    at android.support.v7.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:947)\n    at android.support.v7.widget.ActionMenuView.invokeItem(ActionMenuView.java:618)\n    at android.support.v7.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:155)\n    at android.view.View.performClick(View.java:5213)\n    at android.view.View$PerformClick.run(View.java:21174)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5498)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n",
    "keywords": [
      "com",
      "v7",
      "handler",
      "widget",
      "activity",
      "android",
      "android support",
      "insert",
      "modifyattributesactivity",
      "v7 view",
      "view",
      "search",
      "support v7",
      "onmenuitemselected",
      "maplib map",
      "geometryrtree",
      "map",
      "zygoteinit",
      "app",
      "maplib",
      "maplibui",
      "os",
      "menu menubuilder",
      "nextgis",
      "actionmenuview",
      "menu",
      "maplib datasource",
      "vectorlayer",
      "menubuilder",
      "windowcallbackwrapper",
      "com nextgis",
      "nextgis maplib",
      "datasource",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/f01fe46848d1634b01bc6d89b12e0a51f5c0794b",
      "files": [
        {
          "file_name": "maplib",
          "patch": "@@ -1 +1 @@\n-Subproject commit cf1ee4a1fcb44dfd12a0bc683ef17777c3f6351d\n+Subproject commit 661b0adefe56dc9c1b9e28ac783fb3e350c1b843"
        }
      ]
    }
  },
  {
    "name": "GarageManager Update Nullref",
    "url": "https://github.com/ReVoluti0n/APPPROG16/issues/20",
    "description": "D/GarageManager: Update running...\r\n\r\n                 [ 01-23 07:11:05.690  2591: 2591 D/         ]\r\n                 java.lang.NullPointerException\r\n                     at com.example.mi.parkenamberg.GarageManager.UpdatePlaetze(GarageManager.java:114)\r\n                     at com.example.mi.parkenamberg.GarageManager.access$100(GarageManager.java:29)\r\n                     at com.example.mi.parkenamberg.GarageManager$2.onFinished(GarageManager.java:93)\r\n                     at com.example.mi.parkenamberg.GarageManager$HTTPRequest.onPostExecute(GarageManager.java:227)\r\n                     at com.example.mi.parkenamberg.GarageManager$HTTPRequest.onPostExecute(GarageManager.java:199)\r\n                     at android.os.AsyncTask.finish(AsyncTask.java:632)\r\n                     at android.os.AsyncTask.access$600(AsyncTask.java:177)\r\n                     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\r\n                     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                     at android.os.Looper.loop(Looper.java:136)\r\n                     at android.app.ActivityThread.main(ActivityThread.java:5017)\r\n                     at java.lang.reflect.Method.invokeNative(Native Method)\r\n                     at java.lang.reflect.Method.invoke(Method.java:515)\r\n                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\r\n                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\r\n                     at dalvik.system.NativeStart.main(Native Method)\r\n",
    "keywords": [
      "com",
      "android os",
      "os",
      "asynctask",
      "method",
      "android",
      "main",
      "example",
      "parkenamberg",
      "java",
      "example mi",
      "mi",
      "lang",
      "garagemanager",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/ReVoluti0n/APPPROG16/commit/64b1d6f76bb21be1102262061c5c9dc694826ce0",
      "files": [
        {
          "file_name": "ParkenAmberg/app/src/main/java/com/example/mi/parkenamberg/GarageManager.java",
          "patch": "@@ -111,6 +111,7 @@ private Boolean UpdatePlaetze(Document doc)\n   {\n     try\n     {\n+      if(doc \u003d\u003d null) return false;\n       NodeList nodes \u003d doc.getElementsByTagName(\"Parkhaus\");\n       for (int i \u003d 0; i \u003c nodes.getLength(); i++)\n       {"
        },
        {
          "file_name": "ParkenAmberg/app/src/main/res/layout/setting_dialog.xml",
          "patch": "@@ -33,7 +33,7 @@\n             android:switchMinWidth\u003d\"0dp\"\n             android:layout_marginBottom\u003d\"20dp\"\n             android:enabled\u003d\"true\"\n-            android:text\u003d\"Hintergrundsprachausgabe aktivieren\"\n+            android:text\u003d\"Hintergrund- sprachausgabe aktivieren\"\n             android:checked\u003d\"true\"/\u003e\n     \u003c/LinearLayout\u003e\n \u003c/RelativeLayout\u003e\n\\ No newline at end of file"
        }
      ]
    }
  },
  {
    "name": "Crash in layer properties",
    "url": "https://github.com/nextgis/android_gisapp/issues/526",
    "description": "```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.nextgis.mobile/com.nextgis.maplibui.activity.VectorLayerSettingsActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.util.Map com.nextgis.maplib.display.FieldStyleRule.getStyleRules()\u0027 on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3319)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3415)\n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5472)\n    at android.app.ActivityThread.access$1200(ActivityThread.java:229)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1827)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:7325)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.util.Map com.nextgis.maplib.display.FieldStyleRule.getStyleRules()\u0027 on a null object reference\n    at com.nextgis.maplibui.display.RuleFeatureRendererUI$RuleStyleFragment.onCreateView(RuleFeatureRendererUI.java:119)\n    at android.support.v4.app.Fragment.performCreateView(Fragment.java:2074)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1286)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1268)\n    at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2143)\n    at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\n    at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:615)\n    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1266)\n    at android.app.Activity.performStart(Activity.java:6943)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3276)\n    ... 10 more\n```\n",
    "keywords": [
      "com",
      "app",
      "os",
      "movetostate",
      "activity",
      "method",
      "nextgis",
      "android",
      "display",
      "android support",
      "support v4",
      "invoke",
      "activitythread",
      "java",
      "v4 app",
      "android app",
      "fragmentmanager",
      "lang",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/65e1b83717c8fa469a022c8ce342834acde39d05",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 43469c4233609ace7efb7646c5b2f94cd5bb4b77\n+Subproject commit 751356f17bf1125ddc95e86336cf409f24a4df85"
        }
      ]
    }
  },
  {
    "name": "Crashes with CM theme",
    "url": "https://github.com/westnordost/StreetComplete/issues/53",
    "description": "CM 13\nIt happens reproducibly when showing some questions (but not all) or e.g. sometimes when opening the opening hours input.\n\n```\nde.westnordost.streetcomplete.quests.road_name.AutoCorrectAbbreviationsEditText$1.run(AutoCorrectAbbreviationsEditText.java:58)\nE/AndroidRuntime( 1904): FATAL EXCEPTION: Thread-5846\nE/AndroidRuntime( 1904): Process: de.westnordost.streetcomplete, PID: 1904\nE/AndroidRuntime( 1904): Theme: themes:{com.android.providers.downloads.ui\u003doverlay:com.spastef.inversion, com.fsck.k9\u003doverlay:com.chummy.jezebel.material.dark.regression, default\u003doverlay:com.chummy.jezebel.material.dark.regression, iconPack:system, fontPkg:com.chummy.jezebel.material.dark, com.android.systemui\u003doverlay:com.chummy.jezebel.material.dark.regression, com.android.systemui.navbar\u003doverlay:com.chummy.jezebel.material.dark.regression}\nE/AndroidRuntime( 1904): java.lang.NullPointerException: Attempt to invoke interface method \u0027int java.util.List.size()\u0027 on a null object reference\nE/AndroidRuntime( 1904): \tat de.westnordost.streetcomplete.data.meta.CurrentCountry.getLocale(CurrentCountry.java:77)\nE/AndroidRuntime( 1904): \tat de.westnordost.streetcomplete.data.meta.CurrentCountry.getResources(CurrentCountry.java:51)\nE/AndroidRuntime( 1904): \tat de.westnordost.streetcomplete.data.meta.MetadataModule.abbreviations(MetadataModule.java:16)\nE/AndroidRuntime( 1904): \tat de.westnordost.streetcomplete.data.meta.MetadataModule_AbbreviationsFactory.get(MetadataModule_AbbreviationsFactory.java:19)\nE/AndroidRuntime( 1904): \tat de.westnordost.streetcomplete.data.meta.MetadataModule_AbbreviationsFactory.get(MetadataModule_AbbreviationsFactory.java:8)\nE/AndroidRuntime( 1904): \tat dagger.internal.DoubleCheck.get(DoubleCheck.java:46)\nE/AndroidRuntime( 1904): \tat de.westnordost.streetcomplete.quests.road_name.AutoCorrectAbbreviationsEditText$1.run(AutoCorrectAbbreviationsEditText.java:58)\nE/AndroidRuntime( 2035): FATAL EXCEPTION: main\nE/AndroidRuntime( 2035): Process: de.westnordost.streetcomplete, PID: 2035\nE/AndroidRuntime( 2035): Theme: themes:{com.android.providers.downloads.ui\u003doverlay:com.spastef.inversion, com.fsck.k9\u003doverlay:com.chummy.jezebel.material.dark.regression, default\u003doverlay:com.chummy.jezebel.material.dark.regression, iconPack:system, fontPkg:com.chummy.jezebel.material.dark, com.android.systemui\u003doverlay:com.chummy.jezebel.material.dark.regression, com.android.systemui.navbar\u003doverlay:com.chummy.jezebel.material.dark.regression}\nE/AndroidRuntime( 2035): java.lang.NullPointerException: Attempt to invoke virtual method \u0027android.view.View android.app.Activity.findViewById(int)\u0027 on a null object reference\nE/AndroidRuntime( 2035): \tat de.westnordost.streetcomplete.quests.AbstractQuestAnswerFragment.updateCloseButtonVisibility(AbstractQuestAnswerFragment.java:160)\nE/AndroidRuntime( 2035): \tat de.westnordost.streetcomplete.quests.AbstractQuestAnswerFragment.access$000(AbstractQuestAnswerFragment.java:33)\nE/AndroidRuntime( 2035): \tat de.westnordost.streetcomplete.quests.AbstractQuestAnswerFragment$1$1.run(AbstractQuestAnswerFragment.java:73)\nE/AndroidRuntime( 2035): \tat android.os.Handler.handleCallback(Handler.java:739)\nE/AndroidRuntime( 2035): \tat android.os.Handler.dispatchMessage(Handler.java:95)\nE/AndroidRuntime( 2035): \tat android.os.Looper.loop(Looper.java:148)\nE/AndroidRuntime( 2035): \tat android.app.ActivityThread.main(ActivityThread.java:5461)\nE/AndroidRuntime( 2035): \tat java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime( 2035): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nE/AndroidRuntime( 2035): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\nE/AndroidRuntime( 2035): \tat de.robv.android.xposed.XposedBridge.main(XposedBridge.java:102)\nE/AndroidRuntime( 2435): FATAL EXCEPTION: main\nE/AndroidRuntime( 2435): Process: de.westnordost.streetcomplete, PID: 2435\nE/AndroidRuntime( 2435): Theme: themes:{com.android.providers.downloads.ui\u003doverlay:com.spastef.inversion, com.fsck.k9\u003doverlay:com.chummy.jezebel.material.dark.regression, default\u003doverlay:com.chummy.jezebel.material.dark.regression, iconPack:system, fontPkg:com.chummy.jezebel.material.dark, com.android.systemui\u003doverlay:com.chummy.jezebel.material.dark.regression, com.android.systemui.navbar\u003doverlay:com.chummy.jezebel.material.dark.regression}\nE/AndroidRuntime( 2435): java.lang.NullPointerException: Attempt to invoke interface method \u0027int java.util.List.size()\u0027 on a null object reference\nE/AndroidRuntime( 2435): \tat de.westnordost.streetcomplete.data.meta.CurrentCountry.getLocale(CurrentCountry.java:77)\nE/AndroidRuntime( 2435): \tat de.westnordost.streetcomplete.quests.opening_hours.OpeningHoursPerWeek.getWeekdaysSuggestion(OpeningHoursPerWeek.java:189)\nE/AndroidRuntime( 2435): \tat de.westnordost.streetcomplete.quests.opening_hours.OpeningHoursPerWeek.add(OpeningHoursPerWeek.java:74)\nE/AndroidRuntime( 2435): \tat de.westnordost.streetcomplete.quests.opening_hours.OpeningHoursPerWeek$1.onClick(OpeningHoursPerWeek.java:65)\nE/AndroidRuntime( 2435): \tat android.view.View.performClick(View.java:5204)\nE/AndroidRuntime( 2435): \tat android.view.View$PerformClick.run(View.java:21158)\nE/AndroidRuntime( 2435): \tat android.os.Handler.handleCallback(Handler.java:739)\nE/AndroidRuntime( 2435): \tat android.os.Handler.dispatchMessage(Handler.java:95)\nE/AndroidRuntime( 2435): \tat android.os.Looper.loop(Looper.java:148)\nE/AndroidRuntime( 2435): \tat android.app.ActivityThread.main(ActivityThread.java:5461)\nE/AndroidRuntime( 2435): \tat java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime( 2435): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nE/AndroidRuntime( 2435): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\nE/AndroidRuntime( 2435): \tat de.robv.android.xposed.XposedBridge.main(XposedBridge.java:102\n```",
    "keywords": [
      "com",
      "exception",
      "de",
      "handler",
      "themes:{com",
      "null object",
      "e/androidruntime 2035",
      "data",
      "openinghoursperweek",
      "os handler",
      "invoke",
      "main",
      "pid",
      "run",
      "attempt",
      "dark regression",
      "reference",
      "view",
      "streetcomplete quests",
      "java",
      "e/androidruntime 1904",
      "e/androidruntime 2435",
      "app",
      "method",
      "2435 ",
      "quests",
      "xposedbridge",
      "systemui\u003doverlay:com",
      "ui\u003doverlay:com",
      "streetcomplete",
      "de westnordost",
      "nullpointerexception",
      "metadatamodule_abbreviationsfactory",
      "iconpack:system",
      "2435",
      "null",
      "westnordost",
      "meta",
      "2035",
      "jezebel",
      "opening_hours",
      "1904 ",
      "navbar\u003doverlay:com",
      "1904",
      "object",
      "k9\u003doverlay:com",
      "internal",
      "chummy jezebel",
      "fsck",
      "android",
      "chummy",
      "looper",
      "e/androidruntime",
      "systemui",
      "material dark",
      "fatal",
      "inversion",
      "downloads",
      "get",
      "2035 ",
      "dark",
      "theme",
      "fontpkg:com",
      "lang",
      "internal os",
      "zygoteinit",
      "abstractquestanswerfragment",
      "process",
      "os",
      "regression}",
      "currentcountry",
      "data meta",
      "default\u003doverlay:com",
      "com android",
      "activitythread",
      "reference e/androidruntime",
      "material",
      "regression",
      "jezebel material",
      "westnordost streetcomplete",
      "providers",
      "spastef"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/d7058e93ff85f2bd8671d432b2af230b53727854",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/meta/CurrentCountry.java",
          "patch": "@@ -72,16 +72,20 @@ public Locale getLocale()\n \t\tif(countryCode !\u003d null)\n \t\t{\n \t\t\tList\u003cString\u003e languages \u003d getLanguagesByCountry().get(countryCode);\n-\t\t\t// for countries with several official languages, the chance is higher that the user is\n-\t\t\t// in an area in which the language he set in his preferences is spoken than not\n-\t\t\tif(languages.size() \u003e 1 \u0026\u0026 languages.indexOf(locale.getLanguage()) !\u003d -1)\n+\t\t\t// #53: Android could also return an invalid or non-existing countryCode, we can\u0027t trust it here\n+\t\t\tif(languages !\u003d null)\n \t\t\t{\n-\t\t\t\tlocale \u003d new Locale(locale.getLanguage(), countryCode);\n-\t\t\t}\n-\t\t\t// otherwise, use the most common one\n-\t\t\telse if(languages.size() \u003e 0)\n-\t\t\t{\n-\t\t\t\tlocale \u003d new Locale(languages.get(0), countryCode);\n+\t\t\t\t// for countries with several official languages, the chance is higher that the user is\n+\t\t\t\t// in an area in which the language he set in his preferences is spoken than not\n+\t\t\t\tif (languages.size() \u003e 1 \u0026\u0026 languages.indexOf(locale.getLanguage()) !\u003d -1)\n+\t\t\t\t{\n+\t\t\t\t\tlocale \u003d new Locale(locale.getLanguage(), countryCode);\n+\t\t\t\t}\n+\t\t\t\t// otherwise, use the most common one\n+\t\t\t\telse if (languages.size() \u003e 0)\n+\t\t\t\t{\n+\t\t\t\t\tlocale \u003d new Locale(languages.get(0), countryCode);\n+\t\t\t\t}\n \t\t\t}\n \t\t}\n \t\treturn locale;"
        }
      ]
    }
  },
  {
    "name": "Google Maps crashes",
    "url": "https://github.com/microg/android_packages_apps_GmsCore/issues/127",
    "description": "- CM 13\n- Signature patching via Xposed\n- Maps 9.25.1\n\nGoogle Maps crashes immediately after start:\n\n```\n05-06 13:46:27.176  5039  5122 W System  : ClassLoader referenced unknown path: /system/framework/tcmclient.jar\n05-06 13:46:27.185  5039  5039 D AndroidRuntime: Shutting down VM\n05-06 13:46:27.186  5039  5039 W System.err: java.lang.IllegalArgumentException: No such column: sync_me_to_contacts\n05-06 13:46:27.189  5039  5039 W System.err:    at com.google.android.gms.common.data.DataHolder.a(Unknown Source)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.google.android.gms.common.data.j.c(Unknown Source)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.google.android.gms.people.internal.i.s(Unknown Source)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.google.android.apps.gmm.x.g.\u003cinit\u003e(PG:123)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.google.android.apps.gmm.layers.ai.a(PG:5021)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.google.android.gms.common.api.a.k.handleMessage(Unknown Source)\n05-06 13:46:27.189  5039  5039 W System.err:    at android.os.Handler.dispatchMessage(Handler.java:102)\n05-06 13:46:27.189  5039  5039 W System.err:    at android.os.Looper.loop(Looper.java:148)\n05-06 13:46:27.189  5039  5039 W System.err:    at android.app.ActivityThread.main(ActivityThread.java:5461)\n05-06 13:46:27.189  5039  5039 W System.err:    at java.lang.reflect.Method.invoke(Native Method)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n05-06 13:46:27.189  5039  5039 W System.err:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n05-06 13:46:27.189  5039  5039 W System.err:    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:134)\n05-06 13:46:27.190  7356 30803 D SafeParcel: Unknown field num 1 in com.google.android.gms.clearcut.LogEventParcelable, skipping.\n05-06 13:46:27.190  7356 30803 D SafeParcel: Unknown field num 2 in com.google.android.gms.clearcut.LogEventParcelable, skipping.\n05-06 13:46:27.190  7356 30803 D SafeParcel: Unknown field num 3 in com.google.android.gms.clearcut.LogEventParcelable, skipping.\n05-06 13:46:27.190  7356 30803 D GmsClearcutLogSvcImpl: log: com.google.android.gms.clearcut.LogEventParcelable@f658e14\n05-06 13:46:27.190  5039  5039 E AndroidRuntime: FATAL EXCEPTION: main\n05-06 13:46:27.190  5039  5039 E AndroidRuntime: Process: com.google.android.apps.maps, PID: 5039\n05-06 13:46:27.190  5039  5039 E AndroidRuntime: Theme: themes:{}\n05-06 13:46:27.190  5039  5039 E AndroidRuntime: java.lang.IllegalArgumentException: No such column: sync_me_to_contacts\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.google.android.gms.common.data.DataHolder.a(Unknown Source)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.google.android.gms.common.data.j.c(Unknown Source)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.google.android.gms.people.internal.i.s(Unknown Source)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.google.android.apps.gmm.x.g.\u003cinit\u003e(PG:123)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.google.android.apps.gmm.layers.ai.a(PG:5021)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.google.android.gms.common.api.a.k.handleMessage(Unknown Source)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:102)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:148)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:5461)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n05-06 13:46:27.190  5039  5039 E AndroidRuntime:    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:134)\n05-06 13:46:27.192  5904 14372 W ActivityManager:   Force finishing activity com.google.android.apps.maps/com.google.android.maps.MapsActivity\n```\n",
    "keywords": [
      "com",
      "handler",
      "13:46:27",
      "data",
      "num",
      "190",
      "main",
      "source",
      "java",
      "logeventparcelable",
      "apps gmm",
      "skipping",
      "13:46:27 189",
      "5039 5039",
      "android os",
      "method",
      "maps",
      "xposedbridge",
      "google",
      "system",
      "05-06 13:46:27",
      "field",
      "189 5039",
      "internal",
      "gms common",
      "gmm",
      "android",
      "looper",
      "source 05-06",
      "gms",
      "system err",
      "clearcut",
      "unknown",
      "android internal",
      "common",
      "android gms",
      "google android",
      "5039",
      "30803",
      "lang",
      "unknown source",
      "xposed",
      "zygoteinit",
      "apps",
      "err",
      "os",
      "7356",
      "d",
      "e",
      "13:46:27 190",
      "androidruntime",
      "5039 e",
      "java lang",
      "activitythread",
      "safeparcel",
      "189",
      "05-06",
      "5039 w",
      "com google",
      "w",
      "w system",
      "190 5039",
      "e androidruntime"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/microg/android_packages_apps_GmsCore/commit/f65f12591d12260152c1cb4f9ae1eeae283ca9f6",
      "files": [
        {
          "file_name": "play-services-core/src/main/java/org/microg/gms/people/DatabaseHelper.java",
          "patch": "@@ -23,7 +23,7 @@\n import android.database.sqlite.SQLiteOpenHelper;\n \n public class DatabaseHelper extends SQLiteOpenHelper {\n-    private static final int DB_VERSION \u003d 2;\n+    private static final int DB_VERSION \u003d 3;\n     private static final String DB_NAME \u003d \"pluscontacts.db\";\n     private static final String CREATE_OWNERS \u003d \"CREATE TABLE owners (\" +\n             \"_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n@@ -46,7 +46,9 @@\n             \"etag TEXT,\" +\n             \"sync_circles_to_contacts INTEGER NOT NULL DEFAULT 0,\" + // 0\n             \"sync_evergreen_to_contacts INTEGER NOT NULL DEFAULT 0,\" + // 0\n-            \"last_full_people_sync_time INTEGER NOT NULL DEFAULT 0);\"; // timestamp\n+            \"last_full_people_sync_time INTEGER NOT NULL DEFAULT 0,\" + // timestamp\n+            \"is_active_plus_account INTEGER NOT NULL DEFAULT 0,\" + // 0\n+            \"sync_me_to_contacts INTEGER NOT NULL DEFAULT 0);\"; // 0\n     private static final String CREATE_CIRCLES \u003d \"CREATE TABLE circles (\" +\n             \"_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n             \"owner_id INTEGER NOT NULL,\" +\n@@ -60,6 +62,8 @@\n             \"sync_to_contacts INTEGER NOT NULL DEFAULT 0,\" +\n             \"UNIQUE (owner_id,circle_id),\" +\n             \"FOREIGN KEY (owner_id) REFERENCES owners(_id) ON DELETE CASCADE);\";\n+    private static final String ALTER_OWNERS_3_1 \u003d \"ALTER TABLE owners ADD COLUMN is_active_plus_account INTEGER NOT NULL DEFAULT 0;\";\n+    private static final String ALTER_OWNERS_3_2 \u003d \"ALTER TABLE owners ADD COLUMN sync_me_to_contacts INTEGER NOT NULL DEFAULT 0;\";\n     public static final String OWNERS_TABLE \u003d \"owners\";\n     public static final String CIRCLES_TABLE \u003d \"circles\";\n \n@@ -77,6 +81,10 @@ public void onCreate(SQLiteDatabase db) {\n     @Override\n     public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n         if (oldVersion \u003c 2) db.execSQL(CREATE_CIRCLES);\n+        if (oldVersion \u003c 3) {\n+            db.execSQL(ALTER_OWNERS_3_1);\n+            db.execSQL(ALTER_OWNERS_3_2);\n+        }\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "AuthenicationManager NPE: website offline crash",
    "url": "https://github.com/TCA-Team/TumCampusApp/issues/428",
    "description": "```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String de.tum.in.tumcampusapp.models.tumcabe.TUMCabeStatus.getStatus()\u0027 on a null object reference\r\nat de.tum.in.tumcampusapp.auxiliary.AuthenticationManager$1.onResponse(AuthenticationManager.java:191)\r\nat retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:68)\r\nat android.os.Handler.handleCallback(Handler.java:739)\r\nat android.os.Handler.dispatchMessage(Handler.java:95)\r\nat android.os.Looper.loop(Looper.java:168)\r\nat android.app.ActivityThread.main(ActivityThread.java:5845)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)\r\n```",
    "keywords": [
      "handler",
      "os",
      "method",
      "android",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/TCA-Team/TumCampusApp/commit/fefa13b773b98fb54fcc7df12ebcc139dc989cac",
      "files": [
        {
          "file_name": "app/src/main/java/de/tum/in/tumcampusapp/auxiliary/AuthenticationManager.java",
          "patch": "@@ -188,10 +188,8 @@ private void uploadKey(String publicKey, final ChatMember member) {\n \n                 @Override\n                 public void onResponse(Call\u003cTUMCabeStatus\u003e call, Response\u003cTUMCabeStatus\u003e response) {\n-                    Utils.log(response.body().getStatus());\n-\n                     //Remember that we are done, only if we have submitted with the member information\n-                    if (\"ok\".equals(response.body().getStatus())) {\n+                    if (response.isSuccessful() \u0026\u0026 \"ok\".equals(response.body().getStatus())) {\n                         if (member !\u003d null) {\n                             Utils.setInternalSetting(mContext, Const.PUBLIC_KEY_UPLOADED, true);\n                         }"
        }
      ]
    }
  },
  {
    "name": "App crashes when rotate device while displaying progress dialog",
    "url": "https://github.com/alabeduarte/mypodcasts-android/issues/17",
    "description": "```\njava.lang.IllegalArgumentException: View\u003dcom.android.internal.policy.impl.PhoneWindow$DecorView{1b5cb0c6 V.E..... R......D 0,0-684,232} not attached to window manager\n    at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:396)\n    at android.view.WindowManagerGlobal.removeView(WindowManagerGlobal.java:322)\n    at android.view.WindowManagerImpl.removeViewImmediate(WindowManagerImpl.java:116)\n    at android.app.Dialog.dismissDialog(Dialog.java:341)\n    at android.app.Dialog.dismiss(Dialog.java:324)\n    at com.mypodcasts.episodes.latestepisodes.LatestEpisodesActivity$LatestEpisodesAsyncTask.onPostExecute(LatestEpisodesActivity.java:64)\n    at com.mypodcasts.episodes.latestepisodes.LatestEpisodesActivity$LatestEpisodesAsyncTask.onPostExecute(LatestEpisodesActivity.java:45)\n    at retryable.asynctask.ConcreteAsyncTask.onPostExecute(ConcreteAsyncTask.java:34)\n    at retryable.asynctask.ConcreteAsyncTask.onPostExecute(ConcreteAsyncTask.java:8)\n    at android.os.AsyncTask.finish(AsyncTask.java:636)\n    at android.os.AsyncTask.access$500(AsyncTask.java:177)\n    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:653)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5343)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:905)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:700)\n```\n",
    "keywords": [
      "com",
      "app",
      "internal",
      "android os",
      "os",
      "asynctask",
      "method",
      "android",
      "concreteasynctask",
      "dialog",
      "view",
      "java",
      "onpostexecute",
      "lang",
      "windowmanagerglobal",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/alabeduarte/mypodcasts-android/commit/7757d08931c75a0571c8c556962a19f24c2cc981",
      "files": [
        {
          "file_name": "app/build.gradle",
          "patch": "@@ -21,7 +21,7 @@ android {\n     minSdkVersion 21\n     targetSdkVersion 21\n     versionCode 1\n-    versionName \"0.0.10\"\n+    versionName \"0.0.11\"\n   }\n \n   buildTypes {"
        },
        {
          "file_name": "app/src/main/java/com/mypodcasts/MyPodcastsActivity.java",
          "patch": "@@ -1,5 +1,6 @@\n package com.mypodcasts;\n \n+import android.app.Activity;\n import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.widget.DrawerLayout;\n@@ -58,7 +59,7 @@ public void onItemClick(AdapterView\u003c?\u003e parent, View view, int position, long id)\n       }\n     });\n \n-    new FeedsAsyncTask().execute();\n+    new FeedsAsyncTask(this).execute();\n   }\n \n   @Override\n@@ -88,9 +89,8 @@ private void setActionBarDrawerToggle(DrawerLayout drawerLayout, Toolbar toolbar\n   }\n \n   private class FeedsAsyncTask extends RetryableAsyncTask\u003cVoid, Void, List\u003cFeed\u003e\u003e {\n-\n-    public FeedsAsyncTask() {\n-      super(MyPodcastsActivity.this);\n+    public FeedsAsyncTask(Activity activity) {\n+      super(activity);\n     }\n \n     @Override"
        },
        {
          "file_name": "app/src/main/java/com/mypodcasts/episodes/EpisodeFeedsActivity.java",
          "patch": "@@ -1,5 +1,6 @@\n package com.mypodcasts.episodes;\n \n+import android.app.Activity;\n import android.app.FragmentManager;\n import android.app.ProgressDialog;\n import android.os.Bundle;\n@@ -38,24 +39,45 @@ protected void onCreate(Bundle savedInstanceState) {\n \n     Feed feed \u003d (Feed) getIntent().getSerializableExtra(Feed.class.toString());\n \n-    new FeedEpisodesAsyncTask(feed).execute();\n+    new FeedEpisodesAsyncTask(this, feed).execute();\n+  }\n+\n+  @Override\n+  protected void onDestroy() {\n+    dismissProgressDialog();\n+\n+    super.onDestroy();\n+  }\n+\n+  private void showProgressDialog(String feedTitle) {\n+    progressDialog.setIndeterminate(false);\n+    progressDialog.setCancelable(false);\n+    progressDialog.show();\n+    progressDialog.setMessage(format(\n+        getResources().getString(R.string.loading_feed_episodes), feedTitle\n+    ));\n+  }\n+\n+  private void dismissProgressDialog() {\n+    if (progressDialog !\u003d null \u0026\u0026 progressDialog.isShowing()) {\n+      progressDialog.dismiss();\n+    }\n   }\n \n   class FeedEpisodesAsyncTask extends RetryableAsyncTask\u003cVoid, Void, Feed\u003e {\n+    private final Activity activity;\n     private final Feed feed;\n \n-    public FeedEpisodesAsyncTask(Feed feed) {\n-      super(EpisodeFeedsActivity.this);\n+    public FeedEpisodesAsyncTask(Activity activity, Feed feed) {\n+      super(activity);\n \n+      this.activity \u003d activity;\n       this.feed \u003d feed;\n     }\n \n     @Override\n     protected void onPreExecute() {\n-      progressDialog.show();\n-      progressDialog.setMessage(format(\n-          getResources().getString(R.string.loading_feed_episodes), feed.getTitle()\n-      ));\n+      showProgressDialog(feed.getTitle());\n     }\n \n     @Override\n@@ -65,9 +87,9 @@ protected Feed doInBackground(Void... params) {\n \n     @Override\n     protected void onPostExecute(Feed feed) {\n-      if (progressDialog !\u003d null \u0026\u0026 progressDialog.isShowing()) {\n-        progressDialog.dismiss();\n-      }\n+      if (this.activity.isDestroyed()) return;\n+\n+      dismissProgressDialog();\n \n       arguments.putSerializable(\n           EpisodeList.HEADER,"
        },
        {
          "file_name": "app/src/main/java/com/mypodcasts/episodes/latestepisodes/LatestEpisodesActivity.java",
          "patch": "@@ -1,5 +1,6 @@\n package com.mypodcasts.episodes.latestepisodes;\n \n+import android.app.Activity;\n import android.app.FragmentManager;\n import android.app.ProgressDialog;\n import android.os.Bundle;\n@@ -39,18 +40,41 @@\n   protected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n \n-    new LatestEpisodesAsyncTask().execute();\n+    new LatestEpisodesAsyncTask(this).execute();\n+  }\n+\n+  @Override\n+  protected void onDestroy() {\n+    dismissProgressDialog();\n+\n+    super.onDestroy();\n+  }\n+\n+  private void showProgressDialog() {\n+    progressDialog.setIndeterminate(false);\n+    progressDialog.setCancelable(false);\n+    progressDialog.show();\n+    progressDialog.setMessage(getResources().getString(R.string.loading_latest_episodes));\n+  }\n+\n+  private void dismissProgressDialog() {\n+    if (progressDialog !\u003d null \u0026\u0026 progressDialog.isShowing()) {\n+      progressDialog.dismiss();\n+    }\n   }\n \n   class LatestEpisodesAsyncTask extends RetryableAsyncTask\u003cVoid, Void, List\u003cEpisode\u003e\u003e {\n-    public LatestEpisodesAsyncTask() {\n-      super(LatestEpisodesActivity.this);\n+    private final Activity activity;\n+\n+    public LatestEpisodesAsyncTask(Activity activity) {\n+      super(activity);\n+\n+      this.activity \u003d activity;\n     }\n \n     @Override\n     protected void onPreExecute() {\n-      progressDialog.show();\n-      progressDialog.setMessage(getResources().getString(R.string.loading_latest_episodes));\n+      showProgressDialog();\n     }\n \n     @Override\n@@ -60,9 +84,9 @@ protected void onPreExecute() {\n \n     @Override\n     protected void onPostExecute(List\u003cEpisode\u003e latestEpisodes) {\n-      if (progressDialog !\u003d null \u0026\u0026 progressDialog.isShowing()) {\n-        progressDialog.dismiss();\n-      }\n+      if (this.activity.isDestroyed()) return;\n+\n+      dismissProgressDialog();\n \n       arguments.putSerializable(\n           EpisodeList.HEADER,"
        },
        {
          "file_name": "app/src/test/java/com/mypodcasts/episodes/EpisodeFeedsActivityTest.java",
          "patch": "@@ -34,6 +34,8 @@\n import static org.mockito.Mockito.inOrder;\n import static org.mockito.Mockito.mock;\n import static org.mockito.Mockito.never;\n+import static org.mockito.Mockito.times;\n+import static org.mockito.Mockito.verify;\n import static org.mockito.Mockito.when;\n import static org.robolectric.Robolectric.buildActivity;\n import static org.robolectric.RuntimeEnvironment.application;\n@@ -94,6 +96,16 @@ public void itShowsAndHideProgressDialog() {\n   }\n \n   @Test\n+  public void itHidesProgressDialogOnDestroyToAvoidNotAttachedWindowManager() {\n+    when(progressDialogMock.isShowing()).thenReturn(true);\n+\n+    createActivityWith(aFeed(\"Awesome Feed\")).onDestroy();\n+\n+    // first hide dialog after async task, then hides again on destroy\n+    verify(progressDialogMock, times(2)).dismiss();\n+  }\n+\n+  @Test\n   public void itDoNotCancelProgressDialogIfItIsNotShowing() {\n     when(progressDialogMock.isShowing()).thenReturn(false);\n "
        },
        {
          "file_name": "app/src/test/java/com/mypodcasts/episodes/latestepisodes/LatestEpisodesActivityTest.java",
          "patch": "@@ -1,5 +1,6 @@\n package com.mypodcasts.episodes.latestepisodes;\n \n+import android.app.Activity;\n import android.app.FragmentManager;\n import android.app.FragmentTransaction;\n import android.app.ProgressDialog;\n@@ -29,10 +30,13 @@\n import java.util.List;\n \n import static org.hamcrest.CoreMatchers.is;\n+import static org.junit.Assert.assertNull;\n import static org.junit.Assert.assertThat;\n import static org.mockito.Mockito.inOrder;\n import static org.mockito.Mockito.mock;\n import static org.mockito.Mockito.never;\n+import static org.mockito.Mockito.times;\n+import static org.mockito.Mockito.verify;\n import static org.mockito.Mockito.when;\n import static org.robolectric.Robolectric.buildActivity;\n import static org.robolectric.RuntimeEnvironment.application;\n@@ -113,6 +117,16 @@ public void itShowsAndHideProgressDialog() {\n   }\n \n   @Test\n+  public void itHidesProgressDialogOnDestroyToAvoidNotAttachedWindowManager() {\n+    when(progressDialogMock.isShowing()).thenReturn(true);\n+\n+    createActivityWith(emptyList).onDestroy();\n+\n+    // first hide dialog after async task, then hides again on destroy\n+    verify(progressDialogMock, times(2)).dismiss();\n+  }\n+\n+  @Test\n   public void itDoesNotCancelProgressDialogIfItIsNotShowing() {\n     when(progressDialogMock.isShowing()).thenReturn(false);\n "
        }
      ]
    }
  },
  {
    "name": "Possible Onboarding Crash",
    "url": "https://github.com/the-blue-alliance/the-blue-alliance-android/issues/814",
    "description": "Found by pre-launch reports:\r\n```\r\nFATAL EXCEPTION: main\r\n Process: com.thebluealliance.androidclient, PID: 18351\r\n java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.widget.TextView.setText(java.lang.CharSequence)\u0027 on a null object reference\r\n \tat com.thebluealliance.androidclient.activities.OnboardingActivity.onLoadingMessageUpdated(OnboardingActivity.java:370)\r\n \tat com.thebluealliance.androidclient.activities.OnboardingActivity.onProgressUpdate(OnboardingActivity.java:376)\r\n \tat com.thebluealliance.androidclient.background.LoadTBADataTaskFragment.onProgressUpdate(LoadTBADataTaskFragment.java:80)\r\n \tat com.thebluealliance.androidclient.background.firstlaunch.LoadTBAData.onProgressUpdate(LoadTBAData.java:277)\r\n \tat com.thebluealliance.androidclient.background.firstlaunch.LoadTBAData.onProgressUpdate(LoadTBAData.java:39)\r\n \tat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:656)\r\n \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n \tat android.os.Looper.loop(Looper.java:135)\r\n \tat android.app.ActivityThread.main(ActivityThread.java:5254)\r\n \tat java.lang.reflect.Method.invoke(Native Method)\r\n \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n```",
    "keywords": [
      "com",
      "os",
      "method",
      "onboardingactivity",
      "android",
      "thebluealliance androidclient",
      "main",
      "invoke",
      "java lang",
      "onprogressupdate",
      "com thebluealliance",
      "java",
      "androidclient",
      "background",
      "thebluealliance",
      "lang",
      "loadtbadata",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/the-blue-alliance/the-blue-alliance-android/commit/e4cabbaa9db4542e19679738460b4d7b30344dbb",
      "files": [
        {
          "file_name": "android/src/main/java/com/thebluealliance/androidclient/activities/OnboardingActivity.java",
          "patch": "@@ -367,7 +367,9 @@ private void onLoadingMessageUpdated(String message) {\n             return;\n         }\n         currentLoadingMessage \u003d message;\n-        loadingMessage.setText(message);\n+        if (loadingMessage !\u003d null) {\n+            loadingMessage.setText(message);\n+        }\n     }\n \n     public void onProgressUpdate(LoadTBAData.LoadProgressInfo info) {"
        }
      ]
    }
  },
  {
    "name": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.view.View.setOnCreateContextMenuListener",
    "url": "https://github.com/lgallard/qBittorrent-Controller/issues/112",
    "description": "java.lang.NullPointerException: Attempt to invoke virtual method \u0027void android.view.View.setOnCreateContextMenuListener(android.view.View$OnCreateContextMenuListener)\u0027 on a null object reference\n    at android.app.Fragment.registerForContextMenu(Fragment.java:1755)\n    at com.lgallardo.qbittorrentclient.TorrentDetailsFragment.onCreateView(TorrentDetailsFragment.java)\n    at android.app.Fragment.performCreateView(Fragment.java:2220)\n    at android.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:973)\n    at android.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1148)\n    at android.app.BackStackRecord.run(BackStackRecord.java:793)\n    at android.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1535)\n    at android.app.FragmentManagerImpl$1.run(FragmentManagerImpl.java:482)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5471)\n    at java.lang.reflect.Method.invoke(Method.java)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:102)\n\nCrash reported on Google Play\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "os",
      "method",
      "android",
      "main",
      "run",
      "invoke",
      "java lang",
      "view",
      "fragment",
      "java",
      "android app",
      "lang",
      "fragmentmanagerimpl",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/lgallard/qBittorrent-Controller/commit/c27602378997ac8ec462a73e1ef1dd7d16f5a097",
      "files": [
        {
          "file_name": "app/app.iml",
          "patch": "@@ -8,80 +8,80 @@\n     \u003c/facet\u003e\n     \u003cfacet type\u003d\"android\" name\u003d\"Android\"\u003e\n       \u003cconfiguration\u003e\n-        \u003coption name\u003d\"SELECTED_BUILD_VARIANT\" value\u003d\"freeDebug\" /\u003e\n+        \u003coption name\u003d\"SELECTED_BUILD_VARIANT\" value\u003d\"proDebug\" /\u003e\n         \u003coption name\u003d\"SELECTED_TEST_ARTIFACT\" value\u003d\"_android_test_\" /\u003e\n-        \u003coption name\u003d\"ASSEMBLE_TASK_NAME\" value\u003d\"assembleFreeDebug\" /\u003e\n-        \u003coption name\u003d\"COMPILE_JAVA_TASK_NAME\" value\u003d\"compileFreeDebugSources\" /\u003e\n+        \u003coption name\u003d\"ASSEMBLE_TASK_NAME\" value\u003d\"assembleProDebug\" /\u003e\n+        \u003coption name\u003d\"COMPILE_JAVA_TASK_NAME\" value\u003d\"compileProDebugSources\" /\u003e\n         \u003cafterSyncTasks\u003e\n-          \u003ctask\u003egenerateFreeDebugSources\u003c/task\u003e\n+          \u003ctask\u003egenerateProDebugSources\u003c/task\u003e\n         \u003c/afterSyncTasks\u003e\n         \u003coption name\u003d\"ALLOW_USER_CONFIGURATION\" value\u003d\"false\" /\u003e\n         \u003coption name\u003d\"MANIFEST_FILE_RELATIVE_PATH\" value\u003d\"/src/main/AndroidManifest.xml\" /\u003e\n         \u003coption name\u003d\"RES_FOLDER_RELATIVE_PATH\" value\u003d\"/src/main/res\" /\u003e\n-        \u003coption name\u003d\"RES_FOLDERS_RELATIVE_PATH\" value\u003d\"file://$MODULE_DIR$/src/main/res;file://$MODULE_DIR$/src/free/res\" /\u003e\n+        \u003coption name\u003d\"RES_FOLDERS_RELATIVE_PATH\" value\u003d\"file://$MODULE_DIR$/src/main/res;file://$MODULE_DIR$/src/pro/res\" /\u003e\n         \u003coption name\u003d\"ASSETS_FOLDER_RELATIVE_PATH\" value\u003d\"/src/main/assets\" /\u003e\n       \u003c/configuration\u003e\n     \u003c/facet\u003e\n   \u003c/component\u003e\n   \u003ccomponent name\u003d\"NewModuleRootManager\" LANGUAGE_LEVEL\u003d\"JDK_1_7\" inherit-compiler-output\u003d\"false\"\u003e\n-    \u003coutput url\u003d\"file://$MODULE_DIR$/build/intermediates/classes/free/debug\" /\u003e\n-    \u003coutput-test url\u003d\"file://$MODULE_DIR$/build/intermediates/classes/test/free/debug\" /\u003e\n+    \u003coutput url\u003d\"file://$MODULE_DIR$/build/intermediates/classes/pro/debug\" /\u003e\n+    \u003coutput-test url\u003d\"file://$MODULE_DIR$/build/intermediates/classes/test/pro/debug\" /\u003e\n     \u003cexclude-output /\u003e\n     \u003ccontent url\u003d\"file://$MODULE_DIR$\"\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/r/free/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/aidl/free/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/buildConfig/free/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/rs/free/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/apt/free/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/rs/free/debug\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/resValues/free/debug\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/res\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/resources\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/assets\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/aidl\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/java\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/jni\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/rs\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/freeDebug/shaders\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/jni\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFreeDebug/shaders\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/r/androidTest/free/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/aidl/androidTest/free/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/buildConfig/androidTest/free/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/rs/androidTest/free/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/apt/androidTest/free/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/rs/androidTest/free/debug\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/resValues/androidTest/free/debug\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/res\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/resources\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/assets\" type\u003d\"java-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/aidl\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/java\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/jni\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/rs\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/free/shaders\" isTestSource\u003d\"false\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/jni\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testFree/shaders\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/res\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/resources\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/assets\" type\u003d\"java-test-resource\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/aidl\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/java\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/jni\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/rs\" isTestSource\u003d\"true\" /\u003e\n-      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestFree/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/r/pro/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/aidl/pro/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/buildConfig/pro/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/rs/pro/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/apt/pro/debug\" isTestSource\u003d\"false\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/rs/pro/debug\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/resValues/pro/debug\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/res\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/resources\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/assets\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/aidl\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/java\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/jni\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/rs\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/proDebug/shaders\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/jni\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testProDebug/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/r/androidTest/pro/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/aidl/androidTest/pro/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/buildConfig/androidTest/pro/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/rs/androidTest/pro/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/source/apt/androidTest/pro/debug\" isTestSource\u003d\"true\" generated\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/rs/androidTest/pro/debug\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/build/generated/res/resValues/androidTest/pro/debug\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/res\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/resources\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/assets\" type\u003d\"java-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/aidl\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/java\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/jni\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/rs\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/pro/shaders\" isTestSource\u003d\"false\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/jni\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/androidTestPro/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/res\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/resources\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/assets\" type\u003d\"java-test-resource\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/aidl\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/java\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/jni\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/rs\" isTestSource\u003d\"true\" /\u003e\n+      \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/testPro/shaders\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/res\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/resources\" type\u003d\"java-resource\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/debug/assets\" type\u003d\"java-resource\" /\u003e\n@@ -122,7 +122,11 @@\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/jni\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/rs\" isTestSource\u003d\"true\" /\u003e\n       \u003csourceFolder url\u003d\"file://$MODULE_DIR$/src/test/shaders\" isTestSource\u003d\"true\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/assets\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/blame\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/builds\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/classes\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/dependency-cache\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.android.support/animated-vector-drawable/23.2.1/jars\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.android.support/appcompat-v7/23.2.1/jars\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.android.support/cardview-v7/23.2.1/jars\" /\u003e\n@@ -154,11 +158,23 @@\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.google.android.gms/play-services/7.3.0/jars\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/exploded-aar/com.nbsp/library/1.08/jars\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-classes\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-runtime-classes\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-safeguard\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/incremental-verifier\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/instant-run-resources\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/instant-run-support\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/jniLibs\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/manifests\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/reload-dex\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/res\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/restart-dex\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/rs\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/shaders\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/symbols\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/intermediates/transforms\" /\u003e\n       \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/outputs\" /\u003e\n+      \u003cexcludeFolder url\u003d\"file://$MODULE_DIR$/build/tmp\" /\u003e\n     \u003c/content\u003e\n     \u003corderEntry type\u003d\"jdk\" jdkName\u003d\"Android API 23 Platform (1)\" jdkType\u003d\"Android SDK\" /\u003e\n     \u003corderEntry type\u003d\"sourceFolder\" forTests\u003d\"false\" /\u003e"
        },
        {
          "file_name": "app/src/main/java/com/lgallardo/qbittorrentclient/TorrentDetailsFragment.java",
          "patch": "@@ -153,16 +153,14 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa\n             mRecyclerView.setLayoutManager(mLayoutManager);                 // Setting the layout Manager\n             mRecyclerViewTrackers.setLayoutManager(mLayoutManagerTrackers);                 // Setting the layout Manager\n             mRecyclerViewGeneralInfo.setLayoutManager(mLayoutManagerGeneralInfo);                 // Setting the layout Manager\n+\n+            // This is needed to set the ContextMenu\n+            registerForContextMenu(mRecyclerView);\n+\n         } catch (Exception e) {\n             Log.e(\"Debug\", e.toString());\n         }\n \n-        // TODO: Check if this can be removed\n-        registerForContextMenu(mRecyclerView);\n-//        registerForContextMenu(mRecyclerViewTrackers);\n-//        registerForContextMenu(mRecyclerViewGeneralInfo);\n-\n-\n         // Get Refresh Listener\n         refreshListener \u003d (RefreshListener) getActivity();\n         mSwipeRefreshLayout \u003d (SwipeRefreshLayout) rootView.findViewById(R.id.details_refresh_layout);"
        }
      ]
    }
  },
  {
    "name": "Падение при редактировании атрибутов",
    "url": "https://github.com/nextgis/android_gisapp/issues/471",
    "description": "```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.lang.String.equals(java.lang.Object)\u0027 on a null object reference\n    at com.nextgis.maplibui.activity.ModifyAttributesActivity.hasEdits(ModifyAttributesActivity.java:504)\n    at com.nextgis.maplibui.activity.ModifyAttributesActivity.onOptionsItemSelected(ModifyAttributesActivity.java:458)\n    at android.app.Activity.onMenuItemSelected(Activity.java:2885)\n    at android.support.v4.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:421)\n    at android.support.v7.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:188)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:103)\n    at android.support.v7.widget.ToolbarWidgetWrapper$1.onClick(ToolbarWidgetWrapper.java:185)\n    at android.view.View.performClick(View.java:4856)\n    at android.view.View$PerformClick.run(View.java:19956)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:211)\n    at android.app.ActivityThread.main(ActivityThread.java:5389)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1020)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:815)\n```\n",
    "keywords": [
      "com",
      "app",
      "v7",
      "handler",
      "os",
      "activity",
      "method",
      "android",
      "modifyattributesactivity",
      "invoke",
      "java lang",
      "view",
      "windowcallbackwrapper",
      "java",
      "onmenuitemselected",
      "lang",
      "support",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/1422e7ed6dbf266c7eb4319db7ea332aeebc7eb6",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/fragment/AttributesFragment.java",
          "patch": "@@ -316,6 +316,9 @@ private void setAttributes()\n                         break;\n                 }\n \n+                if (field !\u003d null \u0026\u0026 column.equals(Constants.FIELD_ID))\n+                    field.setAlias(getString(R.string.id));\n+\n                 data +\u003d getRow(field !\u003d null ? field.getAlias() : \"\", text);\n             }\n "
        },
        {
          "file_name": "maplib",
          "patch": "@@ -1 +1 @@\n-Subproject commit 3bc5d1aea6341266c39af91315ed742a2f4fec40\n+Subproject commit 8c6a2ac24adbc5f5ff401aaa303627d1e531b453"
        },
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 8e7ba4d068d27ec37a0ac4605c40143ca102301b\n+Subproject commit c014e9fd4e222195edfa487d5ff2b1ac2247c501"
        }
      ]
    }
  },
  {
    "name": "IndexOutOfBoundsException caused by BlockQuotesController",
    "url": "https://github.com/yydcdut/RxMarkdown/issues/19",
    "description": "I\u0027m getting a reproducable IndexOutOfBoundsException caused by BlockQuotesController. Way to reproduce:\r\n\r\nType `Test` into a `RxMDEditText`. Then press 4 times backspace in order to remove all characters. On removing the third character, the following exception is thrown:\r\n```\r\njava.lang.IndexOutOfBoundsException: getChars (1 ... 2) ends beyond length 1\r\n    at android.text.SpannableStringBuilder.checkRange(SpannableStringBuilder.java:1090)\r\n    at android.text.SpannableStringBuilder.getChars(SpannableStringBuilder.java:972)\r\n    at android.text.TextUtils.getChars(TextUtils.java:87)\r\n    at android.text.SpannableStringBuilder.\u003cinit\u003e(SpannableStringBuilder.java:65)\r\n    at android.text.SpannableStringBuilder.subSequence(SpannableStringBuilder.java:964)\r\n    at com.yydcdut.rxmarkdown.edit.BlockQuotesController.onTextChanged(BlockQuotesController.java:74)\r\n    at com.yydcdut.rxmarkdown.RxMDEditText.onTextChanged4Controller(RxMDEditText.java:265)\r\n    at com.yydcdut.rxmarkdown.RxMDEditText.access$800(RxMDEditText.java:54)\r\n    at com.yydcdut.rxmarkdown.RxMDEditText$1.onTextChanged(RxMDEditText.java:186)\r\n    at android.widget.TextView.sendOnTextChanged(TextView.java:7991)\r\n    at android.widget.TextView.handleTextChanged(TextView.java:8053)\r\n    at android.widget.TextView$ChangeWatcher.onTextChanged(TextView.java:10157)\r\n    at android.text.SpannableStringBuilder.sendTextChanged(SpannableStringBuilder.java:1033)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:559)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:492)\r\n    at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:491)\r\n    at android.view.inputmethod.BaseInputConnection.replaceText(BaseInputConnection.java:685)\r\n    at android.view.inputmethod.BaseInputConnection.setComposingText(BaseInputConnection.java:445)\r\n    at com.android.internal.view.IInputConnectionWrapper.executeMessage(IInputConnectionWrapper.java:340)\r\n    at com.android.internal.view.IInputConnectionWrapper$MyHandler.handleMessage(IInputConnectionWrapper.java:78)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:148)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "com",
      "internal",
      "blockquotescontroller",
      "getchars",
      "widget",
      "os",
      "android",
      "replace",
      "text spannablestringbuilder",
      "rxmdedittext",
      "ontextchanged",
      "textview",
      "view",
      "android text",
      "rxmarkdown",
      "iinputconnectionwrapper",
      "baseinputconnection",
      "yydcdut",
      "indexoutofboundsexception",
      "text",
      "spannablestringbuilder",
      "yydcdut rxmarkdown",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/yydcdut/RxMarkdown/commit/7787f2b34fef38d14233a1edf6e1739fa299e08c",
      "files": [
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/BlockQuotesController.java",
          "patch": "@@ -69,9 +69,9 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n         String addString;\n         String beforeString \u003d null;\n         String afterString \u003d null;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n-        if (start + (after - before) + 1 \u003c\u003d s.length()) {\n-            afterString \u003d s.subSequence(start + Math.abs(before - after), start + Math.abs(before - after) + 1).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n+        if (start + 1 \u003c\u003d s.length()) {\n+            afterString \u003d s.subSequence(start, start + 1).toString();\n         }\n         if (start \u003e 0) {\n             beforeString \u003d s.subSequence(start - 1, start).toString();"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/CenterAlignController.java",
          "patch": "@@ -59,7 +59,7 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n             return;\n         }\n         String addString;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n         if (addString.contains(KEY0) || addString.contains(KEY1)) {\n             format((Editable) s, start);\n         }"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/CodeController.java",
          "patch": "@@ -69,9 +69,9 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n         String addString;\n         String beforeString \u003d null;\n         String afterString \u003d null;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n-        if (start + (after - before) + 1 \u003c\u003d s.length()) {\n-            afterString \u003d s.subSequence(start + Math.abs(before - after), start + Math.abs(before - after) + 1).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n+        if (start + 1 \u003c\u003d s.length()) {\n+            afterString \u003d s.subSequence(start, start + 1).toString();\n         }\n         if (start \u003e 0) {\n             beforeString \u003d s.subSequence(start - 1, start).toString();"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/HeaderController.java",
          "patch": "@@ -69,9 +69,9 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n         String addString;\n         String beforeString \u003d null;\n         String afterString \u003d null;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n-        if (start + (after - before) + 1 \u003c\u003d s.length()) {\n-            afterString \u003d s.subSequence(start + Math.abs(before - after), start + Math.abs(before - after) + 1).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n+        if (start + 1 \u003c\u003d s.length()) {\n+            afterString \u003d s.subSequence(start, start + 1).toString();\n         }\n         if (start \u003e 0) {\n             beforeString \u003d s.subSequence(start - 1, start).toString();"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/HorizontalRulesController.java",
          "patch": "@@ -90,9 +90,9 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n         String addString;\n         String beforeString \u003d null;\n         String afterString \u003d null;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n-        if (start + (after - before) + 1 \u003c\u003d s.length()) {\n-            afterString \u003d s.subSequence(start + Math.abs(before - after), start + Math.abs(before - after) + 1).toString();\n+        addString \u003d s.subSequence(start, after).toString();\n+        if (start + 1 \u003c\u003d s.length()) {\n+            afterString \u003d s.subSequence(start, start + 1).toString();\n         }\n         if (start \u003e 0) {\n             beforeString \u003d s.subSequence(start - 1, start).toString();"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/InlineCodeController.java",
          "patch": "@@ -58,7 +58,7 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n             return;\n         }\n         String addString;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n         if (addString.contains(KEY)) {\n             format((Editable) s, start);\n         }"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/StrikeThroughController.java",
          "patch": "@@ -69,9 +69,9 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n         String addString;\n         String beforeString \u003d null;\n         String afterString \u003d null;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n-        if (start + (after - before) + 1 \u003c\u003d s.length()) {\n-            afterString \u003d s.subSequence(start + Math.abs(before - after), start + Math.abs(before - after) + 1).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n+        if (start + 1 \u003c\u003d s.length()) {\n+            afterString \u003d s.subSequence(start, start + 1).toString();\n         }\n         if (start \u003e 0) {\n             beforeString \u003d s.subSequence(start - 1, start).toString();"
        },
        {
          "file_name": "rxmarkdown/src/main/java/com/yydcdut/rxmarkdown/edit/StyleController.java",
          "patch": "@@ -72,9 +72,9 @@ public void onTextChanged(CharSequence s, int start, int before, int after) {\n         String addString;\n         String beforeString \u003d null;\n         String afterString \u003d null;\n-        addString \u003d s.subSequence(start, start + Math.abs(after - before)).toString();\n-        if (start + (after - before) + 1 \u003c\u003d s.length()) {\n-            afterString \u003d s.subSequence(start + Math.abs(before - after), start + Math.abs(before - after) + 1).toString();\n+        addString \u003d s.subSequence(start, start + after).toString();\n+        if (start + 1 \u003c\u003d s.length()) {\n+            afterString \u003d s.subSequence(start, start + 1).toString();\n         }\n         if (start \u003e 0) {\n             beforeString \u003d s.subSequence(start - 1, start).toString();"
        }
      ]
    }
  },
  {
    "name": "Crash on start",
    "url": "https://github.com/nextgis/android_gisapp/issues/491",
    "description": "```\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.nextgis.mobile/com.nextgis.mobile.activity.MainActivity}: java.lang.NullPointerException\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2195)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n    at android.app.ActivityThread.access$800(ActivityThread.java:135)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:136)\n    at android.app.ActivityThread.main(ActivityThread.java:5021)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\n    at dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.NullPointerException\n    at com.nextgis.mobile.fragment.AttributesFragment.onCreateView(AttributesFragment.java:123)\n    at android.support.v4.app.Fragment.performCreateView(Fragment.java:2074)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1104)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1286)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1268)\n    at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2143)\n    at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\n    at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:615)\n    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1174)\n    at android.app.Activity.performStart(Activity.java:5329)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2168)\n    ... 11 more\n```\n",
    "keywords": [
      "com",
      "app",
      "os",
      "movetostate",
      "activity",
      "method",
      "nextgis",
      "app activitythread",
      "android",
      "android support",
      "support v4",
      "main",
      "java lang",
      "activitythread",
      "fragment",
      "java",
      "v4 app",
      "android app",
      "fragmentmanager",
      "lang",
      "support",
      "fragmentmanagerimpl",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/d140f6017ff4b91b2213adb53dcfebc00324af97",
      "files": [
        {
          "file_name": "app/src/main/java/com/nextgis/mobile/fragment/AttributesFragment.java",
          "patch": "@@ -45,6 +45,7 @@\n import android.webkit.WebViewClient;\n import android.widget.FrameLayout;\n import android.widget.LinearLayout;\n+import android.widget.Toast;\n \n import com.keenfin.easypicker.PhotoPicker;\n import com.nextgis.maplib.api.IGISApplication;\n@@ -117,8 +118,11 @@ public View onCreateView(\n             ViewGroup container,\n             Bundle savedInstanceState)\n     {\n-        if (mLayer \u003d\u003d null)\n+        if (mLayer \u003d\u003d null) {\n             getActivity().getSupportFragmentManager().popBackStack();\n+            Toast.makeText(getContext(), R.string.error_layer_not_inited, Toast.LENGTH_SHORT).show();\n+            return null;\n+        }\n \n         getActivity().setTitle(mLayer.getName());\n         setHasOptionsMenu(!isTablet());"
        }
      ]
    }
  },
  {
    "name": "handle null resultsJSON from NewsReceiver",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/350",
    "description": "https://fabric.io/inaturalist/android/apps/org.inaturalist.android/issues/591151a4be077a4dcc79fbba?time\u003dlast-seven-days\r\n```\r\nFatal Exception: java.lang.RuntimeException: Error receiving broadcast Intent { act\u003dupdates_results flg\u003d0x10 (has extras) } in org.inaturalist.android.ObservationListActivity$NewsReceiver@4212f568\r\n       at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:769)\r\n       at android.os.Handler.handleCallback(Handler.java:733)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5590)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\nCaused by java.lang.NullPointerException\r\n       at org.inaturalist.android.ObservationListActivity$NewsReceiver.onReceive(ObservationListActivity.java:1435)\r\n       at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:759)\r\n       at android.os.Handler.handleCallback(Handler.java:733)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:136)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5590)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```\r\n\r\nI believe this is what Alison was reporting at https://groups.google.com/d/topic/inaturalist/cA1TIXXfZ_I/discussion: she said the app was repeatedly crashing while offline. Is it possible to ask INaturalistService for news, go offline, the service task runs, gets no results b/c it\u0027s offline, then broadcasts an intent with null instead of some valid JSON?\r\n",
    "keywords": [
      "com",
      "app",
      "handler",
      "internal",
      "android os",
      "os",
      "method",
      "android",
      "main",
      "run",
      "looper",
      "java lang",
      "offline",
      "activitythread",
      "nativestart",
      "reflect",
      "java",
      "inaturalist",
      "lang",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/0b9324bdda7b802c187235696b0bebbbdb9ff1d4",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationListActivity.java",
          "patch": "@@ -1432,6 +1432,10 @@ public void onReceive(Context context, Intent intent) {\n                 resultsJSON \u003d (SerializableJSONArray) intent.getSerializableExtra(INaturalistService.RESULTS);\n             }\n \n+            if (resultsJSON \u003d\u003d null) {\n+                return;\n+            }\n+\n             JSONArray results \u003d resultsJSON.getJSONArray();\n             ArrayList\u003cJSONObject\u003e resultsArray \u003d new ArrayList\u003cJSONObject\u003e();\n "
        }
      ]
    }
  },
  {
    "name": "Crash: Unable to create application com.myapp.MyApplication: java.lang.IllegalStateException: the DownloadMgrInitialParams is only can be touched in the process which the download service settles on",
    "url": "https://github.com/lingochamp/FileDownloader/issues/420",
    "description": "Hey there,\r\n\r\nI\u0027m experiencing a crash with following stack trace:\r\n\r\n```\r\nFatal Exception: java.lang.RuntimeException: Unable to create application com.myapp.MyApplication: java.lang.IllegalStateException: the DownloadMgrInitialParams is only can be touched in the process which the download service settles on\r\n       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4293)\r\n       at android.app.ActivityThread.access$1400(ActivityThread.java:143)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1301)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loop(Looper.java:137)\r\n       at android.app.ActivityThread.main(ActivityThread.java:4960)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:511)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\nCaused by java.lang.IllegalStateException: the DownloadMgrInitialParams is only can be touched in the process which the download service settles on\r\n       at com.liulishuo.filedownloader.util.FileDownloadHelper.initializeDownloadMgrParams(FileDownloadHelper.java:58)\r\n       at com.liulishuo.filedownloader.FileDownloader.init(FileDownloader.java:101)\r\n       at com.liulishuo.filedownloader.FileDownloader.init(FileDownloader.java:68)\r\n       at br.com.hotmart.hifire.HiFireApplication.setupFileDownloader(HiFireApplication.java:74)\r\n       at br.com.hotmart.hifire.HiFireApplication.onCreate(HiFireApplication.java:46)\r\n       at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1014)\r\n       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4290)\r\n       at android.app.ActivityThread.access$1400(ActivityThread.java:143)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1301)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loop(Looper.java:137)\r\n       at android.app.ActivityThread.main(ActivityThread.java:4960)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:511)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1038)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:805)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n```\r\n\r\nHere is the main code from my Application class:\r\n\r\n```\r\npublic class MyApplication extends MultiDexApplication implements Application.ActivityLifecycleCallbacks {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        // some code before....\r\n        setupFileDownloader();\r\n        // some code after...\r\n    }\r\n\r\n    private void setupFileDownloader() {\r\n        FileDownloadHelper.OkHttpClientCustomMaker okHttp \u003d\r\n                new FileDownloadHelper.OkHttpClientCustomMaker() { // is not has to provide.\r\n                    @Override\r\n                    public OkHttpClient customMake() {\r\n                        final OkHttpClient.Builder builder \u003d new OkHttpClient.Builder();\r\n                        builder.authenticator(new AppAuthenticator(getApplicationContext()));\r\n                        return builder.build();\r\n                    }\r\n                };\r\n        /*\r\n         * Just for cache Application\u0027s Context, and \u0027:filedownloader\u0027 progress will NOT be launched\r\n         * by below code, so please do not worry about performance.\r\n         */\r\n        FileDownloader.init(getApplicationContext(), okHttp);\r\n    }\r\n}\r\n```\r\n\r\nI get this crash reported from Crashlytics, in production. It occurs with a very low frequency, and I can\u0027t reproduce the wrong behavior in development environment. So, I would like some help about what is the expected behavior of the Library in my Application, and what could went wrong.",
    "keywords": [
      "myapplication",
      "com",
      "handler",
      "internal",
      "touched",
      "code",
      "android",
      "main",
      "looper",
      "lang reflect",
      "illegalstateexception",
      "crash",
      "can",
      "nativestart",
      "download",
      "not",
      "reflect",
      "java",
      "public",
      "settles",
      "builder",
      "lang",
      "zygoteinit",
      "app",
      "init",
      "new",
      "filedownloader",
      "setupfiledownloader",
      "process",
      "method",
      "os",
      "okhttpclient",
      "filedownloadhelper",
      "oncreate",
      "activitythread",
      "hifireapplication",
      "application",
      "service",
      "liulishuo",
      "android app",
      ";",
      "downloadmgrinitialparams"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/lingochamp/FileDownloader/commit/3e244d07cd6f75fe2fb006b7495c08fcd22c6a27",
      "files": [
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/FileDownloadServiceProxy.java",
          "patch": "@@ -19,6 +19,7 @@\n import android.content.Context;\n \n import com.liulishuo.filedownloader.model.FileDownloadHeader;\n+import com.liulishuo.filedownloader.services.DownloadMgrInitialParams;\n import com.liulishuo.filedownloader.services.FDServiceSharedHandler;\n import com.liulishuo.filedownloader.util.FileDownloadProperties;\n \n@@ -33,6 +34,8 @@\n  * separate `:filedownloader` process.\n  */\n public class FileDownloadServiceProxy implements IFileDownloadServiceProxy {\n+    private DownloadMgrInitialParams.InitCustomMaker mInitCustomMaker;\n+\n     private final static class HolderClass {\n         private final static FileDownloadServiceProxy INSTANCE \u003d new FileDownloadServiceProxy();\n     }\n@@ -56,6 +59,14 @@ private FileDownloadServiceProxy() {\n                 new FileDownloadServiceUIGuard();\n     }\n \n+    void setInitCustomMaker(DownloadMgrInitialParams.InitCustomMaker initCustomMaker) {\n+        mInitCustomMaker \u003d initCustomMaker;\n+    }\n+\n+    public DownloadMgrInitialParams getDownloadMgrInitialParams() {\n+        return new DownloadMgrInitialParams(mInitCustomMaker);\n+    }\n+\n     @Override\n     public boolean start(String url, String path, boolean pathAsDirectory, int callbackProgressTimes,\n                          int callbackProgressMinIntervalMillis,"
        },
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/FileDownloader.java",
          "patch": "@@ -47,9 +47,6 @@\n \n     /**\n      * Initialize the FileDownloader.\n-     * \u003cp\u003e\n-     * \u003cstrong\u003eNote:\u003c/strong\u003e this method consumes 4~28ms in nexus 5. the most cost used for\n-     * loading classes.\n      *\n      * @see #init(Context, DownloadMgrInitialParams.InitCustomMaker)\n      */\n@@ -58,25 +55,20 @@ public static void init(final Context context) {\n     }\n \n \n-\n     /**\n      * * Initialize the FileDownloader.\n      * \u003cp\u003e\n-     * \u003cstrong\u003eNote:\u003c/strong\u003e this method consumes 4~28ms in nexus 5. the most cost used for\n-     * loading classes.\n+     * \u003cstrong\u003eNote:\u003c/strong\u003e This method just hold {@code context} and {@code maker}, so it is very\n+     * light(it is maybe need to spend 5ms for load some relate classes).\n      * \u003cp\u003e\n-     * This method cache {@code context} in Main-Process and FileDownloader-Process, and if the\n-     * {@code okHttpClientCustomMaker} is provided, FileDownloader will initialize the okHttpClient\n-     * in the FileDownloadService settled downed process.\n-     * \u003cp/\u003e\n-     * \u003cstrong\u003eTips:\u003c/strong\u003e As default, you need invoke this method in {@link Application#onCreate()}\n-     * to make sure the {@code context} can be hold in both Main-Process and FileDownloader-Process.\n-     * But if you set the downloader service running in the main process, you can invoke this method\n-     * when you need use FileDownloader. Ref {@link FileDownloadProperties} to set the downloader\n-     * service running in the main process.\n+     * You need to invoke this method in {@link Application#onCreate()}, since the FileDownloadService\n+     * is running with the {@link android.app.Service#START_STICKY}, so it is just if you invoke this\n+     * this method in {@link Application#onCreate()}, FileDownloader can make sure the {@code maker}\n+     * can be assigned corrected each time when FileDownloadService is launching.\n      *\n      * @param context The context.\n      * @param maker   Used to customize the download service, this value can be {@code null}.\n+     * @see #init(Context)\n      */\n     public static void init(final Context context,\n                             /**Nullable **/final DownloadMgrInitialParams.InitCustomMaker maker) {\n@@ -86,16 +78,7 @@ public static void init(final Context context,\n \n         FileDownloadHelper.holdContext(context);\n \n-        if (FileDownloadUtils.isDownloaderProcess(context)) {\n-            FileDownloadHelper.initializeDownloadMgrParams(maker);\n-\n-            try {\n-                FileDownloadUtils.setMinProgressStep(FileDownloadProperties.getImpl().DOWNLOAD_MIN_PROGRESS_STEP);\n-                FileDownloadUtils.setMinProgressTime(FileDownloadProperties.getImpl().DOWNLOAD_MIN_PROGRESS_TIME);\n-            } catch (IllegalAccessException e) {\n-                e.printStackTrace();\n-            }\n-        }\n+        FileDownloadServiceProxy.getImpl().setInitCustomMaker(maker);\n     }\n \n "
        },
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/services/FDServiceSeparateHandler.java",
          "patch": "@@ -56,9 +56,9 @@ private synchronized int callback(MessageSnapshot snapShot) {\n         return n;\n     }\n \n-    FDServiceSeparateHandler(WeakReference\u003cFileDownloadService\u003e wService) {\n+    FDServiceSeparateHandler(WeakReference\u003cFileDownloadService\u003e wService, FileDownloadMgr manager) {\n         this.wService \u003d wService;\n-        this.downloadManager \u003d new FileDownloadMgr();\n+        this.downloadManager \u003d manager;\n \n         MessageSnapshotFlow.getImpl().setReceiver(this);\n     }"
        },
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/services/FDServiceSharedHandler.java",
          "patch": "@@ -34,9 +34,9 @@\n     private final FileDownloadMgr downloadManager;\n     private final WeakReference\u003cFileDownloadService\u003e wService;\n \n-    FDServiceSharedHandler(WeakReference\u003cFileDownloadService\u003e wService) {\n+    FDServiceSharedHandler(WeakReference\u003cFileDownloadService\u003e wService, FileDownloadMgr manager) {\n         this.wService \u003d wService;\n-        this.downloadManager \u003d new FileDownloadMgr();\n+        this.downloadManager \u003d manager;\n     }\n \n     @Override"
        },
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/services/FileDownloadMgr.java",
          "patch": "@@ -43,10 +43,7 @@\n     private final FileDownloadHelper.OutputStreamCreator mOutputStreamCreator;\n     private final FileDownloadHelper.ConnectionCreator mConnectionCreator;\n \n-    public FileDownloadMgr() {\n-\n-        final DownloadMgrInitialParams params \u003d FileDownloadHelper.getDownloadMgrInitialParams();\n-\n+    public FileDownloadMgr(final DownloadMgrInitialParams params) {\n         this.mDatabase \u003d params.createDatabase();\n         this.mThreadPool \u003d new FileDownloadThreadPool(params.getMaxNetworkThreadCount());\n         this.mOutputStreamCreator \u003d params.createOutputStreamCreator();"
        },
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/services/FileDownloadService.java",
          "patch": "@@ -21,7 +21,9 @@\n import android.content.Intent;\n import android.os.IBinder;\n \n+import com.liulishuo.filedownloader.FileDownloadServiceProxy;\n import com.liulishuo.filedownloader.util.FileDownloadProperties;\n+import com.liulishuo.filedownloader.util.FileDownloadUtils;\n \n import java.lang.ref.WeakReference;\n \n@@ -40,10 +42,23 @@\n     @Override\n     public void onCreate() {\n         super.onCreate();\n+\n+        try {\n+            FileDownloadUtils.setMinProgressStep(FileDownloadProperties.getImpl().DOWNLOAD_MIN_PROGRESS_STEP);\n+            FileDownloadUtils.setMinProgressTime(FileDownloadProperties.getImpl().DOWNLOAD_MIN_PROGRESS_TIME);\n+        } catch (IllegalAccessException e) {\n+            e.printStackTrace();\n+        }\n+\n+        final DownloadMgrInitialParams initialParams \u003d\n+                FileDownloadServiceProxy.getImpl().getDownloadMgrInitialParams();\n+\n+        final FileDownloadMgr manager \u003d new FileDownloadMgr(initialParams);\n+\n         if (FileDownloadProperties.getImpl().PROCESS_NON_SEPARATE) {\n-            handler \u003d new FDServiceSharedHandler(new WeakReference\u003c\u003e(this));\n+            handler \u003d new FDServiceSharedHandler(new WeakReference\u003c\u003e(this), manager);\n         } else {\n-            handler \u003d new FDServiceSeparateHandler(new WeakReference\u003c\u003e(this));\n+            handler \u003d new FDServiceSeparateHandler(new WeakReference\u003c\u003e(this), manager);\n         }\n     }\n "
        },
        {
          "file_name": "library/src/main/java/com/liulishuo/filedownloader/util/FileDownloadHelper.java",
          "patch": "@@ -24,7 +24,6 @@\n import com.liulishuo.filedownloader.message.MessageSnapshotFlow;\n import com.liulishuo.filedownloader.message.MessageSnapshotTaker;\n import com.liulishuo.filedownloader.model.FileDownloadModel;\n-import com.liulishuo.filedownloader.services.DownloadMgrInitialParams;\n import com.liulishuo.filedownloader.services.FileDownloadDatabase;\n import com.liulishuo.filedownloader.stream.FileDownloadBufferedOutputStream;\n import com.liulishuo.filedownloader.stream.FileDownloadOutputStream;\n@@ -42,7 +41,6 @@\n \n     @SuppressLint(\"StaticFieldLeak\")\n     private static Context APP_CONTEXT;\n-    private static DownloadMgrInitialParams DOWNLOAD_MANAGER_INITIAL_PARAMS;\n \n     public static void holdContext(final Context context) {\n         APP_CONTEXT \u003d context;\n@@ -52,21 +50,6 @@ public static Context getAppContext() {\n         return APP_CONTEXT;\n     }\n \n-    public static void initializeDownloadMgrParams(DownloadMgrInitialParams.InitCustomMaker customMaker) {\n-        if (!FileDownloadUtils.isDownloaderProcess(FileDownloadHelper.getAppContext())) {\n-            throw new IllegalStateException(\n-                    FileDownloadUtils.formatString(\"the DownloadMgrInitialParams is only \" +\n-                            \"can be touched in the process which the download service settles on\"));\n-        }\n-\n-        DOWNLOAD_MANAGER_INITIAL_PARAMS \u003d new DownloadMgrInitialParams(customMaker);\n-    }\n-\n-    public static DownloadMgrInitialParams getDownloadMgrInitialParams() {\n-        return DOWNLOAD_MANAGER_INITIAL_PARAMS \u003d\u003d null ?\n-                new DownloadMgrInitialParams(null) : DOWNLOAD_MANAGER_INITIAL_PARAMS;\n-    }\n-\n     public interface DatabaseCustomMaker {\n         /**\n          * The database is used for storing the {@link FileDownloadModel}."
        }
      ]
    }
  },
  {
    "name": "NPE on keys importing",
    "url": "https://github.com/kontalk/androidclient/issues/790",
    "description": "NPE happens every time I try to import keys from the welcome screen. I\u0027m on aa7cf877807700584623eb7adb44109834c99e12, Android 6.0.1.\n#### How reproducible\n\n5/5\n#### Steps to reproduce\n1. In Kontalk 3.1.10 (F-Droid build) export `kontalk-keys.zip`.\n2. Start Kontalk built from `master`.\n3. In the welcome screen enter your nick and phone number.\n4. Choose Import keys from the toolbar menu.\n5. Navigate to `kontalk-keys.zip` and tap it.\n6. Enter the password.\n#### Actual result\n\nKeys importing fails with\n\n```\nE NumberValidation: error importing keys\nE NumberValidation: java.lang.NullPointerException: Attempt to invoke virtual method \u0027byte[] java.lang.String.getBytes()\u0027 on a null object reference\nE NumberValidation:     at org.kontalk.util.MessageUtils.sha1(MessageUtils.java:206)\nE NumberValidation:     at org.kontalk.ui.NumberValidation.startImport(NumberValidation.java:763)\nE NumberValidation:     at org.kontalk.ui.NumberValidation.access$400(NumberValidation.java:113)\nE NumberValidation:     at org.kontalk.ui.NumberValidation$6.onInput(NumberValidation.java:673)\nE NumberValidation:     at com.afollestad.materialdialogs.MaterialDialog.onClick(MaterialDialog.java:370)\nE NumberValidation:     at android.view.View.performClick(View.java:5204)\nE NumberValidation:     at android.view.View$PerformClick.run(View.java:21153)\nE NumberValidation:     at android.os.Handler.handleCallback(Handler.java:739)\nE NumberValidation:     at android.os.Handler.dispatchMessage(Handler.java:95)\nE NumberValidation:     at android.os.Looper.loop(Looper.java:148)\nE NumberValidation:     at android.app.ActivityThread.main(ActivityThread.java:5417)\nE NumberValidation:     at java.lang.reflect.Method.invoke(Native Method)\nE NumberValidation:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nE NumberValidation:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n```\n#### Expected result\n\nNew Kontalk version should support old `kontalk-keys.zip` format. Otherwise users won\u0027t be able to restore their keys from a backup made with earlier versions.\n",
    "keywords": [
      "com",
      "handler",
      "numbervalidation",
      "method",
      "os",
      "kontalk ui",
      "org",
      "e",
      "zip`",
      "keys",
      "android",
      "importing",
      "####",
      "1",
      "view",
      "java",
      "ui",
      "e numbervalidation",
      "`kontalk-keys",
      "lang",
      "kontalk",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/1f67e38fd5812e05ecf3d100f55b75634ccbb2b9",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/NumberValidation.java",
          "patch": "@@ -530,13 +530,17 @@ private boolean checkInput(boolean importing) {\n                 error(R.string.msg_no_name);\n                 return false;\n             }\n+        }\n \n+        String phoneInput \u003d mPhone.getText().toString();\n+        // if the user entered a phone number use it even when importing for backward compatibility\n+        if (!importing || !phoneInput.isEmpty()){\n             PhoneNumberUtil util \u003d PhoneNumberUtil.getInstance();\n             CountryCode cc \u003d (CountryCode) mCountryCode.getSelectedItem();\n             if (!BuildConfig.DEBUG) {\n                 PhoneNumber phone;\n                 try {\n-                    phone \u003d util.parse(mPhone.getText().toString(), cc.regionCode);\n+                    phone \u003d util.parse(phoneInput, cc.regionCode);\n                     // autoselect correct country if user entered country code too\n                     if (phone.hasCountryCode()) {\n                         CountryCode ccLookup \u003d new CountryCode();\n@@ -758,6 +762,11 @@ private void startImport(ZipInputStream zip, String passphrase) {\n                 }\n             }\n \n+            if (mPhoneNumber \u003d\u003d null) {\n+                Toast.makeText(this, R.string.warn_invalid_number, Toast.LENGTH_SHORT).show();\n+                return;\n+            }\n+\n             // check that uid matches phone number\n             String email \u003d uid.getEmail();\n             String numberHash \u003d MessageUtils.sha1(mPhoneNumber);"
        }
      ]
    }
  },
  {
    "name": "Glide 4.0.0-RC0: problems with recyclerview-integration",
    "url": "https://github.com/bumptech/glide/issues/1972",
    "description": "**Glide Version**: 4.0.0-RC0\r\n**Integration libraries**: okhttp3-integration, recyclerview-integration\r\n\r\n**Issue details / Repro steps / Use case background**: \r\n\r\nMy app defines 6398 classes with 41887 methods and references 50126 methods. I don\u0027t use multidex.\r\n\r\nWhen I add \r\n```\r\nimplementation \"com.github.bumptech.glide:recyclerview-integration:4.0.0-RC0\"\r\n```\r\nto my `build.gradle` I get this error:\r\n```ruby\r\nInformation:Gradle tasks [:app:assembleDebug]\r\n/Users/dasralph/development/androidstudio/nanodegree/PopularMovies/app/src/main/java/udacity/nanodegree/popularmovies/utils/DataBindingAdapters.java\r\nWarning:(97, 57) [deprecation] BitmapDrawable(Bitmap) in BitmapDrawable has been deprecated\r\nError:Error converting bytecode to dex:\r\nCause: com.android.dex.DexException: Multiple dex files define Landroid/support/v7/recyclerview/R$attr;\r\nError:com.android.dex.DexException: Multiple dex files define Landroid/support/v7/recyclerview/R$attr;\r\nError:\tat com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:608)\r\nError:\tat com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:563)\r\nError:\tat com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:545)\r\nError:\tat com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:167)\r\nError:\tat com.android.dx.merge.DexMerger.merge(DexMerger.java:194)\r\nError:\tat com.android.builder.dexing.DexArchiveMergerCallable.mergeDexes(DexArchiveMergerCallable.java:66)\r\nError:\tat com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:54)\r\nError:\tat com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:37)\r\nError:\tat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\r\nError:\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\nError:\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\nError:\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\nError:\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nError:Execution failed for task \u0027:app:transformDexArchiveWithDexMergerForDebug\u0027.\r\n\u003e com.android.build.api.transform.TransformException: com.android.dex.DexException: Multiple dex files define Landroid/support/v7/recyclerview/R$attr;\r\nInformation:BUILD FAILED in 6s\r\nInformation:16 errors\r\nInformation:1 warning\r\nInformation:See complete output in console\r\n```\r\nTo fix this I enable `multidex`. Now I have 6151 classes with 40977 methods and 49132 methods referenced.\r\n\r\nNow the app compiles but when I run it I get this error:\r\n\r\n**Stack trace / LogCat**:\r\n```ruby\r\nFATAL EXCEPTION: main\r\nProcess: udacity.nanodegree.popularmovies.debug, PID: 18876\r\nTheme: themes:{default\u003doverlay:com.cyngn.hexo, iconPack:system, fontPkg:com.cyngn.hexo, com.android.systemui\u003doverlay:com.cyngn.hexo, com.android.systemui.navbar\u003doverlay:com.cyngn.hexo}\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{udacity.nanodegree.popularmovies.debug/udacity.nanodegree.popularmovies.ui.MainActivity}: android.view.InflateException: Binary XML file line #16: Binary XML file line #16: Error inflating class android.support.v7.widget.RecyclerView\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2450)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2510)\r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:148)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n Caused by: android.view.InflateException: Binary XML file line #16: Binary XML file line #16: Error inflating class android.support.v7.widget.RecyclerView\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:292)\r\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\r\n    at udacity.nanodegree.popularmovies.ui.MainActivity.onCreate(MainActivity.java:101)\r\n    at android.app.Activity.performCreate(Activity.java:6251)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2510) \r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363) \r\n    at android.os.Handler.dispatchMessage(Handler.java:102) \r\n    at android.os.Looper.loop(Looper.java:148) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5461) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n Caused by: android.view.InflateException: Binary XML file line #16: Error inflating class android.support.v7.widget.RecyclerView\r\n    at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)\r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:838)\r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \r\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:292) \r\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140) \r\n    at udacity.nanodegree.popularmovies.ui.MainActivity.onCreate(MainActivity.java:101) \r\n    at android.app.Activity.performCreate(Activity.java:6251) \r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108) \r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403) \r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2510) \r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363) \r\n    at android.os.Handler.dispatchMessage(Handler.java:102) \r\n    at android.os.Looper.loop(Looper.java:148) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5461) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n Caused by: java.lang.reflect.InvocationTargetException\r\n    at java.lang.reflect.Constructor.newInstance(Native Method)\r\n    at android.view.LayoutInflater.createView(LayoutInflater.java:619)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764) \r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704) \r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:835) \r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:838) \r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \r\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:292) \r\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140) \r\n    at udacity.nanodegree.popularmovies.ui.MainActivity.onCreate(MainActivity.java:101) \r\n    at android.app.Activity.performCreate(Activity.java:6251) \r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108) \r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403) \r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2510) \r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363) \r\n    at android.os.Handler.dispatchMessage(Handler.java:102) \r\n    at android.os.Looper.loop(Looper.java:148) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5461) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n Caused by: java.lang.IllegalStateException: Binary XML file line #16: Unable to find LayoutManager android.support.v7.widget.@2131296590\r\n    at android.support.v7.widget.RecyclerView.createLayoutManager(RecyclerView.java:670)\r\n    at android.support.v7.widget.RecyclerView.\u003cinit\u003e(RecyclerView.java:599)\r\n    at android.support.v7.widget.RecyclerView.\u003cinit\u003e(RecyclerView.java:551)\r\n    at java.lang.reflect.Constructor.newInstance(Native Method) \r\n    at android.view.LayoutInflater.createView(LayoutInflater.java:619) \r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764) \r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704) \r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:835) \r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:838) \r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \r\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:292) \r\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140) \r\n    at udacity.nanodegree.popularmovies.ui.MainActivity.onCreate(MainActivity.java:101) \r\n    at android.app.Activity.performCreate(Activity.java:6251) \r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108) \r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403) \r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2510) \r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363) \r\n    at android.os.Handler.dispatchMessage(Handler.java:102) \r\n    at android.os.Looper.loop(Looper.java:148) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5461) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n Caused by: java.lang.ClassNotFoundException: Didn\u0027t find class \"android.support.v7.widget.@2131296590\" on path: DexPathList[[zip file \"/data/app/udacity.nanodegree.popularmovies.debug-1/base.apk\"],nativeLibraryDirectories\u003d[/data/app/udacity.nanodegree.popularmovies.debug-1/lib/arm, /vendor/lib, /system/lib]]\r\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n    at android.support.v7.widget.RecyclerView.createLayoutManager(RecyclerView.java:651)\r\n    at android.support.v7.widget.RecyclerView.\u003cinit\u003e(RecyclerView.java:599) \r\n    at android.support.v7.widget.RecyclerView.\u003cinit\u003e(RecyclerView.java:551) \r\n    at java.lang.reflect.Constructor.newInstance(Native Method) \r\n    at android.view.LayoutInflater.createView(LayoutInflater.java:619) \r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764) \r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704) \r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:835) \r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:838) \r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \r\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:292) \r\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140) \r\n    at udacity.nanodegree.popularmovies.ui.MainActivity.onCreate(MainActivity.java:101) \r\n    at android.app.Activity.performCreate(Activity.java:6251) \r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108) \r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2403) \r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2510) \r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1363) \r\n    at android.os.Handler.dispatchMessage(Handler.java:102) \r\n    at android.os.Looper.loop(Looper.java:148) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5461) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n\tSuppressed: java.lang.ClassNotFoundException: Invalid name: android.support.v7.widget.@2131296590\r\n```\r\n\r\nI guess the important part is `ClassNotFoundException: Invalid name: android.support.v7.widget.@2131296590` but I have no idea how to fix it :-(",
    "keywords": [
      "handler",
      "java:292  ",
      "java:5461  ",
      "java:838",
      "appcompatdelegateimplv9",
      "java:835",
      "dexing",
      "classloader",
      "createview",
      "newinstance",
      "reflect",
      "java",
      "layoutinflater",
      "java:423  ",
      "binary xml",
      "xml",
      "dex",
      "merge",
      "file line",
      "reflect method",
      "app",
      "zygoteinit$methodandargscaller run",
      "android os",
      "activitythread java:1363",
      "java:726",
      "inflate layoutinflater",
      "landroid/support/v7/recyclerview/r$attr;",
      "\u003cinit\u003e",
      "activitythread handlelaunchactivity",
      "/",
      "0",
      "util",
      "cyngn",
      "java:292",
      "xml file",
      "dexexception",
      "activity",
      "java:798  ",
      "java:374  ",
      "concurrent",
      "android support",
      "java  ",
      "dexmerger",
      "java:140",
      "zygoteinit main",
      "builder",
      "java:148",
      "nanodegree popularmovies",
      "popularmovies",
      "zygoteinit",
      "main activitythread",
      "java:704",
      "java:5461",
      "java:1363  ",
      "appcompatactivity",
      "callactivityoncreate instrumentation",
      "ui mainactivity",
      "rinflatechildren",
      "java:2510",
      "rinflatechildren layoutinflater",
      "v7 app",
      "app activity",
      "main zygoteinit",
      "v7 widget",
      "v7",
      "hexo",
      "java:515",
      "run",
      "createviewfromtag",
      "view",
      "ui",
      "dx",
      "loop",
      "  caused",
      "java:764",
      "performlaunchactivity",
      " ",
      "method invoke",
      "constructor",
      "loop looper",
      "app appcompatactivity",
      "by: java",
      "view layoutinflater",
      "method  ",
      "forkjoinpool",
      "java:6251  ",
      "support",
      "java:619",
      "handlemessage",
      "setcontentview appcompatactivity",
      "java:616",
      "looper loop",
      "app activitythread",
      "android",
      "looper",
      "error inflating",
      "activitythread$h handlemessage",
      "handlemessage activitythread",
      "android view",
      "class",
      "createviewfromtag layoutinflater",
      "zygoteinit$methodandargscaller",
      "multiple",
      "com android",
      "callactivityoncreate",
      "android dx",
      "nanodegree",
      "rinflate layoutinflater",
      "os handler",
      "class android",
      "invoke",
      "looper java:148",
      "app instrumentation",
      "lang reflect",
      "app activitythread$h",
      "support v7",
      "java:1108",
      "java:2510  ",
      "instrumentation",
      "@2131296590",
      "java:1363",
      "method",
      "java:6251",
      "app appcompatdelegateimplv9",
      "binary",
      "android app",
      "os looper",
      "native method",
      "oncreate mainactivity",
      "dispatchmessage",
      "internal",
      "widget",
      "merge dexmerger",
      "recyclerview",
      "methods",
      "android builder",
      "os zygoteinit",
      "-wrap11 activitythread",
      "setcontentview",
      "file",
      "native",
      "java:423",
      "inflating",
      "caused",
      "widget recyclerview",
      "activitythread java:2510",
      "\u003cinit\u003e recyclerview",
      "rinflate",
      "java lang",
      "oncreate",
      "invoke native",
      "activitythread",
      "java:140  ",
      "handlelaunchactivity",
      "java:798",
      "java:102  ",
      "udacity",
      "performcreate",
      "java:148  ",
      "com",
      "setcontentview appcompatdelegateimplv9",
      "#16",
      "main",
      "java:2403",
      "java:2403  ",
      "dexarchivemergercallable",
      "util concurrent",
      "layoutinflater rinflate",
      "line #16",
      "-wrap11",
      "performlaunchactivity activitythread",
      "forkjointask",
      "0-rc0",
      "files",
      "java:101  ",
      "java:374",
      "line",
      "error",
      "performcreate activity",
      "inflateexception",
      "android internal",
      "mainactivity",
      "define",
      "popularmovies ui",
      "activitythread$h",
      "lang",
      "java:101",
      "zygoteinit java:616",
      "java:102",
      "internal os",
      "handlelaunchactivity activitythread",
      "dispatchmessage handler",
      "os",
      "dexing dexarchivemergercallable",
      "java:1108  ",
      "inflate",
      "layoutinflater createviewfromtag",
      "layoutinflater inflate",
      "zygoteinit java:726"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/bumptech/glide/commit/bfe14423bffb0890d9b78f9baffc9e604a82afc7",
      "files": [
        {
          "file_name": "build.gradle",
          "patch": "@@ -67,11 +67,6 @@ subprojects { project -\u003e\n             options.compilerArgs \u003c\u003c \u0027-Xlint:unchecked\u0027 \u003c\u003c \u0027-Xlint:deprecation\u0027\n         }\n     }\n-\n-    // We generate a combined javadoc, no need to create javadocs for each library independently.\n-    if (!project.name.equals(\u0027glide\u0027)) {\n-        tasks.withType(Javadoc).all { enabled \u003d false }\n-    }\n }\n \n task wrapper(type: Wrapper) {"
        }
      ]
    }
  },
  {
    "name": "Amazon FireTV does not support Google Voice Search",
    "url": "https://github.com/MythTV-Clients/MythtvPlayerForAndroid/issues/186",
    "description": "Reported by @dekarl \n\nI tried with the APK from github releases with the following result\nwhen trying to search in the recordings screen.\nLooks like com.google.android.voicesearch is missing from FireOS...\n(according to\nhttp://stackoverflow.com/questions/9479846/no-activity-found-to-handle-intent-act-android-speech-action-recognize-speech\n)\nBut even that app is not available in my country, yet.\nLooks like the missing speech to text activity is not handled, yet?\n\"NOTE: There may not be any applications installed to handle this\naction, so you should make sure to catch ActivityNotFoundException.\"\n\n```\nI/ActivityManager( 1832): START u0\n{act\u003dandroid.speech.action.RECOGNIZE_SPEECH (has extras)} from uid 10015\non display 0\nD/AndroidRuntime(10607): Shutting down VM\nE/AndroidRuntime(10607): FATAL EXCEPTION: main\nE/AndroidRuntime(10607): Process: org.mythtv.android, PID: 10607\nE/AndroidRuntime(10607): android.content.ActivityNotFoundException: No\nActivity found to handle Intent {act\u003dandroid.speech.action.RECOGNIZE_SPEECH (has extras) }\nE/AndroidRuntime(10607):        at\nandroid.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1797)\nE/AndroidRuntime(10607):        at \nandroid.app.Instrumentation.execStartActivity(Instrumentation.java:1517)\nE/AndroidRuntime(10607):        at\nandroid.app.Activity.startActivityForResult(Activity.java:3771)\nE/AndroidRuntime(10607):        at\nandroid.app.Activity.startActivityForResult(Activity.java:3732)\nE/AndroidRuntime(10607):        at\norg.mythtv.android.view.activity.tv.SearchableActivity$1.recognizeSpeech(SearchableActivity.java:145)\nE/AndroidRuntime(10607):        at\nandroid.support.v17.leanback.widget.SearchBar.startRecognition(SearchBar.java:554)\nE/AndroidRuntime(10607):        at\nandroid.support.v17.leanback.app.SearchFragment$4.run(SearchFragment.java:194)\nE/AndroidRuntime(10607):        at\nandroid.os.Handler.handleCallback(Handler.java:739)\nE/AndroidRuntime(10607):        at\nandroid.os.Handler.dispatchMessage(Handler.java:95)\nE/AndroidRuntime(10607):        at android.os.Looper.loop(Looper.java:135)\nE/AndroidRuntime(10607):        at\nandroid.app.ActivityThread.main(ActivityThread.java:5466)\nE/AndroidRuntime(10607):        at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(10607):        at\njava.lang.reflect.Method.invoke(Method.java:372)\nE/AndroidRuntime(10607):        at\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:984)\nE/AndroidRuntime(10607):        at\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\nI/AndroidRuntime(10607): To Report FATAL to activityManagerService\nI/ActivityManager( 1832): handleApplicationCrash\nW/ActivityManager( 1832):   Force finishing activity 1\norg.mythtv.android/.view.activity.tv.SearchableActivity\nI/ActivityManager( 1832): addErrorToDropBox inserted\nhashcode\u003d558234d2102138a369448751c2d68515a627a295 for eventType crash.\nI/Vlog    ( 1832):\n3p:fg_crash:fgtracking\u003dtrue;DV;1,key\u003dorg.mythtv.android;DV;1,Counter\u003d1.0;CT;1,unit\u003dcount;DV;1,metadata\u003d558234d2102138a369448751c2d68515a627a295;DV;1:HI\nI/ActivityManager( 1832): Next activity is on the same task, skipping\nmoveHomeStackTaskToTop()\nI/Process (10607): Sending signal. PID: 10607 SIG: 9\nI/AndroidRuntime(10607): Finished reporting FATAL to activityManagerService\nI/CrashDescriptorUtil( 1832): addErrorToCommonLog Hash already present\nin file\nI/WindowState( 1832): WIN DEATH: Window{1c90a472 u0\norg.mythtv.android/org.mythtv.android.view.activity.tv.RecordingsActivity}\nI/WindowState( 1832): WIN DEATH: Window{311c5458 u0\norg.mythtv.android/org.mythtv.android.view.activity.tv.SearchableActivity}\nI/ActivityManager( 1832): Process org.mythtv.android (pid 10607) has died\nW/art     (  746): PreZygoteFork called when we already have a zygote space.\nV/WindowManager( 1832): Adding window Window{1fe4850f u0 Starting\norg.mythtv.android} at 12 of 15 (before Window{311c5458 u0\norg.mythtv.android/org.mythtv.android.view.activity.tv.SearchableActivity EXITING})\nI/ActivityManager( 1832): Start proc 10777:org.mythtv.android/u0a15 for\nactivity org.mythtv.android/.view.activity.tv.RecordingsActivity\n```\n",
    "keywords": [
      "com",
      "handler",
      "tv",
      "i/activitymanager",
      "activity",
      "android",
      "pid",
      "main",
      "e/androidruntime",
      "org mythtv",
      "fatal",
      "1832",
      "view",
      "not",
      "android/org",
      "mythtv android",
      "1832 ",
      "action",
      "instrumentation",
      "android view",
      "u0",
      "zygoteinit",
      "app",
      "activity tv",
      "method",
      "os",
      "org",
      "android/org mythtv",
      "e/androidruntime 10607",
      "speech",
      "10607",
      "10607 ",
      "searchableactivity",
      "mythtv",
      "support"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/MythTV-Clients/MythtvPlayerForAndroid/commit/29fe48e4c5409d80888af8615b50621406da480f",
      "files": [
        {
          "file_name": "app/src/main/java/org/mythtv/android/presentation/view/activity/tv/AbstractBaseTvActivity.java",
          "patch": "@@ -21,6 +21,9 @@\n import android.app.Activity;\n import android.app.Fragment;\n import android.app.FragmentTransaction;\n+import android.app.UiModeManager;\n+import android.content.Context;\n+import android.content.res.Configuration;\n import android.os.Bundle;\n \n import com.google.firebase.FirebaseApp;\n@@ -113,4 +116,11 @@ protected NetComponent getNetComponent() {\n         return ( (AndroidApplication) getApplication() ).getNetComponent();\n     }\n \n+    protected boolean isRealAndroidTvDevice( Context context ) {\n+\n+        UiModeManager uiModeManager \u003d (UiModeManager) context.getSystemService( UI_MODE_SERVICE );\n+\n+        return ( uiModeManager.getCurrentModeType() \u003d\u003d Configuration.UI_MODE_TYPE_TELEVISION );\n+    }\n+\n }"
        },
        {
          "file_name": "app/src/main/java/org/mythtv/android/presentation/view/activity/tv/SearchableActivity.java",
          "patch": "@@ -19,13 +19,15 @@\n package org.mythtv.android.presentation.view.activity.tv;\n \n import android.app.SearchManager;\n+import android.content.ActivityNotFoundException;\n import android.content.Context;\n import android.content.Intent;\n import android.os.Bundle;\n import android.provider.SearchRecentSuggestions;\n-import android.support.v17.leanback.widget.SpeechRecognitionCallback;\n import android.util.Log;\n \n+import com.google.firebase.crash.FirebaseCrash;\n+\n import org.mythtv.android.R;\n import org.mythtv.android.presentation.internal.di.HasComponent;\n import org.mythtv.android.presentation.internal.di.components.DaggerMediaComponent;\n@@ -142,8 +144,21 @@ private void initializeActivity( Intent intent ) {\n \n         }\n \n-        SpeechRecognitionCallback mSpeechRecognitionCallback \u003d () -\u003e startActivityForResult( mSearchableFragment.getRecognizerIntent(), REQUEST_SPEECH );\n-        mSearchableFragment.setSpeechRecognitionCallback( mSpeechRecognitionCallback );\n+        mSearchableFragment.setSpeechRecognitionCallback( () -\u003e {\n+\n+            try {\n+\n+                startActivityForResult( mSearchableFragment.getRecognizerIntent(), REQUEST_SPEECH );\n+\n+            } catch( ActivityNotFoundException e ) {\n+                Log.e( TAG, \"initializeActivity : error\", e );\n+\n+                FirebaseCrash.logcat( Log.WARN, TAG, \"initializeActivity : activity not found, most likely from a FireTV device\" );\n+                FirebaseCrash.report( e );\n+\n+            }\n+\n+        });\n \n         Log.d( TAG, \"initializeActivity : exit\" );\n     }"
        }
      ]
    }
  },
  {
    "name": "Crash on list view",
    "url": "https://github.com/nextgis/android_gisapp/issues/506",
    "description": "version from google play\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027com.nextgis.maplib.display.Style com.nextgis.maplib.display.SimpleFeatureRenderer.getStyle()\u0027 on a null object reference\n    at com.nextgis.maplibui.mapui.VectorLayerUI.getIcon(VectorLayerUI.java:74)\n    at com.nextgis.maplibui.fragment.LayersListAdapter.getStandardLayerView(LayersListAdapter.java:192)\n    at com.nextgis.maplibui.fragment.LayersListAdapter.getView(LayersListAdapter.java:166)\n    at android.widget.AbsListView.obtainView(AbsListView.java:2467)\n    at android.widget.ListView.makeAndAddView(ListView.java:1894)\n    at android.widget.ListView.fillDown(ListView.java:710)\n    at android.widget.ListView.fillFromTop(ListView.java:771)\n    at android.widget.ListView.layoutChildren(ListView.java:1695)\n    at android.widget.AbsListView.onLayout(AbsListView.java:2230)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\n    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\n    at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.support.v4.widget.DrawerLayout.onLayout(DrawerLayout.java:1215)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1959)\n    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1813)\n    at android.widget.LinearLayout.onLayout(LinearLayout.java:1722)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:639)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:574)\n    at android.view.View.layout(View.java:16001)\n    at android.view.ViewGroup.layout(ViewGroup.java:5181)\n    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2484)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2181)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1293)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6599)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:800)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:603)\n    at android.view.Choreographer.doFrame(Choreographer.java:572)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:786)\n    at android.os.Handler.handleCallback(Handler.java:815)\n    at android.os.Handler.dispatchMessage(Handler.java:104)\n    at android.os.Looper.loop(Looper.java:194)\n    at android.app.ActivityThread.main(ActivityThread.java:5637)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\n```\n",
    "keywords": [
      "com",
      "handler",
      "java:639",
      "widget",
      "choreographer",
      "framelayout",
      "view view",
      "view viewgroup",
      "android",
      "listview",
      "invoke",
      "run",
      "linearlayout",
      "view layout",
      "view",
      "java",
      "android widget",
      "viewgroup java:5181",
      "viewgroup",
      "android view",
      "lang",
      "framelayout java:639",
      "widget framelayout",
      "zygoteinit",
      "onlayout framelayout",
      "framelayout layoutchildren",
      "onlayout",
      "maplibui",
      "method",
      "os",
      "nextgis",
      "viewgroup layout",
      "layout",
      "abslistview",
      "layout view",
      "java:16001",
      "view java:16001",
      "viewrootimpl",
      "layerslistadapter",
      "java:5181",
      "layout viewgroup",
      "java:574",
      "layoutchildren"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/c38053acbb83a5f5d0ad978a4813d2bee22acd60",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit 38dc4b619b49af8a4c1456e8a9b33276e4b49f99\n+Subproject commit beefe18de0e3ecc6c775a0084377badd00ee323f"
        }
      ]
    }
  },
  {
    "name": "Crash ao voltar da ProjectActivity sem mexer em nada",
    "url": "https://github.com/KanbanEng2/kanban/issues/32",
    "description": "[`MainActivity:745`](../blob/9ddfeb10d7facbe9cf7e13b1d408e0bb9138a3d2/app/src/main/java/br/ufrr/eng2/kanban/MainActivity.java#L745)\r\n\r\n**Stack trace:**\r\n```\r\nFATAL EXCEPTION: main\r\n             Process: br.ufrr.eng2.kanban, PID: 3855\r\n             java.lang.RuntimeException: Failure delivering result ResultInfo{who\u003dnull, request\u003d1011, result\u003d0, data\u003dnull} to activity {br.ufrr.eng2.kanban/br.ufrr.eng2.kanban.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String android.content.Intent.getStringExtra(java.lang.String)\u0027 on a null object reference\r\n                 at android.app.ActivityThread.deliverResults(ActivityThread.java:4089)\r\n                 at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)\r\n                 at android.app.ActivityThread.-wrap20(ActivityThread.java)\r\n                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)\r\n                 at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                 at android.os.Looper.loop(Looper.java:154)\r\n                 at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n                 at java.lang.reflect.Method.invoke(Native Method)\r\n                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n              Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \u0027java.lang.String android.content.Intent.getStringExtra(java.lang.String)\u0027 on a null object reference\r\n                 at br.ufrr.eng2.kanban.MainActivity.onActivityResult(MainActivity.java:745)\r\n                 at android.app.Activity.dispatchActivityResult(Activity.java:6932)\r\n                 at android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\r\n                 at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132) \r\n                 at android.app.ActivityThread.-wrap20(ActivityThread.java) \r\n                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533) \r\n                 at android.os.Handler.dispatchMessage(Handler.java:102) \r\n                 at android.os.Looper.loop(Looper.java:154) \r\n                 at android.app.ActivityThread.main(ActivityThread.java:6119) \r\n                 at java.lang.reflect.Method.invoke(Native Method) \r\n                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) \r\n                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n```",
    "keywords": [
      "com",
      " ",
      "app",
      "handler",
      "internal",
      "os",
      "string",
      "activity",
      "method",
      "app activitythread",
      "ufrr",
      "android",
      "main",
      "com android",
      "looper",
      "invoke",
      "java lang",
      "activitythread",
      "java",
      "kanban",
      "android app",
      "eng2",
      "lang",
      "internal os",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/KanbanEng2/kanban/commit/7fe3718460ebc491f6d0c563b5aa69d9ebcd4765",
      "files": [
        {
          "file_name": ".idea/misc.xml",
          "patch": "@@ -37,7 +37,7 @@\n     \u003cConfirmationsSetting value\u003d\"0\" id\u003d\"Add\" /\u003e\n     \u003cConfirmationsSetting value\u003d\"0\" id\u003d\"Remove\" /\u003e\n   \u003c/component\u003e\n-  \u003ccomponent name\u003d\"ProjectRootManager\" version\u003d\"2\" languageLevel\u003d\"JDK_1_8\" default\u003d\"true\" assert-keyword\u003d\"true\" jdk-15\u003d\"true\" project-jdk-name\u003d\"1.8\" project-jdk-type\u003d\"JavaSDK\"\u003e\n+  \u003ccomponent name\u003d\"ProjectRootManager\" version\u003d\"2\" languageLevel\u003d\"JDK_1_7\" default\u003d\"true\" assert-keyword\u003d\"true\" jdk-15\u003d\"true\" project-jdk-name\u003d\"1.8\" project-jdk-type\u003d\"JavaSDK\"\u003e\n     \u003coutput url\u003d\"file://$PROJECT_DIR$/build/classes\" /\u003e\n   \u003c/component\u003e\n   \u003ccomponent name\u003d\"ProjectType\"\u003e"
        },
        {
          "file_name": "app/src/main/java/br/ufrr/eng2/kanban/MainActivity.java",
          "patch": "@@ -742,10 +742,12 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n                 updateCurrentProject();\n             }\n         } else if (requestCode \u003d\u003d 1011) {\n-            String user \u003d data.getStringExtra(\"user\");\n-            UsuarioController.UpdateUserProjects(user, currentProjectId);\n-            projeto.getMembrosProjeto().add(user);\n-            updateCurrentProject();\n+            if (data !\u003d null) {\n+                String user \u003d data.getStringExtra(\"user\");\n+                UsuarioController.UpdateUserProjects(user, currentProjectId);\n+                projeto.getMembrosProjeto().add(user);\n+                updateCurrentProject();\n+            }\n         }\n \n     }"
        }
      ]
    }
  },
  {
    "name": "Crash when clicking on product in history",
    "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/issues/409",
    "description": "Product: https://fr.openfoodfacts.org/produit/3560070323067/haricots-verts-extra-fins-carrefour\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                 Process: openfoodfacts.github.scrachx.openfood, PID: 1202\r\n                                                 java.lang.StringIndexOutOfBoundsException: length\u003d48; index\u003d-1\r\n                                                     at java.lang.String.indexAndLength(String.java:294)\r\n                                                     at java.lang.String.substring(String.java:1067)\r\n                                                     at openfoodfacts.github.scrachx.openfood.fragments.IngredientsProductFragment.onViewCreated(IngredientsProductFragment.java:81)\r\n                                                     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1132)\r\n                                                     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1295)\r\n                                                     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:801)\r\n                                                     at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:1643)\r\n                                                     at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:679)\r\n                                                     at android.support.v4.app.FragmentStatePagerAdapter.finishUpdate(FragmentStatePagerAdapter.java:166)\r\n                                                     at android.support.v4.view.ViewPager.populate(ViewPager.java:1272)\r\n                                                     at android.support.v4.view.ViewPager.populate(ViewPager.java:1120)\r\n                                                     at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1646)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                     at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                     at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                     at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                     at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                     at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\r\n                                                     at android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\r\n                                                     at android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5951)\r\n                                                     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n                                                     at com.android.internal.policy.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2643)\r\n                                                     at android.view.View.measure(View.java:18794)\r\n                                                     at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2100)\r\n                                                     at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1216)\r\n                                                     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1452)\r\n                                                     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1107)\r\n                                                     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6013)\r\n                                                     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:858)\r\n                                                     at android.view.Choreographer.doCallbacks(Choreographer.java:670)\r\n                                                     at android.view.Choreographer.doFrame(Choreographer.java:606)\r\n                                                     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:844)\r\n                                                     at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                     at android.os.Looper.loop(Looper.java:148)\r\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n                                                     at java.lang.reflect.Method.invoke(Native Method)\r\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n```",
    "keywords": [
      "com",
      "measurevertical",
      "handler",
      "choreographer",
      "framelayout",
      "view view",
      "measurechildwithmargins viewgroup",
      "view viewgroup",
      "support v4",
      "main",
      "run",
      "java:5951",
      "linearlayout",
      "java:18794",
      "view",
      "java",
      "view java:18794",
      "measure view",
      "viewpager",
      "app",
      "openfoodfacts",
      "measure",
      "measurechildbeforelayout",
      "viewrootimpl",
      "v4 app",
      "fragmentmanager",
      "support",
      "measurechildwithmargins",
      "internal",
      "widget",
      "onmeasure",
      "string",
      "viewgroup measurechildwithmargins",
      "android",
      "android support",
      "android widget",
      "viewgroup",
      "android view",
      "lang",
      "zygoteinit",
      "viewgroup java:5951",
      "os",
      "java:748",
      "backstackrecord",
      "widget linearlayout",
      "java:1465",
      "view measure",
      "java:194",
      "fragmentmanagerimpl",
      "java:630",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/openfoodfacts/openfoodfacts-androidapp/commit/5e52704ac031d342247e1870122532b71e4a05c9",
      "files": [
        {
          "file_name": "app/src/main/java/openfoodfacts/github/scrachx/openfood/fragments/IngredientsProductFragment.java",
          "patch": "@@ -104,7 +104,9 @@ public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n         if(mState !\u003d null \u0026\u0026 product.getIngredientsText() !\u003d null) {\n             SpannableStringBuilder txtIngredients \u003d new SpannableStringBuilder(product.getIngredientsText().replace(\"_\",\"\"));\n             txtIngredients \u003d setSpanBoldBetweenTokens(txtIngredients, allergens);\n-            if(!txtIngredients.toString().substring(txtIngredients.toString().indexOf(\":\")).trim().isEmpty()) {\n+            int ingredientsListAt \u003d Math.max(0, txtIngredients.toString().indexOf(\":\"));\n+\n+            if(!txtIngredients.toString().substring(ingredientsListAt).trim().isEmpty()) {\n                 ingredientsProduct.setText(txtIngredients);\n             } else {\n                 ingredientsProduct.setVisibility(View.GONE);"
        },
        {
          "file_name": "app/src/main/res/values-ro/strings.xml",
          "patch": "@@ -110,7 +110,7 @@\n   \u003cstring name\u003d\"txtCity\"\u003eOraș și țara unde produsul a fost cumpărat:\u003c/string\u003e\n   \u003cstring name\u003d\"txtStores\"\u003eMagazine:\u003c/string\u003e\n   \u003cstring name\u003d\"txtCountries\"\u003eȚări unde produsul este comercializat:\u003c/string\u003e\n-  \u003cstring name\u003d\"txtIngredients\"\u003eIngrediente\u003c/string\u003e\n+  \u003cstring name\u003d\"txtIngredients\"\u003eIngrediente:\u003c/string\u003e\n   \u003cstring name\u003d\"txtSubstances\"\u003eSubstanțe care provoacă alergii sau intoleranțe:\u003c/string\u003e\n   \u003cstring name\u003d\"txtAdditives\"\u003eAditivi alimentari:\u003c/string\u003e\n   \u003cstring name\u003d\"txtTraces\"\u003eUrme de:\u003c/string\u003e"
        }
      ]
    }
  },
  {
    "name": "Crash opening conversation in tablet",
    "url": "https://github.com/kontalk/androidclient/issues/943",
    "description": "Opening mode:\r\n\r\n```\r\nI/ComposeMessage(16383): composing message for conversation: content://org.kontalk.messages/threads/[USERID]%40beta.kontalk.net\r\nI/ActivityManager(  445): START u0 {act\u003dorg.kontalk.conversation.VIEW_USERID dat\u003dcontent://org.kontalk.messages/threads/[USERID]@beta.kontalk.net cmp\u003dorg.kontalk/.ui.ConversationsActivity (has extras)} from pid 16383\r\n```\r\n\r\n```\r\njava.lang.RuntimeException: Unable to resume activity {org.kontalk/org.kontalk.ui.ConversationsActivity}: java.lang.NullPointerException\r\n\tat android.app.ActivityThread.performResumeActivity(ActivityThread.java:2899)\r\n\tat android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2928)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2363)\r\n\tat android.app.ActivityThread.access$600(ActivityThread.java:156)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1340)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loop(Looper.java:153)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5299)\r\n\tat java.lang.reflect.Method.invokeNative(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:511)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\r\n\tat dalvik.system.NativeStart.main(Native Method)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.kontalk.ui.SendIntentReceiver.processSendIntent(SendIntentReceiver.java:74)\r\n\tat org.kontalk.ui.ConversationsActivity.processSendIntent(ConversationsActivity.java:161)\r\n\tat org.kontalk.ui.ConversationsActivity.onResume(ConversationsActivity.java:232)\r\n\tat android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1190)\r\n\tat android.app.Activity.performResume(Activity.java:5200)\r\n\tat android.app.ActivityThread.performResumeActivity(ActivityThread.java:2886)\r\n\t... 12 more\r\n```",
    "keywords": [
      "app",
      "os",
      "activity",
      "method",
      "kontalk ui",
      "org",
      "app activitythread",
      "android",
      "conversationsactivity",
      "main",
      "activitythread",
      "java",
      "ui",
      "android app",
      "lang",
      "conversation",
      "kontalk",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/kontalk/androidclient/commit/6f718ea25b871e854f4a4a15e65e8c0522534946",
      "files": [
        {
          "file_name": "app/src/main/java/org/kontalk/ui/ConversationsActivity.java",
          "patch": "@@ -113,8 +113,8 @@ protected void onNewIntent(Intent intent) {\n     }\n \n     protected boolean handleIntent(Intent intent) {\n-        if (!super.handleIntent(intent))\n-            return false;\n+        if (super.handleIntent(intent))\n+            return true;\n \n         if (intent !\u003d null) {\n             String action \u003d intent.getAction();\n@@ -223,23 +223,28 @@ public void run() {\n             // since we have the conversation list open, we\u0027re going to disable notifications\n             // no need to notify the user twice\n             MessagingNotification.disable();\n-\n-            Intent intent \u003d getIntent();\n-            if (intent !\u003d null) {\n-                Intent sendIntent \u003d getIntent().getParcelableExtra(EXTRA_SEND_INTENT);\n-                if (sendIntent !\u003d null) {\n-                    // handle the share intent sent from ComposeMessage\n-                    processSendIntent(sendIntent);\n-                    // clear the intent\n-                    intent.removeExtra(EXTRA_SEND_INTENT);\n-                }\n-            }\n         }\n \n         updateOffline();\n     }\n \n     @Override\n+    protected void onResumeFragments() {\n+        super.onResumeFragments();\n+\n+        Intent intent \u003d getIntent();\n+        if (intent !\u003d null) {\n+            Intent sendIntent \u003d getIntent().getParcelableExtra(EXTRA_SEND_INTENT);\n+            if (sendIntent !\u003d null) {\n+                // handle the share intent sent from ComposeMessage\n+                processSendIntent(sendIntent);\n+                // clear the intent\n+                intent.removeExtra(EXTRA_SEND_INTENT);\n+            }\n+        }\n+    }\n+\n+    @Override\n     protected void onPause() {\n         super.onPause();\n         // release message center"
        },
        {
          "file_name": "app/src/main/java/org/kontalk/ui/MainActivity.java",
          "patch": "@@ -288,6 +288,11 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)\n         return super.onCreateDialog(id, args);\n     }\n \n+    /**\n+     * Something to handle for the given intent.\n+     * @param intent\n+     * @return \u003ccode\u003etrue\u003c/code\u003e if the intent has been handled.\n+     */\n     protected boolean handleIntent(Intent intent) {\n         if (intent !\u003d null) {\n             String action \u003d intent.getAction();"
        }
      ]
    }
  },
  {
    "name": "StreetComplete crash OnPause",
    "url": "https://github.com/westnordost/StreetComplete/issues/354",
    "description": "Step to reproduce :\r\n-Run StreetComplete 8ecab6e \r\n-Wait StreetComplete to display Map and your GPS location\r\n-Press your device Home button (long press to view all running apps)\r\n-StreetComplete crash !\r\n\r\nAndroid : 6.0\r\nLinux : 3.18.19\r\nDevice : HOMTOM HT17 PRO\r\n\r\nHere is the exception message :\r\n`--------- beginning of crash`\r\n`FATAL EXCEPTION: main`\r\n`Process: de.westnordost.streetcomplete, PID: 26444`\r\n`java.lang.IllegalStateException: Location update received after client was disconnected. Did you forget to unregister location updates before disconnecting?`\r\n`    at com.mapzen.android.lost.internal.FusedLocationServiceCallbackManager.onLocationChanged(FusedLocationServiceCallbackManager.java:31)`\r\n`    at com.mapzen.android.lost.internal.FusedLocationProviderApiImpl$1$1.run(FusedLocationProviderApiImpl.java:48)`\r\n`    at android.os.Handler.handleCallback(Handler.java:815)`\r\n`    at android.os.Handler.dispatchMessage(Handler.java:104)`\r\n`    at android.os.Looper.loop(Looper.java:207)`\r\n`    at android.app.ActivityThread.main(ActivityThread.java:5737)`\r\n`    at java.lang.reflect.Method.invoke(Native Method)`\r\n`    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)`\r\n`    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)`\r\n\r\nComplete exception here : https://gist.github.com/Binnette/b1eca343ea9276c0e3556f1067d71b4f\r\n\r\nThis issue seems to be a LOST issue and is tracked here :  mapzen/lost#218",
    "keywords": [
      "com",
      "`",
      "exception",
      "` `",
      "handler",
      "internal",
      "os",
      "lost",
      "android",
      "location",
      "streetcomplete",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/westnordost/StreetComplete/commit/a0d75507f8eed02952f5f6ebda637230810ff199",
      "files": [
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/data/QuestAutoSyncer.java",
          "patch": "@@ -27,7 +27,6 @@\n import de.westnordost.streetcomplete.data.download.QuestAutoDownloadStrategy;\n import de.westnordost.streetcomplete.data.download.WifiAutoDownloadStrategy;\n import de.westnordost.streetcomplete.data.osm.upload.ChangesetAutoCloserReceiver;\n-import de.westnordost.streetcomplete.util.SphericalEarthMath;\n \n import static android.app.PendingIntent.FLAG_CANCEL_CURRENT;\n \n@@ -83,10 +82,17 @@ public void startPositionTracking()\n \n \tpublic void stopPositionTracking()\n \t{\n-\t\tif(lostApiClient.isConnected())\n+\t\ttry\n \t\t{\n-\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n-\t\t\tlostApiClient.disconnect();\n+\t\t\tif(lostApiClient.isConnected())\n+\t\t\t{\n+\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n+\t\t\t\tlostApiClient.disconnect();\n+\t\t\t}\n+\t\t}\n+\t\tcatch (RuntimeException e)\n+\t\t{\n+\t\t\t// ignore. See https://github.com/mapzen/lost/issues/224\n \t\t}\n \t}\n "
        },
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/location/SingleLocationRequest.java",
          "patch": "@@ -39,19 +39,18 @@ public void startRequest(int priority, Callback listener)\n \n \tpublic void stopRequest()\n \t{\n-\t\tHandler h \u003d new Handler(Looper.getMainLooper());\n-\t\th.post(new Runnable()\n+\t\ttry\n \t\t{\n-\t\t\t@Override public void run()\n+\t\t\tif(lostApiClient.isConnected())\n \t\t\t{\n-\t\t\t\tif(lostApiClient.isConnected())\n-\t\t\t\t{\n-\t\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, SingleLocationRequest.this);\n-\t\t\t\t\tlostApiClient.disconnect();\n-\t\t\t\t}\n+\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n+\t\t\t\tlostApiClient.disconnect();\n \t\t\t}\n-\t\t});\n-\n+\t\t}\n+\t\tcatch (RuntimeException e)\n+\t\t{\n+\t\t\t// ignore. See https://github.com/mapzen/lost/issues/224\n+\t\t}\n \t}\n \n \t@Override public void onConnected() throws SecurityException"
        },
        {
          "file_name": "app/src/main/java/de/westnordost/streetcomplete/tangram/MapFragment.java",
          "patch": "@@ -210,10 +210,17 @@ public void stopPositionTracking()\n \t\tlastLocation \u003d null;\n \t\tzoomedYet \u003d false;\n \n-\t\tif(lostApiClient.isConnected())\n+\t\ttry\n \t\t{\n-\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n-\t\t\tlostApiClient.disconnect();\n+\t\t\tif(lostApiClient.isConnected())\n+\t\t\t{\n+\t\t\t\tLocationServices.FusedLocationApi.removeLocationUpdates(lostApiClient, this);\n+\t\t\t\tlostApiClient.disconnect();\n+\t\t\t}\n+\t\t}\n+\t\tcatch (RuntimeException e)\n+\t\t{\n+\t\t\t// ignore. See https://github.com/mapzen/lost/issues/224\n \t\t}\n \t}\n "
        }
      ]
    }
  },
  {
    "name": "Crash on delete layer with lookup table",
    "url": "https://github.com/nextgis/android_gisapp/issues/483",
    "description": "```\njava.lang.ClassCastException: com.nextgis.maplib.map.NGWLookupTable cannot be cast to com.nextgis.maplib.map.Layer\n    at com.nextgis.maplibui.activity.NGWSettingsActivity.deleteAccountLayers(NGWSettingsActivity.java:679)\n    at com.nextgis.maplibui.activity.NGWSettingsActivity$4.onReceive(NGWSettingsActivity.java:590)\n    at com.nextgis.maplibui.activity.NGWSettingsActivity$5.onClick(NGWSettingsActivity.java:638)\n    at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:167)\n    at android.os.Handler.dispatchMessage(Handler.java:111)\n    at android.os.Looper.loop(Looper.java:194)\n    at android.app.ActivityThread.main(ActivityThread.java:5624)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\n```\n",
    "keywords": [
      "com",
      "internal",
      "maplibui",
      "java",
      "activity",
      "os",
      "method",
      "nextgis",
      "android",
      "lang",
      "ngwsettingsactivity",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/nextgis/android_gisapp/commit/5037e034e97f47a68f55e0b4ea654eb2bbba05c4",
      "files": [
        {
          "file_name": "maplibui",
          "patch": "@@ -1 +1 @@\n-Subproject commit aa8c9514172ab84e620fc8fc528297206fadbf88\n+Subproject commit 77cbbe12b1d3da88231f6727ff9504f99b3d261c"
        }
      ]
    }
  },
  {
    "name": "Illegal url crash, add url validation",
    "url": "https://github.com/LocativeHQ/Locative-Android/issues/101",
    "description": "We just got this error:\n\n```\nFatal Exception: java.lang.IllegalArgumentException: unexpected url: xxx/api/locative?api_password\u003dxxx\u0026latitude\u003dxx.xx\u0026longitude\u003d-xx.xxx\u0026id\u003dxxx\u0026device\u003dxxx\u0026device_type\u003dAndroid\u0026device_model\u003dNexus+5X\u0026trigger\u003dexit\u0026timestamp\u003d2016-08-17+00%3A37%3A13.516\n       at okhttp3.Request$Builder.url(Request.java:141)\n       at io.locative.app.network.RequestManager.dispatch(RequestManager.java:130)\n       at io.locative.app.network.ReceiveTransitionsIntentService.processGeofence(ReceiveTransitionsIntentService.java:101)\n       at io.locative.app.network.ReceiveTransitionsIntentService.onHandleIntent(ReceiveTransitionsIntentService.java:73)\n       at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:66)\n       at android.os.Handler.dispatchMessage(Handler.java:102)\n       at android.os.Looper.loop(Looper.java:148)\n       at android.os.HandlerThread.run(HandlerThread.java:61)\n```\n\n(I guess this url is missing `http(s)://`?)\n\nWe should just log these and not have the app crash on this.\nAlso we could call this url builder as a validation step on the text fields.\n",
    "keywords": [
      "app",
      "os",
      "io",
      "android",
      "receivetransitionsintentservice",
      "locative",
      "url",
      "network"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/LocativeHQ/Locative-Android/commit/0a53790191e5965ba31833aeb97a11d1a2cfeb95",
      "files": [
        {
          "file_name": "app/src/main/java/io/locative/app/network/RequestManager.java",
          "patch": "@@ -12,6 +12,7 @@\n \n import javax.inject.Inject;\n \n+import io.locative.app.R;\n import io.locative.app.model.EventType;\n import io.locative.app.model.Fencelog;\n import io.locative.app.model.Geofences;\n@@ -126,31 +127,26 @@ public Request authenticate(Route route, Response response) throws IOException {\n                 .add(\"trigger\", eventToString(eventType))\n                 .add(\"timestamp\", String.valueOf(new Timestamp(new Date().getTime())))\n                 .build();\n-        final Request request \u003d new Request.Builder()\n-                .url(urlIncludingQuery(geofence, eventType))\n-                .method(fromMethod(method), method \u003d\u003d 0 ? body : null)\n-                .build();\n+        Request request;\n+        try {\n+            request \u003d new Request.Builder()\n+                    .url(urlIncludingQuery(geofence, eventType))\n+                    .method(fromMethod(method), method \u003d\u003d 0 ? body : null)\n+                    .build();\n+        } catch (Exception ex) {\n+            conditionallyShowFailureNotification(geofence, mContext.getString(R.string.trigger_error_invalid_url_notification));\n+            return;\n+        }\n         mClient.newCall(request).enqueue(new Callback() {\n             @Override\n             public void onFailure(Call call, IOException e) {\n-                if (mPreferences.getBoolean(Preferences.NOTIFICATION_FAIL, false)) {\n-                    mNotificationManager.showNotification(\n-                            geofence.getRelevantId(),\n-                            \"Error when sending HTTP request.\"\n-                    );\n-                }\n+                conditionallyShowFailureNotification(geofence, \"Error when sending HTTP request.\");\n                 dispatchFencelog(geofence, eventType, relevantUrl(geofence, eventType), fromMethod(method), 0);\n             }\n \n             @Override\n             public void onResponse(Call call, Response response) throws IOException {\n-                if (mPreferences.getBoolean(Preferences.NOTIFICATION_SUCCESS, false)) {\n-                    final String result \u003d response.isSuccessful() ? \"Success\" : \"Error\";\n-                    mNotificationManager.showNotification(\n-                            geofence.getRelevantId(),\n-                            result + \" in HTTP request (\" + response.code() + \")\"\n-                    );\n-                }\n+                conditionallyShowSuccessNotification(geofence, response);\n                 dispatchFencelog(\n                         geofence,\n                         eventType,\n@@ -162,6 +158,24 @@ public void onResponse(Call call, Response response) throws IOException {\n         });\n     }\n \n+    private void conditionallyShowFailureNotification(final Geofences.Geofence geofence, final String message) {\n+        if (!mPreferences.getBoolean(Preferences.NOTIFICATION_FAIL, false)) {\n+            return;\n+        }\n+        mNotificationManager.showNotification(geofence.getRelevantId(), message);\n+    }\n+\n+    private void conditionallyShowSuccessNotification(final Geofences.Geofence geofence, final Response response) {\n+        if (!mPreferences.getBoolean(Preferences.NOTIFICATION_SUCCESS, false)) {\n+            return;\n+        }\n+        final String result \u003d response.isSuccessful() ? \"Success\" : \"Error\";\n+        mNotificationManager.showNotification(\n+                geofence.getRelevantId(),\n+                result + \" in HTTP request (\" + response.code() + \")\"\n+        );\n+    }\n+\n     void dispatchFencelog(final Geofences.Geofence geofence,\n                                   final EventType eventType,\n                                   final String httpUrl,"
        },
        {
          "file_name": "app/src/main/java/io/locative/app/utils/GeocodeHandler.java",
          "patch": "@@ -20,7 +20,7 @@\n     private final WeakReference\u003cAddEditGeofenceActivity\u003e mTarget;\n \n     public GeocodeHandler(AddEditGeofenceActivity target) {\n-        mTarget \u003d new WeakReference\u003cAddEditGeofenceActivity\u003e(target);\n+        mTarget \u003d new WeakReference\u003c\u003e(target);\n     }\n \n     @Override"
        },
        {
          "file_name": "app/src/main/java/io/locative/app/utils/UrlValidator.java",
          "patch": "@@ -0,0 +1,25 @@\n+package io.locative.app.utils;\n+\n+import okhttp3.Request;\n+\n+/**\n+ * Created by kida on 13/1/17.\n+ */\n+\n+public class UrlValidator {\n+\n+    private final String url;\n+\n+    public UrlValidator(String url) {\n+        this.url \u003d url;\n+    }\n+\n+    public boolean validate() {\n+        try {\n+            new Request.Builder().url(url).build();\n+        } catch (Exception ex) {\n+            return false;\n+        }\n+        return true;\n+    }\n+}"
        },
        {
          "file_name": "app/src/main/java/io/locative/app/view/AddEditGeofenceActivity.java",
          "patch": "@@ -56,6 +56,8 @@\n import io.locative.app.persistent.GeofenceProvider;\n import io.locative.app.utils.Constants;\n import io.locative.app.utils.GeocodeHandler;\n+import io.locative.app.utils.UrlValidator;\n+import okhttp3.Request;\n \n public class AddEditGeofenceActivity extends BaseActivity implements OnMapReadyCallback {\n \n@@ -310,11 +312,6 @@ public void onMapReady(GoogleMap googleMap) {\n         }\n \n         updateRadius();\n-\n-//        // Add a marker in Sydney and move the camera\n-//        LatLng sydney \u003d new LatLng(-34, 151);\n-//        mMap.addMarker(new MarkerOptions().position(sydney).title(\"Marker in Sydney\"));\n-//        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n     }\n \n     @Override\n@@ -349,6 +346,12 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         // as you specify a parent activity in AndroidManifest.xml.\n         int id \u003d item.getItemId();\n         if (id \u003d\u003d R.id.action_save) {\n+\n+            // Bail out ealy if webhook urls are borked\n+            if (!validateUrls()) {\n+                return false;\n+            }\n+\n             // Save Geofence / Add new one\n             if (!mAddressIsDirty) {\n                 this.save(true);\n@@ -373,8 +376,37 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         return super.onOptionsItemSelected(item);\n     }\n \n+    private boolean validateUrls() {\n+        // Check for valid \u0027Enter\u0027 URL, or bail out.\n+        if (mEnterUrl.getText().length() \u003e 0 \u0026\u0026\n+                !new UrlValidator(mEnterUrl.getText().toString()).validate()) {\n+            new AlertDialog.Builder(this)\n+                    .setTitle(R.string.save_error_title)\n+                    .setMessage(R.string.save_error_invalid_enter_url)\n+                    .setNeutralButton(R.string.ok, null)\n+                    .show();\n+            return false;\n+        }\n+\n+        // Check for valid \u0027Exit\u0027 URL, or bail out.\n+        if (mExitUrl.getText().length() \u003e 0 \u0026\u0026\n+                !new UrlValidator(mExitUrl.getText().toString()).validate()) {\n+            new AlertDialog.Builder(this)\n+                    .setTitle(R.string.save_error_title)\n+                    .setMessage(R.string.save_error_invalid_exit_url)\n+                    .setNeutralButton(R.string.ok, null)\n+                    .show();\n+            return false;\n+        }\n+        return true;\n+    }\n+\n     public void save(boolean finish) {\n \n+        if (!validateUrls()) {\n+            return;\n+        }\n+\n         Log.i(Constants.LOG, \"Saved #1: \" + mSaved);\n \n         if (mSaved) {"
        },
        {
          "file_name": "app/src/main/res/values/strings.xml",
          "patch": "@@ -17,7 +17,7 @@\n     \u003cstring name\u003d\"geocoding_progress_message\"\u003eDetermining Location and saving…\u003c/string\u003e\n     \u003cstring name\u003d\"title_activity_settings\"\u003eSettings\u003c/string\u003e\n     \u003cstring name\u003d\"title_activity_signup\"\u003eSignupActivity\u003c/string\u003e\n-\n+    \u003cstring name\u003d\"ok\"\u003eOk\u003c/string\u003e\n     \u003c!-- Error strings --\u003e\n     \u003cstring name\u003d\"geofence_not_available\"\u003eGeofence service is not available now\u003c/string\u003e\n     \u003cstring name\u003d\"geofence_too_many_geofences\"\u003eYour app has registered too many geofences\u003c/string\u003e\n@@ -48,12 +48,17 @@\n     \u003cstring name\u003d\"cancel\"\u003eCancel\u003c/string\u003e\n     \u003cstring name\u003d\"fencelogs_empty\"\u003eNo Fencelogs available. Set up some Geofences to start logging.\u003c/string\u003e\n     \u003cstring name\u003d\"notifications\"\u003eNotifications\u003c/string\u003e\n-\n+    \u003cstring name\u003d\"save_error_title\"\u003eSave error\u003c/string\u003e\n+    \u003cstring name\u003d\"save_error_invalid_enter_url\"\u003eCould not save Location. Enter URL is invalid. The URL has to start with \\\u0027http\\\u0027 or \\\u0027https\\\u0027.\u003c/string\u003e\n+    \u003cstring name\u003d\"save_error_invalid_exit_url\"\u003eCould not save Location. Exit URL is invalid. The URL has to start with \\\u0027http\\\u0027 or \\\u0027https\\\u0027.\u003c/string\u003e\n \n     \u003cstring name\u003d\"http_settings\"\u003eHTTP Settings\u003c/string\u003e\n     \u003cstring name\u003d\"geofence_settings\"\u003eGeofence Settings\u003c/string\u003e\n     \u003cstring name\u003d\"no_notifications\"\u003eYou have no notifications.\u003c/string\u003e\n \n     \u003c!-- Drawer --\u003e\n     \u003cstring name\u003d\"drawer_header_username_placeholder\"\u003eClick here to log in\u003c/string\u003e\n+\n+    \u003c!-- Trigger Errors --\u003e\n+    \u003cstring name\u003d\"trigger_error_invalid_url_notification\"\u003eWebhook could not be sent. Invalid URL.\u003c/string\u003e\n \u003c/resources\u003e"
        }
      ]
    }
  },
  {
    "name": "Issue with Mosby SavedState",
    "url": "https://github.com/sockeqwe/mosby/issues/190",
    "description": "Disable Keep Activity in Developer settings.\r\n\r\n```\r\nClass not found when unmarshalling: android.support.v7.widget.Toolbar$SavedState\r\n          java.lang.ClassNotFoundException: android.support.v7.widget.Toolbar$SavedState\r\n              at java.lang.Class.classForName(Native Method)\r\n              at java.lang.Class.forName(Class.java:324)\r\n              at android.os.Parcel.readParcelableCreator(Parcel.java:2383)\r\n              at android.os.Parcel.readParcelable(Parcel.java:2337)\r\n              at android.view.AbsSavedState.\u003cinit\u003e(AbsSavedState.java:57)\r\n              at android.view.View$BaseSavedState.\u003cinit\u003e(View.java:21451)\r\n              at com.hannesdorfmann.mosby3.MosbySavedState.\u003cinit\u003e(MosbySavedState.java:49)\r\n              at com.hannesdorfmann.mosby3.MosbySavedState$1.createFromParcel(MosbySavedState.java:34)\r\n              at com.hannesdorfmann.mosby3.MosbySavedState$1.createFromParcel(MosbySavedState.java:32)\r\n              at android.os.Parcel.readParcelable(Parcel.java:2346)\r\n              at android.os.Parcel.readValue(Parcel.java:2243)\r\n              at android.os.Parcel.readSparseArrayInternal(Parcel.java:2653)\r\n              at android.os.Parcel.readSparseArray(Parcel.java:1946)\r\n              at android.os.Parcel.readValue(Parcel.java:2300)\r\n              at android.os.Parcel.readArrayMapInternal(Parcel.java:2592)\r\n              at android.os.BaseBundle.unparcel(BaseBundle.java:221)\r\n              at android.os.Bundle.getSparseParcelableArray(Bundle.java:856)\r\n              at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1207)\r\n              at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1467)\r\n              at android.support.v4.app.FragmentManagerImpl.onCreateView(FragmentManager.java:3384)\r\n              at android.support.v4.app.FragmentController.onCreateView(FragmentController.java:120)\r\n              at android.support.v4.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:378)\r\n              at android.support.v4.app.BaseFragmentActivityHoneycomb.onCreateView(BaseFragmentActivityHoneycomb.java:33)\r\n              at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:79)\r\n              at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:754)\r\n              at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\r\n              at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)\r\n              at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\r\n              at android.view.LayoutInflater.rInflate(LayoutInflater.java:838)\r\n              at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\r\n              at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n              at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n              at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n              at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:288)\r\n              at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:143)\r\n              at com.hannesdorfmann.mosby3.sample.mvi.MainActivity.onCreate(MainActivity.java:57)\r\n              at android.app.Activity.performCreate(Activity.java:6237)\r\n              at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\r\n              at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\r\n              at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\r\n              at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n              at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\r\n              at android.os.Handler.dispatchMessage(Handler.java:102)\r\n              at android.os.Looper.loop(Looper.java:148)\r\n              at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n              at java.lang.reflect.Method.invoke(Native Method)\r\n              at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n           Caused by: java.lang.ClassNotFoundException: android.support.v7.widget.Toolbar$SavedState\r\n              at java.lang.Class.classForName(Native Method)\r\n              at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n              at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n              at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n              at java.lang.Class.classForName(Native Method) \r\n              at java.lang.Class.forName(Class.java:324) \r\n              at android.os.Parcel.readParcelableCreator(Parcel.java:2383) \r\n              at android.os.Parcel.readParcelable(Parcel.java:2337) \r\n              at android.view.AbsSavedState.\u003cinit\u003e(AbsSavedState.java:57) \r\n              at android.view.View$BaseSavedState.\u003cinit\u003e(View.java:21451) \r\n              at com.hannesdorfmann.mosby3.MosbySavedState.\u003cinit\u003e(MosbySavedState.java:49) \r\n              at com.hannesdorfmann.mosby3.MosbySavedState$1.createFromParcel(MosbySavedState.java:34) \r\n              at com.hannesdorfmann.mosby3.MosbySavedState$1.createFromParcel(MosbySavedState.java:32) \r\n              at android.os.Parcel.readParcelable(Parcel.java:2346) \r\n              at android.os.Parcel.readValue(Parcel.java:2243) \r\n              at android.os.Parcel.readSparseArrayInternal(Parcel.java:2653) \r\n              at android.os.Parcel.readSparseArray(Parcel.java:1946) \r\n              at android.os.Parcel.readValue(Parcel.java:2300) \r\n              at android.os.Parcel.readArrayMapInternal(Parcel.java:2592) \r\n              at android.os.BaseBundle.unparcel(BaseBundle.java:221) \r\n              at android.os.Bundle.getSparseParcelableArray(Bundle.java:856) \r\n              at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1207) \r\n              at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1467) \r\n              at android.support.v4.app.FragmentManagerImpl.onCreateView(FragmentManager.java:3384) \r\n              at android.support.v4.app.FragmentController.onCreateView(FragmentController.java:120) \r\n              at android.support.v4.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:378) \r\n              at android.support.v4.app.BaseFragmentActivityHoneycomb.onCreateView(BaseFragmentActivityHoneycomb.java:33) \r\n              at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:79) \r\n              at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:754) \r\n              at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704) \r\n              at android.view.LayoutInflater.rInflate(LayoutInflater.java:835) \r\n              at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n              at android.view.LayoutInflater.rInflate(LayoutInflater.java:838) \r\n              at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \r\n              at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \r\n              at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \r\n              at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \r\n              at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:288) \r\n              at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:143) \r\n              at com.hannesdorfmann.mosby3.sample.mvi.MainActivity.onCreate(MainActivity.java:57) \r\n              at android.app.Activity.performCreate(Activity.java:6237) \r\n              at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107) \r\n              at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369) \r\n              at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476) \r\n              at android.app.ActivityThread.-wrap11(ActivityThread.java) \r\n              at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344) \r\n              at android.os.Handler.dispatchMessage(Handler.java:102) \r\n              at android.os.Looper.loop(Looper.java:148) \r\n              at android.app.ActivityThread.main(ActivityThread.java:5417) \r\n              at java.lang.reflect.Method.invoke(Native Method) \r\n              at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \r\n              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \r\n           Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\r\n```",
    "keywords": [
      "com",
      "os parcel",
      "v7",
      "handler",
      "appcompatdelegateimplv9",
      "support v4",
      "hannesdorfmann",
      "classloader",
      "main",
      "fragmentcontroller",
      "readparcelable",
      "fragmentactivity",
      "createviewfromtag",
      "view",
      "java",
      "layoutinflater",
      "fragmentmanagerimpl movetostate",
      "basefragmentactivityhoneycomb",
      "instrumentation",
      " ",
      "app",
      "createfromparcel",
      "parcel",
      "android os",
      "method",
      "\u003cinit\u003e",
      "toolbar$savedstate",
      "view layoutinflater",
      "layoutinflater rinflatechildren",
      "mosbysavedstate$1",
      "oncreateview",
      "v4 app",
      "android app",
      "fragmentmanager",
      "support",
      "native method",
      "layoutinflater java:798",
      "internal",
      "abssavedstate",
      "widget",
      "activity",
      "parcel readvalue",
      "readvalue",
      "app activitythread",
      "android",
      "android support",
      "looper",
      "lang class",
      "setcontentview",
      "createfromparcel mosbysavedstate",
      "native",
      "mosbysavedstate",
      "mainactivity",
      "mosby3",
      "classforname",
      "android view",
      "lang",
      "bundle",
      "class",
      "internal os",
      "zygoteinit",
      "os",
      "movetostate",
      "appcompatactivity",
      "com android",
      "mosby3 mosbysavedstate$1",
      "rinflatechildren",
      "rinflate",
      "java lang",
      "v7 app",
      "activitythread",
      "inflate",
      "com hannesdorfmann",
      "basebundle",
      "layoutinflater createviewfromtag",
      "java:798",
      "java:57",
      "layoutinflater inflate",
      "fragmentmanagerimpl",
      "v4"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/sockeqwe/mosby/commit/7a3ce09804adfbcbe95850021848c782c820e410",
      "files": [
        {
          "file_name": "mvp/src/main/java/com/hannesdorfmann/mosby3/mvp/delegate/MosbySavedState.java",
          "patch": "@@ -17,35 +17,40 @@\n \n import android.os.Parcel;\n import android.os.Parcelable;\n-import android.view.View;\n+import android.support.v4.os.ParcelableCompat;\n+import android.support.v4.os.ParcelableCompatCreatorCallbacks;\n+import android.support.v4.view.AbsSavedState;\n \n /**\n  * The SavedState implementation to store the view\u0027s internal id to\n  *\n  * @author Hannes Dorfmann\n  * @since 3.0\n  */\n-public class MosbySavedState extends View.BaseSavedState {\n+public class MosbySavedState extends AbsSavedState {\n \n   public static final Parcelable.Creator\u003cMosbySavedState\u003e CREATOR \u003d\n-      new Parcelable.Creator\u003cMosbySavedState\u003e() {\n-        public MosbySavedState createFromParcel(Parcel in) {\n-          return new MosbySavedState(in);\n+      ParcelableCompat.newCreator(new ParcelableCompatCreatorCallbacks\u003cMosbySavedState\u003e() {\n+        public MosbySavedState createFromParcel(Parcel in, ClassLoader loader) {\n+          if (loader \u003d\u003d null) {\n+            loader \u003d MosbySavedState.class.getClassLoader();\n+          }\n+          return new MosbySavedState(in, loader);\n         }\n \n         public MosbySavedState[] newArray(int size) {\n           return new MosbySavedState[size];\n         }\n-      };\n+      });\n \n   private int mosbyViewId \u003d 0;\n \n   public MosbySavedState(Parcelable superState) {\n     super(superState);\n   }\n \n-  protected MosbySavedState(Parcel in) {\n-    super(in);\n+  protected MosbySavedState(Parcel in, ClassLoader loader) {\n+    super(in, loader);\n     this.mosbyViewId \u003d in.readInt();\n   }\n "
        },
        {
          "file_name": "presentermanager/src/main/java/com/hannesdorfmann/mosby3/MosbySavedState.java",
          "patch": "@@ -18,26 +18,31 @@\n \n import android.os.Parcel;\n import android.os.Parcelable;\n-import android.view.View;\n+import android.support.v4.os.ParcelableCompat;\n+import android.support.v4.os.ParcelableCompatCreatorCallbacks;\n+import android.support.v4.view.AbsSavedState;\n \n /**\n  * The SavedState implementation to store the view\u0027s internal id to\n  *\n  * @author Hannes Dorfmann\n  * @since 3.0\n  */\n-public class MosbySavedState extends View.BaseSavedState {\n+public class MosbySavedState extends AbsSavedState {\n \n   public static final Creator\u003cMosbySavedState\u003e CREATOR \u003d\n-      new Creator\u003cMosbySavedState\u003e() {\n-        public MosbySavedState createFromParcel(Parcel in) {\n-          return new MosbySavedState(in);\n+      ParcelableCompat.newCreator(new ParcelableCompatCreatorCallbacks\u003cMosbySavedState\u003e() {\n+        public MosbySavedState createFromParcel(Parcel in, ClassLoader loader) {\n+          if (loader \u003d\u003d null) {\n+            loader \u003d MosbySavedState.class.getClassLoader();\n+          }\n+          return new MosbySavedState(in, loader);\n         }\n \n         public MosbySavedState[] newArray(int size) {\n           return new MosbySavedState[size];\n         }\n-      };\n+      });\n \n   private String mosbyViewId;\n \n@@ -46,8 +51,8 @@ public MosbySavedState(Parcelable superState, String mosbyViewId) {\n     this.mosbyViewId \u003d mosbyViewId;\n   }\n \n-  protected MosbySavedState(Parcel in) {\n-    super(in);\n+  protected MosbySavedState(Parcel in, ClassLoader loader) {\n+    super(in, loader);\n     this.mosbyViewId \u003d in.readString();\n   }\n "
        },
        {
          "file_name": "viewstate/src/main/java/com/hannesdorfmann/mosby3/mvp/delegate/MosbyViewStateSavedState.java",
          "patch": "@@ -17,6 +17,9 @@\n \n import android.os.Parcel;\n import android.os.Parcelable;\n+import android.support.v4.os.ParcelableCompat;\n+import android.support.v4.os.ParcelableCompatCreatorCallbacks;\n+\n import com.hannesdorfmann.mosby3.mvp.viewstate.RestorableParcelableViewState;\n \n /**\n@@ -28,25 +31,28 @@\n public class MosbyViewStateSavedState extends MosbySavedState {\n \n   public static final Parcelable.Creator\u003cMosbyViewStateSavedState\u003e CREATOR \u003d\n-      new Parcelable.Creator\u003cMosbyViewStateSavedState\u003e() {\n-        public MosbyViewStateSavedState createFromParcel(Parcel in) {\n-          return new MosbyViewStateSavedState(in);\n+      ParcelableCompat.newCreator(new ParcelableCompatCreatorCallbacks\u003cMosbyViewStateSavedState\u003e() {\n+        public MosbyViewStateSavedState createFromParcel(Parcel in, ClassLoader loader) {\n+          if (loader \u003d\u003d null) {\n+            loader \u003d RestorableParcelableViewState.class.getClassLoader();\n+          }\n+          return new MosbyViewStateSavedState(in, loader);\n         }\n \n         public MosbyViewStateSavedState[] newArray(int size) {\n           return new MosbyViewStateSavedState[size];\n         }\n-      };\n+      });\n \n   private RestorableParcelableViewState mosbyViewState;\n \n   public MosbyViewStateSavedState(Parcelable superState) {\n     super(superState);\n   }\n \n-  protected MosbyViewStateSavedState(Parcel in) {\n-    super(in);\n-    this.mosbyViewState \u003d in.readParcelable(RestorableParcelableViewState.class.getClassLoader());\n+  protected MosbyViewStateSavedState(Parcel in, ClassLoader loader) {\n+    super(in, loader);\n+    this.mosbyViewState \u003d in.readParcelable(loader);\n   }\n \n   @Override public void writeToParcel(Parcel out, int flags) {"
        }
      ]
    }
  },
  {
    "name": "crash on sign in on galaxy s4",
    "url": "https://github.com/inaturalist/iNaturalistAndroid/issues/292",
    "description": "Signed in as a user with almost no data and the app crashed on the observations list. Build 187 on a Samsung Galaxy S4 running Android 4.4.2.\r\n\r\n```\r\n01-19 13:32:27.199 809-918/? I/ActivityManager: Killing 10502:org.inaturalist.android/u0a238 (adj 7): stop org.inaturalist.android\r\n01-19 13:32:27.250 809-1452/? I/WindowState: WIN DEATH: Window{43f24a10 u0 org.inaturalist.android/org.inaturalist.android.ObservationListActivity}\r\n01-19 13:32:27.300 809-933/? W/PackageManager: Couldn\u0027t delete native library directory /data/app-lib/org.inaturalist.android\r\n01-19 13:32:27.300 809-933/? I/PackageManager: Removing old permission: org.inaturalist.android.permission.MAPS_RECEIVE from package org.inaturalist.android\r\n01-19 13:32:34.326 809-933/? D/PackageManager: Sending to user 0: act\u003dandroid.intent.action.PACKAGE_REMOVED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000000 Bundle[{android.intent.extra.REMOVED_FOR_ALL_USERS\u003dtrue, android.intent.extra.UID\u003d10238, android.intent.extra.DATA_REMOVED\u003dtrue, android.intent.extra.user_handle\u003d0}]\r\n01-19 13:32:34.437 809-933/? D/PackageManager: Sending to user 0: act\u003dandroid.intent.action.PACKAGE_FULLY_REMOVED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000000 Bundle[{android.intent.extra.REMOVED_FOR_ALL_USERS\u003dtrue, android.intent.extra.UID\u003d10238, android.intent.extra.DATA_REMOVED\u003dtrue, android.intent.extra.user_handle\u003d0}]\r\n01-19 13:32:34.457 1557-1557/? D/ContainerEventsRelayManager: \u003c\u003c\u003c Intent data is   \u003e\u003e\u003e : package:org.inaturalist.android\r\n01-19 13:32:34.497 2895-2895/? I/elm: MainReceiver.onReceive() : Intent { act\u003dandroid.intent.action.PACKAGE_REMOVED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000010 cmp\u003dcom.sec.esdk.elm/.receiver.MainReceiver (has extras) }\r\n01-19 13:32:34.497 2138-2250/? D/KnoxVpnEngine: handleActionPackageRemoved : packageName \u003d org.inaturalist.android : replacing \u003d false\r\n01-19 13:32:34.547 809-809/? D/BackupManagerService: Received broadcast Intent { act\u003dandroid.intent.action.PACKAGE_REMOVED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000010 (has extras) }\r\n01-19 13:32:34.567 1557-1557/? D/ContainerEventsRelayManager: \u003c\u003c\u003c Intent data is   \u003e\u003e\u003e : package:org.inaturalist.android\r\n01-19 13:32:34.617 2895-2895/? I/elm: MainReceiver.onReceive() END - - - - - : Intent { act\u003dandroid.intent.action.PACKAGE_REMOVED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000010 cmp\u003dcom.sec.esdk.elm/.receiver.MainReceiver (has extras) }\r\n01-19 13:32:35.277 809-919/? I/CrashAnrDetector: onPackageRemoved : org.inaturalist.android\r\n01-19 13:32:35.437 11269-11269/? D/CapabilityManagerService New: The package(org.inaturalist.android) removed\r\n01-19 13:32:35.788 809-1533/? D/PackageManager: START_PACKAGE_INSTALL: observer{1135740736}\r\n                                                          PackageURI{file:///data/local/tmp/org.inaturalist.android}\r\n01-19 13:32:35.858 809-933/? D/PackageManager: Found 1 verifiers for intent Intent { act\u003dandroid.intent.action.PACKAGE_NEEDS_VERIFICATION dat\u003dfile:///data/local/tmp/org.inaturalist.android typ\u003dapplication/vnd.android.package-archive flg\u003d0x1 } with 0 optional verifiers\r\n01-19 13:32:35.988 3672-3672/? I/Finsky: [1] com.google.android.finsky.wear.WearSupportService.a(310): Wear auto uninstall disabled for package org.inaturalist.android\r\n01-19 13:32:36.268 25574-11400/? I/LocationSettingsChecker: Removing dialog suppression flag for package org.inaturalist.android\r\n01-19 13:32:36.298 26900-26900/? E/SPPClientService: [PackageInfoChangeReceiver] [handlePkgRemovedEvent] PackageName : org.inaturalist.android, false, true\r\n01-19 13:32:36.368 25574-29463/? E/WorkSourceUtil: Could not find package: org.inaturalist.android\r\n01-19 13:32:36.368 25574-30281/? I/Icing: doRemovePackageData org.inaturalist.android\r\n01-19 13:32:36.619 11412-11412/? I/DMAgent: Syncing now as package:org.inaturalist.android is android.intent.action.PACKAGE_REMOVED\r\n01-19 13:32:36.619 11379-11396/? I/UpdateIcingCorporaServi: Updating corpora: APPS\u003dorg.inaturalist.android, CONTACTS\u003dMAYBE\r\n01-19 13:32:40.853 3672-3672/? I/Finsky: [1] com.google.android.vending.verifier.ak.c(195): Verification complete: id\u003d13, package_name\u003dorg.inaturalist.android\r\n01-19 13:32:52.925 809-933/? D/PackageManager: Sending to user 0: act\u003dandroid.intent.action.PACKAGE_ADDED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000000 Bundle[{android.intent.extra.UID\u003d10257, android.intent.extra.user_handle\u003d0}]\r\n01-19 13:32:52.955 1557-1557/? D/ContainerEventsRelayManager: \u003c\u003c\u003c Intent data is   \u003e\u003e\u003e : package:org.inaturalist.android\r\n01-19 13:32:52.965 2138-2250/? D/KnoxVpnEngine: Inside updatePackageData : packageName \u003d org.inaturalist.android\r\n01-19 13:32:53.085 809-809/? D/BackupManagerService: Received broadcast Intent { act\u003dandroid.intent.action.PACKAGE_ADDED dat\u003dpackage:org.inaturalist.android flg\u003d0x4000010 (has extras) }\r\n01-19 13:32:53.135 809-809/? D/ECS_EnterpriseContainerService: \u003c\u003c\u003c Intent data is   \u003e\u003e\u003e : package:org.inaturalist.android\r\n01-19 13:32:53.916 25656-25656/? D/InstallAPKReceiver: appName:org.inaturalist.android\r\n01-19 13:32:54.006 809-919/? I/CrashAnrDetector: onPackageAdded : org.inaturalist.android\r\n01-19 13:32:54.516 809-1468/? V/ApplicationPolicy: isApplicationStateBlocked userId 0 pkgname org.inaturalist.android\r\n01-19 13:32:54.846 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/create]\r\n01-19 13:32:54.846 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:32:54.846 11868-11868/org.inaturalist.android I/MultiDex: VM with version 1.6.0 does not have multidex support\r\n01-19 13:32:54.846 11868-11868/org.inaturalist.android I/MultiDex: install\r\n01-19 13:32:54.846 11868-11868/org.inaturalist.android I/MultiDex: MultiDexExtractor.load(/data/app/org.inaturalist.android-1.apk, false)\r\n01-19 13:32:54.856 11868-11868/org.inaturalist.android I/MultiDex: Detected that extraction must be performed.\r\n01-19 13:32:54.896 11868-11868/org.inaturalist.android I/MultiDex: Extraction is needed for file /data/data/org.inaturalist.android/code_cache/secondary-dexes/org.inaturalist.android-1.apk.classes2.zip\r\n01-19 13:32:54.896 11868-11868/org.inaturalist.android I/MultiDex: Extracting /data/data/org.inaturalist.android/code_cache/secondary-dexes/org.inaturalist.android-1.apk.classes1020634997.zip\r\n01-19 13:32:55.317 11901-11901/? D/FileShare-Server: ServerBroadcastReceiver.onReceive - action android.intent.action.PACKAGE_ADDED // package:org.inaturalist.android\r\n01-19 13:32:55.817 11868-11868/org.inaturalist.android I/MultiDex: Renaming to /data/data/org.inaturalist.android/code_cache/secondary-dexes/org.inaturalist.android-1.apk.classes2.zip\r\n01-19 13:32:55.817 11868-11868/org.inaturalist.android I/MultiDex: Extraction success - length /data/data/org.inaturalist.android/code_cache/secondary-dexes/org.inaturalist.android-1.apk.classes2.zip: 1151876\r\n01-19 13:32:55.817 11868-11868/org.inaturalist.android I/MultiDex: load found 1 secondary dex files\r\n01-19 13:32:55.887 11868-11868/org.inaturalist.android D/dalvikvm: DexOpt: --- BEGIN \u0027org.inaturalist.android-1.apk.classes2.zip\u0027 (bootstrap\u003d0) ---\r\n01-19 13:32:55.887 3672-3672/? I/Finsky: [1] com.google.android.finsky.activities.a.\u003cinit\u003e(114): org.inaturalist.android is installed but certificate mistmatch\r\n01-19 13:32:55.887 3672-3672/? I/Finsky: [1] com.google.android.finsky.wear.WearSupportService.a(307): Wear auto install disabled for package org.inaturalist.android\r\n01-19 13:32:55.937 11379-11988/? I/UpdateIcingCorporaServi: Updating corpora: APPS\u003dorg.inaturalist.android, CONTACTS\u003dMAYBE\r\n01-19 13:32:57.079 11412-11412/? I/DMAgent: Syncing now as package:org.inaturalist.android is android.intent.action.PACKAGE_ADDED\r\n01-19 13:32:57.139 11868-11868/org.inaturalist.android D/dalvikvm: DexOpt: --- END \u0027org.inaturalist.android-1.apk.classes2.zip\u0027 (success) ---\r\n01-19 13:32:57.139 11868-11868/org.inaturalist.android D/dalvikvm: DEX prep \u0027/data/data/org.inaturalist.android/code_cache/secondary-dexes/org.inaturalist.android-1.apk.classes2.zip\u0027: unzip in 59ms, rewrite 1251ms\r\n01-19 13:32:57.139 11868-11868/org.inaturalist.android I/MultiDex: install done\r\n01-19 13:32:57.139 11868-11868/org.inaturalist.android I/MultiDex: install\r\n01-19 13:32:57.199 11868-11868/org.inaturalist.android W/ApplicationPackageManager: getCSCPackageItemText()\r\n01-19 13:32:57.199 11868-11868/org.inaturalist.android I/Fabric: Initializing Crashlytics 2.3.3.61\r\n01-19 13:32:57.249 11868-11868/org.inaturalist.android W/ContextImpl: Failed to ensure directory: /storage/extSdCard/Android/data/org.inaturalist.android/cache\r\n01-19 13:32:57.279 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.widget.GridView.setSelectionFromTop, referenced from method org.inaturalist.android.ObservationListActivity.onResume\r\n01-19 13:32:57.279 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 22033: Landroid/widget/GridView;.setSelectionFromTop (II)V\r\n01-19 13:32:57.279 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x0055\r\n01-19 13:32:57.279 11868-11868/org.inaturalist.android W/ApplicationPackageManager: getCSCPackageItemText()\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to find class referenced in signature (Landroid/view/SearchEvent;)\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.view.Window$Callback.onSearchRequested, referenced from method android.support.v7.view.WindowCallbackWrapper.onSearchRequested\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve interface method 21319: Landroid/view/Window$Callback;.onSearchRequested (Landroid/view/SearchEvent;)Z\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x72 at 0x0002\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.view.Window$Callback.onWindowStartingActionMode, referenced from method android.support.v7.view.WindowCallbackWrapper.onWindowStartingActionMode\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve interface method 21323: Landroid/view/Window$Callback;.onWindowStartingActionMode (Landroid/view/ActionMode$Callback;I)Landroid/view/ActionMode;\r\n01-19 13:32:57.289 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x72 at 0x0002\r\n01-19 13:32:57.329 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.content.res.TypedArray.getChangingConfigurations, referenced from method android.support.v7.widget.TintTypedArray.getChangingConfigurations\r\n01-19 13:32:57.329 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 743: Landroid/content/res/TypedArray;.getChangingConfigurations ()I\r\n01-19 13:32:57.329 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x0002\r\n01-19 13:32:57.329 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.content.res.TypedArray.getType, referenced from method android.support.v7.widget.TintTypedArray.getType\r\n01-19 13:32:57.329 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 765: Landroid/content/res/TypedArray;.getType (I)I\r\n01-19 13:32:57.329 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x0002\r\n01-19 13:32:57.349 11868-12012/org.inaturalist.android I/dalvikvm: Could not find method android.content.pm.PackageManager.getPackageInstaller, referenced from method com.google.android.gms.common.GooglePlayServicesUtil.zzh\r\n01-19 13:32:57.349 11868-12012/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 659: Landroid/content/pm/PackageManager;.getPackageInstaller ()Landroid/content/pm/PackageInstaller;\r\n01-19 13:32:57.349 11868-12012/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x000b\r\n01-19 13:32:57.399 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/create]\r\n01-19 13:32:57.399 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:32:57.459 11868-11868/org.inaturalist.android I/INAT:ObservationListActivity: Registering ACTION_SYNC_COMPLETE\r\n01-19 13:32:57.459 11868-11868/org.inaturalist.android I/INAT:ObservationListActivity: Registering CONNECTIVITY_ACTION\r\n01-19 13:32:57.479 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.content.res.Resources.getDrawable, referenced from method android.support.v7.widget.ResourcesWrapper.getDrawable\r\n01-19 13:32:57.479 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 706: Landroid/content/res/Resources;.getDrawable (ILandroid/content/res/Resources$Theme;)Landroid/graphics/drawable/Drawable;\r\n01-19 13:32:57.479 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x0002\r\n01-19 13:32:57.479 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.content.res.Resources.getDrawableForDensity, referenced from method android.support.v7.widget.ResourcesWrapper.getDrawableForDensity\r\n01-19 13:32:57.479 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 708: Landroid/content/res/Resources;.getDrawableForDensity (IILandroid/content/res/Resources$Theme;)Landroid/graphics/drawable/Drawable;\r\n01-19 13:32:57.479 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x0002\r\n01-19 13:32:57.609 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 13:32:57.649 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 13:32:57.659 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (((_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) OR (_synced_at IS NULL) OR (is_deleted \u003d 1))) ORDER BY _created_at ASC\r\n01-19 13:32:57.659 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NULL)) OR ((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NOT NULL) AND (_updated_at \u003e _synced_at)) OR (is_deleted \u003d 1)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 13:32:57.679 11868-11868/org.inaturalist.android W/FlurryAgent: Start session with context: org.inaturalist.android.ObservationListActivity@42c4f8f8 count:0\r\n01-19 13:32:57.689 809-1468/? D/LocationManagerService: request 43dc6138 gps Request[ACCURACY_FINE gps requested\u003d+10s0ms fastest\u003d+10s0ms] from org.inaturalist.android(10257)\r\n01-19 13:32:57.689 11868-11868/org.inaturalist.android W/FlurryAgent: Event count started: ObservationListActivity\r\n01-19 13:32:57.689 11868-11868/org.inaturalist.android I/BaseFragmentActivity: Registering ACTION_GET_USER_DETAILS_RESULT\r\n01-19 13:32:57.689 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE ((_synced_at IS NULL) AND (is_deleted \u003d 0 OR is_deleted is NULL)) ORDER BY CASE WHEN id IS NULL THEN _created_at ELSE created_at END DESC\r\n01-19 13:32:57.699 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 13:32:57.699 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (((_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) OR (_synced_at IS NULL) OR (is_deleted \u003d 1))) ORDER BY _created_at ASC\r\n01-19 13:32:57.699 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NULL)) OR ((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NOT NULL) AND (_updated_at \u003e _synced_at)) OR (is_deleted \u003d 1)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 13:32:57.739 11868-11868/org.inaturalist.android W/FlurryAgent: End session with context: org.inaturalist.android.ObservationListActivity@42c4f8f8 count:0\r\n01-19 13:32:57.739 11868-11868/org.inaturalist.android W/ApplicationPackageManager: getCSCPackageItemText()\r\n01-19 13:32:57.799 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 1708K, 29% free 19082K/26608K, paused 26ms, total 26ms\r\n01-19 13:32:57.819 11868-11868/org.inaturalist.android I/dalvikvm-heap: Grow heap (frag case) to 31.766MB for 10396816-byte allocation\r\n01-19 13:32:57.869 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 789K, 23% free 28468K/36764K, paused 22ms, total 22ms\r\n01-19 13:32:57.889 11868-11868/org.inaturalist.android I/dalvikvm-heap: Grow heap (frag case) to 40.932MB for 10396816-byte allocation\r\n01-19 13:32:57.919 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/create]\r\n01-19 13:32:57.919 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:32:57.939 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed \u003c1K, 18% free 38626K/46920K, paused 17ms, total 17ms\r\n01-19 13:32:57.959 11868-11868/org.inaturalist.android I/dalvikvm-heap: Grow heap (frag case) to 51.851MB for 10396816-byte allocation\r\n01-19 13:32:58.040 11868-11868/org.inaturalist.android W/FlurryAgent: Start session with context: org.inaturalist.android.OnboardingActivity@42dcdfd8 count:0\r\n01-19 13:32:58.040 11868-11868/org.inaturalist.android W/FlurryAgent: Event count started: OnboardingActivity\r\n01-19 13:32:58.050 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE ((photo_filename IS NULL) AND (photo_url IS NULL)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 13:32:58.050 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _synced_at, _updated_at, created_at, description, geoprivacy, iconic_taxon_id, iconic_taxon_name, id, id_please, latitude, longitude, observed_on, observed_on_string, out_of_range, captive, place_guess, positional_accuracy, positioning_device, positioning_method, private_latitude, private_longitude, private_positional_accuracy, quality_grade, species_guess, preferred_common_name, taxon_id, time_observed_at, updated_at, user_agent, user_id, user_login, identifications_count, comments_count, last_comments_count, last_identifications_count, is_deleted, uuid FROM observations WHERE (((_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) OR (_synced_at IS NULL) OR (is_deleted \u003d 1))) ORDER BY _created_at ASC\r\n01-19 13:32:58.060 11868-11868/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, _observation_id, _photo_id, _synced_at, _updated_at, created_at, uuid, id, observation_id, photo_id, position, updated_at, photo_url, is_deleted, photo_filename FROM observation_photos WHERE (((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NULL)) OR ((photo_url IS NULL) AND (_updated_at IS NOT NULL) AND (_synced_at IS NOT NULL) AND (_updated_at \u003e _synced_at)) OR (is_deleted \u003d 1)) ORDER BY position ASC, id ASC, _id ASC\r\n01-19 13:32:58.110 11868-11868/org.inaturalist.android I/dalvikvm: Could not find method android.view.Window.setStatusBarColor, referenced from method org.inaturalist.android.TutorialActivity.onCreate\r\n01-19 13:32:58.110 11868-11868/org.inaturalist.android W/dalvikvm: VFY: unable to resolve virtual method 21340: Landroid/view/Window;.setStatusBarColor (I)V\r\n01-19 13:32:58.110 11868-11868/org.inaturalist.android D/dalvikvm: VFY: replacing opcode 0x6e at 0x001a\r\n01-19 13:32:58.110 11868-11868/org.inaturalist.android W/ApplicationPackageManager: getCSCPackageItemText()\r\n01-19 13:32:58.150 11868-11868/org.inaturalist.android D/INAT: Application: Detected country: us\r\n01-19 13:32:58.160 11868-11868/org.inaturalist.android W/FlurryAgent: Start session with context: org.inaturalist.android.TutorialActivity@42b2a8c0 count:1\r\n01-19 13:32:58.160 11868-11868/org.inaturalist.android W/FlurryAgent: Event count started: TutorialActivity\r\n01-19 13:32:58.170 11868-11868/org.inaturalist.android W/FlurryAgent: End session with context: org.inaturalist.android.OnboardingActivity@42dcdfd8 count:1\r\n01-19 13:32:58.230 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 1960K, 13% free 49890K/57076K, paused 22ms, total 22ms\r\n01-19 13:32:58.290 11868-11868/org.inaturalist.android W/FragmentManager: moveToState: Fragment state for TutorialFragment{42db3558 #1 id\u003d0x7f0e0248 android:switcher:2131624520:1} not updated inline; expected state 3 found 2\r\n01-19 13:32:58.320 11868-11868/org.inaturalist.android I/Adreno-EGL: \u003cqeglDrvAPI_eglInitialize:381\u003e: EGL 1.4 QUALCOMM build:  (CL3869936)\r\n                                                                     OpenGL ES Shader Compiler Version: 17.01.11.SPL\r\n                                                                     Build Date: 01/17/14 Fri\r\n                                                                     Local Branch: \r\n                                                                     Remote Branch: \r\n                                                                     Local Patches: \r\n                                                                     Reconstruct Branch: \r\n01-19 13:32:58.350 11868-11868/org.inaturalist.android D/OpenGLRenderer: Enabling debug mode 0\r\n01-19 13:32:58.370 11868-11868/org.inaturalist.android W/FlurryAgent: End session with context: org.inaturalist.android.TutorialActivity@42b2a8c0 count:0\r\n01-19 13:32:58.370 809-1307/? I/LocationManagerService: remove 43dc6138 by org.inaturalist.android\r\n01-19 13:33:01.843 11868-12050/org.inaturalist.android W/FlurryAgent: FlurryDataSender: report 1517dec2-cd21-4cd0-8558-69aef82cb662 sent. HTTP response: 200\r\n01-19 13:33:08.380 11868-12058/org.inaturalist.android W/FlurryAgent: Finalize session\r\n01-19 13:33:14.245 11868-12104/org.inaturalist.android W/FlurryAgent: FlurryDataSender: report ff153eb7-ef52-4b6b-88a4-4f347683cb3c sent. HTTP response: 200\r\n01-19 13:34:00.140 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/resume]\r\n01-19 13:34:00.150 11868-11868/org.inaturalist.android W/FlurryAgent: Start session with context: org.inaturalist.android.TutorialActivity@42b2a8c0 count:0\r\n01-19 13:34:00.150 809-1119/? D/LocationManagerService: request 469b9a28 gps Request[ACCURACY_FINE gps requested\u003d+10s0ms fastest\u003d+10s0ms] from org.inaturalist.android(10257)\r\n01-19 13:34:00.150 11868-11868/org.inaturalist.android W/FlurryAgent: Event count started: TutorialActivity\r\n01-19 13:34:00.661 11868-12241/org.inaturalist.android W/FlurryAgent: FlurryDataSender: report e6019398-465b-411c-ae8c-fe26f3e6340e sent. HTTP response: 200\r\n01-19 13:34:07.627 11868-11868/org.inaturalist.android W/FragmentManager: moveToState: Fragment state for TutorialFragment{4314ea18 #2 id\u003d0x7f0e0248 android:switcher:2131624520:2} not updated inline; expected state 3 found 2\r\n01-19 13:34:08.158 11868-11868/org.inaturalist.android W/FragmentManager: moveToState: Fragment state for TutorialFragment{43158120 #3 id\u003d0x7f0e0248 android:switcher:2131624520:3} not updated inline; expected state 3 found 2\r\n01-19 13:34:08.668 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 3332K, 9% free 60813K/66368K, paused 69ms, total 69ms\r\n01-19 13:34:08.718 11868-11868/org.inaturalist.android W/FragmentManager: moveToState: Fragment state for TutorialFragment{43160fc8 #4 id\u003d0x7f0e0248 android:switcher:2131624520:4} not updated inline; expected state 3 found 2\r\n01-19 13:34:09.229 11868-11868/org.inaturalist.android W/FragmentManager: moveToState: Fragment state for TutorialFragment{430a6858 #5 id\u003d0x7f0e0248 android:switcher:2131624520:5} not updated inline; expected state 3 found 2\r\n01-19 13:34:10.680 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:34:10.710 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/resume]\r\n01-19 13:34:10.710 11868-11868/org.inaturalist.android W/FlurryAgent: Start session with context: org.inaturalist.android.OnboardingActivity@42dcdfd8 count:1\r\n01-19 13:34:10.720 11868-11868/org.inaturalist.android W/FlurryAgent: Event count started: OnboardingActivity\r\n01-19 13:34:11.191 11868-11868/org.inaturalist.android W/FlurryAgent: End session with context: org.inaturalist.android.TutorialActivity@42b2a8c0 count:1\r\n01-19 13:34:14.074 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:34:14.104 11868-11868/org.inaturalist.android W/ApplicationPackageManager: getCSCPackageItemText()\r\n01-19 13:34:14.104 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/create]\r\n01-19 13:34:14.154 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 4750K, 15% free 59527K/69468K, paused 22ms, total 22ms\r\n01-19 13:34:14.164 11868-11868/org.inaturalist.android I/dalvikvm-heap: Grow heap (frag case) to 71.262MB for 10396816-byte allocation\r\n01-19 13:34:14.284 11868-11868/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 9588K, 25% free 60312K/79624K, paused 20ms, total 20ms\r\n01-19 13:34:14.284 11868-11868/org.inaturalist.android I/dalvikvm-heap: Grow heap (frag case) to 72.030MB for 10396816-byte allocation\r\n01-19 13:34:14.314 11868-11868/org.inaturalist.android W/FlurryAgent: Start session with context: org.inaturalist.android.LoginSignupActivity@42b88148 count:1\r\n01-19 13:34:14.324 11868-11868/org.inaturalist.android W/FlurryAgent: Event count started: LoginSignupActivity\r\n01-19 13:34:15.025 11868-11868/org.inaturalist.android W/FlurryAgent: End session with context: org.inaturalist.android.OnboardingActivity@42dcdfd8 count:1\r\n01-19 13:34:27.437 11868-11868/org.inaturalist.android D/ProgressBar: updateDrawableBounds: left \u003d 0\r\n01-19 13:34:27.437 11868-11868/org.inaturalist.android D/ProgressBar: updateDrawableBounds: top \u003d 0\r\n01-19 13:34:27.437 11868-11868/org.inaturalist.android D/ProgressBar: updateDrawableBounds: right \u003d 144\r\n01-19 13:34:27.437 11868-11868/org.inaturalist.android D/ProgressBar: updateDrawableBounds: bottom \u003d 144\r\n01-19 13:34:28.638 11868-12024/org.inaturalist.android D/INaturalistService: RESP2: {\"id\":9812,\"login\":\"inara\",\"name\":\"Ken-ichi the Space Courtesan\",\"email\":\"kueda+inara@inaturalist.org\",\"created_at\":\"2012-09-26T12:37:12.053-07:00\",\"updated_at\":\"2017-01-18T11:56:38.862-08:00\",\"state\":\"passive\",\"time_zone\":\"Pacific Time (US \\u0026 Canada)\",\"description\":\"One of my test accounts. For testing.\",\"life_list_id\":65298,\"observations_count\":0,\"identifications_count\":1,\"journal_posts_count\":0,\"life_list_taxa_count\":14,\"uri\":\"http://www.inaturalist.org/users/9812\",\"locale\":\"\",\"site_id\":1,\"place_id\":null,\"spammer\":false,\"spam_count\":0,\"last_active\":\"2017-01-19\",\"subscriptions_suspended_at\":null,\"test_groups\":\"taxon-page\",\"user_icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/thumb.jpeg?1475603064\",\"medium_user_icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/medium.jpeg?1475603064\",\"original_user_icon_url\":\"https://static.inaturalist.org/attachments/users/icons/9812/original.jpeg?1475603064\",\"created_at_utc\":\"2012-09-26T19:37:12.053Z\",\"updated_at_utc\":\"2017-01-18T19:56:38.862Z\"}\r\n01-19 13:34:28.718 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:34:28.748 11868-11868/org.inaturalist.android E/ViewRootImpl: sendUserActionEvent() mView \u003d\u003d null\r\n01-19 13:34:28.788 11868-12699/org.inaturalist.android D/INaturalistService: Service: first_sync\r\n01-19 13:34:28.788 11868-12699/org.inaturalist.android D/INaturalistService: URL: get - https://www.inaturalist.org/projects/user/inara.json (null)\r\n01-19 13:34:28.788 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/resume]\r\n01-19 13:34:28.818 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android D/AndroidRuntime: Shutting down VM\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/dalvikvm: threadid\u003d1: thread exiting with uncaught exception (group\u003d0x41867da0)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err: java.lang.NullPointerException\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at org.inaturalist.android.ObservationListActivity$2.run(ObservationListActivity.java:663)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at android.os.Handler.handleCallback(Handler.java:733)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at android.os.Looper.loop(Looper.java:157)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5356)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at java.lang.reflect.Method.invoke(Method.java:515)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/System.err:     at dalvik.system.NativeStart.main(Native Method)\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/FlurryAgent: Error logged: uncaught\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/FlurryAgent: End session with context: org.inaturalist.android.LoginSignupActivity@42b88148 count:0\r\n01-19 13:34:28.828 11868-11868/org.inaturalist.android W/FlurryAgent: Finalize session\r\n01-19 13:34:28.828 809-1507/? I/LocationManagerService: remove 469b9a28 by org.inaturalist.android\r\n01-19 13:34:29.339 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/resume]\r\n01-19 13:34:29.429 11868-12699/org.inaturalist.android D/dalvikvm: GC_FOR_ALLOC freed 11818K, 10% free 60690K/67224K, paused 42ms, total 43ms\r\n01-19 13:34:29.469 11868-11868/org.inaturalist.android E/AndroidRuntime: FATAL EXCEPTION: main\r\n                                                                         Process: org.inaturalist.android, PID: 11868\r\n                                                                         java.lang.NullPointerException\r\n                                                                             at org.inaturalist.android.ObservationListActivity$2.run(ObservationListActivity.java:663)\r\n                                                                             at android.os.Handler.handleCallback(Handler.java:733)\r\n                                                                             at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                             at android.os.Looper.loop(Looper.java:157)\r\n                                                                             at android.app.ActivityThread.main(ActivityThread.java:5356)\r\n                                                                             at java.lang.reflect.Method.invokeNative(Native Method)\r\n                                                                             at java.lang.reflect.Method.invoke(Method.java:515)\r\n                                                                             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\r\n                                                                             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\r\n                                                                             at dalvik.system.NativeStart.main(Native Method)\r\n01-19 13:34:29.479 809-1506/? W/ActivityManager:   Force finishing activity org.inaturalist.android/.ObservationListActivity\r\n01-19 13:34:29.489 809-1193/? V/SmartFaceService - 3rd party pause: onReceive [android.intent.action.ACTIVITY_STATE/org.inaturalist.android/pause]\r\n01-19 13:34:29.529 809-809/? D/CrashAnrDetector: processName: org.inaturalist.android\r\n01-19 13:34:29.529 809-809/? D/CrashAnrDetector: broadcastEvent : org.inaturalist.android data_app_crash\r\n01-19 13:34:29.639 11868-12699/org.inaturalist.android D/INaturalistService: RESP: [{\"id\":23542,\"project_id\":1756,\"user_id\":9812,\"created_at\":\"2014-03-18T14:16:21.149-07:00\",\"updated_at\":\"2014-03-19T00:54:39.234-07:00\",\"role\":null,\"observations_count\":0,\"taxa_count\":0,\"user\":{\"login\":\"inara\"},\"project\":{\"id\":1756,\"user_id\":9886,\"title\":\"All Texas Nature\",\"description\":\"This project is a repository for citizen science observations through the Texas Parks \\u0026 Wildlife mobile app, Texas Nature Trackers.\",\"terms\":\"Observations submitted to this project are posted on iNaturalist.org and are visible to the public.  If you don\u0027t want the location to be made public, set Geoprivacy to \\\"Private\\\" or \\\"Obscured\\\" when adding an observation.\\r\\n\\r\\nBy submitting an observation, you agree to allow TPWD to use your data to highest extent possible for conservation purposes.\",\"created_at\":\"2014-03-17T17:15:58.388-07:00\",\"updated_at\":\"2017-01-19T13:31:40.714-08:00\",\"icon_file_name\":\"Screen_Shot_2014-04-07_at_6.46.11_PM.png\",\"icon_content_type\":\"image/png\",\"icon_file_size\":58419,\"icon_updated_at\":\"2014-04-07T16:46:43.052-07:00\",\"project_type\":\"\",\"slug\":\"all-texas-nature\",\"observed_taxa_count\":3482,\"featured_at\":null,\"source_url\":\"\",\"delta\":false,\"place_id\":18,\"map_type\":\"terrain\",\"latitude\":\"31.16913\",\"longitude\":\"-100.0769\",\"zoom_level\":5,\"cover_file_name\":null,\"cover_content_type\":null,\"cover_file_size\":null,\"cover_updated_at\":null,\"event_url\":\"\",\"start_time\":null,\"end_time\":null,\"trusted\":false,\"group\":\"TPWD\",\"last_aggregated_at\":\"2017-01-19T13:31:40.701-08:00\",\"icon_url\":\"https://www.inaturalist.org/attachments/projects/icons/1756/span2/Screen_Shot_2014-04-07_at_6.46.11_PM.png?1396914403\",\"project_observation_rule_terms\":\"must be observed in Texas, US|observer must allow project curators to view coordinates.\",\"featured_at_utc\":null,\"rule_place\":{\"id\":18,\"name\":\"Texas\",\"display_name\":\"Texas, US\",\"code\":\"US-TX\",\"latitude\":\"31.4472169582\",\"longitude\":\"-99.3171370395\",\"swlat\":\"25.837164\",\"swlng\":\"-106.645646\",\"nelat\":\"36.500704\",\"nelng\":\"-93.508039\",\"woeid\":2347602,\"parent_id\":1,\"check_list_id\":316,\"place_type\":8,\"source_name\":\"244_48\",\"source_identifier\":\"43.0\",\"created_at\":\"2009-06-29T21:46:33.000-07:00\",\"updated_at\":\"2016-03-08T18:12:08.953-08:00\",\"user_id\":null,\"ancestry\":\"9853/1\",\"slug\":\"texas\",\"source_id\":10464,\"admin_level\":1,\"place_type_name\":\"State\"},\"cached_slug\":\"all-texas-nature\",\"project_list\":{\"id\":110987,\"title\":\"All Texas Nature\u0027s Check List\",\"description\":\"The species list for All Texas Nature\",\"user_id\":null,\"created_at\":\"2014-03-17T17:15:58.510-07:00\",\"updated_at\":\"2014-03-17T17:15:58.510-07:00\",\"comprehensive\":false,\"taxon_id\":null,\"last_synced_at\":null,\"place_id\":null,\"project_id\":1756,\"source_id\":null,\"show_obs_photos\":true},\"project_observation_fields\":[]}},{\"id\":145030,\"project_id\":7937,\"user_id\":9812,\"created_at\":\"2016-08-01T16:45:42.785-07:00\",\"updated_at\":\"2016-08-01T16:45:42.785-07:00\",\"role\":null,\"observations_count\":0,\"taxa_count\":0,\"user\":{\"login\":\"inara\"},\"project\":{\"id\":7937,\"user_id\":53165,\"title\":\"Fauna of the CAS Living Roof\",\"description\":\"Animals and Insects living or visiting the vegetated areas on the California Academy of Sciences living roof.\",\"terms\":\"\",\"created_at\":\"2016-06-14T13:15:53.673-07:00\",\"updated_at\":\"2016-11-05T09:07:57.509-07:00\",\"icon_file_name\":null,\"icon_content_type\":null,\"icon_file_size\":null,\"icon_updated_at\":null,\"project_type\":\"\",\"slug\":\"fauna-of-the-cas-living-roof\",\"observed_taxa_count\":29,\"featured_at\":null,\"source_url\":null,\"delta\":false,\"place_id\":55189,\"map_type\":\"terrain\",\"latitude\":\"37.7698233967\",\"longitude\":\"-122.4660855532\",\"zoom_level\":17,\"cover_file_name\":null,\"cover_content_type\":null,\"cover_file_size\":null,\"cover_updated_at\":null,\"event_url\":\"\",\"start_time\":null,\"end_time\":null,\"trusted\":false,\"group\":null,\"last_aggregated_at\":null,\"icon_url\":null,\"project_observation_rule_terms\":\"must be observed in California Academy of Sciences Living Roof, CA, US\",\"featured_at_utc\":null,\"rule_place\":{\"id\":55189,\"name\":\"California Academy of Sciences Living Roof\",\"display_name\":\"California Academy of Scienc\r\n01-19 13:34:29.729 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d0 is_required\u003dfalse description\u003dHow many seahorses did you see at this time? data_type\u003dnumeric project_id\u003d871 name\u003dNo. of seahorse(s) observed allowed_values\u003d field_id\u003d404\r\n01-19 13:34:29.739 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d1 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dSeahorse habitat allowed_values\u003d|Artificial|Coral|Drifting while attached|Mangrove|Mud|Rock|Rubble|Sand|Seagrass|Seaweed/algae|Open water|Other (shells, etc.)|Unknown field_id\u003d402\r\n01-19 13:34:29.749 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d2 is_required\u003dfalse description\u003dDepth at which seahorse(s) found data_type\u003dnumeric project_id\u003d871 name\u003dSeahorse(s) depth (metres) allowed_values\u003d field_id\u003d405\r\n01-19 13:34:29.759 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d3 is_required\u003dfalse description\u003dWhat were you doing when you saw this seahorse? Underwater (SCUBA, snorkelling, swimming), fishing, or on land (coastal walk, beachcombing, etc.) data_type\u003dtext project_id\u003d871 name\u003dType of activity allowed_values\u003d|Underwater|Fishing|On land field_id\u003d393\r\n01-19 13:34:29.769 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d4 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dTime of seahorse observation allowed_values\u003d|Dawn|Day|Dusk|Night field_id\u003d444\r\n01-19 13:34:29.789 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d5 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dWere you looking for seahorses? allowed_values\u003d|Yes|No|Unknown field_id\u003d401\r\n01-19 13:34:29.799 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d6 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dHave you seen seahorses here before? allowed_values\u003d|Yes|No|Unknown field_id\u003d412\r\n01-19 13:34:29.809 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d7 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dWas the seahorse inside a no fishing zone? allowed_values\u003d|Yes|No|Unknown field_id\u003d392\r\n01-19 13:34:29.819 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d8 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dIf fishing, what species were you targeting? allowed_values\u003d field_id\u003d414\r\n01-19 13:34:29.829 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d9 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dIf fishing, gear type used allowed_values\u003d|Gill net|Push net|Trap|Trawl net|Other field_id\u003d413\r\n01-19 13:34:29.839 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d10 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dIf selected \u0027Other\u0027 for \u0027gear type used\u0027, please describe allowed_values\u003d field_id\u003d422\r\n01-19 13:34:29.849 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d11 is_required\u003dfalse description\u003dHow many people were with you when you were engaged in the activity? data_type\u003dtext project_id\u003d871 name\u003dNo. of people in party allowed_values\u003d|1|2|3|4|5|6|7|8|9|10+|Unknown field_id\u003d399\r\n01-19 13:34:29.859 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d12 is_required\u003dfalse description\u003dAre other people from your party also submitting observations? data_type\u003dtext project_id\u003d871 name\u003dOthers submitting observation(s) allowed_values\u003d|Yes|No|Unknown field_id\u003d400\r\n01-19 13:34:29.869 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d13 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dHow did you hear about iSeahorse? allowed_values\u003d|Newspaper, magazine, or blog|Social media|Photo sharing site (Flickr, Scuba Earth etc.)|Dive or photography club|Dive expo|Academic conference|Tour operator|Friend|Other field_id\u003d4418\r\n01-19 13:34:29.879 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d14 is_required\u003dfalse description\u003d data_type\u003dtext project_id\u003d871 name\u003dIf other, please specify allowed_values\u003d field_id\u003d4417\r\n01-19 13:34:29.909 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d0 is_required\u003dfalse description\u003dWhat was the elevation in meters? data_type\u003dnumeric project_id\u003d508 name\u003dElevation (m) allowed_values\u003d field_id\u003d68\r\n01-19 13:34:29.909 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d1 is_required\u003dfalse description\u003dProvide description of habitat data_type\u003dtext project_id\u003d508 name\u003dHabitat allowed_values\u003d field_id\u003d10\r\n01-19 13:34:29.919 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d2 is_required\u003dfalse description\u003dHow many individuals did you observe ? data_type\u003dnumeric project_id\u003d508 name\u003dCount allowed_values\u003d field_id\u003d1\r\n01-19 13:34:29.929 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d3 is_required\u003dfalse description\u003dFirst time you saw this if it\u0027s a repeat sighting. data_type\u003ddate project_id\u003d508 name\u003doriginal sighting date allowed_values\u003d field_id\u003d15\r\n01-19 13:34:29.949 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d4 is_required\u003dfalse description\u003dWhat time did you start the activity? data_type\u003dtime project_id\u003d508 name\u003dActivity start time allowed_values\u003d field_id\u003d394\r\n01-19 13:34:29.989 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d5 is_required\u003dfalse description\u003dDate and time in which the dive was conducted data_type\u003ddatetime project_id\u003d508 name\u003dDive date and time allowed_values\u003d field_id\u003d3469\r\n01-19 13:34:30.029 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d6 is_required\u003dfalse description\u003dFull or partial DNA sequence of this individual\u0027s cytochrome oxidase subunit I gene (aka cox1, COI, MT-CO1). Note that this must be a sequence derived from the organism in this observation, not *any* sequence for this species. data_type\u003ddna project_id\u003d508 name\u003dDNA Barcode COI allowed_values\u003d field_id\u003d824\r\n01-19 13:34:30.069 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: project_fields; values: position\u003d7 is_required\u003dfalse description\u003dTaxon the observed taxon was feeding on. This includes organisms entirely consuming other organisms as well as organisms feeding on parts of other organisms. data_type\u003dtaxon project_id\u003d508 name\u003dEating allowed_values\u003d field_id\u003d13\r\n01-19 13:34:30.109 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, id, description, title, icon_url, check_list_id FROM projects WHERE (id \u003d ?) ORDER BY _id DESC\r\n01-19 13:34:30.119 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: projects; values: id\u003d508 icon_url\u003dhttps://www.inaturalist.org/attachments/projects/icons/508/span2/IMG_0024.JPG?1373094563 title\u003dTest Project of Unfathomable Awesomeness check_list_id\u003d67225 description\u003dJust a project for testing out project-y stuff. Yes, \u003ca href\u003d\"http://blogs.msdn.com/cfs-filesystemfile.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-32-02-metablogapi/8054.image_5F00_thumb_5F00_35C6E986.png\"\u003ein production!\u003c/a\u003e\r\n                                                                              \r\n                                                                              this is an updated description\r\n01-19 13:34:30.119 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, id, description, title, icon_url, check_list_id FROM projects WHERE (id \u003d ?) ORDER BY _id DESC\r\n01-19 13:34:30.129 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: projects; values: id\u003d1519 icon_url\u003dhttps://www.inaturalist.org/attachments/projects/icons/1519/span2/merritt-animals.png?1391503184 title\u003dLake Merritt Bioblitz check_list_id\u003d103660 description\u003d\u003cp\u003e\u003cstrong\u003eHelp us explore America\u0027s oldest wildlife refuge: Lake Merritt!\u003c/strong\u003e Located right in the heart of Oakland, you probably know Lake Merritt as a great place for a walk or a weekend cookout, but it\u0027s also full of wildlife, especially below the water where few of us get to go. We\u0027re going to try and see how many species we can find in and around this Oakland landmark, so come out and join us!\u003c/p\u003e\u003ctable border\u003d\"0\" cellspacing\u003d\"5\" cellpadding\u003d\"5\"\u003e\r\n                                                                              \u003ctr\u003e\r\n                                                                                        \u003ctd width\u003d\"50%\" style\u003d\"vertical-align:top\"\u003e\r\n                                                                                          \u003ca href\u003d\"http://wildoakland.org/\" title\u003d\"Wild Oakland\"\u003e\u003cimg src\u003d\"http://wildoakland.org/wp-content/uploads/2012/03/wildoakland_1-1.jpg\" style\u003d\"width:100%; height:auto;margin-bottom:10px;\"/\u003e\u003c/a\u003e\r\n                                                                                          \u003ca href\u003d\"http://nerdsfornature.org/\" title\u003d\"Nerds for Nature\"\u003e\u003cimg src\u003d\"http://www.inaturalist.org/attachments/project_assets/428-nerdsfornature2.png?1388898072\" style\u003d\"width:100%; height:auto;\"/\u003e\u003c/a\u003e\r\n                                                                                        \u003c/td\u003e\r\n                                                                                        \u003ctd width\u003d\"50%\" style\u003d\"vertical-align:top\"\u003e\r\n                                                                                          \u003ca href\u003d\"http://museumca.org/\" title\u003d\"Oakland Museum of California\"\u003e\u003cimg src\u003d\"http://www.inaturalist.org/attachments/project_assets/462-OMCA_logo_only.jpg?1391387794\" style\u003d\"width:52%;height:auto;vertical-align:top;\"\u003e\u003c/a\u003e\r\n                                                                                          \u003ca href\u003d\"http://calacademy.org/\" title\u003d\"California Academy of Sciences\"\u003e\u003cimg src\u003d\"http://www.inaturalist.org/attachments/project_assets/463-CAS-logo-SIMPLE.jpg\" style\u003d\"width:38%;height:auto;\"\u003e\u003c/a\u003e\r\n                                                                                        \u003c/td\u003e\r\n                                                                                      \u003c/tr\u003e\r\n                                                                                    \u003c/table\u003e\r\n                                                                              \u003ctable border\u003d\"0\" cellspacing\u003d\"5\" cellpadding\u003d\"5\"\u003e\r\n                                                                                \u003ctr\u003e\r\n                                                                                  \u003ctd width\u003d\"33%\" style\u003d\"vertical-align:top;\"\u003e\r\n                                                                                    \u003cimg src\u003d\"http://www.inaturalist.org/attachments/project_assets/425-2123813550_87fe9fa9df_o-mod.jpg\" style\u003d\"width:100%; height:auto;\"/\u003e\r\n                                                                                    \u003cp style\u003d\"text-align:center; font-weight:bold; margin-top: 1.5em;\"\u003eLEARN YOUR BIRDS\u003c/p\u003e\r\n                                                                                    \u003cp style\u003d\"margin-bottom:0\"\u003eExperience the lake\u0027s wide array of winter migrants before they leave for the arctic. There are few better places than Lake Merritt to get close-up views!\u003c/p\u003e\r\n                                                                                  \u003c/td\u003e\r\n                                                                                  \u003ctd width\u003d\"33%\" style\u003d\"vertical-align:top;\"\u003e\r\n                                                                                    \u003cimg src\u003d\"http://www.inaturalist.org/attachments/project_assets/426-8737964714_52d8787c6c_b-mod.jpg?1388895036\" style\u003d\"width:100%; height:auto;\"/\u003e\r\n                                                                                    \u003cp style\u003d\"text-align:center; font-weight:bold; margin-top: 1.5em;\"\u003eEXPLORE THE MUD FLATS\u003c/p\u003e\r\n                                                                                    \u003cp style\u003d\"margin-bottom:0\"\u003eRoll up your sleeves, get dirty, and meet some of the weird and wonderful creepy crawlies that live in Lake Merritt\u0027s mudflats as we sift through some mud.\u003c/p\u003e\r\n                                                                                  \u003c/td\u003e\r\n                                                                                  \u003ctd width\u003d\"33%\" style\u003d\"vertical-align:top;\"\u003e\r\n                                                                                    \u003cimg src\u003d\"http://www.inaturalist.org/attachments/project_assets/427-OpenROVKit.jpeg?1388895056\" style\u003d\"width:100%; height:auto;\"/\u003e\r\n                                                                                    \u003cp style\u003d\"text-align:center; font-weight:bold; margin-top: 1.5em;\"\u003eGO UNDERWATER WITH ROBOTS\u003c/p\u003e\r\n                                                                                    \u003cp style\u003d\"margin-bottom:0\"\u003eThe cool folks from OpenROV will be letting people drive their underwater robots so you can see what the bottom of Lake Merritt looks like.\u003c/p\u003e\r\n                                                                                  \u003c/td\u003e\r\n                                                                                \u003c/tr\u003e\r\n                                                                              \u003c/table\u003e\r\n                                                                              \u003cp class\u003d\"ui small meta\"\u003ePhotos: \"Birds on Lake Merritt\" \u0026copy; \u003ca href\u003d\"http://www.flickr.com/photos/danramarch/2917106755/\" title\u003d\"Birds on Lake Merritt | Flickr - Photo Sharing!\"\u003eDaniel Ramirez\u003c/a\u003e, some rights reserved (CC BY), \"Paired up\" \u0026copy; \u003ca href\u003d\"http://www.flickr.com/photos/25397257@N00/2123813550\"\u003eDoug Greenberg\u003c/a\u003e, some rights reserved (CC BY-NC-ND), \"ORANGE-STRIPED GREEN ANEMONE (Diadumene lineata), Lake Merritt, Oakland, California\" \u0026copy; \u003ca href\u003d\"http://www.flickr.com/photos/11227239@N05/8737964714\"\u003eDamon Tighe\u003c/a\u003e, all rights reserved, OpenROV \u0026copy; \u003ca href\u003d\"http://openrov.com/profile/1gupl83kvnk8f\"\u003eEric Stackpole\u003c/a\u003e, all rights reserved.\u003c/p\u003e\r\n                                                                              \r\n                                                                              \r\n                                                                              \u003ca href\u003d\"http://nerdsfornature.org/lakemerritt.pdf\"\u003e\u003cimg src\u003d\"http://www.inaturalist.org/attachments/p\r\n01-19 13:34:30.149 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, id, description, title, icon_url, check_list_id FROM projects WHERE (id \u003d ?) ORDER BY _id DESC\r\n01-19 13:34:30.159 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: projects; values: id\u003d1756 icon_url\u003dhttps://www.inaturalist.org/attachments/projects/icons/1756/span2/Screen_Shot_2014-04-07_at_6.46.11_PM.png?1396914403 title\u003dAll Texas Nature check_list_id\u003d110987 description\u003dThis project is a repository for citizen science observations through the Texas Parks \u0026 Wildlife mobile app, Texas Nature Trackers.\r\n01-19 13:34:30.169 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, id, description, title, icon_url, check_list_id FROM projects WHERE (id \u003d ?) ORDER BY _id DESC\r\n01-19 13:34:30.169 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: projects; values: id\u003d7937 icon_url\u003dnull title\u003dFauna of the CAS Living Roof check_list_id\u003d397057 description\u003dAnimals and Insects living or visiting the vegetated areas on the California Academy of Sciences living roof.\r\n01-19 13:34:30.179 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, id, description, title, icon_url, check_list_id FROM projects WHERE (id \u003d ?) ORDER BY _id DESC\r\n01-19 13:34:30.179 11868-12699/org.inaturalist.android D/ObservationProvider: Insert: projects; values: id\u003d871 icon_url\u003dhttps://www.inaturalist.org/attachments/projects/icons/871/span2/seahorse-sighting-no-photo.png?1380309074 title\u003diSeahorse check_list_id\u003d84817 description\u003diSeahorse is a tool for seahorse science and conservation. You can upload your observations via this project page, or via \u003cb\u003e\u003ca href\u003d\"http://www.iseahorse.org\"\u003ewww.iseahorse.org\u003c/a\u003e\u003c/b\u003e, our full-featured project website.\r\n                                                                              \r\n                                                                              iSeahorse harnesses the power of citizen scientists — anyone, anywhere in the world who sees a seahorse in the wild — to improve our understanding of these mysterious and beautiful and animal and protect them from overfishing and other threats. \r\n                                                                              \r\n                                                                              Anyone can join iSeahorse. Whether you’re a diver, or a fisher, or a scientist, or a seahorse enthusiast, you can upload your photos and observations to iSeahorse. You can help identifyseahorse species. You can advocate for their protection in your ocean neighbourhood. \r\n                                                                              \r\n                                                                              Scientists from Project Seahorse and seahorse experts around the world will use your observations to better understand seahorse behaviour, species ranges, and the threats seahorses face. We will use this knowledge to improve seahorse conservation across the globe.\r\n                                                                              \r\n                                                                              Thanks for joining our project!\r\n01-19 13:34:30.189 11868-12699/org.inaturalist.android D/INaturalistService: URL: get - https://www.inaturalist.org/observations/inara.json?updated_since\u003d1969-12-31T16%3A00%3A00-0800\u0026order_by\u003ddate_added\u0026order\u003ddesc\u0026extra\u003dobservation_photos,projects,fields\u0026per_page\u003d100\u0026page\u003d1\u0026locale\u003den (null)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android D/INaturalistService: RESP: []\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err: org.json.JSONException: Index 0 out of range [0..0)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at org.json.JSONArray.get(JSONArray.java:282)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at org.json.JSONArray.getJSONObject(JSONArray.java:510)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.request(INaturalistService.java:2655)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.get(INaturalistService.java:2530)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.getUserObservations(INaturalistService.java:2261)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at org.inaturalist.android.INaturalistService.onHandleIntent(INaturalistService.java:289)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at android.os.Looper.loop(Looper.java:157)\r\n01-19 13:34:31.571 11868-12699/org.inaturalist.android W/System.err:     at android.os.HandlerThread.run(HandlerThread.java:61)\r\n01-19 13:34:31.611 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, _created_at, observation_id, field_id, value, _synced_at, _updated_at, created_at, id, updated_at FROM project_field_values WHERE (_updated_at \u003e _synced_at AND _synced_at IS NOT NULL) ORDER BY _id DESC\r\n01-19 13:34:31.621 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, project_id, observation_id, is_deleted, is_new FROM project_observations WHERE (is_deleted \u003d 1) ORDER BY _id DESC\r\n01-19 13:34:31.631 11868-12699/org.inaturalist.android D/SQL: SQLiteQuery: SELECT _id, project_id, observation_id, is_deleted, is_new FROM project_observations WHERE (is_new \u003d 1) ORDER BY _id DESC\r\n01-19 13:34:31.631 11868-12699/org.inaturalist.android I/INaturalistService: Sending ACTION_SYNC_COMPLETE\r\n01-19 13:34:31.631 809-918/? W/BroadcastQueue: Skipping deliver [background] BroadcastRecord{43bbcb78 u0 sync_complete} to ReceiverList{456e66d8 11868 org.inaturalist.android/10257/u0 remote:437b94c0}: process crashing\r\n01-19 13:34:33.603 809-918/? W/BroadcastQueue: Skipping deliver [background] BroadcastRecord{45c9e158 u-1 android.net.conn.CONNECTIVITY_CHANGE} to ReceiverList{456e6500 11868 org.inaturalist.android/10257/u0 remote:437b8060}: process crashing\r\n01-19 13:34:33.613 809-918/? W/BroadcastQueue: Skipping deliver [background] BroadcastRecord{45c9e158 u-1 android.net.conn.CONNECTIVITY_CHANGE} to ReceiverList{45303568 11868 org.inaturalist.android/10257/u0 remote:4341ebe0}: process crashing\r\n01-19 13:34:33.703 809-918/? W/BroadcastQueue: Skipping deliver [background] BroadcastRecord{469b4f68 u-1 android.net.conn.CONNECTIVITY_CHANGE} to ReceiverList{456e6500 11868 org.inaturalist.android/10257/u0 remote:437b8060}: process crashing\r\n01-19 13:34:33.703 809-918/? W/BroadcastQueue: Skipping deliver [background] BroadcastRecord{469b4f68 u-1 android.net.conn.CONNECTIVITY_CHANGE} to ReceiverList{45303568 11868 org.inaturalist.android/10257/u0 remote:4341ebe0}: process crashing\r\n```",
    "keywords": [
      "font-weight:bold;",
      "projects",
      "gettype",
      "quality_grade",
      "dat\u003dpackage:org inaturalist",
      "[android",
      "_created_at",
      "private_positional_accuracy",
      "texas",
      "branch",
      "icon_url check_list_id",
      "inaturalist android/create]",
      "_updated_at \u003e",
      "11868",
      "https://static",
      "positioning_method",
      "\u003c/td\u003e",
      "description\u003d data_type\u003dtext",
      "919",
      "grow",
      "icon_url\u003dhttps://www",
      "5em;",
      "photo_filename",
      "google",
      "0",
      "1",
      "2",
      "2014-03-17t17:15:58",
      "3",
      "4",
      "i/finsky",
      "reserved",
      "5",
      "comments_count",
      "science",
      "height:auto;",
      "/data/data/org",
      "d/sql",
      "\u003e",
      "13:32:27",
      "android support",
      "preferred_common_name taxon_id",
      "see",
      "intent extra",
      "updated_at",
      "user_agent user_id",
      "virtual method",
      "google android",
      "android d/inaturalistservice",
      "jpeg",
      "updatedrawablebounds",
      "817",
      "data_type\u003dtext",
      "is_required\u003dfalse",
      "zygoteinit",
      "time_observed_at updated_at",
      "_updated_at created_at",
      "13:34:31 571",
      "identifications_count",
      "s",
      "java:157",
      "crashing",
      "828",
      "\u003e\u003e\u003e",
      "project_fields;",
      "inline;",
      "resolve",
      "d/dalvikvm",
      "resolve virtual",
      "opcode",
      "d/containereventsrelaymanager",
      "null order",
      "package:org inaturalist",
      "_updated_at",
      "479 11868-11868/org",
      "11868-11868/org",
      "photo_url",
      "not find",
      "icon_url\u003dhttps://www inaturalist",
      "skipping",
      "\u003c/p\u003e",
      "seahorse",
      "icon_url",
      "w/broadcastqueue: skipping",
      "https://www",
      "res",
      "gc_for_alloc",
      "is_new",
      "allowed_values\u003d",
      "count",
      "getcscpackageitemtext",
      "insert: projects;",
      "gps",
      "package_removed",
      "list",
      "description title",
      "sqlitequery: select",
      "apk classes2",
      "observation_id",
      "11868-12699/org inaturalist",
      "13:34:28 828",
      "d/inaturalistservice",
      "http",
      "846",
      "\u003c\u003c\u003c",
      "virtual",
      "\u003e\u003cimg",
      "session",
      "846 11868-11868/org",
      "not null",
      "looper",
      "onreceive",
      "inaturalist android/pause]",
      "title",
      "content",
      "android 01-19",
      "828 11868-11868/org",
      "iseahorse",
      "u-1",
      "json",
      "end",
      "found 2",
      "739",
      "seahorses",
      "roof",
      "allowed_values\u003d|yes|no|unknown",
      "living",
      "false",
      "android inaturalistservice",
      "project_id\u003d508",
      "1475603064",
      "referenced",
      "project_id\u003d871",
      "android w/system",
      "positional_accuracy positioning_device",
      "package_added",
      "flg\u003d0x4000000",
      "select",
      "bundle[{android",
      "data_type\u003dnumeric",
      "private_longitude private_positional_accuracy",
      "w/applicationpackagemanager: getcscpackageitemtext",
      "os handler",
      "name\u003dif",
      "631",
      "context",
      "action",
      "id",
      "zip\u0027",
      "order",
      "[android intent",
      "asc id",
      "_id asc",
      "inaturalist android/code_cache/secondary-dexes/org",
      "android w/dalvikvm",
      "conservation",
      "oakland",
      "user_id",
      "install",
      "flurrydatasender",
      "887",
      "id_please",
      "finsky",
      "dispatchmessage",
      "preferred_common_name",
      "inline; expected",
      "act\u003dandroid",
      "809-933/",
      "created_at",
      "extras",
      "deliver",
      "login",
      "id asc",
      "_id id",
      "created_at description",
      "android content",
      "native",
      "rights",
      "i/dalvikvm-heap",
      "sending",
      "comments_count last_comments_count",
      "659",
      "i/dalvikvm",
      "android i/dalvikvm",
      "err",
      "longitude observed_on",
      "_id _created_at",
      "getdrawablefordensity",
      "count:1 01-19",
      "asc 01-19",
      "activitythread",
      ":{ id",
      "uuid id",
      "species",
      "788",
      "report",
      "d/dalvikvm: gc_for_alloc",
      "w/flurryagent: end",
      "\u0026copy;",
      "com",
      "paused",
      "use",
      "tutorialactivity@42b2a8c0",
      "classes2",
      "main",
      "observationlistactivity",
      "count:1",
      "_synced_at",
      "count:0",
      "etc",
      "find",
      "last_identifications_count is_deleted",
      "inaturalist android-1",
      "437",
      "net",
      "species_guess",
      "place_id",
      "longitude",
      "observations_count",
      "citizen",
      "captive place_guess",
      "select _id",
      "d/observationprovider",
      "d/progressbar",
      "projects;",
      "809-1193/",
      "200",
      "null",
      "689",
      "organisms",
      "329",
      "position",
      "_id",
      "zip 01-19",
      "vertical-align:top;",
      "lake",
      "22ms total",
      "positioning_device",
      "frag",
      "33%",
      ":1756",
      "w/system",
      "context: org",
      "observed_on",
      "571",
      "total",
      "699",
      "extra",
      "w/dalvikvm",
      "margin-top",
      "heap",
      "lang",
      "jsonarray",
      "os",
      "nature",
      "observed_on_string out_of_range",
      "packagename",
      ":false",
      "/\u003e",
      "insert: project_fields;",
      "flickr",
      "private_latitude",
      "349",
      "flg\u003d0x4000010",
      "org/",
      "find method",
      "handler",
      "photo_url is_deleted",
      "last_identifications_count",
      "01-19 13:32:53",
      "01-19 13:32:55",
      "01-19 13:32:54",
      "time_observed_at",
      "d/dalvikvm: vfy",
      "width:100%; height:auto;",
      "android i/multidex",
      "process crashing",
      "lake merritt",
      "observed",
      "110",
      "reflect",
      "139 11868-11868/org",
      "java",
      "479",
      "01-19 13:32:57",
      "\u003cimg",
      "01-19 13:32:58",
      "state",
      "apk",
      "app",
      "android os",
      "android/create]",
      "\u003e\u003cimg src\u003d",
      "expected",
      "png",
      "289 11868-11868/org",
      "is_required\u003dfalse description\u003d",
      "intent action",
      "width\u003d",
      "mainreceiver",
      "underwater",
      "3672-3672/ i/finsky",
      "must",
      "sqlitequery",
      "photo_id",
      "activity",
      "android-1 apk",
      "latitude",
      "activity_state/org",
      "android/10257/u0",
      "observed_on_string",
      "found",
      "observation_id photo_id",
      "vfy: unable",
      "139",
      "description\u003dhow",
      "captive",
      "01-19 13:32:34",
      "description\u003dwhat",
      "free",
      "809-918/",
      "31",
      "809-809/",
      "1 order",
      "event count",
      "571 11868-12699/org",
      "started",
      "href\u003d http://www",
      "many",
      "people",
      "asc",
      "style\u003d",
      "inaturalist",
      "3672-3672/",
      "v7 widget",
      "_photo_id _synced_at",
      "01-19 13:32:27",
      "inaturalist android",
      "observations_count :0",
      "project_id\u003d871 name\u003dif",
      "01-19 13:34:30",
      "v7",
      "out_of_range",
      "01-19 13:34:31",
      "46",
      "d/packagemanager",
      "android d/observationprovider",
      "1557-1557/",
      "registering",
      "project",
      "run",
      "150",
      "i/multidex",
      "---",
      "state 3",
      "sciences",
      "unable",
      "view",
      "279",
      "project_id",
      "loop",
      "california",
      "text-align:center;",
      "v/smartfaceservice - 3rd party pause",
      "slug",
      "us",
      "created_at ",
      "freed",
      "replacing",
      "289",
      "positional_accuracy",
      "11_pm",
      "name",
      "01-19 13:34:28",
      "description\u003d",
      "\u003ca href\u003d",
      "support",
      "updated",
      "01-19 13:34:29",
      "desc",
      "w/broadcastqueue",
      "android",
      "iconic_taxon_id",
      "updated_at ",
      "onwindowstartingactionmode",
      "description",
      "inaturalist android/resume]",
      "11868-11868/org inaturalist",
      "0x0002",
      "not",
      "_photo_id",
      "13:32:57 289",
      "01-19 13:34:14",
      "last_comments_count",
      "replacing opcode",
      "allocation",
      "movetostate",
      "frag case",
      "org",
      "01-19 13:34:00",
      "start",
      "taxon_id",
      "data_type\u003dtext project_id\u003d871",
      "src\u003d",
      "d/sql: sqlitequery",
      "inara",
      "connectivity_change}",
      "w/flurryagent",
      "time",
      "conn",
      "http://www",
      "_observation_id",
      "d/observationprovider: insert",
      "merritt",
      "geoprivacy iconic_taxon_id",
      "199",
      "desc 01-19",
      "position asc",
      "title\u003d",
      "13:34:33",
      "user_login",
      "act\u003dandroid intent",
      "case",
      "11868-12699/org",
      "\u003e _synced_at",
      "0x6e",
      "zip",
      "method",
      "not updated",
      "android-1",
      "[background]",
      "extraction",
      "10396816-byte allocation",
      "action package_removed",
      "w/flurryagent: start",
      "\u0026copy; \u003ca",
      ":0",
      ":1",
      "login ",
      "quality_grade species_guess",
      "internal",
      "submitting",
      "widget",
      "onboardingactivity@42dcdfd8",
      "w/system err",
      "getdrawable",
      "wear",
      "texas nature",
      "v/smartfaceservice - 3rd party pause: onreceive",
      "android/pause] 01-19",
      "13:34:14",
      "10396816-byte",
      "13:34:10",
      "android w/fragmentmanager",
      "get",
      "sciences living",
      "w/fragmentmanager",
      "event",
      "academy",
      "check_list_id",
      "observation",
      "13:34:31",
      "13:34:30",
      "[1] com",
      "java lang",
      "user_handle\u003d0}]",
      "13:34:28",
      "_synced_at _updated_at",
      "13:34:27",
      "329 11868-11868/org",
      "observation_photos",
      "asc _id",
      "android/code_cache/secondary-dexes/org",
      "geoprivacy",
      "place_guess",
      "13:34:29",
      "grow heap",
      "date",
      ":{",
      "data",
      "_created_at _observation_id",
      "11868-12012/org",
      "onreceive [android",
      "uuid",
      "w/applicationpackagemanager",
      "project_fields; values",
      "13:32:58",
      "package:org",
      "13:32:57",
      "13:32:54",
      "13:32:55",
      "13:32:52",
      "13:32:53",
      "android d/sql",
      "href\u003d",
      "package",
      ":null",
      "inaturalistservice",
      "\u003ca",
      "android/pause]",
      "\u003ctd",
      "sent",
      "android/resume]",
      "sequence",
      "w/dalvikvm: vfy",
      "\u003cp",
      "13:34:00",
      "getchangingconfigurations",
      "private_longitude",
      "iconic_taxon_name id",
      "0x0002 01-19",
      "action activity_state/org",
      "13:34:08",
      "iconic_taxon_name",
      "android i/dalvikvm-heap",
      "request",
      "android intent",
      "values",
      "src\u003d http://www",
      "vfy",
      "insert",
      "onsearchrequested",
      "01-19",
      "width:100%;",
      "13:32:36",
      "can",
      "13:32:34",
      "is_deleted",
      "13:32:35",
      "\u003ctd width\u003d",
      "observations",
      "http://www inaturalist",
      "method android",
      "margin-bottom:0",
      "user_agent",
      "org inaturalist",
      "wildlife",
      "jpg",
      "process",
      "22ms 01-19",
      "will",
      "movetostate: fragment",
      "[1]",
      "fishing",
      "809-1193/ v/smartfaceservice - 3rd party pause",
      "id_please latitude",
      "intent",
      "id\u003d0x7f0e0248",
      "22ms",
      "android w/flurryagent",
      "fragment",
      "build",
      "response",
      ":9812",
      "user_login identifications_count",
      "dat\u003dpackage:org",
      "tutorialactivity",
      "positioning_method private_latitude",
      "activity_state/org inaturalist",
      "user",
      "deliver [background]",
      "position updated_at"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/inaturalist/iNaturalistAndroid/commit/5a5fa4de41d0c9f09164b358ba396e759812a7b8",
      "files": [
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/INaturalistService.java",
          "patch": "@@ -2651,7 +2651,7 @@ public boolean isRedirectRequested(HttpResponse response, HttpContext context) {\n                 mResponseHeaders \u003d response.getAllHeaders();\n \n                 try {\n-                \tif (json !\u003d null) {\n+                \tif ((json !\u003d null) \u0026\u0026 (json.length() \u003e 0)) {\n                         JSONObject result \u003d json.getJSONObject(0);\n                         if (result.has(\"errors\")) {\n                             // Error response"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationListActivity.java",
          "patch": "@@ -659,16 +659,18 @@ public void onNotification(String title, final String content) {\n \t\trunOnUiThread(new Runnable() {\n             @Override\n             public void run() {\n-                mSyncingStatus.setText(content);\n-                int visibility \u003d View.GONE;\n-                if (mApp.loggedIn() \u0026\u0026 mApp.getIsSyncing() \u0026\u0026 (mObservationListAdapter.getCount() \u003d\u003d 0)) {\n-                    visibility \u003d View.GONE;\n-                } else {\n-                    visibility \u003d mApp.getIsSyncing() ? View.VISIBLE : View.GONE;\n+                if (mSyncingStatus !\u003d null) {\n+                    mSyncingStatus.setText(content);\n+                    int visibility;\n+                    if (mApp.loggedIn() \u0026\u0026 mApp.getIsSyncing() \u0026\u0026 (mObservationListAdapter.getCount() \u003d\u003d 0)) {\n+                        visibility \u003d View.GONE;\n+                    } else {\n+                        visibility \u003d mApp.getIsSyncing() ? View.VISIBLE : View.GONE;\n+                    }\n+                    mSyncingTopBar.setVisibility(visibility);\n+                    mObservationListAdapter.refreshCursor();\n+                    mObservationGridAdapter.refreshCursor();\n                 }\n-                mSyncingTopBar.setVisibility(visibility);\n-                mObservationListAdapter.refreshCursor();\n-                mObservationGridAdapter.refreshCursor();\n             }\n         });\n \t}"
        },
        {
          "file_name": "iNaturalist/src/main/java/org/inaturalist/android/ObservationProvider.java",
          "patch": "@@ -131,7 +131,7 @@ public Cursor query(Uri uri, String[] projection, String selection, String[] sel\n             String sortOrder) {\n         SQLiteQueryBuilder qb \u003d new SQLiteQueryBuilder();\n         String orderBy;\n-        \n+\n         switch (URI_MATCHER.match(uri)) {\n         case Observation.OBSERVATIONS_URI_CODE:\n             qb.setTables(Observation.TABLE_NAME);"
        }
      ]
    }
  },
  {
    "name": "在使用了sdlv以后，通过后台统计出现这个崩溃",
    "url": "https://github.com/yydcdut/SlideAndDragListView/issues/35",
    "description": "我的Activity里面的XML将SlideAndDragListView的id设置为了android:id\u003d\"@+id/step_list\"。XML中没有其他重复id。\r\n在开发时没有遇到问题，发布后通过统计发现了如下崩溃信息。崩溃率大概0.05%。\r\n能否帮忙分析一下原因？自己分析不出来了。\r\njava.lang.RuntimeException: Unable to start activity  ComponentInfo{com.myapp/com.myapp.myactivity}:\r\n java.lang.IllegalArgumentException: Wrong state class, expecting View State but received class android.widget.AbsListView$SavedState instead. This usually happens when two views of different type have the same id in the same hierarchy. This view\u0027s id is id/step_list. Make sure other views do not use the same id.\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2404)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2466)\r\n\tat android.app.ActivityThread.access$900(ActivityThread.java:175)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1369)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:135)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5418)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1037)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)\r\nCaused by: java.lang.IllegalArgumentException: Wrong state class, expecting View State but received class android.widget.AbsListView$SavedState instead. This usually happens when two views of different type have the same id in the same hierarchy. This view\u0027s id is id/step_list. Make sure other views do not use the same id.\r\n\tat android.view.View.onRestoreInstanceState(View.java:13827)\r\n\tat android.view.View.dispatchRestoreInstanceState(View.java:13803)\r\n\tat android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:2917)\r\n\tat android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:2923)\r\n\tat android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:2923)\r\n\tat android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:2923)\r\n\tat android.view.View.restoreHierarchyState(View.java:13781)\r\n\tat com.android.internal.policy.impl.PhoneWindow.restoreHierarchyState(PhoneWindow.java:2099)\r\n\tat android.app.Activity.onRestoreInstanceState(Activity.java:1046)\r\n\tat android.app.Activity.performRestoreInstanceState(Activity.java:1001)\r\n\tat android.app.Instrumentation.callActivityOnRestoreInstanceState(Instrumentation.java:1171)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2377)\r\n\t... 10 more\r\n\r\n",
    "keywords": [
      "com",
      "app",
      "internal",
      "os",
      "activity",
      "method",
      "android",
      "dispatchrestoreinstancestate",
      "activitythread",
      "view",
      "java",
      "java:2923",
      "viewgroup",
      "android app",
      "android view",
      "id",
      "state",
      "lang",
      "class",
      "views",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/yydcdut/SlideAndDragListView/commit/53e3832d071ea8a562a5d6361acbf5b890d2bbeb",
      "files": [
        {
          "file_name": "sdlv/src/main/java/com/yydcdut/sdlv/WrapperAdapter.java",
          "patch": "@@ -20,6 +20,7 @@\n import android.animation.ObjectAnimator;\n import android.content.Context;\n import android.database.DataSetObserver;\n+import android.os.Build;\n import android.util.SparseArray;\n import android.view.View;\n import android.view.ViewGroup;\n@@ -38,8 +39,8 @@\n class WrapperAdapter implements WrapperListAdapter, ItemMainLayout.OnItemSlideListenerProxy, View.OnClickListener,\n         AbsListView.OnScrollListener, ItemMainLayout.OnItemDeleteListenerProxy, Callback.OnDragDropListener,\n         ItemMainLayout.OnItemScrollBackListenerProxy {\n-    private static final int TAG_LEFT \u003d 3 \u003c\u003c 24;\n-    private static final int TAG_RIGHT \u003d 4 \u003c\u003c 24;\n+    private static int TAG_LEFT \u003d 3 \u003c\u003c 24;\n+    private static int TAG_RIGHT \u003d 4 \u003c\u003c 24;\n     /* 上下文 */\n     private Context mContext;\n     /* 适配器 */\n@@ -81,6 +82,10 @@ protected WrapperAdapter(Context context, SlideListView listView, ListAdapter ad\n         mAdapter.registerDataSetObserver(mDataSetObserver);\n         mListView.serAdapterDragDropListener(this);\n         mItemIdTopMap \u003d new HashMap\u003c\u003e();\n+        if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.JELLY_BEAN_MR1) {\n+            TAG_LEFT \u003d View.generateViewId();\n+            TAG_RIGHT \u003d View.generateViewId();\n+        }\n     }\n \n     @Override"
        }
      ]
    }
  },
  {
    "name": "NPE when adding/updating stop in database",
    "url": "https://github.com/OneBusAway/onebusaway-android/issues/669",
    "description": "**Summary:** \n\nThis is a long-standing but infrequently occurring bug that I\u0027ve seen since v1.x, and has occurred most recently in v2.1.2 (staged rollout):\n\n```\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027android.content.ContentResolver android.content.Context.getContentResolver()\u0027 on a null object reference\n    at org.onebusaway.android.provider.ObaContract$Stops.insertOrUpdate(ObaContract.java:533)\n    at org.onebusaway.android.ui.ArrivalsListFragment.addToDB(ArrivalsListFragment.java:1507)\n    at org.onebusaway.android.ui.ArrivalsListFragment.onLoadFinished(ArrivalsListFragment.java:435)\n    at org.onebusaway.android.ui.ArrivalsListFragment.onLoadFinished(ArrivalsListFragment.java:89)\n    at android.support.v4.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:476)\n    at android.support.v4.app.LoaderManagerImpl$LoaderInfo.reportStart(LoaderManager.java:315)\n    at android.support.v4.app.LoaderManagerImpl.doReportStart(LoaderManager.java:819)\n    at android.support.v4.app.Fragment.performStart(Fragment.java:2009)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1102)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1252)\n    at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:742)\n    at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1617)\n    at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:517)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:158)\n    at android.app.ActivityThread.main(ActivityThread.java:7230)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n```\n\n**Steps to reproduce:** \n\nUnknown - user comments:\n\n\u003e - adding star to route from list of routes at a stop crashes it\n\u003e - it radumbly stopped working\n\u003e - app crashed when trying to filter route info at a stop\n\n**Expected behavior:** \n\nNot crash\n\n**Observed behavior:** \n\nCrash\n\n**Device and Android version:** \n\nA variety of devices, including:\n- Galaxy S5 (kltetmo)\n- Galaxy J1 (j1xlteaio)\n- Galaxy S7 (heroqltetfnvzw)\n- HTC One (m7)\n- Moto X Pure Edition (clark)\n\n...and a variety of Android versions, including 5.0, 5.1, and 6.0.\n",
    "keywords": [
      "app",
      "handler",
      "method",
      "os",
      "org",
      "android",
      "support v4",
      "android support",
      "onebusaway",
      "run",
      "arrivalslistfragment",
      "loadermanager",
      "ui",
      "stop",
      "v4 app",
      "fragmentmanager",
      "galaxy",
      "fragmentmanagerimpl",
      "support",
      "v4",
      "\u003e",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/OneBusAway/onebusaway-android/commit/29e7934cd617f9f31b0cfa9b57a2f287effa8055",
      "files": [
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/provider/ObaContract.java",
          "patch": "@@ -19,6 +19,7 @@\n \n import org.onebusaway.android.BuildConfig;\n import org.onebusaway.android.R;\n+import org.onebusaway.android.app.Application;\n import org.onebusaway.android.io.ObaAnalytics;\n import org.onebusaway.android.io.elements.ObaRegion;\n import org.onebusaway.android.io.elements.ObaRegionElement;\n@@ -526,11 +527,10 @@ private Stops() {\n         public static final String CONTENT_DIR_TYPE\n                 \u003d \"vnd.android.dir/\" + BuildConfig.DATABASE_AUTHORITY + \".stop\";\n \n-        public static Uri insertOrUpdate(Context context,\n-                String id,\n+        public static Uri insertOrUpdate(String id,\n                 ContentValues values,\n                 boolean markAsUsed) {\n-            ContentResolver cr \u003d context.getContentResolver();\n+            ContentResolver cr \u003d Application.get().getContentResolver();\n             final Uri uri \u003d Uri.withAppendedPath(CONTENT_URI, id);\n             Cursor c \u003d cr.query(uri, new String[]{USE_COUNT}, null, null,\n                     null);"
        },
        {
          "file_name": "onebusaway-android/src/main/java/org/onebusaway/android/ui/ArrivalsListFragment.java",
          "patch": "@@ -1507,7 +1507,7 @@ private void addToDB(ObaStop stop) {\n         if (Application.get().getCurrentRegion() !\u003d null) {\n             values.put(ObaContract.Stops.REGION_ID, Application.get().getCurrentRegion().getId());\n         }\n-        ObaContract.Stops.insertOrUpdate(getActivity(), stop.getId(), values, true);\n+        ObaContract.Stops.insertOrUpdate(stop.getId(), values, true);\n     }\n \n     private static final String[] TRIPS_PROJECTION \u003d {"
        }
      ]
    }
  },
  {
    "name": "Crash in MultiUserIdsFragment on empty name?",
    "url": "https://github.com/open-keychain/open-keychain/issues/2044",
    "description": "From Google Play dev console.\r\n\r\nBut I suspect this crash happens on empty name or empty email address. Should be easy to fix!\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027boolean java.lang.String.equals(java.lang.Object)\u0027 on a null object reference\r\n\tat org.sufficientlysecure.keychain.ui.MultiUserIdsFragment.onLoadFinished(MultiUserIdsFragment.java:183)\r\n\tat org.sufficientlysecure.keychain.ui.MultiUserIdsFragment.onLoadFinished(MultiUserIdsFragment.java:47)\r\n\tat android.support.v4.app.LoaderManagerImpl$LoaderInfo.callOnLoadFinished(LoaderManager.java:476)\r\n\tat android.support.v4.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:444)\r\n\tat android.support.v4.content.Loader.deliverResult(Loader.java:126)\r\n\tat android.support.v4.content.CursorLoader.deliverResult(CursorLoader.java:105)\r\n\tat android.support.v4.content.CursorLoader.deliverResult(CursorLoader.java:37)\r\n\tat android.support.v4.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:252)\r\n\tat android.support.v4.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:80)\r\n\tat android.support.v4.content.ModernAsyncTask.finish(ModernAsyncTask.java:485)\r\n\tat android.support.v4.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:502)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:148)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5521)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:804)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:666)\r\n```\r\n",
    "keywords": [
      "app",
      "cursorloader",
      "os",
      "method",
      "modernasynctask",
      "android",
      "android support",
      "support v4",
      "v4 content",
      "content",
      "empty",
      "asynctaskloader",
      "java",
      "deliverresult",
      "multiuseridsfragment",
      "lang",
      "support",
      "v4",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/open-keychain/open-keychain/commit/06e7ddae2aa9079e3a8c05042e38c6c771380d76",
      "files": [
        {
          "file_name": "OpenKeychain/src/main/java/org/sufficientlysecure/keychain/ui/MultiUserIdsFragment.java",
          "patch": "@@ -180,7 +180,7 @@ public void onLoadFinished(Loader\u003cCursor\u003e loader, Cursor data) {\n             // Two cases:\n \n             boolean grouped \u003d masterKeyId \u003d\u003d lastMasterKeyId;\n-            boolean subGrouped \u003d data.isFirst() || grouped \u0026\u0026 lastName.equals(name);\n+            boolean subGrouped \u003d data.isFirst() || grouped \u0026\u0026 lastName !\u003d null \u0026\u0026 lastName.equals(name);\n             // Remember for next loop\n             lastName \u003d name;\n "
        }
      ]
    }
  },
  {
    "name": "ClassNotFoundException on path DexPathList",
    "url": "https://github.com/opendatakit/collect/issues/387",
    "description": "Seen from builds 1061, 1063 and 1065 in the Google Play Developer console. It has happened three times each on Android 4.2, 4.4 and 5.1 (so not very frequently). There is a recent user message that says \"legal help page\" but I don\u0027t know what that means.\r\n\r\n````\r\njava.lang.RuntimeException: Unable to instantiate application org.odk.collect.android.application.Collect: java.lang.ClassNotFoundException: Didn\u0027t find class \"org.odk.collect.android.application.Collect\" on path: DexPathList[[zip file \"/system/framework/com.google.android.maps.jar\"],nativeLibraryDirectories\u003d[/vendor/lib, /system/lib]]\r\n\tat android.app.LoadedApk.makeApplication(LoadedApk.java:628)\r\n\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4964)\r\n\tat android.app.ActivityThread.access$1600(ActivityThread.java:177)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1491)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:135)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:5910)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1405)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1200)\r\nCaused by: java.lang.ClassNotFoundException: Didn\u0027t find class \"org.odk.collect.android.application.Collect\" on path: DexPathList[[zip file \"/system/framework/com.google.android.maps.jar\"],nativeLibraryDirectories\u003d[/vendor/lib, /system/lib]]\r\n\tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n\tat android.app.Instrumentation.newApplication(Instrumentation.java:987)\r\n\tat android.app.LoadedApk.makeApplication(LoadedApk.java:623)\r\n\t... 10 more\r\n\tSuppressed: java.lang.ClassNotFoundException: org.odk.collect.android.application.Collect\r\n\t\tat java.lang.Class.classForName(Native Method)\r\n\t\tat java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n\t\tat java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n\t\t... 13 more\r\nCaused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\r\n````\r\n\r\n[This StackOverflow post](http://stackoverflow.com/questions/29816745/classnotfoundexception-didnt-find-class-on-path-dexpathlist) has some ideas to explore. ",
    "keywords": [
      "app",
      "method",
      "os",
      "org",
      "android",
      "classnotfoundexception",
      "classloader",
      "google",
      "org odk",
      "java lang",
      "activitythread",
      "path",
      "java",
      "application",
      "application collect",
      "4",
      "odk",
      "loadedapk",
      "collect android",
      "android app",
      "loadclass",
      "lang",
      "collect",
      "class",
      "zygoteinit"
    ],
    "code": {
      "language": "Java",
      "url": "https://github.com/opendatakit/collect/commit/4f8f654cf1e7f497f712dc5fe6b3a456fb66001b",
      "files": [
        {
          "file_name": "collect_app/src/main/java/org/odk/collect/android/application/Collect.java",
          "patch": "@@ -22,6 +22,7 @@\n import android.net.NetworkInfo;\n import android.os.Environment;\n import android.preference.PreferenceManager;\n+import android.support.multidex.MultiDex;\n \n import com.google.android.gms.analytics.GoogleAnalytics;\n import com.google.android.gms.analytics.Tracker;\n@@ -51,10 +52,6 @@\n  */\n public class Collect extends Application {\n \n-    static {\n-        PRNGFixes.apply();\n-    }\n-\n     // Storage paths\n     public static final String ODK_ROOT \u003d Environment.getExternalStorageDirectory()\n             + File.separator + \"odk\";\n@@ -66,9 +63,13 @@\n     public static final String TMPDRAWFILE_PATH \u003d CACHE_PATH + File.separator + \"tmpDraw.jpg\";\n     public static final String TMPXML_PATH \u003d CACHE_PATH + File.separator + \"tmp.xml\";\n     public static final String LOG_PATH \u003d ODK_ROOT + File.separator + \"log\";\n-\n     public static final String DEFAULT_FONTSIZE \u003d \"21\";\n     public static final String OFFLINE_LAYERS \u003d ODK_ROOT + File.separator + \"layers\";\n+    private static Collect singleton \u003d null;\n+\n+    static {\n+        PRNGFixes.apply();\n+    }\n \n     // share all session cookies across all sessions...\n     private CookieStore cookieStore \u003d new BasicCookieStore();\n@@ -77,35 +78,12 @@\n     private ActivityLogger mActivityLogger;\n     private FormController mFormController \u003d null;\n     private ExternalDataManager externalDataManager;\n-\n-    private static Collect singleton \u003d null;\n-\n     private Tracker mTracker;\n \n     public static Collect getInstance() {\n         return singleton;\n     }\n \n-    public ActivityLogger getActivityLogger() {\n-        return mActivityLogger;\n-    }\n-\n-    public FormController getFormController() {\n-        return mFormController;\n-    }\n-\n-    public void setFormController(FormController controller) {\n-        mFormController \u003d controller;\n-    }\n-\n-    public ExternalDataManager getExternalDataManager() {\n-        return externalDataManager;\n-    }\n-\n-    public void setExternalDataManager(ExternalDataManager externalDataManager) {\n-        this.externalDataManager \u003d externalDataManager;\n-    }\n-\n     public static int getQuestionFontsize() {\n         SharedPreferences settings \u003d PreferenceManager.getDefaultSharedPreferences(Collect\n                 .getInstance());\n@@ -115,27 +93,6 @@ public static int getQuestionFontsize() {\n         return questionFontsize;\n     }\n \n-    public String getVersionedAppName() {\n-        String versionName \u003d \"\";\n-        try {\n-            versionName \u003d getPackageManager()\n-                    .getPackageInfo(getPackageName(), 0)\n-                    .versionName;\n-            versionName \u003d \" \" + versionName.replaceFirst(\"-\", \"\\n\");\n-        } catch (NameNotFoundException e) {\n-            // TODO Auto-generated catch block\n-            e.printStackTrace();\n-        }\n-        return getString(R.string.app_name) + versionName;\n-    }\n-\n-    public boolean isNetworkAvailable() {\n-        ConnectivityManager manager \u003d (ConnectivityManager) getInstance()\n-                .getSystemService(Context.CONNECTIVITY_SERVICE);\n-        NetworkInfo currentNetworkInfo \u003d manager.getActiveNetworkInfo();\n-        return currentNetworkInfo !\u003d null \u0026\u0026 currentNetworkInfo.isConnected();\n-    }\n-\n     /**\n      * Creates required directories on the SDCard (or other external storage)\n      *\n@@ -193,6 +150,57 @@ public static boolean isODKTablesInstanceDataDirectory(File directory) {\n         return false;\n     }\n \n+    public ActivityLogger getActivityLogger() {\n+        return mActivityLogger;\n+    }\n+\n+    public FormController getFormController() {\n+        return mFormController;\n+    }\n+\n+    public void setFormController(FormController controller) {\n+        mFormController \u003d controller;\n+    }\n+\n+    public ExternalDataManager getExternalDataManager() {\n+        return externalDataManager;\n+    }\n+\n+    public void setExternalDataManager(ExternalDataManager externalDataManager) {\n+        this.externalDataManager \u003d externalDataManager;\n+    }\n+\n+    public String getVersionedAppName() {\n+        String versionName \u003d \"\";\n+        try {\n+            versionName \u003d getPackageManager()\n+                    .getPackageInfo(getPackageName(), 0)\n+                    .versionName;\n+            versionName \u003d \" \" + versionName.replaceFirst(\"-\", \"\\n\");\n+        } catch (NameNotFoundException e) {\n+            // TODO Auto-generated catch block\n+            e.printStackTrace();\n+        }\n+        return getString(R.string.app_name) + versionName;\n+    }\n+\n+    public boolean isNetworkAvailable() {\n+        ConnectivityManager manager \u003d (ConnectivityManager) getInstance()\n+                .getSystemService(Context.CONNECTIVITY_SERVICE);\n+        NetworkInfo currentNetworkInfo \u003d manager.getActiveNetworkInfo();\n+        return currentNetworkInfo !\u003d null \u0026\u0026 currentNetworkInfo.isConnected();\n+    }\n+\n+    /*\n+        Adds support for multidex support library. For more info check out the link below,\n+        https://developer.android.com/studio/build/multidex.html\n+    */\n+    @Override\n+    protected void attachBaseContext(Context base) {\n+        super.attachBaseContext(base);\n+        MultiDex.install(this);\n+    }\n+\n     /**\n      * Construct and return a session context with shared cookieStore and credsProvider so a user\n      * does not have to re-enter login information.\n@@ -249,6 +257,7 @@ public void onCreate() {\n \n     /**\n      * Gets the default {@link Tracker} for this {@link Application}.\n+     *\n      * @return tracker\n      */\n     synchronized public Tracker getDefaultTracker() {"
        }
      ]
    }
  }
]